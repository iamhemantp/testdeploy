"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[60093],{60093:(U,m,i)=>{i.r(m),i.d(m,{ResetPasswordModule:()=>S});var r=i(81180),h=i(40031),c=i(12236),_=i(47530),f=i(41840),d=i(44328),x=i(64716);class b extends d.BiX{constructor(...n){super(...n),(0,r.Z)(this,"passwordRepeat",void 0)}}var e=i(99468),v=i(3338),w=i(20005),y=i(96814),p=i(56223),P=i(78176),C=i(24276),M=i(45513),Z=i(3291);function q(a,n){if(1&a&&(e.TgZ(0,"ul",27)(1,"li",28),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",28),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",28),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",28),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",28),e._uU(14),e.ALo(15,"localize"),e.qZA()()),2&a){const l=e.oxw(),t=e.MAs(19);e.xp6(1),e.Q6J("hidden",!t.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,10,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,18,"PasswordComplexity_RequiredLength_Hint",l.passwordComplexitySetting.requiredLength)," ")}}function O(a,n){if(1&a&&(e.TgZ(0,"ul",27)(1,"li",28),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",28),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",28),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",28),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",28),e._uU(14),e.ALo(15,"localize"),e.qZA(),e.TgZ(16,"li",28),e._uU(17),e.ALo(18,"localize"),e.qZA()()),2&a){const l=e.oxw(),t=e.MAs(25);e.xp6(1),e.Q6J("hidden",!t.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,12,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,14,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,16,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!t.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,20,"PasswordComplexity_RequiredLength_Hint",l.passwordComplexitySetting.requiredLength)," "),e.xp6(2),e.Q6J("hidden",t.valid),e.xp6(1),e.Oqu(e.lcZ(18,23,"PasswordsDontMatch"))}}const A=[{path:"",component:(()=>{var a;class n extends f.c{constructor(t,o,s,u,g,z,T){super(t),(0,r.Z)(this,"_accountService",void 0),(0,r.Z)(this,"_router",void 0),(0,r.Z)(this,"_activatedRoute",void 0),(0,r.Z)(this,"_loginService",void 0),(0,r.Z)(this,"_profileService",void 0),(0,r.Z)(this,"_recaptchaWrapperService",void 0),(0,r.Z)(this,"model",new b),(0,r.Z)(this,"passwordComplexitySetting",new d.qSp),(0,r.Z)(this,"saving",!1),this._accountService=o,this._router=s,this._activatedRoute=u,this._loginService=g,this._profileService=z,this._recaptchaWrapperService=T}ngOnInit(){this._profileService.getPasswordComplexitySetting().subscribe(t=>{this.passwordComplexitySetting=t.setting}),this._activatedRoute.snapshot.queryParams.c?(this.model.c=this._activatedRoute.snapshot.queryParams.c,this._accountService.resolveTenantId(new d.jKd({c:this.model.c})).subscribe(t=>{this.appSession.changeTenantIfNeeded(t)})):(this.model.userId=this._activatedRoute.snapshot.queryParams.userId,this.model.resetCode=this._activatedRoute.snapshot.queryParams.resetCode,this.appSession.changeTenantIfNeeded(this.parseTenantId(this._activatedRoute.snapshot.queryParams.tenantId)))}ngAfterViewInit(){this._recaptchaWrapperService.setCaptchaVisibilityOnLogin()}save(){this.saving=!0,this._accountService.resetPassword(this.model).pipe((0,x.x)(()=>{this.saving=!1})).subscribe(t=>{if(!t.canLogin)return void this._router.navigate(["account/login"]);let o=s=>{this.saving=!0,this._loginService.authenticateModel.userNameOrEmailAddress=t.userName,this._loginService.authenticateModel.password=this.model.password,this._loginService.authenticate(()=>{this.saving=!1},null,s)};this._recaptchaWrapperService.useCaptchaOnLogin()?this._recaptchaWrapperService.getService().execute("login").subscribe(s=>o(s)):o(null)})}parseTenantId(t){let o=t?parseInt(t,10):void 0;return Number.isNaN(o)&&(o=void 0),o}}return a=n,(0,r.Z)(n,"\u0275fac",function(t){return new(t||a)(e.Y36(e.zs3),e.Y36(d.k4Y),e.Y36(c.F0),e.Y36(c.gz),e.Y36(v.r),e.Y36(d.qAB),e.Y36(w.o))}),(0,r.Z)(n,"\u0275cmp",e.Xpm({type:a,selectors:[["ng-component"]],features:[e.qOj],decls:40,vars:39,consts:[[1,"layout-public-page"],[1,"layout-public-page__header"],[1,"layout-public-page__header--logo"],["routerLink","/account"],["src","../../assets/common/images/new-logo.svg","alt","Company Quote Logo"],[1,"layout-public-page__header--title"],[1,"layout-public-page__header--description"],[1,"layout-public-page__body"],[1,"layout-public-page__body-wrap"],[1,"layout-public-page__form"],["method","post","novalidate","novalidate","id","kt_reset_form","action","#",1,"m-form--plain","m-form",3,"ngSubmit"],["resetPassForm","ngForm"],[1,"m-form__fields"],[1,"m-form__field"],["type","password","name","Password","validateEqual","PasswordRepeat","reverse","true","required","",1,"form-control","form-control-solid","h-auto","py-4","px-6","rounded-lg","fs-h6",3,"ngModel","placeholder","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["Password","ngModel"],[1,"m-form__errors",3,"hidden"],["class","form-text text-danger",4,"ngIf"],["type","password","name","PasswordRepeat","validateEqual","Password","reverse","false","required","",1,"form-control","form-control-solid","h-auto","py-4","px-6","rounded-lg","fs-h6",3,"ngModel","placeholder","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength"],["PasswordRepeat","ngModel"],[1,"m-form__field","layout-public-page__form--action"],["type","submit",1,"layout-public-page__button--main","m-button--full-width",3,"disabled","buttonBusy","busyText"],[1,"m-button__content","m-button__content--primary"],[1,"fa","fa-check"],["routerLink","/account/login",1,"layout-public-page__button--main","m-button--full-width",3,"disabled"],[1,"m-button__content","m-button__content--outline"],[1,"fa","fa-arrow-left"],[1,"form-text","text-danger"],[3,"hidden"]],template:function(t,o){if(1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"img",4),e.qZA()(),e.TgZ(5,"div",5),e._uU(6),e.ALo(7,"localize"),e.qZA(),e.TgZ(8,"div",6),e._uU(9),e.ALo(10,"localize"),e.qZA()(),e.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"form",10,11),e.NdJ("ngSubmit",function(){return o.save()}),e.TgZ(16,"div",12)(17,"div",13)(18,"input",14,15),e.NdJ("ngModelChange",function(u){return o.model.password=u}),e.ALo(20,"localize"),e.qZA()(),e.TgZ(21,"div",16),e.YNc(22,q,16,21,"ul",17),e.qZA(),e.TgZ(23,"div",13),e._UZ(24,"input",18,19),e.ALo(26,"localize"),e.qZA(),e.TgZ(27,"div",16),e.YNc(28,O,19,25,"ul",17),e.qZA(),e.TgZ(29,"div",20)(30,"button",21)(31,"span",22),e._UZ(32,"i",23),e._uU(33),e.ALo(34,"localize"),e.qZA()(),e.TgZ(35,"button",24)(36,"span",25),e._UZ(37,"i",26),e._uU(38),e.ALo(39,"localize"),e.qZA()()()()()()()()()),2&t){const s=e.MAs(15),u=e.MAs(19),g=e.MAs(25);e.Q6J("@routerTransition",void 0),e.xp6(6),e.Oqu(e.lcZ(7,27,"Set your new Password")),e.xp6(3),e.hij(" ",e.lcZ(10,29,"Enter your new Password.")," "),e.xp6(9),e.s9C("placeholder",e.lcZ(20,31,"Password")),e.Q6J("ngModel",o.model.password)("requireDigit",o.passwordComplexitySetting.requireDigit)("requireLowercase",o.passwordComplexitySetting.requireLowercase)("requireUppercase",o.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",o.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",o.passwordComplexitySetting.requiredLength),e.xp6(3),e.Q6J("hidden",s.form.valid||s.form.pristine),e.xp6(1),e.Q6J("ngIf",u.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(26,33,"PasswordRepeat")),e.Q6J("ngModel",o.model.passwordRepeat)("requireDigit",o.passwordComplexitySetting.requireDigit)("requireLowercase",o.passwordComplexitySetting.requireLowercase)("requireUppercase",o.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",o.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",o.passwordComplexitySetting.requiredLength),e.xp6(3),e.Q6J("hidden",s.form.valid||s.form.pristine),e.xp6(1),e.Q6J("ngIf",g.errors),e.xp6(2),e.Q6J("disabled",!s.form.valid)("buttonBusy",o.saving)("busyText",o.l("SavingWithThreeDot")),e.xp6(3),e.hij(" ",e.lcZ(34,35,"Submit")," "),e.xp6(2),e.Q6J("disabled",o.saving),e.xp6(3),e.hij(" ",e.lcZ(39,37,"Back")," ")}},dependencies:[y.O5,p._Y,p.Fj,p.JJ,p.JL,p.Q7,p.On,p.F,c.rH,P.z,C.J,M.L,Z.F],styles:['.layout-public-page-container-page__main[_ngcontent-%COMP%]{max-width:710px;width:100%;margin-block-start:25px;margin-inline:auto;box-shadow:-1px -1px 16px #0000000a,15px 29px 32.77px #0000000a,1px 1px 14.584px #0000000a;border-radius:23px;background:#fff}.layout-public-page[_ngcontent-%COMP%]{font-family:Roboto}.layout-public-page__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#000}.layout-public-page__header--title[_ngcontent-%COMP%]{font-size:33px;font-weight:600;color:#1c252c;text-align:center;margin-top:5px}.layout-public-page__header--logo[_ngcontent-%COMP%]{font-size:33px;font-weight:600;color:#1c252c;text-align:center}.layout-public-page__header--description[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#1c252c;text-align:center}.layout-public-page__body[_ngcontent-%COMP%]{margin-top:30px;display:grid;grid-template-columns:1fr;justify-items:center;color:#000}.layout-public-page__body-wrap[_ngcontent-%COMP%]{width:400px}.layout-public-page__body--info[_ngcontent-%COMP%]{font-size:15px;margin-bottom:15px;font-weight:400;line-height:18px;text-align:center;color:#1c252c}.layout-public-page__delimiter[_ngcontent-%COMP%]{width:100%;margin:30px auto}.layout-public-page__delimiter--line[_ngcontent-%COMP%]{display:flex;align-items:center}.layout-public-page__delimiter--line[_ngcontent-%COMP%]:before{content:"";display:flex;flex:1 1 auto;height:1px;background:#dcdcdc}.layout-public-page__delimiter--line[_ngcontent-%COMP%]:after{content:"";display:flex;flex:1 1 auto;height:1px;background:#dcdcdc}.layout-public-page__divider[_ngcontent-%COMP%]{margin:0 10px}.layout-public-page-providers[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.layout-public-page__termspolicies[_ngcontent-%COMP%]{margin-top:52px}.layout-public-page__extra[_ngcontent-%COMP%]{font-size:14px;line-height:18px;font-weight:400;text-align:center;margin-top:30px}.layout-public-page__extra--link[_ngcontent-%COMP%]{color:#326bf6;font-weight:500}button[_ngcontent-%COMP%]{margin:0;padding:0;border:0}.m-form__section--no-padding[_ngcontent-%COMP%], .m-form__section--no-border[_ngcontent-%COMP%]{padding:0}.m-form__fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr);gap:12px}.m-form__fields--gap-m[_ngcontent-%COMP%]{gap:20px}.m-form--plain[_ngcontent-%COMP%]{border-radius:0;background:transparent;box-shadow:none}.m-form__label[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:1.28;color:#000000a3;margin-bottom:5px}.m-form__label-m[_ngcontent-%COMP%]{font-size:13px}.m-form__label-l[_ngcontent-%COMP%]{font-size:15px}.m-form__field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#1c252c;border:1px solid #326bf6;padding:.7rem!important}.m-form__field--link[_ngcontent-%COMP%]{color:#1c252c;font-size:10px;font-weight:400;line-height:12px;margin-left:auto;float:right}.m-form__field--link[_ngcontent-%COMP%]:hover{color:#326bf6}.m-button[_ngcontent-%COMP%]{height:40px;margin-bottom:10px}.m-button--full-width[_ngcontent-%COMP%]{width:100%;background:none;margin-bottom:10px}.m-button__content[_ngcontent-%COMP%]{color:#fff;border:1px solid transparent;border-radius:20px;padding:8px 23px;width:100%;height:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:center;cursor:pointer}.m-button__content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.m-button__content--primary[_ngcontent-%COMP%]{background:#326bf6}.m-button__content--primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.m-button__content--outline[_ngcontent-%COMP%]{background:#fff;border-color:#326bf6;color:#326bf6}.m-button__content--outline[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#326bf6}.m-button-sign-in-provider[_ngcontent-%COMP%]{width:400px;max-width:450px;min-width:-webkit-min-content;min-width:min-content;margin:0;font-size:14px;height:40px;letter-spacing:.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;background-color:#fff;color:#202020;cursor:pointer;border:1px solid #dcdcdc;border-radius:20px;transition:background-color .218s,border-color .218s}.m-button-sign-in-provider--focus[_ngcontent-%COMP%]{transition:background-color .218s;top:0;right:0;bottom:0;left:0;position:absolute}.m-button-sign-in-provider--label[_ngcontent-%COMP%]{flex-grow:1;font-family:Inter var,"system-ui";font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top;color:#3c4043;cursor:pointer}.m-button-sign-in-provider--content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-flow:row nowrap;justify-content:space-between;gap:6px;height:100%;position:relative;width:100%}.m-button-sign-in-provider[_ngcontent-%COMP%]:hover{box-shadow:none;border-color:#d2e3fc;outline:none}.m-button-sign-in-provider[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:hover   .m-button-sign-in-provider--focus[_ngcontent-%COMP%], .m-button-sign-in-provider[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:focus   .m-button-sign-in-provider--focus[_ngcontent-%COMP%]{background:rgba(66,133,244,.04)}'],data:{animation:[(0,_.RP)()]}})),n})(),pathMatch:"full"}];let R=(()=>{var a;class n{}return a=n,(0,r.Z)(n,"\u0275fac",function(t){return new(t||a)}),(0,r.Z)(n,"\u0275mod",e.oAB({type:a})),(0,r.Z)(n,"\u0275inj",e.cJS({imports:[c.Bz.forChild(A),c.Bz]})),n})();var L=i(91860);let S=(()=>{var a;class n{}return a=n,(0,r.Z)(n,"\u0275fac",function(t){return new(t||a)}),(0,r.Z)(n,"\u0275mod",e.oAB({type:a})),(0,r.Z)(n,"\u0275inj",e.cJS({imports:[h.o,L.y,R]})),n})()}}]);