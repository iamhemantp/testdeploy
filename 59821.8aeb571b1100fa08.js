"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[59821],{59821:(j,_,i)=>{i.r(_),i.d(_,{RegisterTenantModule:()=>N});var o=i(81180),y=i(91860),b=i(40031),f=i(41423),g=i(12236),v=i(47530),C=i(41840),d=i(44328),Z=i(64716);class M extends d.KLe{constructor(...a){super(...a),(0,o.Z)(this,"passwordRepeat",void 0),(0,o.Z)(this,"edition",void 0)}}var e=i(99468),P=i(97708),w=i(20005),x=i(96814),c=i(56223),T=i(78176),A=i(24276),q=i(45513),R=i(42152),O=i(3291);function L(r,a){if(1&r&&(e.TgZ(0,"ul",35)(1,"li",36),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",36),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",36),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",36),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",36),e._uU(14),e.ALo(15,"localize"),e.qZA()()),2&r){const p=e.oxw(),n=e.MAs(37);e.xp6(1),e.Q6J("hidden",!n.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,10,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,18,"PasswordComplexity_RequiredLength_Hint",p.passwordComplexitySetting.requiredLength)," ")}}function S(r,a){if(1&r&&(e.TgZ(0,"ul",35)(1,"li",36),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",36),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",36),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",36),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",36),e._uU(14),e.ALo(15,"localize"),e.qZA(),e.TgZ(16,"li",36),e._uU(17),e.ALo(18,"localize"),e.qZA()()),2&r){const p=e.oxw(),n=e.MAs(43);e.xp6(1),e.Q6J("hidden",!n.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,12,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,14,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,16,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!n.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,20,"PasswordComplexity_RequiredLength_Hint",p.passwordComplexitySetting.requiredLength)," "),e.xp6(2),e.Q6J("hidden",n.valid),e.xp6(1),e.Oqu(e.lcZ(18,23,"PasswordsDontMatch"))}}const z=function(r){return{edited:r}},U=[{path:"",component:(()=>{var r;class a extends C.c{constructor(n,t,l,s,u,m,h){super(n),(0,o.Z)(this,"_tenantRegistrationService",void 0),(0,o.Z)(this,"_router",void 0),(0,o.Z)(this,"_profileService",void 0),(0,o.Z)(this,"_tenantRegistrationHelper",void 0),(0,o.Z)(this,"_activatedRoute",void 0),(0,o.Z)(this,"_recaptchaWrapperService",void 0),(0,o.Z)(this,"model",new M),(0,o.Z)(this,"passwordComplexitySetting",new d.qSp),(0,o.Z)(this,"subscriptionStartType",d.gPM),(0,o.Z)(this,"editionPaymentType",void 0),(0,o.Z)(this,"paymentPeriodType",d.dw4),(0,o.Z)(this,"selectedPaymentPeriodType",d.dw4.Monthly),(0,o.Z)(this,"subscriptionPaymentGateway",d.UWJ),(0,o.Z)(this,"paymentId",""),(0,o.Z)(this,"saving",!1),this._tenantRegistrationService=t,this._router=l,this._profileService=s,this._tenantRegistrationHelper=u,this._activatedRoute=m,this._recaptchaWrapperService=h}ngOnInit(){this.model.editionId=this._activatedRoute.snapshot.queryParams.editionId,this.editionPaymentType=this._activatedRoute.snapshot.queryParams.editionPaymentType,this.model.editionId&&(this.model.subscriptionStartType=this._activatedRoute.snapshot.queryParams.subscriptionStartType),null==this.appSession.tenant?this._profileService.getPasswordComplexitySetting().subscribe(n=>{this.passwordComplexitySetting=n.setting}):this._router.navigate(["account/login"])}ngAfterViewInit(){this.model.editionId&&this._tenantRegistrationService.getEdition(this.model.editionId).subscribe(n=>{this.model.edition=n}),this._recaptchaWrapperService.setCaptchaVisibilityOnRegister()}save(){let n=t=>{var l=this.model.name;this.saving=!0,this.model.captchaResponse=t,this.model.tenancyName=l.replace(/\s/g,"_").toLowerCase(),this.model.adminSurname=this.model.adminName,this._tenantRegistrationService.registerTenant(this.model).pipe((0,Z.x)(()=>{this.saving=!1})).subscribe(s=>{this.notify.success(this.l("SuccessfullyRegistered")),this._tenantRegistrationHelper.registrationResult=s,this._router.navigate(["account/login"]),parseInt(this.model.subscriptionStartType.toString())===d.gPM.Paid&&this._router.navigate(["account/buy"],{queryParams:{tenantId:s.tenantId,editionId:this.model.editionId,subscriptionStartType:this.model.subscriptionStartType,editionPaymentType:this.editionPaymentType}})})};this._recaptchaWrapperService.useCaptchaOnRegister()?this._recaptchaWrapperService.getService().execute("register_tenant").subscribe(t=>n(t)):n(null)}}return r=a,(0,o.Z)(a,"\u0275fac",function(n){return new(n||r)(e.Y36(e.zs3),e.Y36(d.Zr1),e.Y36(g.F0),e.Y36(d.qAB),e.Y36(P.K),e.Y36(g.gz),e.Y36(w.o))}),(0,o.Z)(a,"\u0275cmp",e.Xpm({type:r,selectors:[["ng-component"]],features:[e.qOj],decls:68,vars:63,consts:[[1,"layout-public-page"],[1,"layout-public-page__header"],[1,"layout-public-page__header--logo"],["routerLink","/account"],["src","../../assets/common/images/new-logo.svg","alt","Company Quote Logo"],[1,"layout-public-page__header--title"],[1,"layout-public-page__body"],[1,"layout-public-page__body-wrap"],[1,"layout-public-page__form"],["method","post","novalidate","novalidate","id","kt_register_form","action","#",1,"m-form--plain","m-form",3,"ngSubmit"],["registerForm","ngForm"],[1,"m-form__fields"],[1,"m-form__field"],["for","tenantInformations",1,"m-form__label","m-form__label-l"],["autocomplete","false","type","text","name","Name","required","","maxlength","128",1,"form-control","form-control-solid","h-auto","py-4","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["for","accountSettings",1,"m-form__label","m-form__label-l"],["id","AdminName","autocomplete","false","type","text","name","AdminName","required","","maxlength","64",1,"form-control","form-control-solid","h-auto","py-4","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngClass","ngModelChange"],["adminNameInput","ngModel"],["autocomplete","new-email","type","email","name","adminEmailAddress","required","","maxlength","256","email","",1,"form-control","form-control-solid","h-auto","py-4","px-6","rounded-lg","fs-h6",3,"placeholder","ngModel","ngModelChange"],["adminEmailAddressInput","ngModel"],["type","password","name","Password","autocomplete","false","validateEqual","PasswordRepeat","reverse","true","required","","pPassword","",1,"form-control","form-control-solid","h-auto","py-4","px-6","rounded-lg","fs-h6",3,"ngModel","placeholder","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","promptLabel","weakLabel","mediumLabel","strongLabel","ngModelChange"],["Password","ngModel"],[1,"m-form__errors",3,"hidden"],["class","form-text text-danger",4,"ngIf"],["type","password","name","PasswordRepeat","validateEqual","Password","reverse","false","required","",1,"form-control","form-control-solid","h-auto","py-4","px-6","rounded-lg","fs-h6",3,"ngModel","placeholder","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength"],["PasswordRepeat","ngModel"],[1,"m-form__field","layout-public-page__form--action"],["type","submit",1,"layout-public-page__button--main","m-button--full-width",3,"disabled","buttonBusy","busyText"],[1,"m-button__content","m-button__content--primary"],[1,"layout-public-page__extra"],[1,"layout-public-page__extra-title"],["href","",1,"layout-public-page__extra--link"],["routerLink","/account/login",1,"layout-public-page__extra--link"],[1,"form-text","text-danger"],[3,"hidden"]],template:function(n,t){if(1&n&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"img",4),e.qZA()(),e.TgZ(5,"div",5),e._uU(6),e.ALo(7,"localize"),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"form",9,10),e.NdJ("ngSubmit",function(){return t.save()}),e.TgZ(13,"div",11)(14,"div",12)(15,"label",13),e._uU(16),e.ALo(17,"localize"),e.qZA(),e.TgZ(18,"input",14,15),e.NdJ("ngModelChange",function(s){return t.model.name=s}),e.ALo(20,"localize"),e.qZA(),e._UZ(21,"validation-messages",16),e.qZA(),e.TgZ(22,"div",12)(23,"label",17),e._uU(24),e.ALo(25,"localize"),e.qZA(),e.TgZ(26,"input",18,19),e.NdJ("ngModelChange",function(s){return t.model.adminName=s}),e.ALo(28,"localize"),e.qZA(),e._UZ(29,"validation-messages",16),e.qZA(),e.TgZ(30,"div",12)(31,"input",20,21),e.NdJ("ngModelChange",function(s){return t.model.adminEmailAddress=s}),e.ALo(33,"localize"),e.qZA(),e._UZ(34,"validation-messages",16),e.qZA(),e.TgZ(35,"div",12)(36,"input",22,23),e.NdJ("ngModelChange",function(s){return t.model.adminPassword=s}),e.ALo(38,"localize"),e.qZA()(),e.TgZ(39,"div",24),e.YNc(40,L,16,21,"ul",25),e.qZA(),e.TgZ(41,"div",12),e._UZ(42,"input",26,27),e.ALo(44,"localize"),e.qZA(),e.TgZ(45,"div",24),e.YNc(46,S,19,25,"ul",25),e.qZA(),e.TgZ(47,"div",28)(48,"button",29)(49,"span",30),e._uU(50),e.ALo(51,"localize"),e.qZA()()()()()(),e.TgZ(52,"div",31)(53,"div",32),e._uU(54," By signing up, you are indicating that you have read and "),e._UZ(55,"br"),e._uU(56," agree to the "),e.TgZ(57,"a",33),e._uU(58,"Terms of Use"),e.qZA(),e._uU(59," and "),e.TgZ(60,"a",33),e._uU(61,"Privacy Policy."),e.qZA()()(),e.TgZ(62,"div",31)(63,"div",32),e._uU(64," Already have an account? "),e.TgZ(65,"a",34),e._uU(66),e.ALo(67,"localize"),e.qZA()()()()()()),2&n){const l=e.MAs(12),s=e.MAs(19),u=e.MAs(27),m=e.MAs(32),h=e.MAs(37),Q=e.MAs(43);e.Q6J("@routerTransition",void 0),e.xp6(6),e.Oqu(e.lcZ(7,41,"TenantSignUp")),e.xp6(10),e.hij("",e.lcZ(17,43,"TenantInformations")," "),e.xp6(2),e.MGl("placeholder","",e.lcZ(20,45,"TenantName")," *"),e.Q6J("ngModel",t.model.name),e.xp6(3),e.Q6J("formCtrl",s),e.xp6(3),e.hij("",e.lcZ(25,47,"AccountSettings")," "),e.xp6(2),e.MGl("placeholder","",e.lcZ(28,49,"FullName")," *"),e.Q6J("ngModel",t.model.adminName)("ngClass",e.VKq(61,z,t.model.adminName)),e.xp6(3),e.Q6J("formCtrl",u),e.xp6(2),e.MGl("placeholder","",e.lcZ(33,51,"Email")," *"),e.Q6J("ngModel",t.model.adminEmailAddress),e.xp6(3),e.Q6J("formCtrl",m),e.xp6(2),e.s9C("placeholder",e.lcZ(38,53,"Password")),e.Q6J("ngModel",t.model.adminPassword)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength)("promptLabel",t.l("PleaseEnterYourNewPassword"))("weakLabel",t.l("weak"))("mediumLabel",t.l("medium"))("strongLabel",t.l("strong")),e.xp6(3),e.Q6J("hidden",l.form.valid||l.form.pristine),e.xp6(1),e.Q6J("ngIf",h.errors),e.xp6(2),e.s9C("placeholder",e.lcZ(44,55,"PasswordRepeat")),e.Q6J("ngModel",t.model.passwordRepeat)("requireDigit",t.passwordComplexitySetting.requireDigit)("requireLowercase",t.passwordComplexitySetting.requireLowercase)("requireUppercase",t.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",t.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",t.passwordComplexitySetting.requiredLength),e.xp6(3),e.Q6J("hidden",l.form.valid||l.form.pristine),e.xp6(1),e.Q6J("ngIf",Q.errors),e.xp6(2),e.Q6J("disabled",!l.form.valid)("buttonBusy",t.saving)("busyText",t.l("SavingWithThreeDot")),e.xp6(2),e.hij(" ",e.lcZ(51,57,"Submit")," "),e.xp6(16),e.hij(" ",e.lcZ(67,59,"Sign in here")," ")}},dependencies:[x.mk,x.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.nD,c.on,c.On,c.F,g.rH,T.z,A.J,q.L,R.s,f.QK,O.F],styles:['.layout-public-page-container-page__main[_ngcontent-%COMP%]{max-width:710px;width:100%;margin-block-start:25px;margin-inline:auto;box-shadow:-1px -1px 16px #0000000a,15px 29px 32.77px #0000000a,1px 1px 14.584px #0000000a;border-radius:23px;background:#fff}.layout-public-page[_ngcontent-%COMP%]{font-family:Roboto}.layout-public-page__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#000}.layout-public-page__header--title[_ngcontent-%COMP%]{font-size:33px;font-weight:600;color:#1c252c;text-align:center;margin-top:5px}.layout-public-page__header--logo[_ngcontent-%COMP%]{font-size:33px;font-weight:600;color:#1c252c;text-align:center}.layout-public-page__header--description[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#1c252c;text-align:center}.layout-public-page__body[_ngcontent-%COMP%]{margin-top:30px;display:grid;grid-template-columns:1fr;justify-items:center;color:#000}.layout-public-page__body-wrap[_ngcontent-%COMP%]{width:400px}.layout-public-page__body--info[_ngcontent-%COMP%]{font-size:15px;margin-bottom:15px;font-weight:400;line-height:18px;text-align:center;color:#1c252c}.layout-public-page__delimiter[_ngcontent-%COMP%]{width:100%;margin:30px auto}.layout-public-page__delimiter--line[_ngcontent-%COMP%]{display:flex;align-items:center}.layout-public-page__delimiter--line[_ngcontent-%COMP%]:before{content:"";display:flex;flex:1 1 auto;height:1px;background:#dcdcdc}.layout-public-page__delimiter--line[_ngcontent-%COMP%]:after{content:"";display:flex;flex:1 1 auto;height:1px;background:#dcdcdc}.layout-public-page__divider[_ngcontent-%COMP%]{margin:0 10px}.layout-public-page-providers[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.layout-public-page__termspolicies[_ngcontent-%COMP%]{margin-top:52px}.layout-public-page__extra[_ngcontent-%COMP%]{font-size:14px;line-height:18px;font-weight:400;text-align:center;margin-top:30px}.layout-public-page__extra--link[_ngcontent-%COMP%]{color:#326bf6;font-weight:500}button[_ngcontent-%COMP%]{margin:0;padding:0;border:0}.m-form__section--no-padding[_ngcontent-%COMP%], .m-form__section--no-border[_ngcontent-%COMP%]{padding:0}.m-form__fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:minmax(0,1fr);gap:12px}.m-form__fields--gap-m[_ngcontent-%COMP%]{gap:20px}.m-form--plain[_ngcontent-%COMP%]{border-radius:0;background:transparent;box-shadow:none}.m-form__label[_ngcontent-%COMP%]{font-weight:500;font-size:16px;line-height:1.28;color:#000000a3;margin-bottom:5px}.m-form__label-m[_ngcontent-%COMP%]{font-size:13px}.m-form__label-l[_ngcontent-%COMP%]{font-size:15px}.m-form__field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#1c252c;border:1px solid #326bf6;padding:.7rem!important}.m-form__field--link[_ngcontent-%COMP%]{color:#1c252c;font-size:10px;font-weight:400;line-height:12px;margin-left:auto;float:right}.m-form__field--link[_ngcontent-%COMP%]:hover{color:#326bf6}.m-button[_ngcontent-%COMP%]{height:40px;margin-bottom:10px}.m-button--full-width[_ngcontent-%COMP%]{width:100%;background:none;margin-bottom:10px}.m-button__content[_ngcontent-%COMP%]{color:#fff;border:1px solid transparent;border-radius:20px;padding:8px 23px;width:100%;height:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:center;cursor:pointer}.m-button__content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px}.m-button__content--primary[_ngcontent-%COMP%]{background:#326bf6}.m-button__content--primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff}.m-button__content--outline[_ngcontent-%COMP%]{background:#fff;border-color:#326bf6;color:#326bf6}.m-button__content--outline[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#326bf6}.m-button-sign-in-provider[_ngcontent-%COMP%]{width:400px;max-width:450px;min-width:-webkit-min-content;min-width:min-content;margin:0;font-size:14px;height:40px;letter-spacing:.25px;outline:none;overflow:hidden;padding:0 12px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;background-color:#fff;color:#202020;cursor:pointer;border:1px solid #dcdcdc;border-radius:20px;transition:background-color .218s,border-color .218s}.m-button-sign-in-provider--focus[_ngcontent-%COMP%]{transition:background-color .218s;top:0;right:0;bottom:0;left:0;position:absolute}.m-button-sign-in-provider--label[_ngcontent-%COMP%]{flex-grow:1;font-family:Inter var,"system-ui";font-weight:500;overflow:hidden;text-overflow:ellipsis;vertical-align:top;color:#3c4043;cursor:pointer}.m-button-sign-in-provider--content[_ngcontent-%COMP%]{display:flex;align-items:center;flex-flow:row nowrap;justify-content:space-between;gap:6px;height:100%;position:relative;width:100%}.m-button-sign-in-provider[_ngcontent-%COMP%]:hover{box-shadow:none;border-color:#d2e3fc;outline:none}.m-button-sign-in-provider[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:hover   .m-button-sign-in-provider--focus[_ngcontent-%COMP%], .m-button-sign-in-provider[_ngcontent-%COMP%]:hover   [_ngcontent-%COMP%]:focus   .m-button-sign-in-provider--focus[_ngcontent-%COMP%]{background:rgba(66,133,244,.04)}'],data:{animation:[(0,v.RP)()]}})),a})(),pathMatch:"full"}];let J=(()=>{var r;class a{}return r=a,(0,o.Z)(a,"\u0275fac",function(n){return new(n||r)}),(0,o.Z)(a,"\u0275mod",e.oAB({type:r})),(0,o.Z)(a,"\u0275inj",e.cJS({imports:[g.Bz.forChild(U),g.Bz]})),a})(),N=(()=>{var r;class a{}return r=a,(0,o.Z)(a,"\u0275fac",function(n){return new(n||r)}),(0,o.Z)(a,"\u0275mod",e.oAB({type:r})),(0,o.Z)(a,"\u0275inj",e.cJS({imports:[b.o,y.y,J,f.gz]})),a})()}}]);