"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[5836],{5836:(_,g,i)=>{i.d(g,{k:()=>k});var e=i(81180),p=i(96814),r=i(56223),h=i(35732),c=i(26860),m=i(97680),t=i(99468),u=i(65118),C=i(20553),f=i(69862);let v=(()=>{var s;class a{constructor(o){(0,e.Z)(this,"http",void 0),(0,e.Z)(this,"baseUrl",C.N.remoteServiceBaseUrl),this.http=o}sendEMail(o,n){return this.http.post(`${this.baseUrl}/Email/${o}`,n)}}return s=a,(0,e.Z)(a,"\u0275fac",function(o){return new(o||s)(t.LFG(f.eN))}),(0,e.Z)(a,"\u0275prov",t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})),a})();var b=i(42152);function M(s,a){1&s&&t._UZ(0,"p-progressSpinner",29)}const Z=function(){return{height:"100px"}};let k=(()=>{var s;class a{constructor(o,n,l,P){(0,e.Z)(this,"_dialogConfig",void 0),(0,e.Z)(this,"_dialogRef",void 0),(0,e.Z)(this,"_fb",void 0),(0,e.Z)(this,"_mailService",void 0),(0,e.Z)(this,"theForm",void 0),(0,e.Z)(this,"disableSendMailBtn",!1),(0,e.Z)(this,"quoteId",void 0),(0,e.Z)(this,"invoiceId",void 0),this._dialogConfig=o,this._dialogRef=n,this._fb=l,this._mailService=P,this.theForm=l.group({to:["",[r.kI.required,r.kI.email]],subject:["",r.kI.required],description:[""],aiEmail:[""]})}ngOnInit(){const{quoteId:o,invoiceId:n,formValue:l}=this._dialogConfig.data;this.quoteId=o,this.invoiceId=n,this.theForm.patchValue(l)}onCloseDialog(){this._dialogRef.close()}onSendEmail(){if(!this.invoiceId&&!this.quoteId)return;this.disableSendMailBtn=!0;const o=this.theForm.value;o.invoiceId=this.invoiceId,o.quoteId=this.quoteId,this._mailService.sendEMail(this.invoiceId?"SendInvoiceAsPDFPreviewToClient":"SendQuoteAsPDFPreviewToClient",o).subscribe({next:()=>{this.onCloseDialog(),this.disableSendMailBtn=!1},error:()=>this.disableSendMailBtn=!1})}}return s=a,(0,e.Z)(a,"\u0275fac",function(o){return new(o||s)(t.Y36(u.S),t.Y36(u.E7),t.Y36(r.qu),t.Y36(v))}),(0,e.Z)(a,"\u0275cmp",t.Xpm({type:s,selectors:[["app-email-popup"]],standalone:!0,features:[t.jDz],decls:40,vars:8,consts:[[1,"mail-quote-container"],[3,"formGroup"],[1,"form-group","mb-4"],["for","recipient"],["id","recipient","type","text","tabindex","1","formControlName","to",1,"form-control"],[3,"formCtrl"],["for","subject"],["id","subject","type","text","tabindex","2","formControlName","subject",1,"form-control"],["for","description"],["id","description","formControlName","description","tabindex","3"],[1,"form-group","mb-4","email-assistant"],["width","15","height","16","viewBox","0 0 15 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M11.875 10.3984V9.14844C11.875 7.38069 11.875 6.49679 11.3258 5.94761C10.7766 5.39844 9.89275 5.39844 8.125 5.39844H6.875C5.10723 5.39844 4.22335 5.39844 3.67418 5.94761C3.125 6.49679 3.125 7.38069 3.125 9.14844V10.3984C3.125 12.1662 3.125 13.0501 3.67418 13.5992C4.22335 14.1484 5.10723 14.1484 6.875 14.1484H8.125C9.89275 14.1484 10.7766 14.1484 11.3258 13.5992C11.875 13.0501 11.875 12.1662 11.875 10.3984Z","stroke","#326BF6","stroke-width","0.9375","stroke-linejoin","round"],["d","M11.875 11.6484C12.7589 11.6484 13.2008 11.6484 13.4754 11.3739C13.75 11.0992 13.75 10.6573 13.75 9.77344C13.75 8.88956 13.75 8.44762 13.4754 8.173C13.2008 7.89844 12.7589 7.89844 11.875 7.89844","stroke","#326BF6","stroke-width","0.9375","stroke-linejoin","round"],["d","M3.125 11.6484C2.24112 11.6484 1.79918 11.6484 1.52459 11.3739C1.25 11.0992 1.25 10.6573 1.25 9.77344C1.25 8.88956 1.25 8.44762 1.52459 8.173C1.79918 7.89844 2.24112 7.89844 3.125 7.89844","stroke","#326BF6","stroke-width","0.9375","stroke-linejoin","round"],["d","M8.4375 2.58594C8.4375 3.10371 8.01775 3.52344 7.5 3.52344C6.98225 3.52344 6.5625 3.10371 6.5625 2.58594C6.5625 2.06817 6.98225 1.64844 7.5 1.64844C8.01775 1.64844 8.4375 2.06817 8.4375 2.58594Z","stroke","#326BF6","stroke-width","0.9375"],["d","M7.5 3.52344V5.39844","stroke","#326BF6","stroke-width","0.9375","stroke-linecap","round","stroke-linejoin","round"],["d","M5.625 8.52344V9.14844","stroke","#326BF6","stroke-width","0.9375","stroke-linecap","round","stroke-linejoin","round"],["d","M9.375 8.52344V9.14844","stroke","#326BF6","stroke-width","0.9375","stroke-linecap","round","stroke-linejoin","round"],["d","M6.25 11.3359C6.25 11.3359 6.66669 11.6484 7.5 11.6484C8.33331 11.6484 8.75 11.3359 8.75 11.3359","stroke","#326BF6","stroke-width","0.9375","stroke-linecap","round"],["id","aiEmail","type","text","tabindex","2","formControlName","aiEmail",1,"form-control"],[1,"action-right"],["width","16","height","17","viewBox","0 0 16 17","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.98779 7.50065V10.5007C3.98779 12.1575 5.3269 13.5007 6.97877 13.5007C8.63066 13.5007 9.96976 12.1575 9.96976 10.5007V2.83398","stroke","#326BF6","stroke-linecap","round","stroke-linejoin","round"],["d","M11.964 4.83397C11.964 4.83397 10.4955 2.83399 9.97006 2.83398C9.44458 2.83398 7.97607 4.83398 7.97607 4.83398","stroke","#326BF6","stroke-linecap","round","stroke-linejoin","round"],[1,"footer","d-flex","justify-content-end"],[1,"btn","btn-outline-light",3,"click"],[1,"btn","btn-outline-primary","d-flex","align-items-center","btn-h-35",3,"disabled","click"],["class","progress-spinner-height ms-3","strokeWidth","4",4,"ngIf"],["strokeWidth","4",1,"progress-spinner-height","ms-3"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"label",3),t._uU(4,"Recipient*"),t.qZA(),t._UZ(5,"input",4)(6,"validation-messages",5),t.qZA(),t.TgZ(7,"div",2)(8,"label",6),t._uU(9,"Subject*"),t.qZA(),t._UZ(10,"input",7)(11,"validation-messages",5),t.qZA(),t.TgZ(12,"div",2)(13,"label",8),t._uU(14,"Description"),t.qZA(),t._UZ(15,"p-editor",9),t.qZA(),t.TgZ(16,"div",10)(17,"label",8),t.O4$(),t.TgZ(18,"svg",11),t._UZ(19,"path",12)(20,"path",13)(21,"path",14)(22,"path",15)(23,"path",16)(24,"path",17)(25,"path",18)(26,"path",19),t.qZA(),t._uU(27," AI Email Assistant "),t.qZA(),t.kcU(),t._UZ(28,"input",20),t.TgZ(29,"div",21),t.O4$(),t.TgZ(30,"svg",22),t._UZ(31,"path",23)(32,"path",24),t.qZA()()()()(),t.kcU(),t.TgZ(33,"div",25)(34,"button",26),t.NdJ("click",function(){return n.onCloseDialog()}),t._uU(35,"Cancel"),t.qZA(),t.TgZ(36,"button",27),t.NdJ("click",function(){return n.onSendEmail()}),t.TgZ(37,"span"),t._uU(38,"Send Quote"),t.qZA(),t.YNc(39,M,1,0,"p-progressSpinner",28),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("formGroup",n.theForm),t.xp6(5),t.Q6J("formCtrl",n.theForm.controls.to),t.xp6(5),t.Q6J("formCtrl",n.theForm.controls.subject),t.xp6(4),t.Akn(t.DdM(7,Z)),t.xp6(21),t.Q6J("disabled",n.disableSendMailBtn||n.theForm.invalid),t.xp6(3),t.Q6J("ngIf",n.disableSendMailBtn))},dependencies:[p.ez,p.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,r.u5,h.A,b.s,m.L,m.G,c.Z_,c.ML],styles:[".mail-quote-container[_ngcontent-%COMP%]{padding:22px;font-family:Roboto,sans-serif}.mail-quote-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:16px;color:#4e6685;margin-bottom:6px}.mail-quote-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:4px;margin-top:-4px}.mail-quote-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#326bf626!important}.mail-quote-container[_ngcontent-%COMP%]   .email-assistant[_ngcontent-%COMP%]{position:relative}.mail-quote-container[_ngcontent-%COMP%]   .email-assistant[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:50px}.mail-quote-container[_ngcontent-%COMP%]   .email-assistant[_ngcontent-%COMP%]   .action-right[_ngcontent-%COMP%]{position:absolute;top:35px;right:15px;cursor:pointer}.footer[_ngcontent-%COMP%]{border-top:1px solid rgba(50,107,246,.1490196078);padding:22px}.footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:25px;height:44px}.footer[_ngcontent-%COMP%]   .btn.btn-outline-light[_ngcontent-%COMP%]{border:1px solid rgba(50,107,246,.1490196078)}.footer[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]{background:#326bf6;color:#fff}.footer[_ngcontent-%COMP%]   .btn.btn-outline-primary[_ngcontent-%COMP%]:hover{background:var(--kt-primary-active);color:#fff}.footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%]{margin-left:15px}  .p-editor-container .p-editor-toolbar.ql-snow,   .p-editor-container .p-editor-content.ql-snow{border:1px solid rgba(50,107,246,.15)}"]})),a})()}}]);