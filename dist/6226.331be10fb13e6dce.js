"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[6226],{6226:(U,u,o)=>{o.r(u),o.d(u,{InstallModule:()=>J});var g=o(81180),h=o(8387),S=o(40031),m=o(12236),c=o(47530),f=o(41840),r=o(44328),M=o(64716),e=o(99468),v=o(96814),d=o(56223),C=o(45513),Z=o(3291);function _(a,l){if(1&a&&(e.TgZ(0,"option",37),e._uU(1),e.qZA()),2&a){const p=l.$implicit;e.s9C("value",p.value),e.xp6(1),e.hij(" ",p.name," ")}}const T=[{path:"",component:(()=>{var a;class l extends f.c{constructor(i,t){super(i),(0,g.Z)(this,"_installSettingService",void 0),(0,g.Z)(this,"saving",!1),(0,g.Z)(this,"setupSettings",void 0),(0,g.Z)(this,"languages",void 0),this._installSettingService=t}loadAppSettingsJson(){this._installSettingService.getAppSettingsJson().subscribe(t=>{this.setupSettings.webSiteUrl=t.webSiteUrl,this.setupSettings.serverUrl=t.serverSiteUrl,this.languages=t.languages})}init(){this._installSettingService.checkDatabase().subscribe(i=>{i.isDatabaseExist&&(window.location.href="/")}),this.setupSettings=new r.peI,this.setupSettings.smtpSettings=new r.enA,this.setupSettings.billInfo=new r.iKc,this.setupSettings.defaultLanguage="en",this.loadAppSettingsJson()}ngOnInit(){this.init()}saveAll(){this.saving=!0,this._installSettingService.setup(this.setupSettings).pipe((0,M.x)(()=>{this.saving=!1})).subscribe(()=>{window.location.href="/"})}}return a=l,(0,g.Z)(l,"\u0275fac",function(i){return new(i||a)(e.Y36(e.zs3),e.Y36(r.Q7b))}),(0,g.Z)(l,"\u0275cmp",e.Xpm({type:a,selectors:[["ng-component"]],features:[e.qOj],decls:83,vars:29,consts:[[1,"content","col-lg-12"],[1,"container","container-fluid","pb-10"],[1,"card","card-custom"],[1,"card-header"],[1,"card-title"],[1,"card-icon"],[1,"la","la-gear"],[1,"card-label"],["id","installForm",1,"form"],[1,"card-body"],[1,"form-section"],[1,"fs-lg","text-dark","fw-bold","mb-6"],[1,"fs-lg","text-dark","fw-bold","mb-6-title"],[1,"mb-5"],["type","text","placeholder","Connection String","name","connectionString","autocomplete","new-password",1,"form-control",3,"ngModel","value","ngModelChange"],[1,"separator","separator-dashed","my-5"],["type","password","placeholder","Admin Password","name","adminPassword","autocomplete","new-password",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Client Side URL","name","webSiteUrl",1,"form-control",3,"ngModel","value","ngModelChange"],["type","text","placeholder","Server Side URL","name","serverUrl",1,"form-control",3,"ngModel","value","ngModelChange"],["name","defaultLanguage",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","email","placeholder","Default from address","name","defaultFromAddress",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","Default from displayName","name","defaultFromDisplayName",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","SMTP host","name","smtpHost",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","SMTP port","name","smtpPort",1,"form-control",3,"ngModel","ngModelChange"],[1,"control-label","col-md-12"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["id","Settings_SmtpEnableSsl","type","checkbox","name","smtpEnableSsl","value","true",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["id","Settings_SmtpUseDefaultCredentials","type","checkbox","name","smtpUseDefaultCredentials","value","true",1,"form-check-input",3,"ngModel","ngModelChange"],["type","text","placeholder","Domain name","name","smtpDomain",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","User name","name","smtpUserName",1,"form-control",3,"ngModel","ngModelChange"],["type","password","placeholder","Password","name","smtpPassword","id","SmtpPassword",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","legalName","placeholder","Legal name",1,"form-control",3,"ngModel","ngModelChange"],["name","billAddress","rows","5","placeholder","Address",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer"],["id","SaveButton",1,"btn","btn-primary",3,"buttonBusy","busyText","click"],[3,"value"]],template:function(i,t){1&i&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"span",5),e._UZ(7,"i",6),e.qZA(),e.TgZ(8,"h3",7),e._uU(9,"CompanyQuote Installation"),e.qZA()()(),e.TgZ(10,"form",8)(11,"div",9)(12,"div",10)(13,"div",11)(14,"h5",12),e._uU(15,"Connection String"),e.qZA()(),e.TgZ(16,"div",13)(17,"input",14),e.NdJ("ngModelChange",function(n){return t.setupSettings.connectionString=n}),e.qZA()(),e._UZ(18,"div",15),e.TgZ(19,"div",11)(20,"h5",12),e._uU(21,"Admin Password"),e.qZA()(),e.TgZ(22,"div",13)(23,"input",16),e.NdJ("ngModelChange",function(n){return t.setupSettings.adminPassword=n}),e.qZA()(),e._UZ(24,"div",15),e.TgZ(25,"div",11)(26,"h5",12),e._uU(27,"Client Side URL"),e.qZA()(),e.TgZ(28,"div",13)(29,"input",17),e.NdJ("ngModelChange",function(n){return t.setupSettings.webSiteUrl=n}),e.qZA()(),e.TgZ(30,"div",11)(31,"h5",12),e._uU(32,"Server Side URL"),e.qZA()(),e.TgZ(33,"div",13)(34,"input",18),e.NdJ("ngModelChange",function(n){return t.setupSettings.serverUrl=n}),e.qZA()(),e._UZ(35,"div",15),e.TgZ(36,"div",11)(37,"h5",12),e._uU(38,"Default Language"),e.qZA()(),e.TgZ(39,"div",13)(40,"select",19),e.NdJ("ngModelChange",function(n){return t.setupSettings.defaultLanguage=n}),e.YNc(41,_,2,2,"option",20),e.qZA()(),e._UZ(42,"div",15),e.TgZ(43,"div",11)(44,"h5",12),e._uU(45,"SMTP Settings"),e.qZA()(),e.TgZ(46,"div",13)(47,"input",21),e.NdJ("ngModelChange",function(n){return t.setupSettings.smtpSettings.defaultFromAddress=n}),e.qZA()(),e.TgZ(48,"div",13)(49,"input",22),e.NdJ("ngModelChange",function(n){return t.setupSettings.smtpSettings.defaultFromDisplayName=n}),e.qZA()(),e.TgZ(50,"div",13)(51,"input",23),e.NdJ("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpHost=n}),e.qZA()(),e.TgZ(52,"div",13)(53,"input",24),e.NdJ("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpPort=n}),e.qZA()(),e.TgZ(54,"div",13),e._UZ(55,"label",25),e.TgZ(56,"label",26)(57,"input",27),e.NdJ("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpEnableSsl=n}),e.qZA(),e.TgZ(58,"span",28),e._uU(59),e.ALo(60,"localize"),e.qZA()(),e.TgZ(61,"label",26)(62,"input",29),e.NdJ("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpUseDefaultCredentials=n}),e.qZA(),e.TgZ(63,"span",28),e._uU(64),e.ALo(65,"localize"),e.qZA()()(),e.TgZ(66,"div",13)(67,"input",30),e.NdJ("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpDomain=n}),e.qZA()(),e.TgZ(68,"div",13)(69,"input",31),e.NdJ("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpUserName=n}),e.qZA()(),e.TgZ(70,"div",13)(71,"input",32),e.NdJ("ngModelChange",function(n){return t.setupSettings.smtpSettings.smtpPassword=n}),e.qZA()(),e._UZ(72,"div",15),e.TgZ(73,"div",11)(74,"h5",12),e._uU(75,"Invoice Info"),e.qZA()(),e.TgZ(76,"div",13)(77,"input",33),e.NdJ("ngModelChange",function(n){return t.setupSettings.billInfo.legalName=n}),e.qZA()(),e.TgZ(78,"div",13)(79,"textarea",34),e.NdJ("ngModelChange",function(n){return t.setupSettings.billInfo.address=n}),e.qZA()()()(),e.TgZ(80,"div",35)(81,"button",36),e.NdJ("click",function(){return t.saveAll()}),e._uU(82," Save "),e.qZA()()()()()()()),2&i&&(e.Q6J("@routerTransition",void 0),e.xp6(17),e.s9C("value",t.setupSettings.connectionString),e.Q6J("ngModel",t.setupSettings.connectionString),e.xp6(6),e.Q6J("ngModel",t.setupSettings.adminPassword),e.xp6(6),e.s9C("value",t.setupSettings.webSiteUrl),e.Q6J("ngModel",t.setupSettings.webSiteUrl),e.xp6(5),e.s9C("value",t.setupSettings.serverUrl),e.Q6J("ngModel",t.setupSettings.serverUrl),e.xp6(6),e.Q6J("ngModel",t.setupSettings.defaultLanguage),e.xp6(1),e.Q6J("ngForOf",t.languages),e.xp6(6),e.Q6J("ngModel",t.setupSettings.smtpSettings.defaultFromAddress),e.xp6(2),e.Q6J("ngModel",t.setupSettings.smtpSettings.defaultFromDisplayName),e.xp6(2),e.Q6J("ngModel",t.setupSettings.smtpSettings.smtpHost),e.xp6(2),e.Q6J("ngModel",t.setupSettings.smtpSettings.smtpPort),e.xp6(4),e.Q6J("ngModel",t.setupSettings.smtpSettings.smtpEnableSsl),e.xp6(2),e.hij(" ",e.lcZ(60,25,"UseSsl")," "),e.xp6(3),e.Q6J("ngModel",t.setupSettings.smtpSettings.smtpUseDefaultCredentials),e.xp6(2),e.hij(" ",e.lcZ(65,27,"Use Default Credentials")," "),e.xp6(3),e.Q6J("ngModel",t.setupSettings.smtpSettings.smtpDomain),e.xp6(2),e.Q6J("ngModel",t.setupSettings.smtpSettings.smtpUserName),e.xp6(2),e.Q6J("ngModel",t.setupSettings.smtpSettings.smtpPassword),e.xp6(6),e.Q6J("ngModel",t.setupSettings.billInfo.legalName),e.xp6(2),e.Q6J("ngModel",t.setupSettings.billInfo.address),e.xp6(2),e.Q6J("buttonBusy",t.saving)("busyText",t.l("SavingWithThreeDot")))},dependencies:[v.sg,d._Y,d.YN,d.Kr,d.Fj,d.wV,d.Wl,d.EJ,d.JJ,d.JL,d.On,d.F,C.L,Z.F],styles:["#kt_aside,#kt_footer,#kt_header{display:none!important}\n"],encapsulation:2,data:{animation:[(0,c.MH)()]}})),l})(),pathMatch:"full"}];let A=(()=>{var a;class l{}return a=l,(0,g.Z)(l,"\u0275fac",function(i){return new(i||a)}),(0,g.Z)(l,"\u0275mod",e.oAB({type:a})),(0,g.Z)(l,"\u0275inj",e.cJS({imports:[m.Bz.forChild(T),m.Bz]})),l})(),J=(()=>{var a;class l{}return a=l,(0,g.Z)(l,"\u0275fac",function(i){return new(i||a)}),(0,g.Z)(l,"\u0275mod",e.oAB({type:a})),(0,g.Z)(l,"\u0275inj",e.cJS({imports:[S.o,h.g,A]})),l})()}}]);