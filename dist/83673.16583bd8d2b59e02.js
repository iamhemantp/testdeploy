(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[83673],{83673:($,se,I)=>{"use strict";I.r(se),I.d(se,{QuoteModule:()=>FO});var _=I(81180),l=I(99468),x=I(96814);function w(h){return null!=h&&"false"!=`${h}`}function S(h,i=0){return function L(h){return!isNaN(parseFloat(h))&&!isNaN(Number(h))}(h)?Number(h):i}function q(h){return h instanceof l.SBq?h.nativeElement:h}var fe=I(78645),Je=I(22096),nt=I(65592),ms=I(92438),Pe=I(80927),Li=I(41954);let vs,Oi=1;const br={};function Vr(h){return h in br&&(delete br[h],!0)}const Gt={setImmediate(h){const i=Oi++;return br[i]=!0,vs||(vs=Promise.resolve()),vs.then(()=>Vr(i)&&h()),i},clearImmediate(h){Vr(h)}},{setImmediate:hs,clearImmediate:tr}=Gt,ii={setImmediate(...h){const{delegate:i}=ii;return((null==i?void 0:i.setImmediate)||hs)(...h)},clearImmediate(h){const{delegate:i}=ii;return((null==i?void 0:i.clearImmediate)||tr)(h)},delegate:void 0};var Wr=I(49931);new class Wi extends Wr.v{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:t}=this;let s;i=i||t.shift();do{if(s=i.execute(i.state,i.delay))break}while((i=t[0])&&i.id===e&&t.shift());if(this._active=!1,s){for(;(i=t[0])&&i.id===e&&t.shift();)i.unsubscribe();throw s}}}(class qi extends Li.o{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,t=0){return null!==t&&t>0?super.requestAsyncId(i,e,t):(i.actions.push(this),i._scheduled||(i._scheduled=ii.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,e,t=0){var s;if(null!=t?t>0:this.delay>0)return super.recycleAsyncId(i,e,t);const{actions:r}=i;null!=e&&(null===(s=r[r.length-1])||void 0===s?void 0:s.id)!==e&&(ii.clearImmediate(e),i._scheduled===e&&(i._scheduled=void 0))}});var Zi=I(16321),Cr=I(79360),Kn=I(54829),eo=I(8251),Ys=I(99080);function W(h,i=Zi.z){return function gs(h){return(0,Cr.e)((i,e)=>{let t=!1,s=null,r=null,o=!1;const a=()=>{if(null==r||r.unsubscribe(),r=null,t){t=!1;const c=s;s=null,e.next(c)}o&&e.complete()},d=()=>{r=null,o&&e.complete()};i.subscribe((0,eo.x)(e,c=>{t=!0,s=c,r||(0,Kn.Xf)(h(c)).subscribe(r=(0,eo.x)(e,a,d))},()=>{o=!0,(!t||!r||r.closed)&&e.complete()}))})}(()=>(0,Ys.H)(h,i))}var M=I(32181);let V;try{V=typeof Intl<"u"&&Intl.v8BreakIterator}catch{V=!1}let Te,Ze,X=(()=>{var h;class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?(0,x.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!V)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(h=i).\u0275fac=function(t){return new(t||h)(l.LFG(l.Lbi))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),i})();function we(h){return function Ve(){if(null==Te&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Te=!0}))}finally{Te=Te||!1}return Te}()?h:!!h.capture}function ke(h){if(function et(){if(null==Ze){const h=typeof document<"u"?document.head:null;Ze=!(!h||!h.createShadowRoot&&!h.attachShadow)}return Ze}()){const i=h.getRootNode?h.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function Se(h){return h.composedPath?h.composedPath()[0]:h.target}let Lt=(()=>{var h;class i{constructor(t,s,r){this._ngZone=t,this._platform=s,this._scrolled=new fe.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const s=this.scrollContainers.get(t);s&&(s.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new nt.y(s=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(W(t)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Je.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(t,s){const r=this.getAncestorScrollContainers(t);return this.scrolled(s).pipe((0,M.h)(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const s=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&s.push(o)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,s){let r=q(s),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const t=this._getWindow();return(0,ms.R)(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(h=i).\u0275fac=function(t){return new(t||h)(l.LFG(l.R0b),l.LFG(X),l.LFG(x.K0,8))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),i})(),Ui=(()=>{var h;class i{constructor(t,s,r){this._platform=t,this._change=new fe.x,this._changeListener=o=>{this._change.next(o)},this._document=r,s.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:s,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+s,height:r,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,s=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||s.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||s.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(W(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return(h=i).\u0275fac=function(t){return new(t||h)(l.LFG(X),l.LFG(l.R0b),l.LFG(x.K0,8))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),i})(),wr=(()=>{var h;class i{}return(h=i).\u0275fac=function(t){return new(t||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({}),i})();var so=I(47394),Ha=I(63019),qo=I(59773),_p=I(37398),Th=I(48180),Na=I(27921),wp=I(99397),Wo=I(94664);const Sp=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function xp(){return(0,l.f3M)(x.K0)}}),Pp=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let kh=(()=>{var h;class i{constructor(t){this.value="ltr",this.change=new l.vpe,t&&(this.value=function Tp(h){var i;const e=(null==h?void 0:h.toLowerCase())||"";return"auto"===e&&typeof navigator<"u"&&null!==(i=navigator)&&void 0!==i&&i.language?Pp.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(h=i).\u0275fac=function(t){return new(t||h)(l.LFG(Sp,8))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),i})();function Ba(h,i,e){for(let t in i)if(i.hasOwnProperty(t)){const s=i[t];s?h.setProperty(t,s,null!=e&&e.has(t)?"important":""):h.removeProperty(t)}return h}function Jr(h,i){const e=i?"":"none";Ba(h.style,{"touch-action":i?"":"none","-webkit-user-drag":i?"":"none","-webkit-tap-highlight-color":i?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function za(h,i,e){Ba(h.style,{position:i?"":"fixed",top:i?"":"0",opacity:i?"":"0",left:i?"":"-999em"},e)}function ro(h,i){return i&&"none"!=i?h+" "+i:h}function no(h){const i=h.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(h)*i}function yn(h,i){return h.getPropertyValue(i).split(",").map(t=>t.trim())}function Zo(h){const i=h.getBoundingClientRect();return{top:i.top,right:i.right,bottom:i.bottom,left:i.left,width:i.width,height:i.height,x:i.x,y:i.y}}function kr(h,i,e){const{top:t,bottom:s,left:r,right:o}=h;return e>=t&&e<=s&&i>=r&&i<=o}function bn(h,i,e){h.top+=i,h.bottom=h.top+h.height,h.left+=e,h.right=h.left+h.width}function Va(h,i,e,t){const{top:s,right:r,bottom:o,left:a,width:d,height:c}=h,p=d*i,u=c*i;return t>s-u&&t<o+u&&e>a-p&&e<r+p}class Lh{constructor(i){this._document=i,this.positions=new Map}clear(){this.positions.clear()}cache(i){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),i.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Zo(e)})})}handleScroll(i){const e=Se(i),t=this.positions.get(e);if(!t)return null;const s=t.scrollPosition;let r,o;if(e===this._document){const c=this.getViewportScrollPosition();r=c.top,o=c.left}else r=e.scrollTop,o=e.scrollLeft;const a=s.top-r,d=s.left-o;return this.positions.forEach((c,p)=>{c.clientRect&&e!==p&&e.contains(p)&&bn(c.clientRect,a,d)}),s.top=r,s.left=o,{top:a,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function Oh(h){const i=h.cloneNode(!0),e=i.querySelectorAll("[id]"),t=h.nodeName.toLowerCase();i.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===t?Ih(h,i):("input"===t||"select"===t||"textarea"===t)&&Ah(h,i),Mh("canvas",h,i,Ih),Mh("input, textarea, select",h,i,Ah),i}function Mh(h,i,e,t){const s=i.querySelectorAll(h);if(s.length){const r=e.querySelectorAll(h);for(let o=0;o<s.length;o++)t(s[o],r[o])}}let kp=0;function Ah(h,i){"file"!==i.type&&(i.value=h.value),"radio"===i.type&&i.name&&(i.name=`mat-clone-${i.name}-${kp++}`)}function Ih(h,i){const e=i.getContext("2d");if(e)try{e.drawImage(h,0,0)}catch{}}const Eh=we({passive:!0}),Uo=we({passive:!1}),qa=new Set(["position"]);class Op{get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(i){const e=w(i);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(t=>Jr(t,e)))}constructor(i,e,t,s,r,o){this._config=e,this._document=t,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new fe.x,this._pointerMoveSubscription=so.w0.EMPTY,this._pointerUpSubscription=so.w0.EMPTY,this._scrollSubscription=so.w0.EMPTY,this._resizeSubscription=so.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new fe.x,this.started=new fe.x,this.released=new fe.x,this.ended=new fe.x,this.entered=new fe.x,this.exited=new fe.x,this.dropped=new fe.x,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const d=this._getTargetHandle(a);d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const d=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(d.x-this._pickupPositionOnPage.x)+Math.abs(d.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const v=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),g=this._dropContainer;if(!v)return void this._endDragSequence(a);(!g||!g.isDragging()&&!g.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,d);else{const p=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,u=this._activeTransform;u.x=c.x-p.x+this._passiveTransform.x,u.y=c.y-p.y+this._passiveTransform.y,this._applyRootElementTransform(u.x,u.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const d=this._getTargetHandle(a);d&&!this._disabledHandles.has(d)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(i).withParent(e.parentDragRef||null),this._parentPositions=new Lh(t),o.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(i){this._handles=i.map(t=>q(t)),this._handles.forEach(t=>Jr(t,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&e.add(t)}),this._disabledHandles=e,this}withPreviewTemplate(i){return this._previewTemplate=i,this}withPlaceholderTemplate(i){return this._placeholderTemplate=i,this}withRootElement(i){const e=q(i);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Uo),e.addEventListener("touchstart",this._pointerDown,Eh),e.addEventListener("dragstart",this._nativeDragStart,Uo)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(i){return this._boundaryElement=i?q(i):null,this._resizeSubscription.unsubscribe(),i&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(i){return this._parentDragRef=i,this}dispose(){var i,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(i=this._anchor)||void 0===i||i.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(i){!this._disabledHandles.has(i)&&this._handles.indexOf(i)>-1&&(this._disabledHandles.add(i),Jr(i,!0))}enableHandle(i){this._disabledHandles.has(i)&&(this._disabledHandles.delete(i),Jr(i,this.disabled))}withDirection(i){return this._direction=i,this}_withDropContainer(i){this._dropContainer=i}getFreeDragPosition(){const i=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:i.x,y:i.y}}setFreeDragPosition(i){return this._activeTransform={x:0,y:0},this._passiveTransform.x=i.x,this._passiveTransform.y=i.y,this._dropContainer||this._applyRootElementTransform(i.x,i.y),this}withPreviewContainer(i){return this._previewContainer=i,this}_sortFromLastPointerPosition(){const i=this._lastKnownPointerPosition;i&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(i),i)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var i,e;null===(i=this._preview)||void 0===i||i.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var i,e;null===(i=this._placeholder)||void 0===i||i.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(i){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:i}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(i),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(i);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:i})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(i){oo(i)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,s=t.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,t),this._initialTransform=t.style.transform||"",this._preview=this._createPreviewElement(),za(t,!1,qa),this._document.body.appendChild(s.replaceChild(r,t)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this,event:i}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:i}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(i,e){this._parentDragRef&&e.stopPropagation();const t=this.isDragging(),s=oo(e),r=!s&&0!==e.button,o=this._rootElement,a=Se(e),d=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=s?function fp(h){const i=h.touches&&h.touches[0]||h.changedTouches&&h.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}(e):function up(h){return 0===h.buttons||0===h.detail}(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),t||r||d||c)return;if(this._handles.length){const f=o.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=Zo(this._boundaryElement));const p=this._previewTemplate;this._pickupPositionInElement=p&&p.template&&!p.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,i,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(i){za(this._rootElement,!0,qa),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,t=e.getItemIndex(this),s=this._getPointerPositionOnPage(i),r=this._getDragDistance(s),o=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s,event:i}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s,event:i}),e.drop(this,t,this._initialIndex,this._initialContainer,o,r,s,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:i,y:e},{x:t,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,i,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,i,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,s),this._dropContainer._sortItem(this,i,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(i,e):this._applyPreviewTransform(i-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const i=this._previewTemplate,e=this.previewClass,t=i?i.template:null;let s;if(t&&i){const r=i.matchSize?this._initialClientRect:null,o=i.viewContainer.createEmbeddedView(t,i.context);o.detectChanges(),s=jh(o,this._document),this._previewRef=o,i.matchSize?Rh(s,r):s.style.transform=Xo(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else s=Oh(this._rootElement),Rh(s,this._initialClientRect),this._initialTransform&&(s.style.transform=this._initialTransform);return Ba(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},qa),Jr(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const i=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(i.left,i.top);const e=function gn(h){const i=getComputedStyle(h),e=yn(i,"transition-property"),t=e.find(a=>"transform"===a||"all"===a);if(!t)return 0;const s=e.indexOf(t),r=yn(i,"transition-duration"),o=yn(i,"transition-delay");return no(r[s])+no(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const s=o=>{var a;(!o||Se(o)===this._preview&&"transform"===o.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",s),t(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const i=this._placeholderTemplate,e=i?i.template:null;let t;return e?(this._placeholderRef=i.viewContainer.createEmbeddedView(e,i.context),this._placeholderRef.detectChanges(),t=jh(this._placeholderRef,this._document)):t=Oh(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(i,e,t){const s=e===this._rootElement?null:e,r=s?s.getBoundingClientRect():i,o=oo(t)?t.targetTouches[0]:t,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(i){const e=this._getViewportScrollPosition(),t=oo(i)?i.touches[0]||i.changedTouches[0]||{pageX:0,pageY:0}:i,s=t.pageX-e.left,r=t.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(i){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:t,y:s}=this.constrainPosition?this.constrainPosition(i,this,this._initialClientRect,this._pickupPositionInElement):i;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):("y"===this.lockAxis||"y"===e)&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){const{x:r,y:o}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:d,height:c}=this._getPreviewRect(),p=a.top+o,u=a.bottom-(c-o);t=Dh(t,a.left+r,a.right-(d-r)),s=Dh(s,p,u)}return{x:t,y:s}}_updatePointerDirectionDelta(i){const{x:e,y:t}=i,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(t-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=t>r.y?1:-1,r.y=t),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const i=this._handles.length>0||!this.isDragging();i!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=i,Jr(this._rootElement,i))}_removeRootElementListeners(i){i.removeEventListener("mousedown",this._pointerDown,Uo),i.removeEventListener("touchstart",this._pointerDown,Eh),i.removeEventListener("dragstart",this._nativeDragStart,Uo)}_applyRootElementTransform(i,e){const t=Xo(i,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=ro(t,this._initialTransform)}_applyPreviewTransform(i,e){var t;const s=null!==(t=this._previewTemplate)&&void 0!==t&&t.template?void 0:this._initialTransform,r=Xo(i,e);this._preview.style.transform=ro(r,s)}_getDragDistance(i){const e=this._pickupPositionOnPage;return e?{x:i.x-e.x,y:i.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:i,y:e}=this._passiveTransform;if(0===i&&0===e||this.isDragging()||!this._boundaryElement)return;const t=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(0===s.width&&0===s.height||0===t.width&&0===t.height)return;const r=s.left-t.left,o=t.right-s.right,a=s.top-t.top,d=t.bottom-s.bottom;s.width>t.width?(r>0&&(i+=r),o>0&&(i-=o)):i=0,s.height>t.height?(a>0&&(e+=a),d>0&&(e-=d)):e=0,(i!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:i})}_getDragStartDelay(i){const e=this.dragStartDelay;return"number"==typeof e?e:oo(i)?e.touch:e?e.mouse:0}_updateOnScroll(i){const e=this._parentPositions.handleScroll(i);if(e){const t=Se(i);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&bn(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var i;return(null===(i=this._parentPositions.positions.get(this._document))||void 0===i?void 0:i.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=ke(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(i,e){const t=this._previewContainer||"global";if("parent"===t)return i;if("global"===t){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return q(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(i){return this._handles.find(e=>i.target&&(i.target===e||e.contains(i.target)))}}function Xo(h,i){return`translate3d(${Math.round(h)}px, ${Math.round(i)}px, 0)`}function Dh(h,i,e){return Math.max(i,Math.min(e,h))}function oo(h){return"t"===h.type[0]}function jh(h,i){const e=h.rootNodes;if(1===e.length&&e[0].nodeType===i.ELEMENT_NODE)return e[0];const t=i.createElement("div");return e.forEach(s=>t.appendChild(s)),t}function Rh(h,i){h.style.width=`${i.width}px`,h.style.height=`${i.height}px`,h.style.transform=Xo(i.left,i.top)}function Yh(h,i,e){const t=ao(i,h.length-1),s=ao(e,h.length-1);if(t===s)return;const r=h[t],o=s<t?-1:1;for(let a=t;a!==s;a+=o)h[a]=h[a+o];h[s]=r}function ao(h,i){return Math.max(0,Math.min(i,h))}class Mp{constructor(i,e){this._element=i,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(i){this.withItems(i)}sort(i,e,t,s){const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(i,e,t,s);if(-1===o&&r.length>0)return null;const a="horizontal"===this.orientation,d=r.findIndex(C=>C.drag===i),c=r[o],u=c.clientRect,f=d>o?1:-1,v=this._getItemOffsetPx(r[d].clientRect,u,f),g=this._getSiblingOffsetPx(d,r,f),b=r.slice();return Yh(r,d,o),r.forEach((C,T)=>{if(b[T]===C)return;const O=C.drag===i,j=O?v:g,Y=O?i.getPlaceholderElement():C.drag.getRootElement();C.offset+=j,a?(Y.style.transform=ro(`translate3d(${Math.round(C.offset)}px, 0, 0)`,C.initialTransform),bn(C.clientRect,0,j)):(Y.style.transform=ro(`translate3d(0, ${Math.round(C.offset)}px, 0)`,C.initialTransform),bn(C.clientRect,j,0))}),this._previousSwap.overlaps=kr(u,e,t),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?s.x:s.y,{previousIndex:d,currentIndex:o}}enter(i,e,t,s){const r=null==s||s<0?this._getItemIndexFromPointerPosition(i,e,t):s,o=this._activeDraggables,a=o.indexOf(i),d=i.getPlaceholderElement();let c=o[r];if(c===i&&(c=o[r+1]),!c&&(null==r||-1===r||r<o.length-1)&&this._shouldEnterAsFirstChild(e,t)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const p=c.getRootElement();p.parentElement.insertBefore(d,p),o.splice(r,0,i)}else q(this._element).appendChild(d),o.push(i);d.style.transform="",this._cacheItemPositions()}withItems(i){this._activeDraggables=i.slice(),this._cacheItemPositions()}withSortPredicate(i){this._sortPredicate=i}reset(){this._activeDraggables.forEach(i=>{const e=i.getRootElement();if(e){var t;const s=null===(t=this._itemPositions.find(r=>r.drag===i))||void 0===t?void 0:t.initialTransform;e.style.transform=s||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(i){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===i)}updateOnScroll(i,e){this._itemPositions.forEach(({clientRect:t})=>{bn(t,i,e)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}_cacheItemPositions(){const i="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,initialTransform:t.style.transform||"",clientRect:Zo(t)}}).sort((e,t)=>i?e.clientRect.left-t.clientRect.left:e.clientRect.top-t.clientRect.top)}_getItemOffsetPx(i,e,t){const s="horizontal"===this.orientation;let r=s?e.left-i.left:e.top-i.top;return-1===t&&(r+=s?e.width-i.width:e.height-i.height),r}_getSiblingOffsetPx(i,e,t){const s="horizontal"===this.orientation,r=e[i].clientRect,o=e[i+-1*t];let a=r[s?"width":"height"]*t;if(o){const d=s?"left":"top",c=s?"right":"bottom";-1===t?a-=o.clientRect[d]-r[c]:a+=r[d]-o.clientRect[c]}return a}_shouldEnterAsFirstChild(i,e){if(!this._activeDraggables.length)return!1;const t=this._itemPositions,s="horizontal"===this.orientation;if(t[0].drag!==this._activeDraggables[0]){const o=t[t.length-1].clientRect;return s?i>=o.right:e>=o.bottom}{const o=t[0].clientRect;return s?i<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(i,e,t,s){const r="horizontal"===this.orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:d})=>a!==i&&((!s||a!==this._previousSwap.drag||!this._previousSwap.overlaps||(r?s.x:s.y)!==this._previousSwap.delta)&&(r?e>=Math.floor(d.left)&&e<Math.floor(d.right):t>=Math.floor(d.top)&&t<Math.floor(d.bottom))));return-1!==o&&this._sortPredicate(o,i)?o:-1}}class Ap{constructor(i,e,t,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new fe.x,this.entered=new fe.x,this.exited=new fe.x,this.dropped=new fe.x,this.sorted=new fe.x,this.receivingStarted=new fe.x,this.receivingStopped=new fe.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=so.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new fe.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Cp(h=0,i=Zi.z){return h<0&&(h=0),(0,Ys.H)(h,h,i)}(0,Pe.Z).pipe((0,qo.R)(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-a):2===this._verticalScrollDirection&&o.scrollBy(0,a),1===this._horizontalScrollDirection?o.scrollBy(-a,0):2===this._horizontalScrollDirection&&o.scrollBy(a,0)})},this.element=q(i),this._document=t,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Lh(t),this._sortStrategy=new Mp(this.element,e),this._sortStrategy.withSortPredicate((o,a)=>this.sortPredicate(o,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(i,e,t,s){this._draggingStarted(),null==s&&this.sortingDisabled&&(s=this._draggables.indexOf(i)),this._sortStrategy.enter(i,e,t,s),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:i,container:this,currentIndex:this.getItemIndex(i)})}exit(i){this._reset(),this.exited.next({item:i,container:this})}drop(i,e,t,s,r,o,a,d={}){this._reset(),this.dropped.next({item:i,currentIndex:e,previousIndex:t,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a,event:d})}withItems(i){const e=this._draggables;return this._draggables=i,i.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===i.indexOf(s))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(i){return this._sortStrategy.direction=i,this}connectedTo(i){return this._siblings=i.slice(),this}withOrientation(i){return this._sortStrategy.orientation=i,this}withScrollableParents(i){const e=q(this.element);return this._scrollableElements=-1===i.indexOf(e)?[e,...i]:i.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(i){return this._isDragging?this._sortStrategy.getItemIndex(i):this._draggables.indexOf(i)}isReceiving(){return this._activeSiblings.size>0}_sortItem(i,e,t,s){if(this.sortingDisabled||!this._clientRect||!Va(this._clientRect,.05,e,t))return;const r=this._sortStrategy.sort(i,e,t,s);r&&this.sorted.next({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:i})}_startScrollingIfNecessary(i,e){if(this.autoScrollDisabled)return;let t,s=0,r=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||t||Va(o.clientRect,.05,i,e)&&([s,r]=function Wa(h,i,e,t){const s=Hh(i,t),r=Nh(i,e);let o=0,a=0;if(s){const d=h.scrollTop;1===s?d>0&&(o=1):h.scrollHeight-d>h.clientHeight&&(o=2)}if(r){const d=h.scrollLeft;1===r?d>0&&(a=1):h.scrollWidth-d>h.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,i,e),(s||r)&&(t=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),d={width:o,height:a,top:0,right:o,bottom:a,left:0};s=Hh(d,e),r=Nh(d,i),t=window}t&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=t,(s||r)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const i=q(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=i.msScrollSnapType||i.scrollSnapType||"",i.scrollSnapType=i.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const i=q(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(i).clientRect}_reset(){this._isDragging=!1;const i=q(this.element).style;i.scrollSnapType=i.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(i,e){return null!=this._clientRect&&kr(this._clientRect,i,e)}_getSiblingContainerFromPosition(i,e,t){return this._siblings.find(s=>s._canReceive(i,e,t))}_canReceive(i,e,t){if(!this._clientRect||!kr(this._clientRect,e,t)||!this.enterPredicate(i,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,t);if(!s)return!1;const r=q(this.element);return s===r||r.contains(s)}_startReceiving(i,e){const t=this._activeSiblings;!t.has(i)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(t.add(i),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:i,receiver:this,items:e}))}_stopReceiving(i){this._activeSiblings.delete(i),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:i,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(i=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(i);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const i=ke(q(this.element));this._cachedShadowRoot=i||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const i=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,i))}}function Hh(h,i){const{top:e,bottom:t,height:s}=h,r=.05*s;return i>=e-r&&i<=e+r?1:i>=t-r&&i<=t+r?2:0}function Nh(h,i){const{left:e,right:t,width:s}=h,r=.05*s;return i>=e-r&&i<=e+r?1:i>=t-r&&i<=t+r?2:0}const Gr=we({passive:!1,capture:!0});let Ip=(()=>{var h;class i{constructor(t,s){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new fe.x,this.pointerUp=new fe.x,this.scroll=new fe.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=s}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Gr)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Gr)}startDragging(t,s){if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){const r=s.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Gr}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:Gr}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,a)=>{this._document.addEventListener(a,o.handler,o.options)})})}}stopDragging(t){const s=this._activeDragInstances.indexOf(t);s>-1&&(this._activeDragInstances.splice(s,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(t){return this._activeDragInstances.indexOf(t)>-1}scrolled(t){const s=[this.scroll];return t&&t!==this._document&&s.push(new nt.y(r=>this._ngZone.runOutsideAngular(()=>{const a=d=>{this._activeDragInstances.length&&r.next(d)};return t.addEventListener("scroll",a,!0),()=>{t.removeEventListener("scroll",a,!0)}}))),(0,Ha.T)(...s)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,s)=>{this._document.removeEventListener(s,t.handler,t.options)}),this._globalListeners.clear()}}return(h=i).\u0275fac=function(t){return new(t||h)(l.LFG(l.R0b),l.LFG(x.K0))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),i})();const Ep={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Za=(()=>{var h;class i{constructor(t,s,r,o){this._document=t,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(t,s=Ep){return new Op(t,s,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Ap(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return(h=i).\u0275fac=function(t){return new(t||h)(l.LFG(x.K0),l.LFG(l.R0b),l.LFG(Ui),l.LFG(Ip))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),i})();const Ua=new l.OlP("CDK_DRAG_PARENT"),Xa=new l.OlP("CdkDragHandle");let Ja=(()=>{var h;class i{get disabled(){return this._disabled}set disabled(t){this._disabled=w(t),this._stateChanges.next(this)}constructor(t,s){this.element=t,this._stateChanges=new fe.x,this._disabled=!1,this._parentDrag=s}ngOnDestroy(){this._stateChanges.complete()}}return(h=i).\u0275fac=function(t){return new(t||h)(l.Y36(l.SBq),l.Y36(Ua,12))},h.\u0275dir=l.lG2({type:h,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[l._Bn([{provide:Xa,useExisting:h}])]}),i})();const Bh=new l.OlP("CdkDragPlaceholder"),Ga=new l.OlP("CdkDragPreview"),zh=new l.OlP("CDK_DRAG_CONFIG"),sr=new l.OlP("CdkDropList");let Qa=(()=>{var h;class i{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=w(t),this._dragRef.disabled=this._disabled}constructor(t,s,r,o,a,d,c,p,u,f,v){this.element=t,this.dropContainer=s,this._ngZone=o,this._viewContainerRef=a,this._dir=c,this._changeDetectorRef=u,this._selfHandle=f,this._parentDrag=v,this._destroyed=new fe.x,this.started=new l.vpe,this.released=new l.vpe,this.ended=new l.vpe,this.entered=new l.vpe,this.exited=new l.vpe,this.dropped=new l.vpe,this.moved=new nt.y(g=>{const b=this._dragRef.moved.pipe((0,_p.U)(C=>({source:this,pointerPosition:C.pointerPosition,event:C.event,delta:C.delta,distance:C.distance}))).subscribe(g);return()=>{b.unsubscribe()}}),this._dragRef=p.createDrag(t,{dragStartThreshold:d&&null!=d.dragStartThreshold?d.dragStartThreshold:5,pointerDirectionChangeThreshold:d&&null!=d.pointerDirectionChangeThreshold?d.pointerDirectionChangeThreshold:5,zIndex:null==d?void 0:d.zIndex}),this._dragRef.data=this,i._dragInstances.push(this),d&&this._assignDefaults(d),s&&(this._dragRef._withDropContainer(s._dropListRef),s.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Th.q)(1),(0,qo.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(t){const s=t.rootElementSelector,r=t.freeDragPosition;s&&!s.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const t=i._dragInstances.indexOf(this);t>-1&&i._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const t=this.element.nativeElement;let s=t;var r;this.rootElementSelector&&(s=void 0!==t.closest?t.closest(this.rootElementSelector):null===(r=t.parentElement)||void 0===r?void 0:r.closest(this.rootElementSelector)),this._dragRef.withRootElement(s||t)}_getBoundaryElement(){const t=this.boundaryElement;return t?"string"==typeof t?this.element.nativeElement.closest(t):q(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){const s=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:S(r),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),s&&t.withDirection(s.value)}}),t.beforeStarted.pipe((0,Th.q)(1)).subscribe(()=>{if(this._parentDrag)return void t.withParent(this._parentDrag._dragRef);let s=this.element.nativeElement.parentElement;for(;s;){if(s.classList.contains("cdk-drag")){var r;t.withParent((null===(r=i._dragInstances.find(o=>o.element.nativeElement===s))||void 0===r?void 0:r._dragRef)||null);break}s=s.parentElement}})}_handleEvents(t){t.started.subscribe(s=>{this.started.emit({source:this,event:s.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(s=>{this.released.emit({source:this,event:s.event})}),t.ended.subscribe(s=>{this.ended.emit({source:this,distance:s.distance,dropPoint:s.dropPoint,event:s.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(s=>{this.entered.emit({container:s.container.data,item:this,currentIndex:s.currentIndex})}),t.exited.subscribe(s=>{this.exited.emit({container:s.container.data,item:this})}),t.dropped.subscribe(s=>{this.dropped.emit({previousIndex:s.previousIndex,currentIndex:s.currentIndex,previousContainer:s.previousContainer.data,container:s.container.data,isPointerOverContainer:s.isPointerOverContainer,item:this,distance:s.distance,dropPoint:s.dropPoint,event:s.event})})}_assignDefaults(t){const{lockAxis:s,dragStartDelay:r,constrainPosition:o,previewClass:a,boundaryElement:d,draggingDisabled:c,rootElementSelector:p,previewContainer:u}=t;this.disabled=null!=c&&c,this.dragStartDelay=r||0,s&&(this.lockAxis=s),o&&(this.constrainPosition=o),a&&(this.previewClass=a),d&&(this.boundaryElement=d),p&&(this.rootElementSelector=p),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.changes.pipe((0,Na.O)(this._handles),(0,wp.b)(t=>{const s=t.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&s.push(this.element),this._dragRef.withHandles(s)}),(0,Wo.w)(t=>(0,Ha.T)(...t.map(s=>s._stateChanges.pipe((0,Na.O)(s))))),(0,qo.R)(this._destroyed)).subscribe(t=>{const s=this._dragRef,r=t.element.nativeElement;t.disabled?s.disableHandle(r):s.enableHandle(r)})}}return(h=i)._dragInstances=[],h.\u0275fac=function(t){return new(t||h)(l.Y36(l.SBq),l.Y36(sr,12),l.Y36(x.K0),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(zh,8),l.Y36(kh,8),l.Y36(Za),l.Y36(l.sBO),l.Y36(Xa,10),l.Y36(Ua,12))},h.\u0275dir=l.lG2({type:h,selectors:[["","cdkDrag",""]],contentQueries:function(t,s,r){if(1&t&&(l.Suo(r,Ga,5),l.Suo(r,Bh,5),l.Suo(r,Xa,5)),2&t){let o;l.iGM(o=l.CRH())&&(s._previewTemplate=o.first),l.iGM(o=l.CRH())&&(s._placeholderTemplate=o.first),l.iGM(o=l.CRH())&&(s._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,s){2&t&&l.ekj("cdk-drag-disabled",s.disabled)("cdk-drag-dragging",s._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[l._Bn([{provide:Ua,useExisting:h}]),l.TTD]}),i})();const $a=new l.OlP("CdkDropListGroup");let Fp=0,Ce=(()=>{var h;class i{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=w(t)}constructor(t,s,r,o,a,d,c){this.element=t,this._changeDetectorRef=r,this._scrollDispatcher=o,this._dir=a,this._group=d,this._destroyed=new fe.x,this.connectedTo=[],this.id="cdk-drop-list-"+Fp++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new l.vpe,this.entered=new l.vpe,this.exited=new l.vpe,this.sorted=new l.vpe,this._unsortedItems=new Set,this._dropListRef=s.createDropList(t),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(p,u)=>this.enterPredicate(p.data,u.data),this._dropListRef.sortPredicate=(p,u,f)=>this.sortPredicate(p,u.data,f.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),i._dropLists.push(this),d&&d._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,s)=>t._dragRef.getVisibleElement().compareDocumentPosition(s._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=i._dropLists.indexOf(this);t>-1&&i._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe((0,Na.O)(this._dir.value),(0,qo.R)(this._destroyed)).subscribe(s=>t.withDirection(s)),t.beforeStarted.subscribe(()=>{const s=function E(h){return Array.isArray(h)?h:[h]}(this.connectedTo).map(r=>"string"==typeof r?i._dropLists.find(a=>a.id===r):r);if(this._group&&this._group._items.forEach(r=>{-1===s.indexOf(r)&&s.push(r)}),!this._scrollableParentsResolved){const r=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(r),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=w(this.sortingDisabled),t.autoScrollDisabled=w(this.autoScrollDisabled),t.autoScrollStep=S(this.autoScrollStep,2),t.connectedTo(s.filter(r=>r&&r!==this).map(r=>r._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(s=>{this.entered.emit({container:this,item:s.item.data,currentIndex:s.currentIndex})}),t.exited.subscribe(s=>{this.exited.emit({container:this,item:s.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(s=>{this.sorted.emit({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:s.item.data})}),t.dropped.subscribe(s=>{this.dropped.emit({previousIndex:s.previousIndex,currentIndex:s.currentIndex,previousContainer:s.previousContainer.data,container:s.container.data,item:s.item.data,isPointerOverContainer:s.isPointerOverContainer,distance:s.distance,dropPoint:s.dropPoint,event:s.event}),this._changeDetectorRef.markForCheck()}),(0,Ha.T)(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){const{lockAxis:s,draggingDisabled:r,sortingDisabled:o,listAutoScrollDisabled:a,listOrientation:d}=t;this.disabled=null!=r&&r,this.sortingDisabled=null!=o&&o,this.autoScrollDisabled=null!=a&&a,this.orientation=d||"vertical",s&&(this.lockAxis=s)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}}return(h=i)._dropLists=[],h.\u0275fac=function(t){return new(t||h)(l.Y36(l.SBq),l.Y36(Za),l.Y36(l.sBO),l.Y36(Lt),l.Y36(kh,8),l.Y36($a,12),l.Y36(zh,8))},h.\u0275dir=l.lG2({type:h,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,s){2&t&&(l.uIk("id",s.id),l.ekj("cdk-drop-list-disabled",s.disabled)("cdk-drop-list-dragging",s._dropListRef.isDragging())("cdk-drop-list-receiving",s._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[l._Bn([{provide:$a,useValue:void 0},{provide:sr,useExisting:h}])]}),i})(),Hp=(()=>{var h;class i{}return(h=i).\u0275fac=function(t){return new(t||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({providers:[Za],imports:[wr]}),i})();var Be=I(56223),It=I(41219),Go=I(12263),Vh=I(40031),Ka=I(40184),qh=I(97582),n=I(74725);function Bp(h){return function(i){!function Np(h,i){i.forEach(function(e){Object.getOwnPropertyNames(e.prototype).forEach(function(t){(!h.prototype.hasOwnProperty(t)||e.isFormBase&&"constructor"!==t)&&(h.prototype[t]=e.prototype[t])})})}(i,h)}}function Wh(h,i,e){var t={};if(h&&h.length){for(var s=0,r=h;s<r.length;s++){var o=r[s];!0===e?(i.propCollection[o]=new l.vpe(!1),i[o]=i.propCollection[o]):t[o]=new l.vpe(!1)}!0!==e&&i.setProperties(t,!0)}}function Hs(h,i,e){var t=Object.keys(h.registeredTemplate);if(t.length)for(var s=i&&i.filter(function(Y){return!/\./g.test(Y)}),r=/tab|accordion|toolbar/.test(h.getModuleName()),o=0,a=s&&s||t;o<a.length;o++){var d=a[o];if(e&&e.length)for(var c=0;c<e.length;c++)if(r)for(var p=0;p<h.registeredTemplate[d].length;p++)(u=h.registeredTemplate[d][p])&&u===e[c]&&(u.destroy(),h.registeredTemplate[d].splice(p,1));else for(p=0;p<h.registeredTemplate.template.length;p++){var u;(u=h.registeredTemplate.template[p].rootNodes[0])===e[c]&&(f=h.registeredTemplate[d])[p].destroy()}else if(h.registeredTemplate[d])for(var v=0,g=h.registeredTemplate[d];v<g.length;v++){var f;if(!(f=g[v]).destroyed){if(f._view){var b=f._view.renderer.parentNode(f.rootNodes[0]);if(!(0,n.le)(b))for(p=0;p<f.rootNodes.length;p++)b.appendChild(f.rootNodes[p])}f.destroy()}}(!r||!e)&&delete h.registeredTemplate[d]}for(var C=function(Y){Y.instance&&Y.instance.clearTemplate(i&&i.filter(function(H){return!!new RegExp(Y.name).test(H)}))},T=0,O=h.tagObjects;T<O.length;T++)C(O[T])}var Zh=/Ref$/,Uh=(function(){function h(){this.hasChanges=!1,this.propCollection={},this.dataSource={},this.tags=[],this.tagObjects=[]}h.prototype.ngOnInit=function(){this.registeredTemplate={};for(var i=0,e=this.tags;i<e.length;i++){var t=e[i],s=(0,n.NA)("child"+t.substring(0,1).toUpperCase()+t.substring(1),this);s&&this.tagObjects.push({instance:s,name:t})}for(var r=Object.keys(this),o=0;o<r.length;o++){var a=(0,n.NA)(r[o],this);"object"==typeof a&&a&&a.elementRef&&((0,n.NA)(-1!==r[o].indexOf("Ref")?r[o]:r[o]+"Ref",this)||(0,n.sO)(-1!==r[o].indexOf("Ref")?r[o]:r[o]+"Ref",a,this),(0,n.NA)("viewContainerRef",this)&&!(0,n.NA)("_viewContainerRef",a.elementRef.nativeElement)&&!(0,n.NA)("propName",a.elementRef.nativeElement)&&((0,n.sO)("_viewContainerRef",(0,n.NA)("viewContainerRef",this),a.elementRef.nativeElement),(0,n.sO)("propName",r[o].replace("Ref",""),a.elementRef.nativeElement)))}for(var d=0,c=r=(r=Object.keys(this)).filter(function(b){return/Ref$/i.test(b)});d<c.length;d++){var u=c[d].replace("Ref","");(0,n.sO)(u.replace("_","."),(0,n.NA)(u,this),this.propCollection)}var f=Object.keys(this);if(this.directivePropList){for(var v=0;v<this.directivePropList.length;v++){var g=this.directivePropList[v];-1!==f.indexOf(g)&&(!1===(0,n.NA)(g,this)||(0,n.NA)(g,this))&&(0,n.sO)(g,(0,n.NA)(g,this),this.propCollection)}this.hasChanges=!0}this.isInitChanges=!0},h.prototype.registerEvents=function(i){Wh(i,this,!0)},h.prototype.ngOnChanges=function(i){for(var e=0,t=Object.keys(i);e<t.length;e++){var s=t[e];this.propCollection[s]=i[s].currentValue}this.isUpdated=!1,this.hasChanges=!0},h.prototype.clearTemplate=function(i){Hs(this,i)},h.prototype.getProperties=function(){for(var i=0,e=this.tagObjects;i<e.length;i++){var t=e[i];this.propCollection[t.name]=t.instance.getProperties()}return this.propCollection},h.prototype.isChanged=function(){var i=this.hasChanges;if(!(0,n.le)(this.propCollection[this.property]))for(var t=Object.keys(this.propCollection[this.property][0]),s=0;s<t.length;s++)if(!(0,n.le)(this.propCollection[t[s]])){var r=(0,n.NA)(t[s],this),o=this.propCollection[this.property][0][t[s]];!(0,n.le)(r)&&this.propCollection[t[s]]!==r&&o!==r&&((0,n.sO)(t[s],r,this.propCollection[this.property][0]),(0,n.sO)(t[s],r,this.propCollection),this.hasChanges=!0,this.isUpdated=!1)}for(var a=0,d=this.tagObjects;a<d.length;a++)i=i||d[a].instance.hasChanges;return i||this.hasChanges},h.prototype.ngAfterContentChecked=function(){if(this.hasChanges=this.isChanged(),this.isInitChanges||this.hasChanges)for(var i=Object.keys(this),e=0,t=i=i.filter(function(o){return Zh.test(o)});e<t.length;e++){var r=t[e].replace("Ref","");(0,n.sO)(r.replace("_","."),(0,n.NA)(r,this),this.propCollection)}},h.prototype.ngAfterViewChecked=function(){this.isUpdated&&(this.hasChanges=!1)},h.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},h.prototype.ngOnDestroy=function(){this.directivePropList=[]}}(),function(){function h(i){this.list=[],this.hasChanges=!1,this.propertyName=i}h.prototype.ngOnInit=function(){this.isInitChanges=!0},h.prototype.ngAfterContentInit=function(){var i=this,e=0;this.list=this.children.map(function(t){return t.dirIndex=e++,t.property=i.propertyName,t}),this.hasChanges=!0},h.prototype.getProperties=function(){for(var i=[],e=0,t=this.list;e<t.length;e++)i.push(t[e].getProperties());return i},h.prototype.isChanged=function(){var i=this,e=!1,t=0,s=!1,r=this.children.map(function(p){return p});if(this.list.length===this.children.length)for(var o=0;o<this.list.length;o++)this.list[o].propCollection.dataSource&&(this.list[o].dataSource&&this.list[o].propCollection.dataSource!==this.list[o].dataSource&&(this.list[o].propCollection.dataSource=this.list[o].dataSource,this.list[o].hasChanges=!0),"series"!==this.list[o].property&&(s=JSON.stringify(this.list[o].propCollection.dataSource)!==JSON.stringify(r[o].propCollection.dataSource))),s=this.list[o].hasChanges!==r[o].hasChanges;this.hasNewChildren=!(this.list.length===this.children.length&&!s)||null,this.hasNewChildren&&(this.list=this.children.map(function(p){return p.dirIndex=t++,p.property=i.propertyName,p}));for(var a=0,d=this.list;a<d.length;a++)e=e||d[a].hasChanges;return!!this.list.length&&e},h.prototype.clearTemplate=function(i){for(var e=this,t=0,s=this.list;t<s.length;t++)s[t].clearTemplate(i&&i.map(function(o){return new RegExp(e.propertyName).test(o)?o.replace(e.propertyName+".",""):o}))},h.prototype.ngAfterContentChecked=function(){this.hasChanges=this.isChanged();for(var i=0;i<this.list.length;i++)(0,n.NA)("childColumns",this.list[i])&&"columns"===(0,n.NA)("property",this.list[i])&&(0,n.sO)("columns",(0,n.NA)("childColumns",this.list[i]).getProperties(),this.list[i].propCollection),this.list[i].isUpdated=!0},h.prototype.ngAfterViewInit=function(){this.isInitChanges=!1},h.prototype.ngOnDestroy=function(){this.list=[]}}(),function(){function h(){this.isProtectedOnChange=!0,this.isFormInit=!0}return h.prototype.saveChanges=function(i,e,t){if(!this.isProtectedOnChange){this.oldProperties[i]=t,this.changedProperties[i]=e,this.finalUpdate();var s=setTimeout(this.dataBind.bind(this));this.finalUpdate=function(){clearTimeout(s)}}},h.prototype.ngOnInit=function(i){var e=i||this;e.registeredTemplate={},e.ngBoundedEvents={},e.isAngular=!0,e.isFormInit=!0,i&&(this.tags=i.tags),e.tags=this.tags||[],e.complexTemplate=this.complexTemplate||[],e.tagObjects=[],e.ngAttr=this.getAngularAttr(e.element),e.createElement=function(b,C){var T=e.srenderer?e.srenderer.createElement(b):(0,n.az)(b);return typeof C>"u"||(T.innerHTML=C.innerHTML?C.innerHTML:"",void 0!==C.className&&(T.className=C.className),void 0!==C.id&&(T.id=C.id),void 0!==C.styles&&T.setAttribute("style",C.styles),void 0!==e.ngAttr&&T.setAttribute(e.ngAttr,""),void 0!==C.attrs&&(0,n.Y4)(T,C.attrs)),T};for(var t=0,s=e.tags;t<s.length;t++){var r=s[t],o={instance:(0,n.NA)("child"+r.substring(0,1).toUpperCase()+r.substring(1),e),name:r};e.tagObjects.push(o)}for(var a=Object.keys(e),d=0;d<a.length;d++){var c=(0,n.NA)(a[d],e);"object"==typeof c&&c&&c.elementRef&&("object"==typeof c&&c&&c.elementRef&&-1!==a[d].indexOf("_")&&-1===a[d].indexOf("Ref")&&(0,n.sO)(a[d]+"Ref",c,e),e.viewContainerRef&&!(0,n.NA)("_viewContainerRef",c.elementRef.nativeElement)&&!(0,n.NA)("propName",c.elementRef.nativeElement)&&((0,n.sO)("_viewContainerRef",e.viewContainerRef,c.elementRef.nativeElement),(0,n.sO)("propName",a[d].replace("Ref",""),c.elementRef.nativeElement)))}for(var p=0,u=a=(a=Object.keys(e)).filter(function(b){return/Ref$/i.test(b)&&/\_/i.test(b)});p<u.length;p++){var v=u[p].replace("Ref",""),g={};(0,n.sO)(v.replace("_","."),(0,n.NA)(v,e),g),e.setProperties(g,!0)}},h.prototype.getAngularAttr=function(i){for(var s,e=i.attributes,t=e.length,r=0;r<t;r++)/_ngcontent/g.test(e[r].name)&&(s=e[r].name);return s},h.prototype.ngAfterViewInit=function(i){var e=i||this;/ejs-tab|ejs-accordion/g.test(e.ngEle.nativeElement.outerHTML)&&(e.ngEle.nativeElement.style.visibility="hidden");var s=Object.keys(e);s=s.filter(function(u){return/Ref$/i.test(u)});for(var r="DocumentEditor"===e.getModuleName(),o=0,a=s;o<a.length;o++){var c=a[o].replace("Ref","");(0,n.sO)(c.replace("_","."),(0,n.NA)(c+"Ref",e),e)}var p=function(u){(typeof window<"u"&&u.element||u.getModuleName().includes("btn"))&&(u.appendTo(u.element),u.ngEle.nativeElement.style.visibility="")};r?p(e):setTimeout(function(){p(e)})},h.prototype.ngOnDestroy=function(i){var e=i||this;setTimeout(function(){typeof window<"u"&&e.element.classList.contains("e-control")&&(e.destroy(),e.clearTemplate(null),setTimeout(function(){for(var t=0,s=Object.keys(e);t<s.length;t++){var r=s[t],o=e[r];if(o&&/object/.test(typeof o)&&0!==Object.keys(o).length)if(/properties|changedProperties|childChangedProperties|oldProperties|moduleLoader/.test(r))for(var a=0,d=Object.keys(e[r]);a<d.length;a++){var c=d[a],p=o[c];p&&/object/.test(typeof p)&&0!==Object.keys(p).length&&(p.parent||p.parentObj)&&(e[r][c]=null)}else(o.parent||o.parentObj)&&(e[r]=null)}}))})},h.prototype.clearTemplate=function(i,e){Hs(this,i,e)},h.prototype.ngAfterContentChecked=function(i){for(var e=i||this,t=0,s=e.tagObjects;t<s.length;t++){var r=s[t];if(!(0,n.o8)(r.instance)&&(r.instance.isInitChanges||r.instance.hasChanges||r.instance.hasNewChildren)){var o={};if(r.instance.isInitChanges){var a=void 0;(d=(0,n.NA)("instance.list",r))&&d.length&&(a=d[0].directivePropList);var c=!0;if(e.getModuleName&&"gantt"===e.getModuleName()&&(c=!1),a&&c&&-1===a.indexOf(r.instance.propertyName))for(var p=Object.keys(r.instance.list[0].propCollection),u=0;u<r.instance.list.length;u++){r.instance.list[u].propCollection[r.instance.propertyName]=[];for(var f={},v=0;v<p.length;v++)f[g=p[v]]=r.instance.list[u].propCollection[g];for(var b=function(re){var ce=r.instance.list[u].tags[re],Ye=(0,n.NA)("child"+ce.substring(0,1).toUpperCase()+ce.substring(1),r.instance.list[u]);if(Ye){var K=r.instance.list[u]["child"+ce.substring(0,1).toUpperCase()+ce.substring(1)],te=function(J){var pe=[];if(J)for(var me=0;me<J.list.length;me++){var _e=J.list[0].tags[0];if(_e){var xe=(0,n.NA)("child"+_e.substring(0,1).toUpperCase()+_e.substring(1),J.list[me]);xe&&(J.list[me].tagObjects.push({instance:xe,name:_e}),pe.push(xe))}}if(0!==pe.length)for(var ve=0;ve<pe.length;ve++)te(pe[ve])};te(K),r.instance.list[u].tagObjects.push({instance:Ye,name:ce})}},C=0;C<r.instance.list[u].tags.length;C++)b(C);r.instance.list[u].propCollection[r.instance.propertyName].push(f)}o[r.name]=r.instance.getProperties(),e.setProperties(o,r.instance.isInitChanges)}else{(e[r.name].length!==r.instance.list.length||/diagram|DashboardLayout/.test(e.getModuleName()))&&(e[r.name]=r.instance.list);for(var T=0,O=r.instance.list;T<O.length;T++){var d,j=r.instance.list.indexOf(d=O[T]),Y=(0,n.NA)(r.name,e)[j],H=Object.keys(Y);if(H=H.filter(function(ce){return/Ref$/i.test(ce)}),Y.properties&&0!==Object.keys(Y.properties).length)for(var N=0,ne=H;N<ne.length;N++){var g;g=(g=ne[N]).replace(/Ref/,""),Y.properties[g]=Y.properties[g]?Y.properties[g]:Y.propCollection[g]}!(0,n.o8)(Y)&&!(0,n.o8)(Y.setProperties)&&(/diagram|DashboardLayout/.test(e.getModuleName())?Y.setProperties(d.getProperties(),!0):Y.setProperties(d.getProperties())),d.isUpdated=!0}/grid/.test(e.getModuleName())&&(o[r.name]=r.instance.getProperties(),e.setProperties(o,r.instance.isInitChanges))}}}},h.prototype.registerEvents=function(i){Wh(i,this)},h.prototype.twoWaySetter=function(i,e){var t=(0,n.NA)(e,this.properties);t!==i&&(this.saveChanges(e,i,t),(0,n.sO)(e,(0,n.le)(i)?null:i,this.properties),(0,n.NA)(e+"Change",this).emit(i))},h.prototype.addTwoWay=function(i){for(var e=this,t=function(d){(0,n.NA)(d,s),Object.defineProperty(s,d,{get:function(){return(0,n.NA)(d,e.properties)},set:function(c){return e.twoWaySetter(c,d)}}),(0,n.sO)(d+"Change",new l.vpe,s)},s=this,r=0,o=i;r<o.length;r++)t(o[r])},h.prototype.addEventListener=function(i,e){var t=(0,n.NA)(i,this);(0,n.o8)(t)||(this.ngBoundedEvents[i]||(this.ngBoundedEvents[i]=new Map),this.ngBoundedEvents[i].set(e,t.subscribe(e)))},h.prototype.removeEventListener=function(i,e){var t=(0,n.NA)(i,this);(0,n.o8)(t)||this.ngBoundedEvents[i].get(e).unsubscribe()},h.prototype.trigger=function(i,e,t){var s=(0,n.NA)(i,this),r=this.isProtectedOnChange;this.isProtectedOnChange=!1,e&&(e.name=i),(0,n.o8)(s)||s.next(e);var o=(0,n.NA)("local"+i.charAt(0).toUpperCase()+i.slice(1),this);(0,n.o8)(o)||o.call(this,e),this.isProtectedOnChange=r,t&&(this.preventChange=this.isPreventChange,t.call(this,e)),this.isPreventChange=!1},h}()),el=(function(){function h(){}h.prototype.propagateChange=function(i){},h.prototype.propagateTouch=function(){},h.prototype.localChange=function(i){var e=void 0===i.checked?i.value:i.checked;this.objCheck=(0,n.Kn)(e),!0===this.isUpdated&&(this.angularValue=this.oldValue),!0===this.objCheck?(this.duplicateValue=JSON.stringify(e),this.duplicateAngularValue=JSON.stringify(this.angularValue),this.duplicateValue!==this.duplicateAngularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e)):e!==this.angularValue&&void 0!==this.propagateChange&&void 0!==e&&(this.propagateChange(e),this.angularValue=e),this.cdr.markForCheck()},h.prototype.registerOnChange=function(i){this.propagateChange=i},h.prototype.registerOnTouched=function(i){this.propagateTouch=i},h.prototype.twoWaySetter=function(i,e){var t=this.oldValue||(0,n.NA)(e,this.properties),s=this.inputElement||this.element;s&&t===i&&this.value===i&&(void 0===s.value||""===s.value)||(this.saveChanges(e,i,t),(0,n.sO)(e,(0,n.le)(i)?null:i,this.properties),(0,n.NA)(e+"Change",this).emit(i))},h.prototype.ngAfterViewInit=function(i){var e=i||this;if(typeof window<"u"){e.getModuleName().includes("dropdowntree")?setTimeout(function(){e.appendTo(e.element)}):e.appendTo(e.element);var t=e.inputElement||e.element;t.addEventListener("focus",e.ngOnFocus.bind(e)),t.addEventListener("blur",e.ngOnBlur.bind(e))}this.isFormInit=!1},h.prototype.setDisabledState=function(i){this.enabled=!i,this.disabled=i},h.prototype.writeValue=function(i){void 0===this.checked?this.value=i:this.ngEle&&(this.checked="boolean"==typeof i?/ejs-radiobutton/g.test(this.ngEle.nativeElement.outerHTML)?i===this.value:i:i===this.value),this.angularValue=i,this.isUpdated=!0,this.preventChange=!this.isFormInit,this.cdr.markForCheck()},h.prototype.ngOnFocus=function(i){!0!==this.skipFromEvent&&this.focus.emit(i),this.cdr.markForCheck()},h.prototype.ngOnBlur=function(i){this.propagateTouch(),!0!==this.skipFromEvent&&this.blur.emit(i),this.cdr.markForCheck()},h.isFormBase=!0}(),(0,n.aR)());function rr(h){return function(i,e){var t={set:Xh(e),get:Zp(e,h),enumerable:!0,configurable:!0};Object.defineProperty(i,e,t)}}function Xh(h){return function(i){void 0!==i&&((0,n.sO)(h+"Ref",i,this),"string"!=typeof i?(i.elementRef.nativeElement._viewContainerRef=this.viewContainerRef,i.elementRef.nativeElement.propName=h):this.saveChanges&&(this.saveChanges(h,i,void 0),this.dataBind()))}}function Zp(h,i){return function(){return(0,n.NA)(h+"Ref",this)||i}}function Up(h){for(var i,e=h.childNodes,t=0;t<e.length;t++)if(3===(i=e[t]).nodeType)return i;return null}(0,n.Wr)({compile:function Wp(h,i){if("string"==typeof h||"function"==typeof h&&h.prototype&&h.prototype.CSPTemplate)return el(h,i);var e=h.elementRef.nativeElement._viewContainerRef,t=h.elementRef.nativeElement.propName;return function(s,r,o){var d=e||r.viewContainerRef,c=d.createEmbeddedView(h,{$implicit:s});/EJS-MENTION|EJS-DROPDOWNLIST/.test((0,n.NA)("currentInstance.element.nodeName",d))?c.detectChanges():c.markForCheck();var p=r&&r.registeredTemplate?r.registeredTemplate:(0,n.NA)("currentInstance.registeredTemplate",d);return typeof p[o=o&&r.registeredTemplate?o:t]>"u"&&(p[o]=[]),p[o].push(c),c.rootNodes}}});var Or,ho,wn,pl,h,co,js,Gp=(h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)},function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),Is=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},bs_RTL=(new n.Qj,"e-rtl"),Fi=function(h){function i(e,t){return h.call(this,e,t)||this}return Gp(i,h),i.prototype.preRender=function(){},i.prototype.render=function(){this.initialize(),this.removeRippleEffect=(0,n.qx)(this.element,{selector:".e-btn"}),this.renderComplete()},i.prototype.initialize=function(){if(this.cssClass&&(0,n.cn)([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPrimary&&this.element.classList.add("e-primary"),!(0,n.xr)()||(0,n.xr)()&&"progress-btn"!==this.getModuleName()){if(this.content){var e=this.enableHtmlSanitizer?n.pJ.sanitize(this.content):this.content;this.element.innerHTML=e}this.setIconCss()}this.enableRtl&&this.element.classList.add(bs_RTL),this.disabled?this.controlStatus(this.disabled):this.wireEvents()},i.prototype.controlStatus=function(e){this.element.disabled=e},i.prototype.setIconCss=function(){if(this.iconCss){var e=this.createElement("span",{className:"e-btn-icon "+this.iconCss});this.element.textContent.trim()?(e.classList.add("e-icon-"+this.iconPosition.toLowerCase()),("Top"===this.iconPosition||"Bottom"===this.iconPosition)&&this.element.classList.add("e-"+this.iconPosition.toLowerCase()+"-icon-btn")):this.element.classList.add("e-icon-btn");var t=this.element.childNodes[0];!t||"Left"!==this.iconPosition&&"Top"!==this.iconPosition?this.element.appendChild(e):this.element.insertBefore(e,t)}},i.prototype.wireEvents=function(){this.isToggle&&n.bi.add(this.element,"click",this.btnClickHandler,this)},i.prototype.unWireEvents=function(){this.isToggle&&n.bi.remove(this.element,"click",this.btnClickHandler)},i.prototype.btnClickHandler=function(){this.element.classList.contains("e-active")?this.element.classList.remove("e-active"):this.element.classList.add("e-active")},i.prototype.destroy=function(){var e=["e-primary",bs_RTL,"e-icon-btn","e-success","e-info","e-danger","e-warning","e-flat","e-outline","e-small","e-bigger","e-active","e-round","e-top-icon-btn","e-bottom-icon-btn"];this.cssClass&&(e=e.concat(this.cssClass.split(" "))),h.prototype.destroy.call(this),(0,n.IV)([this.element],e),this.element.getAttribute("class")||this.element.removeAttribute("class"),this.disabled&&this.element.removeAttribute("disabled"),this.content&&(this.element.innerHTML=this.element.innerHTML.replace(this.content,""));var t=this.element.querySelector("span.e-btn-icon");t&&(0,n.og)(t),this.unWireEvents(),n.re&&this.removeRippleEffect()},i.prototype.getModuleName=function(){return"btn"},i.prototype.getPersistData=function(){return this.addOnPersist([])},i.Inject=function(){},i.prototype.onPropertyChanged=function(e,t){for(var s=this.element.querySelector("span.e-btn-icon"),r=0,o=Object.keys(e);r<o.length;r++)switch(o[r]){case"isPrimary":e.isPrimary?this.element.classList.add("e-primary"):this.element.classList.remove("e-primary");break;case"disabled":this.controlStatus(e.disabled);break;case"iconCss":(s=this.element.querySelector("span.e-btn-icon"))?e.iconCss?(s.className="e-btn-icon "+e.iconCss,this.element.textContent.trim()&&s.classList.add("Left"===this.iconPosition?"e-icon-left":"e-icon-right")):(0,n.og)(s):this.setIconCss();break;case"iconPosition":(0,n.IV)([this.element],["e-top-icon-btn","e-bottom-icon-btn"]),(s=this.element.querySelector("span.e-btn-icon"))&&(0,n.og)(s),this.setIconCss();break;case"cssClass":t.cssClass&&(0,n.IV)([this.element],t.cssClass.split(" ")),e.cssClass&&(0,n.cn)([this.element],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?this.element.classList.add(bs_RTL):this.element.classList.remove(bs_RTL);break;case"content":Up(this.element)||this.element.classList.remove("e-icon-btn"),(!(0,n.xr)()||(0,n.xr)()&&!this.isServerRendered&&"progress-btn"!==this.getModuleName())&&(this.enableHtmlSanitizer&&(e.content=n.pJ.sanitize(e.content)),this.element.innerHTML=e.content,this.setIconCss());break;case"isToggle":e.isToggle?n.bi.add(this.element,"click",this.btnClickHandler,this):(n.bi.remove(this.element,"click",this.btnClickHandler),(0,n.IV)([this.element],["e-active"]))}},i.prototype.click=function(){this.element.click()},i.prototype.focusIn=function(){this.element.focus()},Is([(0,n.Z9)("Left")],i.prototype,"iconPosition",void 0),Is([(0,n.Z9)("")],i.prototype,"iconCss",void 0),Is([(0,n.Z9)(!1)],i.prototype,"disabled",void 0),Is([(0,n.Z9)(!1)],i.prototype,"isPrimary",void 0),Is([(0,n.Z9)("")],i.prototype,"cssClass",void 0),Is([(0,n.Z9)("")],i.prototype,"content",void 0),Is([(0,n.Z9)(!1)],i.prototype,"isToggle",void 0),Is([(0,n.Z9)()],i.prototype,"locale",void 0),Is([(0,n.Z9)(!1)],i.prototype,"enableHtmlSanitizer",void 0),Is([(0,n.ju)()],i.prototype,"created",void 0),Is([n.Zl],i)}(n.wA),Cu=!1;function Hi(h,i,e,t,s){return ho=void 0,ho=s,Cu=!!t,h?(i||(i="left"),e||(e="top"),pl=h.ownerDocument,wn=h,function ew(h,i,e){switch(Or=wn.getBoundingClientRect(),i+h){case"topcenter":Qr(xu(),e),$r(sd(),e);break;case"topright":Qr(Su(),e),$r(sd(),e);break;case"centercenter":Qr(xu(),e),$r(wu(),e);break;case"centerright":Qr(Su(),e),$r(wu(),e);break;case"centerleft":Qr(rd(),e),$r(wu(),e);break;case"bottomcenter":Qr(xu(),e),$r(_u(),e);break;case"bottomright":Qr(Su(),e),$r(_u(),e);break;case"bottomleft":Qr(rd(),e),$r(_u(),e);break;default:Qr(rd(),e),$r(sd(),e)}return wn=null,e}(i.toLowerCase(),e.toLowerCase(),{left:0,top:0})):{left:0,top:0}}function Qr(h,i){i.left=h}function $r(h,i){i.top=h}function ay(){return pl.documentElement.scrollTop||pl.body.scrollTop}function ly(){return pl.documentElement.scrollLeft||pl.body.scrollLeft}function _u(){return Cu?Or.bottom:Or.bottom+ay()}function wu(){return sd()+Or.height/2}function sd(){return Cu?Or.top:Or.top+ay()}function rd(){return Or.left+ly()}function Su(){var h=wn&&(wn.classList.contains("e-date-wrapper")||wn.classList.contains("e-datetime-wrapper")||wn.classList.contains("e-date-range-wrapper")||wn.classList.contains("e-multiselect"))?ho?ho.width:0:ho&&Or.width>=ho.width?ho.width:0;return Or.right+ly()-h}function xu(){return rd()+Or.width/2}function Pu(h,i,e,t){if(void 0===i&&(i=null),void 0===e&&(e={X:!1,Y:!1}),!e.Y&&!e.X)return{left:0,top:0};var s=h.getBoundingClientRect();if(js=i,co=h.ownerDocument,t||(t=Hi(h,"left","top")),e.X){var r=js?uy():yy(),o=Lu(),a=Ou(),d=o-t.left,c=t.left+s.width-a;s.width>r?t.left=d>0&&c<=0?a-s.width:c>0&&d<=0?o:d>c?a-s.width:o:d>0?t.left+=d:c>0&&(t.left-=c)}if(e.Y){var p=js?fy():gy(),u=ku(),f=Mu(),v=u-t.top,g=t.top+s.height-f;s.height>p?t.top=v>0&&g<=0?f-s.height:g>0&&v<=0?u:v>g?f-s.height:u:v>0?t.top+=v:g>0&&(t.top-=g)}return t}function Sn(h,i,e,t){void 0===i&&(i=null);var s=Hi(h,"left","top");e&&(s.left=e),t&&(s.top=t);var r=[];js=i,co=h.ownerDocument;var o=h.getBoundingClientRect(),d=s.left,c=s.left+o.width,u=py(s.top,s.top+o.height),f=hy(d,c);return u.topSide&&r.push("top"),f.rightSide&&r.push("right"),f.leftSide&&r.push("left"),u.bottomSide&&r.push("bottom"),r}function tw(h,i,e,t,s,r,o,a,d){if(void 0===o&&(o=null),void 0===a&&(a={X:!0,Y:!0}),i&&h&&s&&r&&(a.X||a.Y)){var u,c={TL:null,TR:null,BL:null,BR:null},p={TL:null,TR:null,BL:null,BR:null};if("none"===window.getComputedStyle(h).display){var f=h.style.visibility;h.style.visibility="hidden",h.style.display="block",u=h.getBoundingClientRect(),h.style.removeProperty("display"),h.style.visibility=f}else u=h.getBoundingClientRect();var v={posX:s,posY:r,offsetX:e,offsetY:t,position:{left:0,top:0}};js=o,co=i.ownerDocument,function sw(h,i,e,t,s){e.position=Hi(h,e.posX,e.posY,t,s),i.TL=Hi(h,"left","top",t,s),i.TR=Hi(h,"right","top",t,s),i.BR=Hi(h,"left","bottom",t,s),i.BL=Hi(h,"right","bottom",t,s)}(i,c,v,d,u),Tu(p,v,u),a.X&&dy(i,p,c,v,u,!0),a.Y&&c.TL.top>-1&&cy(i,p,c,v,u,!0),function iw(h,i,e){var t=0,s=0;if(null!=h.offsetParent&&("absolute"===getComputedStyle(h.offsetParent).position||"relative"===getComputedStyle(h.offsetParent).position)){var r=Hi(h.offsetParent,"left","top",!1,e);t=r.left,s=r.top}var o=1,a=1;if(h.offsetParent){var d=getComputedStyle(h.offsetParent).transform;if("none"!==d){var c=new DOMMatrix(d);o=c.a,a=c.d}}h.style.top=i.position.top/a+i.offsetY-s+"px",h.style.left=i.position.left/o+i.offsetX-t+"px"}(h,v,u)}}function Tu(h,i,e){h.TL={top:i.position.top+i.offsetY,left:i.position.left+i.offsetX},h.TR={top:h.TL.top,left:h.TL.left+e.width},h.BL={top:h.TL.top+e.height,left:h.TL.left},h.BR={top:h.TL.top+e.height,left:h.TL.left+e.width}}function hy(h,i){var e=!1,t=!1;return h-od()<Lu()&&(e=!0),i>Ou()&&(t=!0),{leftSide:e,rightSide:t}}function dy(h,i,e,t,s,r){var o=hy(i.TL.left,i.TR.left);e.TL.left-od()<=Lu()&&(o.leftSide=!1),e.TR.left>Ou()&&(o.rightSide=!1),(o.leftSide&&!o.rightSide||!o.leftSide&&o.rightSide)&&(t.posX="right"===t.posX?"left":"right",t.offsetX=t.offsetX+s.width,t.offsetX=-1*t.offsetX,t.position=Hi(h,t.posX,t.posY,!1),Tu(i,t,s),r&&dy(h,i,e,t,s,!1))}function cy(h,i,e,t,s,r){var o=py(i.TL.top,i.BL.top);e.TL.top-nd()<=ku()&&(o.topSide=!1),e.BL.top>=Mu()&&h.getBoundingClientRect().bottom<window.innerHeight&&(o.bottomSide=!1),(o.topSide&&!o.bottomSide||!o.topSide&&o.bottomSide)&&(t.posY="top"===t.posY?"bottom":"top",t.offsetY=t.offsetY+s.height,t.offsetY=-1*t.offsetY,t.position=Hi(h,t.posX,t.posY,!1,s),Tu(i,t,s),r&&cy(h,i,e,t,s,!1))}function py(h,i){var e=!1,t=!1;return h-nd()<ku()&&(e=!0),i>Mu()&&(t=!0),{topSide:e,bottomSide:t}}function uy(){return js.getBoundingClientRect().width}function fy(){return js.getBoundingClientRect().height}function my(){return js.getBoundingClientRect().left}function vy(){return js.getBoundingClientRect().top}function ku(){return js?vy():0}function Lu(){return js?my():0}function Ou(){return js?od()+my()+uy():od()+yy()}function Mu(){return js?nd()+vy()+fy():nd()+gy()}function nd(){return co.documentElement.scrollTop||co.body.scrollTop}function od(){return co.documentElement.scrollLeft||co.body.scrollLeft}function gy(){return window.innerHeight}function yy(){var h=window.innerWidth,i=document.documentElement.getBoundingClientRect();return h-(h-((0,n.le)(document.documentElement)?0:i.width))}var by=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),_i=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},Cy=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return by(i,h),_i([(0,n.Z9)("left")],i.prototype,"X",void 0),_i([(0,n.Z9)("top")],i.prototype,"Y",void 0),i}(n.rt),Ii_OPEN="e-popup-open",Ii_CLOSE="e-popup-close",xn=function(h){function i(e,t){return h.call(this,t,e)||this}return by(i,h),i.prototype.onPropertyChanged=function(e,t){for(var s=0,r=Object.keys(e);s<r.length;s++)switch(r[s]){case"width":(0,n.V7)(this.element,{width:(0,n.Ac)(e.width)});break;case"height":(0,n.V7)(this.element,{height:(0,n.Ac)(e.height)});break;case"zIndex":(0,n.V7)(this.element,{zIndex:e.zIndex});break;case"enableRtl":this.setEnableRtl();break;case"position":case"relateTo":this.refreshPosition();break;case"offsetX":var a=e.offsetX-t.offsetX;this.element.style.left=(parseInt(this.element.style.left,10)+a).toString()+"px";break;case"offsetY":var d=e.offsetY-t.offsetY;this.element.style.top=(parseInt(this.element.style.top,10)+d).toString()+"px";break;case"content":this.setContent();break;case"actionOnScroll":"none"!==e.actionOnScroll?this.wireScrollEvents():this.unwireScrollEvents()}},i.prototype.getModuleName=function(){return"popup"},i.prototype.resolveCollision=function(){this.checkCollision()},i.prototype.getPersistData=function(){return this.addOnPersist([])},i.prototype.destroy=function(){this.element.classList.contains("e-popup-open")&&this.unwireEvents(),this.element.classList.remove("e-popup","e-rtl",Ii_OPEN,Ii_CLOSE),this.content=null,this.relateTo=null,h.prototype.destroy.call(this)},i.prototype.render=function(){this.element.classList.add("e-popup");var e={};1e3!==this.zIndex&&(e.zIndex=this.zIndex),"auto"!==this.width&&(e.width=(0,n.Ac)(this.width)),"auto"!==this.height&&(e.height=(0,n.Ac)(this.height)),(0,n.V7)(this.element,e),this.fixedParent=!1,this.setEnableRtl(),this.setContent()},i.prototype.wireEvents=function(){n.AR.isDevice&&n.bi.add(window,"orientationchange",this.orientationOnChange,this),"none"!==this.actionOnScroll&&this.wireScrollEvents()},i.prototype.wireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++)n.bi.add(t[e],"scroll",this.scrollRefresh,this)},i.prototype.unwireEvents=function(){n.AR.isDevice&&n.bi.remove(window,"orientationchange",this.orientationOnChange),"none"!==this.actionOnScroll&&this.unwireScrollEvents()},i.prototype.unwireScrollEvents=function(){if(this.getRelateToElement())for(var e=0,t=this.getScrollableParent(this.getRelateToElement());e<t.length;e++)n.bi.remove(t[e],"scroll",this.scrollRefresh)},i.prototype.getRelateToElement=function(){var e=""===this.relateTo||(0,n.le)(this.relateTo)?document.body:this.relateTo;return this.setProperties({relateTo:e},!0),"string"==typeof this.relateTo?document.querySelector(this.relateTo):this.relateTo},i.prototype.scrollRefresh=function(e){if("reposition"===this.actionOnScroll?!(0,n.le)(this.element)&&!(this.element.offsetParent===e.target||this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&null==e.target.parentElement)&&this.refreshPosition():"hide"===this.actionOnScroll&&this.hide(),"none"!==this.actionOnScroll&&this.getRelateToElement()){var t=this.isElementOnViewport(this.getRelateToElement(),e.target);t||this.targetInvisibleStatus?t&&(this.targetInvisibleStatus=!1):(this.trigger("targetExitViewport"),this.targetInvisibleStatus=!0)}},i.prototype.isElementOnViewport=function(e,t){for(var s=this.getScrollableParent(e),r=0;r<s.length;r++)if(!this.isElementVisible(e,s[r]))return!1;return!0},i.prototype.isElementVisible=function(e,t){var s=this.checkGetBoundingClientRect(e);if(!s.height||!s.width)return!1;if((0,n.le)(this.checkGetBoundingClientRect(t))){var o=window,a={top:o.scrollY,left:o.scrollX,right:o.scrollX+o.outerWidth,bottom:o.scrollY+o.outerHeight},d=Hi(e),c={top:d.top,left:d.left,right:d.left+s.width,bottom:d.top+s.height},p={top:a.bottom-c.top,left:a.right-c.left,bottom:c.bottom-a.top,right:c.right-a.left};return p.top>0&&p.left>0&&p.right>0&&p.bottom>0}var r=t.getBoundingClientRect();return!(s.bottom<r.top||s.bottom>r.bottom||s.right>r.right||s.left<r.left)},i.prototype.preRender=function(){},i.prototype.setEnableRtl=function(){this.reposition(),this.enableRtl?this.element.classList.add("e-rtl"):this.element.classList.remove("e-rtl")},i.prototype.setContent=function(){if(!(0,n.le)(this.content))if(this.element.innerHTML="","string"==typeof this.content)this.element.textContent=this.content;else{var e=this.getRelateToElement(),t=this.content.props;(!e.classList.contains("e-dropdown-btn")||(0,n.le)(t))&&this.element.appendChild(this.content)}},i.prototype.orientationOnChange=function(){var e=this;setTimeout(function(){e.refreshPosition()},200)},i.prototype.refreshPosition=function(e,t){(0,n.le)(e)||this.checkFixedParent(e),this.reposition(),t||this.checkCollision()},i.prototype.reposition=function(){var e,t,s=this.getRelateToElement();if("number"==typeof this.position.X&&"number"==typeof this.position.Y)e={left:this.position.X,top:this.position.Y};else if("string"==typeof this.position.X&&"number"==typeof this.position.Y||"number"==typeof this.position.X&&"string"==typeof this.position.Y){var r=void 0,o=this.element.style.display;this.element.style.display="block",this.element.classList.contains("e-dlg-modal")&&(r=this.element.parentElement.style.display,this.element.parentElement.style.display="block"),t=this.getAnchorPosition(s,this.element,this.position,this.offsetX,this.offsetY),e="string"==typeof this.position.X?{left:t.left,top:this.position.Y}:{left:this.position.X,top:t.top},this.element.style.display=o,this.element.classList.contains("e-dlg-modal")&&(this.element.parentElement.style.display=r)}else if(s){var a=this.element.clientHeight;o=this.element.style.display,this.element.style.display="block",e=this.getAnchorPosition(s,this.element,this.position,this.offsetX,this.offsetY,a),this.element.style.display=o}else e={left:0,top:0};(0,n.le)(e)||(this.element.style.left=e.left+"px",this.element.style.top=e.top+"px")},i.prototype.checkGetBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch{return null}},i.prototype.getAnchorPosition=function(e,t,s,r,o,a){void 0===a&&(a=0);var d=this.checkGetBoundingClientRect(t),c=this.checkGetBoundingClientRect(e);if((0,n.le)(d)||(0,n.le)(c))return null;var p=e,u={left:0,top:0};switch(t.offsetParent&&"BODY"===t.offsetParent.tagName&&"BODY"===e.tagName?u=Hi(e):(t.classList.contains("e-dlg-modal")&&"BODY"!==p.tagName&&(t=t.parentElement),u=function K_(h,i){var e=!1,t={left:0,top:0},s=h;if(!h||!i)return t;for((0,n.le)(i.offsetParent)&&"fixed"===i.style.position&&(e=!0);(i.offsetParent||e)&&h&&i.offsetParent!==h;)t.left+=h.offsetLeft,t.top+=h.offsetTop,h=h.offsetParent;for(h=s;(i.offsetParent||e)&&h&&i.offsetParent!==h;)t.left-=h.scrollLeft,t.top-=h.scrollTop,h=h.parentElement;return t}(p,t)),s.X){default:case"left":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===p.tagName&&"container"===this.targetType?u.left+=window.innerWidth/2-d.width/2:u.left+="container"===this.targetType?c.width/2-d.width/2:c.width/2;break;case"right":t.classList.contains("e-dlg-modal")&&"BODY"===p.tagName&&"container"===this.targetType?u.left+=window.innerWidth-d.width:u.left+="container"===this.targetType?c.width-d.width:c.width}switch(s.Y){default:case"top":break;case"center":t.classList.contains("e-dlg-modal")&&"BODY"===p.tagName&&"container"===this.targetType?u.top+=window.innerHeight/2-d.height/2:u.top+="container"===this.targetType?c.height/2-d.height/2:c.height/2;break;case"bottom":t.classList.contains("e-dlg-modal")&&"BODY"===p.tagName&&"container"===this.targetType?u.top+=window.innerHeight-d.height:"container"!==this.targetType||t.classList.contains("e-dialog")?"container"===this.targetType&&t.classList.contains("e-dialog")?u.top+=c.height-a:u.top+=c.height:u.top+=c.height-d.height}return u.left+=r,u.top+=o,u},i.prototype.callFlip=function(e){var t=this.getRelateToElement();tw(this.element,t,this.offsetX,this.offsetY,this.position.X,this.position.Y,this.viewPortElement,e,this.fixedParent)},i.prototype.callFit=function(e){if(0!==Sn(this.element,this.viewPortElement).length)if((0,n.le)(this.viewPortElement)){var t=Pu(this.element,this.viewPortElement,e);e.X&&(this.element.style.left=t.left+"px"),e.Y&&(this.element.style.top=t.top+"px")}else{var s=this.checkGetBoundingClientRect(this.element),r=this.checkGetBoundingClientRect(this.viewPortElement);if((0,n.le)(s)||(0,n.le)(r))return null;e&&!0===e.Y&&(r.top>s.top?this.element.style.top="0px":r.bottom<s.bottom&&(this.element.style.top=parseInt(this.element.style.top,10)-(s.bottom-r.bottom)+"px")),e&&!0===e.X&&(r.right<s.right?this.element.style.left=parseInt(this.element.style.left,10)-(s.right-r.right)+"px":r.left>s.left&&(this.element.style.left=parseInt(this.element.style.left,10)+(r.left-s.left)+"px"))}},i.prototype.checkCollision=function(){var e=this.collision.X,t=this.collision.Y;"none"===e&&"none"===t||("flip"===e&&"flip"===t?this.callFlip({X:!0,Y:!0}):"fit"===e&&"fit"===t?this.callFit({X:!0,Y:!0}):("flip"===e?this.callFlip({X:!0,Y:!1}):"flip"===t&&this.callFlip({Y:!0,X:!1}),"fit"===e?this.callFit({X:!0,Y:!1}):"fit"===t&&this.callFit({X:!1,Y:!0})))},i.prototype.show=function(e,t){var s=this;if(this.getRelateToElement().classList.contains("e-filemanager")&&(this.fmDialogContainer=this.element.getElementsByClassName("e-file-select-wrap")[0]),this.wireEvents(),!(0,n.le)(this.fmDialogContainer)&&n.AR.isIos&&(this.fmDialogContainer.style.display="block"),1e3===this.zIndex||!(0,n.le)(t)){var o=(0,n.le)(t)?this.element:t;this.zIndex=po(o),(0,n.V7)(this.element,{zIndex:this.zIndex})}e=(0,n.le)(e)||"object"!=typeof e?this.showAnimation:e,("none"!==this.collision.X||"none"!==this.collision.Y)&&((0,n.IV)([this.element],Ii_CLOSE),(0,n.cn)([this.element],Ii_OPEN),this.checkCollision(),(0,n.IV)([this.element],Ii_OPEN),(0,n.cn)([this.element],Ii_CLOSE)),(0,n.le)(e)?((0,n.IV)([this.element],Ii_CLOSE),(0,n.cn)([this.element],Ii_OPEN),this.trigger("open")):(e.begin=function(){s.isDestroyed||((0,n.IV)([s.element],Ii_CLOSE),(0,n.cn)([s.element],Ii_OPEN))},e.end=function(){s.isDestroyed||s.trigger("open")},new n.fw(e).animate(this.element))},i.prototype.hide=function(e){var t=this;e=(0,n.le)(e)||"object"!=typeof e?this.hideAnimation:e,(0,n.le)(e)?((0,n.IV)([this.element],Ii_OPEN),(0,n.cn)([this.element],Ii_CLOSE),this.trigger("close")):(e.end=function(){t.isDestroyed||((0,n.IV)([t.element],Ii_OPEN),(0,n.cn)([t.element],Ii_CLOSE),t.trigger("close"))},new n.fw(e).animate(this.element)),this.unwireEvents()},i.prototype.getScrollableParent=function(e){return this.checkFixedParent(e),function Au(h,i){for(var e=getComputedStyle(h),t=[],s=/(auto|scroll)/,r=h.parentElement;r&&"HTML"!==r.tagName;){var o=getComputedStyle(r);!("absolute"===e.position&&"static"===o.position)&&s.test(o.overflow+o.overflowY+o.overflowX)&&t.push(r),r=r.parentElement}return i||t.push(document),t}(e,this.fixedParent)},i.prototype.checkFixedParent=function(e){for(var t=e.parentElement;t&&"HTML"!==t.tagName;){var s=getComputedStyle(t);"fixed"===s.position&&!(0,n.le)(this.element)&&this.element.offsetParent&&"BODY"===this.element.offsetParent.tagName&&"hidden"!==getComputedStyle(this.element.offsetParent).overflow&&(this.element.style.top=window.scrollY>parseInt(this.element.style.top,10)?(0,n.Ac)(window.scrollY-parseInt(this.element.style.top,10)):(0,n.Ac)(parseInt(this.element.style.top,10)-window.scrollY),this.element.style.position="fixed",this.fixedParent=!0),t=t.parentElement,!(0,n.le)(this.element)&&(0,n.le)(this.element.offsetParent)&&"fixed"===s.position&&"fixed"===this.element.style.position&&(this.fixedParent=!0)}},_i([(0,n.Z9)("auto")],i.prototype,"height",void 0),_i([(0,n.Z9)("auto")],i.prototype,"width",void 0),_i([(0,n.Z9)(null)],i.prototype,"content",void 0),_i([(0,n.Z9)("container")],i.prototype,"targetType",void 0),_i([(0,n.Z9)(null)],i.prototype,"viewPortElement",void 0),_i([(0,n.Z9)({X:"none",Y:"none"})],i.prototype,"collision",void 0),_i([(0,n.Z9)("")],i.prototype,"relateTo",void 0),_i([(0,n.Zz)({},Cy)],i.prototype,"position",void 0),_i([(0,n.Z9)(0)],i.prototype,"offsetX",void 0),_i([(0,n.Z9)(0)],i.prototype,"offsetY",void 0),_i([(0,n.Z9)(1e3)],i.prototype,"zIndex",void 0),_i([(0,n.Z9)(!1)],i.prototype,"enableRtl",void 0),_i([(0,n.Z9)("reposition")],i.prototype,"actionOnScroll",void 0),_i([(0,n.Z9)(null)],i.prototype,"showAnimation",void 0),_i([(0,n.Z9)(null)],i.prototype,"hideAnimation",void 0),_i([(0,n.ju)()],i.prototype,"open",void 0),_i([(0,n.ju)()],i.prototype,"close",void 0),_i([(0,n.ju)()],i.prototype,"targetExitViewport",void 0),_i([n.Zl],i)}(n.wA);function po(h){for(var i=h.parentElement,e=[];i&&"BODY"!==i.tagName;){var t=document.defaultView.getComputedStyle(i,null).getPropertyValue("z-index"),s=document.defaultView.getComputedStyle(i,null).getPropertyValue("position");"auto"!==t&&"static"!==s&&e.push(t),i=i.parentElement}for(var r=[],o=0;o<document.body.children.length;o++)h.isEqualNode(document.body.children[o])||(t=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("z-index"),s=document.defaultView.getComputedStyle(document.body.children[o],null).getPropertyValue("position"),"auto"!==t&&"static"!==s&&r.push(t));r.push("999");var a=[];if(!(0,n.le)(h.parentElement)&&"BODY"!==h.parentElement.tagName){var d=[].slice.call(h.parentElement.children);for(o=0;o<d.length;o++)h.isEqualNode(d[o])||(t=document.defaultView.getComputedStyle(d[o],null).getPropertyValue("z-index"),s=document.defaultView.getComputedStyle(d[o],null).getPropertyValue("position"),"auto"!==t&&"static"!==s&&a.push(t))}var c=e.concat(r,a),p=Math.max.apply(Math,c)+1;return p>2147483647?2147483647:p}var jt,Mr,Qo,Tn,ju,Kr,wt,kn,Iu=["north-west","north","north-east","west","east","south-west","south","south-east"],ul="e-resize-handle",Pn="e-focused-handle",rw="e-dlg-resizable",_y=["e-restrict-left"],wy="e-resize-viewport",nw=["north","west","east","south"],Eu=0,Du=0,Sy=0,xy=0,fl=0,ml=0,vl=null,Ru=null,Yu=null,ad=!0,Py=0,Fu=!0;function aw(h){Hu();var i=(0,n.az)("span",{attrs:{unselectable:"on",contenteditable:"false"}});i.setAttribute("class","e-dialog-border-resize e-"+h),"south"===h&&(i.style.height="2px",i.style.width="100%",i.style.bottom="0px",i.style.left="0px"),"north"===h&&(i.style.height="2px",i.style.width="100%",i.style.top="0px",i.style.left="0px"),"east"===h&&(i.style.height="100%",i.style.width="2px",i.style.right="0px",i.style.top="0px"),"west"===h&&(i.style.height="100%",i.style.width="2px",i.style.left="0px",i.style.top="0px"),jt.appendChild(i)}function Ty(h){var i;return(0,n.le)(h)||(i="string"==typeof h?document.querySelector(h):h),i}function ky(h){(0,n.le)(h)&&(h=this);for(var i=jt.querySelectorAll("."+ul),e=0;e<i.length;e++)n.bi.add(Mr=i[e],"mousedown",Oy,h),n.bi.add(Mr,"msie"===n.AR.info.name?"pointerdown":"touchstart",My,h);var s=jt.querySelectorAll(".e-dialog-border-resize");if(!(0,n.le)(s))for(e=0;e<s.length;e++)n.bi.add(Mr=s[e],"mousedown",Oy,h),n.bi.add(Mr,"msie"===n.AR.info.name?"pointerdown":"touchstart",My,h)}function Ly(h){return h.indexOf("mouse")>-1?"mouse":"touch"}function Oy(h){if(h.preventDefault(),jt=h.target.parentElement,Hu(),fl=h.pageX,ml=h.pageY,h.target.classList.add(Pn),(0,n.le)(vl)||!0!==vl(h,this)){this.targetEle&&jt&&jt.querySelector("."+rw)&&(wt="body"===this.target?null:this.targetEle,Kr=this.targetEle.clientWidth,Tn=this.targetEle.clientHeight);var i=(0,n.le)(wt)?document:wt;n.bi.add(i,"mousemove",gl,this),n.bi.add(document,"mouseup",ld,this);for(var e=0;e<_y.length;e++)ad=!jt.classList.contains(_y[e])}}function ld(h){var i="msie"===n.AR.info.name?"pointermove":"touchmove",e="msie"===n.AR.info.name?"pointerup":"touchend",t=(0,n.le)(wt)?document:wt,s="msie"===n.AR.info.name?"pointerdown":"touchstart";n.bi.remove(t,"mousemove",gl),n.bi.remove(t,i,gl),n.bi.remove(t,s,gl),(0,n.le)(document.body.querySelector("."+Pn))||document.body.querySelector("."+Pn).classList.remove(Pn),(0,n.le)(Yu)||Yu(h,this),n.bi.remove(document,"mouseup",ld),n.bi.remove(document,e,ld)}function Hu(){Eu=parseFloat(getComputedStyle(jt,null).getPropertyValue("width").replace("px","")),Du=parseFloat(getComputedStyle(jt,null).getPropertyValue("height").replace("px","")),Sy=jt.getBoundingClientRect().left,xy=jt.getBoundingClientRect().top}function My(h){jt=h.target.parentElement,Hu();var i=jt.classList.contains("e-dialog");(h.target.classList.contains(ul)||h.target.classList.contains("e-dialog-border-resize"))&&i&&h.target.classList.add(Pn);var e=h.touches?h.changedTouches[0]:h;if(fl=e.pageX,ml=e.pageY,(0,n.le)(vl)||!0!==vl(h,this)){var t="msie"===n.AR.info.name?"pointermove":"touchmove",s="msie"===n.AR.info.name?"pointerup":"touchend",r=(0,n.le)(wt)?document:wt;n.bi.add(r,t,gl,this),n.bi.add(document,s,ld,this)}}function gl(h){if(h.target.classList.contains(ul)&&h.target.classList.contains(Pn)?Mr=h.target:(0,n.le)(document.body.querySelector("."+Pn))||(Mr=document.body.querySelector("."+Pn)),!(0,n.le)(Mr)){for(var i="",e=0;e<Iu.length;e++)Mr.classList.contains("e-"+Iu[e])&&(i=Iu[e]);switch((0,n.le)(Ru)||Ru(h,this),i){case"south":Nu(h);break;case"north":Bu(h);break;case"west":zu(h);break;case"east":Vu(h);break;case"south-east":Nu(h),Vu(h);break;case"south-west":Nu(h),zu(h);break;case"north-east":Bu(h),Vu(h);break;case"north-west":Bu(h),zu(h)}}}function On(h){return h.getBoundingClientRect()}function Nu(h){var o,i=document.documentElement.clientHeight,e=!1,s=(h.touches?h.changedTouches[0]:h).pageY,r=On(jt);(0,n.le)(wt)||(o=On(wt)),(0,n.le)(wt)?(0,n.le)(wt)&&(i-s>=0||r.top<0)&&(e=!0):e=!0;var a=Du+(s-ml);a=a>Qo?a:Qo;var d=0;(0,n.le)(wt)||(d=o.top);var c=(0,n.le)(wt)?0:wt.offsetHeight-wt.clientHeight,p=r.top-d-c/2;if(p=p<0?0:p,r.top>0&&p+a>Tn){if(e=!1,jt.classList.contains(wy))return;jt.style.height=Tn-parseInt(p.toString(),10)+"px"}else{var u=0;if(e){r.top<0&&i+(r.height+r.top)>0&&a+(u=r.top)<=30&&(a=r.height-(r.height+r.top)+30),a+r.top>=Tn&&(jt.style.height=r.height+(i-(r.height+r.top))+"px");var f=(0,n.le)(wt)?u:p;a>=Qo&&a+f<=Tn&&(jt.style.height=a+"px")}}}function Bu(h){var e,i=!1,t="mouse"===Ly(h.type)?h.pageY:h.touches[0].pageY,s=On(jt);(0,n.le)(wt)||(e=On(wt)),(!(0,n.le)(wt)&&s.top-e.top>0||(0,n.le)(wt)&&t>0)&&(i=!0);var r=Du-(t-ml);if(i&&r>=Qo&&r<=Tn){var o=0;(0,n.le)(wt)||(o=e.top);var a=xy-o+(t-ml);a=a>0?a:1,jt.style.height=r+"px",jt.style.top=a+"px"}}function zu(h){var t,i=document.documentElement.clientWidth,e=!1;(0,n.le)(wt)||(t=On(wt));var s="mouse"===Ly(h.type)?h.pageX:h.touches[0].pageX,r=On(jt),o=(0,n.le)(wt)?0:wt.offsetWidth-wt.clientWidth,a=(0,n.le)(wt)?0:t.left,d=(0,n.le)(wt)?0:t.width;(0,n.le)(kn)&&((0,n.le)(wt)?kn=i:(kn=r.left-a-o/2+r.width,kn+=d-o-kn)),(!(0,n.le)(wt)&&Math.floor(r.left-t.left+r.width+(t.right-r.right))-o<=Kr||(0,n.le)(wt)&&s>=0)&&(e=!0);var c=Eu-(s-fl);if(ad&&(c=c>kn?kn:c),e&&c>=ju&&c<=Kr){var p=0;(0,n.le)(wt)||(p=t.left);var u=Sy-p+(s-fl);u=u>0?u:1,c!==Py&&Fu&&(jt.style.width=c+"px"),ad&&(jt.style.left=u+"px",Fu=1!==u)}Py=c}function Vu(h){var t,i=document.documentElement.clientWidth,e=!1;(0,n.le)(wt)||(t=On(wt));var r=(h.touches?h.changedTouches[0]:h).pageX,o=On(jt);(!(0,n.le)(wt)&&(o.left-t.left+o.width<=Kr||o.right-t.left>=o.width)||(0,n.le)(wt)&&i-r>0)&&(e=!0);var a=Eu+(r-fl),d=0;if((0,n.le)(wt)||(d=t.left),o.left-d+a>Kr){if(e=!1,jt.classList.contains(wy))return;jt.style.width=Kr-(o.left-d)+"px"}e&&a>=ju&&a<=Kr&&(jt.style.width=a+"px")}function Ay(){for(var h=jt.querySelectorAll("."+ul),i=0;i<h.length;i++)(0,n.og)(h[i]);var e=jt.querySelectorAll(".e-dialog-border-resize");if(!(0,n.le)(e))for(i=0;i<e.length;i++)(0,n.og)(e[i])}var zy,qu=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),pt=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},cw=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return qu(i,h),pt([(0,n.Z9)(!0)],i.prototype,"isFlat",void 0),pt([(0,n.Z9)()],i.prototype,"buttonModel",void 0),pt([(0,n.Z9)("Button")],i.prototype,"type",void 0),pt([(0,n.ju)()],i.prototype,"click",void 0),i}(n.rt),pw=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return qu(i,h),pt([(0,n.Z9)("Fade")],i.prototype,"effect",void 0),pt([(0,n.Z9)(400)],i.prototype,"duration",void 0),pt([(0,n.Z9)(0)],i.prototype,"delay",void 0),i}(n.rt),hd="e-dialog",Wu="e-rtl",Zu="e-dlg-header-content",Iy="e-dlg-header",yl="e-footer-content",dd="e-dlg-modal",Ey="e-icon-dlg-close",Ar="e-dlg-target",ar="e-scroll-disabled",Dy="e-device",cd="e-dlg-fullscreen",jy="e-dlg-closeicon-btn",Ry="e-popup-open",Yy="Information",Fy="e-scroll-disabled",Hy="e-alert-dialog",Ny="e-confirm-dialog",Uu="e-dlg-resizable",pd="e-restrict-left",By="e-resize-viewport",Xu="user action",Ju=function(h){function i(e,t){var s=h.call(this,e,t)||this;return s.needsID=!0,s}return qu(i,h),i.prototype.render=function(){this.initialize(),this.initRender(),this.wireEvents(),"100%"===this.width&&(this.element.style.width=""),""!==this.minHeight&&(this.element.style.minHeight=(0,n.Ac)(this.minHeight)),this.enableResize&&(this.setResize(),"None"===this.animationSettings.effect&&this.getMinHeight()),this.renderComplete()},i.prototype.initializeValue=function(){this.dlgClosedBy=Xu},i.prototype.preRender=function(){var e=this;if(this.initializeValue(),this.headerContent=null,this.allowMaxHeight=!0,this.preventVisibility=!0,this.clonedEle=this.element.cloneNode(!0),this.closeIconClickEventHandler=function(r){e.dlgClosedBy="close icon",e.hide(r)},this.dlgOverlayClickEventHandler=function(r){e.dlgClosedBy="overlayClick",r.preventFocus=!1,e.trigger("overlayClick",r,function(o){o.preventFocus||e.focusContent(),e.dlgClosedBy=Xu})},this.l10n=new n.E7("dialog",{close:"Close"},this.locale),this.checkPositionData(),(0,n.le)(this.target)){var s=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.target=document.body,this.isProtectedOnChange=s}},i.prototype.updatePersistData=function(){this.enablePersistence&&this.setProperties({width:parseFloat(this.element.style.width),height:parseFloat(this.element.style.height),position:{X:parseFloat(this.dragObj.element.style.left),Y:parseFloat(this.dragObj.element.style.top)}},!0)},i.prototype.isNumberValue=function(e){return/^[-+]?\d*\.?\d+$/.test(e)},i.prototype.checkPositionData=function(){if(!(0,n.le)(this.position)){if(!(0,n.le)(this.position.X)&&"number"!=typeof this.position.X&&this.isNumberValue(this.position.X)){var t=this.isProtectedOnChange;this.isProtectedOnChange=!0,this.position.X=parseFloat(this.position.X),this.isProtectedOnChange=t}(0,n.le)(this.position.Y)||"number"==typeof this.position.Y||this.isNumberValue(this.position.Y)&&(t=this.isProtectedOnChange,this.isProtectedOnChange=!0,this.position.Y=parseFloat(this.position.Y),this.isProtectedOnChange=t)}},i.prototype.getEle=function(e,t){for(var s=void 0,r=0;r<e.length;r++)if(e[r].classList.contains(t)){s=e[r];break}return s},i.prototype.getMinHeight=function(){var e="0px",t="0px";(0,n.le)(this.element.querySelector("."+Zu))||(e=getComputedStyle(this.headerContent).height);var s=this.getEle(this.element.children,yl);(0,n.le)(s)||(t=getComputedStyle(s).height);var r=parseInt(e.slice(0,e.indexOf("p")),10),o=parseInt(t.slice(0,t.indexOf("p")),10);return function lw(h){Qo=h}(r+30+(isNaN(o)?0:o)),r+30+o},i.prototype.onResizeStart=function(e,t){return t.trigger("resizeStart",e),e.cancel},i.prototype.onResizing=function(e,t){t.trigger("resizing",e)},i.prototype.onResizeComplete=function(e,t){t.trigger("resizeStop",e),this.updatePersistData()},i.prototype.setResize=function(){if(this.enableResize){if(this.isBlazorServerRender()&&!(0,n.le)(this.element.querySelector(".e-icons.e-resize-handle")))return;this.element.classList.add(Uu);for(var e=getComputedStyle(this.element).minHeight,t=getComputedStyle(this.element).minWidth,s="",r=0;r<this.resizeHandles.length;r++){if("All"===this.resizeHandles[r]){s="south north east west north-east north-west south-east south-west";break}var o="";switch(this.resizeHandles[r].toString()){case"SouthEast":o="south-east";break;case"SouthWest":o="south-west";break;case"NorthEast":o="north-east";break;case"NorthWest":o="north-west";break;default:o=this.resizeHandles[r].toString()}s+=o.toLocaleLowerCase()+" "}this.enableRtl&&"south-east"===s.trim()?s="south-west":this.enableRtl&&"south-west"===s.trim()&&(s="south-east"),this.isModal&&this.enableRtl?this.element.classList.add(pd):this.isModal&&this.target===document.body&&this.element.classList.add(By),function ow(h){vl=h.resizeBegin,Ru=h.resizing,Yu=h.resizeComplete,jt=Ty(h.element),wt=Ty(h.boundary);for(var i=h.direction.split(" "),e=0;e<i.length;e++)if(nw.indexOf(i[e])>=0&&i[e])aw(i[e]);else if(""!==i[e].trim()){var t=(0,n.az)("div",{className:"e-icons "+ul+" e-"+i[e]});jt.appendChild(t)}Qo=h.minHeight,ju=h.minWidth,Kr=h.maxWidth,Tn=h.maxHeight,h.proxy&&h.proxy.element&&h.proxy.element.classList.contains("e-dialog")?ky(h.proxy):ky()}({element:this.element,direction:s,minHeight:parseInt(e.slice(0,t.indexOf("p")),10),maxHeight:this.targetEle.clientHeight,minWidth:parseInt(t.slice(0,t.indexOf("p")),10),maxWidth:this.targetEle.clientWidth,boundary:this.target===document.body?null:this.targetEle,resizeBegin:this.onResizeStart.bind(this),resizeComplete:this.onResizeComplete.bind(this),resizing:this.onResizing.bind(this),proxy:this}),this.wireWindowResizeEvent()}else Ay(),this.unWireWindowResizeEvent(),this.element.classList.remove(this.isModal?pd:By),this.element.classList.remove(Uu)},i.prototype.getFocusElement=function(e){var s=e.querySelectorAll('input,select,textarea,button:enabled,a,[contenteditable="true"],[tabindex]');return{element:s[s.length-1]}},i.prototype.keyDown=function(e){var t=this;if(9===e.keyCode&&this.isModal){var s=void 0;(0,n.le)(this.btnObj)||(s=this.btnObj[this.btnObj.length-1]),(0,n.le)(this.btnObj)&&!(0,n.le)(this.ftrTemplateContent)&&(s=this.getFocusElement(this.ftrTemplateContent)),(0,n.le)(this.btnObj)&&(0,n.le)(this.ftrTemplateContent)&&!(0,n.le)(this.contentEle)&&(s=this.getFocusElement(this.contentEle)),!(0,n.le)(s)&&document.activeElement===s.element&&!e.shiftKey&&(e.preventDefault(),this.focusableElements(this.element).focus()),document.activeElement===this.focusableElements(this.element)&&e.shiftKey&&(e.preventDefault(),(0,n.le)(s)||s.element.focus())}var c,r=document.activeElement,o=["input","textarea"].indexOf(r.tagName.toLowerCase())>-1,a=!1;if(o||(a=r.hasAttribute("contenteditable")&&"true"===r.getAttribute("contenteditable")),27===e.keyCode&&this.closeOnEscape){this.dlgClosedBy="escape";var d=document.querySelector(".e-popup-open:not(.e-dialog)");!(0,n.le)(d)&&!d.classList.contains("e-toolbar-pop")||this.hide(e)}(13===e.keyCode&&!e.ctrlKey&&"textarea"!==r.tagName.toLowerCase()&&o&&!(0,n.le)(this.primaryButtonEle)||13===e.keyCode&&e.ctrlKey&&("textarea"===r.tagName.toLowerCase()||a)&&!(0,n.le)(this.primaryButtonEle))&&this.buttons.some(function(u,f){c=f;var v=u.buttonModel;return!(0,n.le)(v)&&!0===v.isPrimary})&&"function"==typeof this.buttons[c].click&&setTimeout(function(){t.buttons[c].click.call(t,e)})},i.prototype.initialize=function(){(0,n.le)(this.target)||(this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target),this.isBlazorServerRender()||(0,n.cn)([this.element],hd),n.AR.isDevice&&(0,n.cn)([this.element],Dy),this.isBlazorServerRender()||this.setCSSClass(),this.setMaxHeight()},i.prototype.initRender=function(){var e=this;if(this.initialRender=!0,this.isBlazorServerRender()||(0,n.Y4)(this.element,{role:"dialog"}),1e3===this.zIndex?(this.setzIndex(this.element,!1),this.calculatezIndex=!0):this.calculatezIndex=!1,this.isBlazorServerRender()&&(0,n.le)(this.headerContent)&&(this.headerContent=this.element.getElementsByClassName("e-dlg-header-content")[0]),this.isBlazorServerRender()&&(0,n.le)(this.contentEle)&&(this.contentEle=this.element.querySelector("#"+this.element.id+"_dialog-content")),this.isBlazorServerRender()||(this.setTargetContent(),""!==this.header&&!(0,n.le)(this.header)&&this.setHeader(),this.renderCloseIcon(),this.setContent(),""===this.footerTemplate||(0,n.le)(this.footerTemplate)?(0,n.le)(this.buttons[0].buttonModel)||this.setButton():this.setFooterTemplate()),this.isBlazorServerRender()&&!(0,n.le)(this.buttons[0].buttonModel)&&""===this.footerTemplate&&this.setButton(),this.allowDragging&&!(0,n.le)(this.headerContent)&&this.setAllowDragging(),this.isBlazorServerRender()||((0,n.Y4)(this.element,{"aria-modal":this.isModal?"true":"false"}),this.isModal&&this.setIsModal()),this.isBlazorServerRender()&&(0,n.le)(this.dlgContainer)){this.dlgContainer=this.element.parentElement;for(var t=0,s=this.dlgContainer.children;t<s.length;t++)s[t].classList.contains("e-dlg-overlay")&&(this.dlgOverlay=s[t])}if(!0!==this.element.classList.contains(Hy)&&!0!==this.element.classList.contains(Ny)&&!(0,n.le)(this.element.parentElement)){var r=this.isModal?this.dlgContainer.parentElement:this.element.parentElement;this.refElement=this.createElement("div",{className:"e-dlg-ref-element"}),r.insertBefore(this.refElement,this.isModal?this.dlgContainer:this.element)}if((0,n.le)(this.targetEle)||this.targetEle.appendChild(this.isModal?this.dlgContainer:this.element),this.popupObj=new xn(this.element,{height:this.height,width:this.width,zIndex:this.zIndex,relateTo:this.target,actionOnScroll:"none",enableRtl:this.enableRtl,open:function(d){var c={container:e.isModal?e.dlgContainer:e.element,element:e.element,target:e.target,preventFocus:!1};e.enableResize&&e.resetResizeIcon(),e.trigger("open",c,function(p){p.preventFocus||e.focusContent()})},close:function(d){e.isModal&&(0,n.cn)([e.dlgOverlay],"e-fade"),e.unBindEvent(e.element),e.isModal&&(e.dlgContainer.style.display="none"),e.trigger("close",e.closeArgs);var c=document.activeElement;!(0,n.le)(c)&&!(0,n.le)(c.blur)&&c.blur(),!(0,n.le)(e.storeActiveElement)&&!(0,n.le)(e.storeActiveElement.focus)&&e.storeActiveElement.focus()}}),this.positionChange(),this.setEnableRTL(),this.isBlazorServerRender()||((0,n.cn)([this.element],"e-popup-close"),this.isModal&&this.setOverlayZindex()),this.visible){if(this.show(),this.isModal){var o=this.getTargetContainer(this.target);o instanceof Element&&"rtl"===window.getComputedStyle(o).getPropertyValue("direction")&&this.setPopupPosition()}}else this.isModal&&(this.dlgOverlay.style.display="none");this.initialRender=!1},i.prototype.getTargetContainer=function(e){var t=null;if("string"==typeof e)if(e.startsWith("#"))t=document.getElementById(e.substring(1));else if(e.startsWith(".")){var s=document.getElementsByClassName(e.substring(1));t=s.length>0?s[0]:null}else!(e instanceof HTMLElement)&&e!==document.body&&(t=document.querySelector(e));else e instanceof HTMLElement&&(t=e);return t},i.prototype.resetResizeIcon=function(){var e=this.getMinHeight();if(this.targetEle.offsetHeight<e){var s=this.element.querySelector("."+(this.enableRtl?"e-south-west":"e-south-east"));(0,n.le)(s)||(s.style.bottom="-"+e.toString()+"px")}},i.prototype.setOverlayZindex=function(e){var t;t=(0,n.le)(e)?parseInt(this.element.style.zIndex,10)?parseInt(this.element.style.zIndex,10):this.zIndex:e,this.dlgOverlay.style.zIndex=(t-1).toString(),this.dlgContainer.style.zIndex=t.toString()},i.prototype.positionChange=function(){this.isModal&&(isNaN(parseFloat(this.position.X))||isNaN(parseFloat(this.position.Y)))?!isNaN(parseFloat(this.position.X))&&isNaN(parseFloat(this.position.Y))||isNaN(parseFloat(this.position.X))&&!isNaN(parseFloat(this.position.Y))?this.setPopupPosition():(this.element.style.top="0px",this.element.style.left="0px",this.dlgContainer.classList.add("e-dlg-"+this.position.X+"-"+this.position.Y)):this.setPopupPosition()},i.prototype.setPopupPosition=function(){this.popupObj.setProperties({position:{X:this.position.X,Y:this.position.Y}})},i.prototype.setAllowDragging=function(){var e=this,t="."+Zu;this.element.classList.contains("e-draggable")||(this.dragObj=new n._l(this.element,{clone:!1,isDragScroll:!0,abort:".e-dlg-closeicon-btn",handle:t,dragStart:function(s){e.trigger("dragStart",s,function(r){(0,n.xr)()&&r.bindEvents(s.dragElement)})},dragStop:function(s){if(e.isModal){(0,n.le)(e.position)||e.dlgContainer.classList.remove("e-dlg-"+e.position.X+"-"+e.position.Y);var r=e.getTargetContainer(e.target);if(r instanceof Element){var o=window.getComputedStyle(r);e.element.style.position="rtl"===o.getPropertyValue("direction")?"absolute":"relative"}else e.element.style.position="relative"}e.trigger("dragStop",s),e.element.classList.remove(pd),e.updatePersistData()},drag:function(s){e.trigger("drag",s)}}),(0,n.le)(this.targetEle)||(this.dragObj.dragArea=this.targetEle))},i.prototype.setButton=function(){if(!this.isBlazorServerRender()){this.buttonContent=[],this.btnObj=[];for(var e=0;e<this.buttons.length;e++){var t=(0,n.le)(this.buttons[e].type)?"button":this.buttons[e].type.toLowerCase(),s=this.createElement("button",{className:this.cssClass,attrs:{type:t}});this.buttonContent.push(s.outerHTML)}this.setFooterTemplate()}e=0;for(var r,o=this.element.children;e<o.length;e++)o[e].classList.contains(yl)&&(r=o[e].querySelectorAll("button"));for(e=0;e<this.buttons.length;e++)this.isBlazorServerRender()||(this.btnObj[e]=new Fi(this.buttons[e].buttonModel)),this.isBlazorServerRender()&&(this.ftrTemplateContent=this.element.querySelector("."+yl)),!(0,n.le)(this.ftrTemplateContent)&&r.length>0&&("function"==typeof this.buttons[e].click&&n.bi.add(r[e],"click",this.buttons[e].click,this),"object"==typeof this.buttons[e].click&&n.bi.add(r[e],"click",this.buttonClickHandler.bind(this,e),this)),!this.isBlazorServerRender()&&!(0,n.le)(this.ftrTemplateContent)&&(this.btnObj[e].appendTo(this.ftrTemplateContent.children[e]),this.buttons[e].isFlat&&this.btnObj[e].element.classList.add("e-flat"),this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0])},i.prototype.buttonClickHandler=function(e){this.trigger("buttons["+e+"].click",{})},i.prototype.setContent=function(){this.contentEle=this.createElement("div",{className:"e-dlg-content",id:this.element.id+"_dialog-content"}),(0,n.Y4)(this.element,this.headerEle?{"aria-describedby":this.element.id+"_title "+this.element.id+"_dialog-content"}:{"aria-describedby":this.element.id+"_dialog-content"}),this.innerContentElement?this.contentEle.appendChild(this.innerContentElement):(!(0,n.le)(this.content)&&""!==this.content||!this.initialRender)&&(("string"!=typeof this.content||(0,n.xr)())&&this.content instanceof HTMLElement?this.contentEle.appendChild(this.content):this.setTemplate(this.content,this.contentEle,"content")),(0,n.le)(this.headerContent)?this.element.insertBefore(this.contentEle,this.element.children[0]):this.element.insertBefore(this.contentEle,this.element.children[1]),"auto"===this.height&&(!this.isBlazorServerRender()&&n.AR.isIE&&""===this.element.style.width&&!(0,n.le)(this.width)&&(this.element.style.width=(0,n.Ac)(this.width)),this.setMaxHeight())},i.prototype.setTemplate=function(e,t,s){var r,o,a;o=t.classList.contains(Iy)?this.element.id+"header":t.classList.contains(yl)?this.element.id+"footerTemplate":this.element.id+"content",(0,n.le)(e.outerHTML)?("string"==typeof e||"string"!=typeof e||(0,n.xr)()&&!this.isStringTemplate)&&("string"==typeof e&&(e=this.sanitizeHelper(e)),this.isVue||"string"!=typeof e?(r=(0,n.MY)(e),a=e):t.innerHTML=e):t.appendChild(e);var d=[];if(!(0,n.le)(r)){for(var p=0,u=r({},this,s,o,!((0,n.xr)()&&!this.isStringTemplate&&0===a.indexOf("<div>Blazor"))||this.isStringTemplate);p<u.length;p++)d.push(u[p]);(0,n.R3)([].slice.call(d),t)}},i.prototype.sanitizeHelper=function(e){if(this.enableHtmlSanitizer){var t=n.pJ.beforeSanitize();(0,n.l7)(t,t,{cancel:!1,helper:null}),this.trigger("beforeSanitizeHtml",t),t.cancel&&!(0,n.le)(t.helper)?e=t.helper(e):t.cancel||(e=n.pJ.serializeValue(t,e))}return e},i.prototype.setMaxHeight=function(){if(this.allowMaxHeight){var e=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=!(0,n.le)(this.target)&&this.targetEle.offsetHeight<window.innerHeight?this.targetEle.offsetHeight-20+"px":window.innerHeight-20+"px",this.element.style.display=e,n.AR.isIE&&"auto"===this.height&&!(0,n.le)(this.contentEle)&&this.element.offsetHeight<this.contentEle.offsetHeight&&(this.element.style.height="inherit")}},i.prototype.setEnableRTL=function(){this.isBlazorServerRender()||(this.enableRtl?(0,n.cn)([this.element],Wu):(0,n.IV)([this.element],Wu)),(0,n.le)(this.element.querySelector(".e-resize-handle"))||(Ay(),this.setResize())},i.prototype.setTargetContent=function(){var e=this;if((0,n.le)(this.content)||""===this.content){var t=""!==this.element.innerHTML.replace(/\s|<(\/?|\/?)(!--!--)>/g,"");(this.element.children.length>0||t)&&(this.innerContentElement=document.createDocumentFragment(),[].slice.call(this.element.childNodes).forEach(function(s){8!==s.nodeType&&e.innerContentElement.appendChild(s)}))}},i.prototype.setHeader=function(){this.headerEle?this.headerEle.innerHTML="":this.headerEle=this.createElement("div",{id:this.element.id+"_title",className:Iy}),this.createHeaderContent(),this.headerContent.appendChild(this.headerEle),this.setTemplate(this.header,this.headerEle,"header"),(0,n.Y4)(this.element,{"aria-describedby":this.element.id+"_title"}),(0,n.Y4)(this.element,{"aria-label":"dialog"}),this.element.insertBefore(this.headerContent,this.element.children[0]),this.allowDragging&&!(0,n.le)(this.headerContent)&&this.setAllowDragging()},i.prototype.setFooterTemplate=function(){this.ftrTemplateContent?this.ftrTemplateContent.innerHTML="":this.ftrTemplateContent=this.createElement("div",{className:yl}),""===this.footerTemplate||(0,n.le)(this.footerTemplate)?this.ftrTemplateContent.innerHTML=this.buttonContent.join(""):this.setTemplate(this.footerTemplate,this.ftrTemplateContent,"footerTemplate"),this.element.appendChild(this.ftrTemplateContent)},i.prototype.createHeaderContent=function(){(0,n.le)(this.headerContent)&&(this.headerContent=this.createElement("div",{id:this.element.id+"_dialog-header",className:Zu}))},i.prototype.renderCloseIcon=function(){this.showCloseIcon&&(this.closeIcon=this.createElement("button",{className:jy,attrs:{type:"button"}}),this.closeIconBtnObj=new Fi({cssClass:"e-flat",iconCss:Ey+" e-icons"}),this.closeIconTitle(),(0,n.le)(this.headerContent)?(this.createHeaderContent(),(0,n.Ce)([this.closeIcon],this.headerContent),this.element.insertBefore(this.headerContent,this.element.children[0])):(0,n.Ce)([this.closeIcon],this.headerContent),this.closeIconBtnObj.appendTo(this.closeIcon))},i.prototype.closeIconTitle=function(){this.l10n.setLocale(this.locale);var e=this.l10n.getConstant("close");this.closeIcon.setAttribute("title",e),this.closeIcon.setAttribute("aria-label",e)},i.prototype.setCSSClass=function(e){e&&((0,n.IV)([this.element],e.split(" ")),this.isModal&&!(0,n.le)(this.dlgContainer)&&(0,n.IV)([this.dlgContainer],e.split(" "))),this.cssClass&&((0,n.cn)([this.element],this.cssClass.split(" ")),this.isModal&&!(0,n.le)(this.dlgContainer)&&(0,n.cn)([this.dlgContainer],this.cssClass.split(" ")))},i.prototype.setIsModal=function(){this.dlgContainer=this.createElement("div",{className:"e-dlg-container"}),this.setCSSClass(),this.element.classList.remove(Ry),this.element.parentNode.insertBefore(this.dlgContainer,this.element),this.dlgContainer.appendChild(this.element),(0,n.cn)([this.element],dd),this.dlgOverlay=this.createElement("div",{className:"e-dlg-overlay"}),this.dlgOverlay.style.zIndex=(this.zIndex-1).toString(),this.dlgContainer.appendChild(this.dlgOverlay)},i.prototype.getValidFocusNode=function(e){for(var t,s=0;s<e.length;s++){if(((t=e[s]).clientHeight>0||"a"===t.tagName.toLowerCase()&&t.hasAttribute("href"))&&t.tabIndex>-1&&!t.disabled&&!this.disableElement(t,'[disabled],[aria-disabled="true"],[type="hidden"]'))return t;t=null}return t},i.prototype.focusableElements=function(e){if(!(0,n.le)(e)){var s=e.querySelectorAll('input,select,textarea,button,a,[contenteditable="true"],[tabindex]');return this.getValidFocusNode(s)}return null},i.prototype.getAutoFocusNode=function(e){var t=e.querySelector("."+jy),r=e.querySelectorAll("[autofocus]"),o=this.getValidFocusNode(r);if((0,n.xr)()&&(this.primaryButtonEle=this.element.getElementsByClassName("e-primary")[0]),(0,n.le)(o)){if(o=this.focusableElements(this.contentEle),!(0,n.le)(o))return o;if(!(0,n.le)(this.primaryButtonEle))return this.element.querySelector(".e-primary")}else t=o;return t},i.prototype.disableElement=function(e,t){var s=e?e.matches||e.webkitMatchesSelector||e.msGetRegionContent:null;if(s)for(;e;e=e.parentNode)if(e instanceof Element&&s.call(e,t))return e;return null},i.prototype.focusContent=function(){var e=this.getAutoFocusNode(this.element),t=(0,n.le)(e)?this.element:e,s=n.AR.userAgent;(s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0)&&this.element.focus(),t.focus(),this.unBindEvent(this.element),this.bindEvent(this.element)},i.prototype.bindEvent=function(e){n.bi.add(e,"keydown",this.keyDown,this)},i.prototype.unBindEvent=function(e){n.bi.remove(e,"keydown",this.keyDown)},i.prototype.updateSanitizeContent=function(){this.isBlazorServerRender()||(this.contentEle.innerHTML=this.sanitizeHelper(this.content))},i.prototype.isBlazorServerRender=function(){return(0,n.xr)()&&this.isServerRendered},i.prototype.getModuleName=function(){return"dialog"},i.prototype.onPropertyChanged=function(e,t){if(this.element.classList.contains(hd))for(var s=0,r=Object.keys(e);s<r.length;s++)switch(r[s]){case"content":(0,n.le)(this.content)||""===this.content?(0,n.le)(this.contentEle)||((0,n.og)(this.contentEle),this.contentEle=null):(this.isBlazorServerRender()&&(this.contentEle=this.element.querySelector(".e-dlg-content")),(0,n.le)(this.contentEle)||"dialog"===this.contentEle.getAttribute("role")?(!this.isBlazorServerRender()||(0,n.le)(this.element.querySelector(".e-dlg-content")))&&this.setContent():(this.isBlazorServerRender()||(this.contentEle.innerHTML=""),"function"==typeof this.content?(this.clearTemplate(["content"]),(0,n.og)(this.contentEle),this.contentEle=null,this.setContent()):"string"==typeof this.content?this.isBlazorServerRender()&&""===this.contentEle.innerText?this.contentEle.insertAdjacentHTML("beforeend",this.sanitizeHelper(this.content)):this.updateSanitizeContent():this.contentEle.appendChild(this.content),this.setMaxHeight()));break;case"header":""===this.header||(0,n.le)(this.header)?this.headerEle&&((0,n.og)(this.headerEle),this.headerEle=null):(!this.isBlazorServerRender()||(0,n.le)(this.element.querySelector(".e-dlg-header-content")))&&this.setHeader();break;case"footerTemplate":if(""===this.footerTemplate||(0,n.le)(this.footerTemplate)){if(!this.ftrTemplateContent)return;(0,n.og)(this.ftrTemplateContent),this.ftrTemplateContent=null,this.buttons=[{}]}else(!this.isBlazorServerRender()||(0,n.le)(this.element.querySelector(".e-footer-content")))&&this.setFooterTemplate(),this.buttons=[{}];break;case"showCloseIcon":this.element.getElementsByClassName(Ey).length>0?this.showCloseIcon||""!==this.header&&!(0,n.le)(this.header)?this.showCloseIcon?this.isBlazorServerRender()&&this.wireEvents():(0,n.og)(this.closeIcon):((0,n.og)(this.headerContent),this.headerContent=null):(this.isBlazorServerRender()||this.renderCloseIcon(),this.wireEvents());break;case"locale":this.showCloseIcon&&this.closeIconTitle();break;case"visible":this.visible?this.show():this.hide();break;case"isModal":this.updateIsModal();break;case"height":(0,n.V7)(this.element,{height:(0,n.Ac)(e.height)}),this.updatePersistData();break;case"width":(0,n.V7)(this.element,{width:(0,n.Ac)(e.width)}),this.updatePersistData();break;case"zIndex":this.popupObj.zIndex=this.zIndex,this.isModal&&this.setOverlayZindex(this.zIndex),this.element.style.zIndex!==this.zIndex.toString()&&(this.calculatezIndex=!1);break;case"cssClass":this.setCSSClass(t.cssClass);break;case"buttons":var a=this.buttons.length;!(0,n.le)(this.ftrTemplateContent)&&!this.isBlazorServerRender()&&((0,n.og)(this.ftrTemplateContent),this.ftrTemplateContent=null);for(var d=0;d<a;d++)(0,n.le)(this.buttons[d].buttonModel)||(this.footerTemplate="",this.setButton());break;case"allowDragging":this.allowDragging&&!(0,n.le)(this.headerContent)?this.setAllowDragging():this.dragObj.destroy();break;case"target":this.setTarget(e.target);break;case"position":if(this.checkPositionData(),this.isModal){var c=(0,n.le)(t.position)||(0,n.le)(t.position.X)?this.position.X:t.position.X,p=(0,n.le)(t.position)||(0,n.le)(t.position.Y)?this.position.Y:t.position.Y;this.dlgContainer.classList.contains("e-dlg-"+c+"-"+p)&&this.dlgContainer.classList.remove("e-dlg-"+c+"-"+p)}this.positionChange(),this.updatePersistData();break;case"enableRtl":this.setEnableRTL();break;case"enableResize":this.setResize();break;case"minHeight":""!==this.minHeight&&(this.element.style.minHeight=(0,n.Ac)(this.minHeight))}},i.prototype.setTarget=function(e){this.popupObj.relateTo=e,this.target=e,this.targetEle="string"==typeof this.target?document.querySelector(this.target):this.target,this.dragObj&&(this.dragObj.dragArea=this.targetEle),this.setMaxHeight(),this.isModal&&this.updateIsModal(),this.enableResize&&this.setResize()},i.prototype.updateIsModal=function(){if(this.element.setAttribute("aria-modal",this.isModal?"true":"false"),this.isModal)(0,n.le)(this.dlgOverlay)&&(this.setIsModal(),this.element.style.top="0px",this.element.style.left="0px",(0,n.le)(this.targetEle)||this.targetEle.appendChild(this.dlgContainer));else{for((0,n.IV)([this.element],dd),(0,n.IV)([document.body],[Ar,ar]),(0,n.og)(this.dlgOverlay);this.dlgContainer.firstChild;)this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild,this.dlgContainer);this.dlgContainer.parentElement.removeChild(this.dlgContainer)}this.visible&&this.show(),this.positionChange(),this.isModal&&this.dlgOverlay&&n.bi.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},i.prototype.setzIndex=function(e,t){var s=this.isProtectedOnChange;this.isProtectedOnChange=!0;var r=po(e);this.zIndex=r>this.zIndex?r:this.zIndex,this.isProtectedOnChange=s,t&&(this.popupObj.zIndex=this.zIndex)},i.prototype.windowResizeHandler=function(){(function hw(h){Kr=h})(this.targetEle.clientWidth),function dw(h){Tn=h}(this.targetEle.clientHeight),this.setMaxHeight()},i.prototype.getPersistData=function(){return this.addOnPersist(["width","height","position"])},i.prototype.destroy=function(){if(!this.isDestroyed){var e=[Wu,dd,Uu,pd,cd,Dy],t=["role","aria-modal","aria-labelledby","aria-describedby","aria-grabbed","tabindex","style"];if((0,n.IV)([this.targetEle],[Ar,ar]),!(0,n.le)(this.element)&&this.element.classList.contains(cd)&&(0,n.IV)([document.body],[Ar,ar]),this.isModal&&(0,n.IV)([(0,n.le)(this.targetEle)?document.body:this.targetEle],ar),this.unWireEvents(),!(0,n.le)(this.btnObj))for(var s=0;s<this.btnObj.length;s++)this.btnObj[s].destroy();if((0,n.le)(this.closeIconBtnObj)||this.closeIconBtnObj.destroy(),(0,n.le)(this.dragObj)||this.dragObj.destroy(),!(0,n.le)(this.popupObj.element)&&this.popupObj.element.classList.contains("e-popup")&&this.popupObj.destroy(),(0,n.IV)([this.element],e),!(0,n.le)(this.cssClass)&&""!==this.cssClass&&(0,n.IV)([this.element],this.cssClass.split(" ")),!(0,n.le)(this.refElement)&&!(0,n.le)(this.refElement.parentElement)&&(this.refElement.parentElement.insertBefore(this.isModal?this.dlgContainer:this.element,this.refElement),(0,n.og)(this.refElement),this.refElement=void 0),this.isModal&&!this.isBlazorServerRender()&&((0,n.og)(this.dlgOverlay),this.dlgContainer.parentNode.insertBefore(this.element,this.dlgContainer),(0,n.og)(this.dlgContainer)),this.isBlazorServerRender()||(this.element.innerHTML=this.clonedEle.innerHTML),this.isBlazorServerRender()&&!(0,n.le)(this.element.children))for(s=0;s<=this.element.children.length;s++)(0,n.og)(this.element.children[s-=s]);for(s=0;s<t.length;s++)this.element.removeAttribute(t[s]);this.ftrTemplateContent=null,this.headerContent=null,this.contentEle=null,this.isBlazorServerRender()?this.isDestroyed=!0:h.prototype.destroy.call(this),this.isReact&&this.clearTemplate()}},i.prototype.wireWindowResizeEvent=function(){window.addEventListener("resize",this.windowResizeHandler.bind(this))},i.prototype.unWireWindowResizeEvent=function(){window.removeEventListener("resize",this.windowResizeHandler.bind(this))},i.prototype.wireEvents=function(){this.isBlazorServerRender()&&this.showCloseIcon&&(this.closeIcon=this.element.getElementsByClassName("e-dlg-closeicon-btn")[0]),this.showCloseIcon&&n.bi.add(this.closeIcon,"click",this.closeIconClickEventHandler,this),this.isModal&&this.dlgOverlay&&n.bi.add(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler,this)},i.prototype.unWireEvents=function(){if(this.showCloseIcon&&n.bi.remove(this.closeIcon,"click",this.closeIconClickEventHandler),this.isModal&&n.bi.remove(this.dlgOverlay,"click",this.dlgOverlayClickEventHandler),this.buttons.length>0&&!(0,n.le)(this.buttons[0].buttonModel)&&""===this.footerTemplate)for(var e=0;e<this.buttons.length;e++)"function"==typeof this.buttons[e].click&&n.bi.remove(this.ftrTemplateContent.children[e],"click",this.buttons[e].click)},i.prototype.refreshPosition=function(){this.popupObj.refreshPosition(),this.element.classList.contains(dd)&&this.positionChange()},i.prototype.getDimension=function(){return{width:this.element.offsetWidth,height:this.element.offsetHeight}},i.prototype.show=function(e){var t=this;if(this.element.classList.contains(hd)){if(!this.element.classList.contains(Ry)||!(0,n.le)(e)){(0,n.le)(e)||this.fullScreen(e);var s=(0,n.xr)()?{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,maxHeight:this.element.style.maxHeight}:{cancel:!1,element:this.element,container:this.isModal?this.dlgContainer:this.element,target:this.target,maxHeight:this.element.style.maxHeight};this.trigger("beforeOpen",s,function(r){if(!r.cancel){if(t.element.style.maxHeight!==s.maxHeight&&(t.allowMaxHeight=!1,t.element.style.maxHeight=s.maxHeight),t.storeActiveElement=document.activeElement,t.element.tabIndex=-1,t.isModal&&!(0,n.le)(t.dlgOverlay))if(t.dlgOverlay.style.display="block",t.dlgContainer.style.display="flex",(0,n.IV)([t.dlgOverlay],"e-fade"),(0,n.le)(t.targetEle))(0,n.cn)([document.body],[Ar,ar]);else{t.dlgContainer.style.position=t.targetEle===document.body?"fixed":"absolute",t.dlgOverlay.style.position="absolute";var o=t.getTargetContainer(t.target);if(o instanceof Element){var a=window.getComputedStyle(o);t.element.style.position="rtl"===a.getPropertyValue("direction")?"absolute":"relative"}else t.element.style.position="relative";(0,n.cn)([t.targetEle],[Ar,ar])}var d={name:"None"===t.animationSettings.effect&&"Enable"===n.ti?"ZoomIn":t.animationSettings.effect+"In",duration:t.animationSettings.duration,delay:t.animationSettings.delay};t.calculatezIndex&&(t.setzIndex(t.isModal?t.element.parentElement:t.element,!0),(0,n.V7)(t.element,{zIndex:t.zIndex}),t.isModal&&t.setOverlayZindex(t.zIndex)),"None"===t.animationSettings.effect&&"Enable"===n.ti?t.popupObj.show(d):"None"===t.animationSettings.effect?t.popupObj.show():t.popupObj.show(d),t.dialogOpen=!0;var p=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!0,t.preventVisibility=!0,t.isProtectedOnChange=p}})}this.isReact&&this.renderReactTemplates()}},i.prototype.hide=function(e){var t=this;if(this.element.classList.contains(hd)&&this.preventVisibility){var s=(0,n.xr)()?{cancel:!1,isInteracted:!!e,element:this.element,container:this.isModal?this.dlgContainer:this.element,event:e}:{cancel:!1,isInteracted:!!e,element:this.element,target:this.target,container:this.isModal?this.dlgContainer:this.element,event:e,closedBy:this.dlgClosedBy};this.closeArgs=s,this.trigger("beforeClose",s,function(r){if(!r.cancel){t.isModal&&((0,n.le)(t.targetEle)||(0,n.IV)([t.targetEle],[Ar,ar])),document.body.classList.contains(Ar)&&document.body.classList.contains(ar)&&(0,n.IV)([document.body],[Ar,ar]);var o={name:"None"===t.animationSettings.effect&&"Enable"===n.ti?"ZoomOut":t.animationSettings.effect+"Out",duration:t.animationSettings.duration,delay:t.animationSettings.delay};"None"===t.animationSettings.effect&&"Enable"===n.ti?t.popupObj.hide(o):"None"===t.animationSettings.effect?t.popupObj.hide():t.popupObj.hide(o),t.dialogOpen=!1;var a=t.isProtectedOnChange;t.isProtectedOnChange=!0,t.visible=!1,t.preventVisibility=!1,t.isProtectedOnChange=a}t.dlgClosedBy=Xu})}},i.prototype.fullScreen=function(e){if(e){this.isModal||(this.element.style.top=document.scrollingElement.scrollTop+"px"),(0,n.cn)([this.element],cd);var r=this.element.style.display;this.element.style.display="none",this.element.style.maxHeight=(0,n.le)(this.target)?window.innerHeight+"px":this.targetEle.offsetHeight+"px",this.element.style.display=r,(0,n.cn)([document.body],[Ar,ar]),this.allowDragging&&!(0,n.le)(this.dragObj)&&this.dragObj.destroy()}else(0,n.IV)([this.element],cd),(0,n.IV)([document.body],[Ar,ar]),this.allowDragging&&!(0,n.le)(this.headerContent)&&this.setAllowDragging();return e},i.prototype.getButtons=function(e){return(0,n.le)(e)?this.btnObj:this.btnObj[e]},pt([(0,n.Z9)("")],i.prototype,"content",void 0),pt([(0,n.Z9)(!0)],i.prototype,"enableHtmlSanitizer",void 0),pt([(0,n.Z9)(!1)],i.prototype,"enablePersistence",void 0),pt([(0,n.Z9)(!1)],i.prototype,"showCloseIcon",void 0),pt([(0,n.Z9)(!1)],i.prototype,"isModal",void 0),pt([(0,n.Z9)("")],i.prototype,"header",void 0),pt([(0,n.Z9)(!0)],i.prototype,"visible",void 0),pt([(0,n.Z9)(!1)],i.prototype,"enableResize",void 0),pt([(0,n.Z9)(["South-East"])],i.prototype,"resizeHandles",void 0),pt([(0,n.Z9)("auto")],i.prototype,"height",void 0),pt([(0,n.Z9)("")],i.prototype,"minHeight",void 0),pt([(0,n.Z9)("100%")],i.prototype,"width",void 0),pt([(0,n.Z9)("")],i.prototype,"cssClass",void 0),pt([(0,n.Z9)(1e3)],i.prototype,"zIndex",void 0),pt([(0,n.Z9)(null)],i.prototype,"target",void 0),pt([(0,n.Z9)("")],i.prototype,"footerTemplate",void 0),pt([(0,n.Z9)(!1)],i.prototype,"allowDragging",void 0),pt([(0,n.FE)([{}],cw)],i.prototype,"buttons",void 0),pt([(0,n.Z9)(!0)],i.prototype,"closeOnEscape",void 0),pt([(0,n.Zz)({},pw)],i.prototype,"animationSettings",void 0),pt([(0,n.Zz)({X:"center",Y:"center"},Cy)],i.prototype,"position",void 0),pt([(0,n.ju)()],i.prototype,"created",void 0),pt([(0,n.ju)()],i.prototype,"open",void 0),pt([(0,n.ju)()],i.prototype,"beforeSanitizeHtml",void 0),pt([(0,n.ju)()],i.prototype,"beforeOpen",void 0),pt([(0,n.ju)()],i.prototype,"close",void 0),pt([(0,n.ju)()],i.prototype,"beforeClose",void 0),pt([(0,n.ju)()],i.prototype,"dragStart",void 0),pt([(0,n.ju)()],i.prototype,"dragStop",void 0),pt([(0,n.ju)()],i.prototype,"drag",void 0),pt([(0,n.ju)()],i.prototype,"overlayClick",void 0),pt([(0,n.ju)()],i.prototype,"resizeStart",void 0),pt([(0,n.ju)()],i.prototype,"resizing",void 0),pt([(0,n.ju)()],i.prototype,"resizeStop",void 0),pt([(0,n.ju)()],i.prototype,"destroyed",void 0),pt([n.Zl],i)}(n.wA);!function(h){function t(p,u){var f=new Ju(p);return f.appendTo(u),f}function o(p,u){return p.header=(0,n.le)(u.title)?null:u.title,p.content=(0,n.le)(u.content)?"":u.content,p.isModal=!!(0,n.le)(u.isModal)||u.isModal,p.showCloseIcon=!(0,n.le)(u.showCloseIcon)&&u.showCloseIcon,p.allowDragging=!(0,n.le)(u.isDraggable)&&u.isDraggable,p.closeOnEscape=!(0,n.le)(u.closeOnEscape)&&u.closeOnEscape,p.position=(0,n.le)(u.position)?{X:"center",Y:"top"}:u.position,p.animationSettings=(0,n.le)(u.animationSettings)?{effect:"Fade",duration:400,delay:0}:u.animationSettings,p.cssClass=(0,n.le)(u.cssClass)?"":u.cssClass,p.zIndex=(0,n.le)(u.zIndex)?1e3:u.zIndex,p.open=(0,n.le)(u.open)?null:u.open,p.width=(0,n.le)(u.width)?"auto":u.width,p.height=(0,n.le)(u.height)?"auto":u.height,p}function c(p,u,f){var v=f;return(0,n.le)(u.text)||(v.buttonModel.content=u.text),(0,n.le)(u.icon)||(v.buttonModel.iconCss=u.icon),(0,n.le)(u.cssClass)||(v.buttonModel.cssClass=u.cssClass),(0,n.le)(u.click)||(v.click=u.click),(0,n.le)(u.isFlat)||(v.isFlat=u.isFlat),v}h.alert=function i(p){var f,u=(0,n.az)("div",{className:Hy});return document.body.appendChild(u),(f=t("string"==typeof p?{content:p,position:{X:"center",Y:"top"},isModal:!0,header:Yy,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}]}:function s(p){var u={buttons:[]};return u=function a(p,u){var f=[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}}];return(0,n.le)(u.okButton)?p.buttons=f:p.buttons[0]=c(0,u.okButton,f[0]),p}(u=o(u,p),p),u}(p),u)).close=function(){p&&p.close&&p.close.apply(f),f.destroy(),f.element.classList.contains("e-dlg-modal")?(f.element.parentElement.remove(),f.target.classList.remove(Fy)):f.element.remove()},f},h.confirm=function e(p){var f,u=(0,n.az)("div",{className:Ny});return document.body.appendChild(u),(f=t("string"==typeof p?{position:{X:"center",Y:"top"},content:p,isModal:!0,header:Yy,buttons:[{buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},{buttonModel:{content:"Cancel"},click:function(){this.hide()}}]}:function r(p){var u={buttons:[]};return u=function d(p,u){var f={buttonModel:{isPrimary:!0,content:"OK"},click:function(){this.hide()}},v={buttonModel:{content:"Cancel"},click:function(){this.hide()}};return p.buttons[0]=(0,n.le)(u.okButton)?f:c(0,u.okButton,f),p.buttons[1]=(0,n.le)(u.cancelButton)?v:c(0,u.cancelButton,v),p}(u=o(u,p),p),u}(p),u)).close=function(){p&&p.close&&p.close.apply(f),f.destroy(),f.element.classList.contains("e-dlg-modal")?(f.element.parentElement.remove(),f.target.classList.remove(Fy)):f.element.remove()},f}}(zy||(zy={}));var Vy=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),Rt=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},Gu="e-tooltip",Uy="e-icons",Xy="e-tooltip-close",Qu="e-tooltip-wrap",Jy="e-tip-content",$o="e-arrow-tip",Gy="e-arrow-tip-outer",ud="e-arrow-tip-inner",bl="e-tip-bottom",$u="e-tip-top",Qy="e-tip-left",Ku="e-tip-right",ef="e-popup",fd="e-popup-open",tf="e-popup-close",md="e-lib",$y="e-tooltip-popup-container",Mw=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Vy(i,h),Rt([(0,n.Z9)({effect:"FadeIn",duration:150,delay:0})],i.prototype,"open",void 0),Rt([(0,n.Z9)({effect:"FadeOut",duration:150,delay:0})],i.prototype,"close",void 0),i}(n.rt),Cl=function(h){function i(e,t){var s=h.call(this,e,t)||this;return s.mouseMoveEvent=null,s.mouseMoveTarget=null,s.containerElement=null,s.isBodyContainer=!0,s}return Vy(i,h),i.prototype.initialize=function(){this.formatPosition(),(0,n.cn)([this.element],Gu)},i.prototype.formatPosition=function(){var e,t;0===this.position.indexOf("Top")||0===this.position.indexOf("Bottom")?(e=this.position.split(/(?=[A-Z])/),this.tooltipPositionY=e[0],this.tooltipPositionX=e[1]):(t=this.position.split(/(?=[A-Z])/),this.tooltipPositionX=t[0],this.tooltipPositionY=t[1])},i.prototype.renderArrow=function(){this.setTipClass(this.position);var e=this.createElement("div",{className:$o+" "+this.tipClass});e.appendChild(this.createElement("div",{className:Gy+" "+this.tipClass})),e.appendChild(this.createElement("div",{className:ud+" "+this.tipClass})),this.tooltipEle.appendChild(e)},i.prototype.setTipClass=function(e){this.tipClass=0===e.indexOf("Right")?Qy:0===e.indexOf("Bottom")?$u:0===e.indexOf("Left")?Ku:bl},i.prototype.renderPopup=function(e){var t=this.mouseTrail?{top:0,left:0}:this.getTooltipPosition(e);this.tooltipEle.classList.remove(md),this.popupObj=new xn(this.tooltipEle,{height:this.height,width:this.width,position:{X:t.left,Y:t.top},enableRtl:this.enableRtl,open:this.openPopupHandler.bind(this),close:this.closePopupHandler.bind(this)})},i.prototype.getScalingFactor=function(e){if(!e)return{x:1,y:1};var t={x:1,y:1},s=e.closest('[style*="transform: scale"]');if(s&&s!=this.tooltipEle&&s.contains(this.tooltipEle)){var a=window.getComputedStyle(s).getPropertyValue("transform").match(/matrix\(([^)]+)\)/)[1].split(",").map(parseFloat);t.x=a[0],t.y=a[3]}return t},i.prototype.getTooltipPosition=function(e){this.tooltipEle.style.display="block";var t=this.element.closest('[style*="zoom"]');t&&(t.contains(this.tooltipEle)||(this.tooltipEle.style.zoom=getComputedStyle(t).zoom));var s=Hi(e,this.tooltipPositionX,this.tooltipPositionY,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect()),r=this.getScalingFactor(e),o=this.calculateTooltipOffset(this.position,r.x,r.y),a=this.calculateElementPosition(s,o),p=this.collisionFlipFit(e,a[0],a[1]);return this.isBodyContainer||(p.top-=this.containerElement.getBoundingClientRect().top),p.left=p.left/r.x,p.top=p.top/r.y,this.tooltipEle.style.display="",p},i.prototype.windowResize=function(){this.reposition(this.findTarget())},i.prototype.reposition=function(e){if(this.popupObj&&e){var t=this.getTooltipPosition(e);this.popupObj.position={X:t.left,Y:t.top},this.popupObj.dataBind()}},i.prototype.openPopupHandler=function(){!this.mouseTrail&&this.needTemplateReposition()&&this.reposition(this.findTarget()),this.trigger("afterOpen",this.tooltipEventArgs),this.tooltipEventArgs=null},i.prototype.closePopupHandler=function(){this.isReact&&!("Click"===this.opensOn&&"function"==typeof this.content)&&this.clearTemplate(["content"]),this.clear(),this.trigger("afterClose",this.tooltipEventArgs),this.tooltipEventArgs=null},i.prototype.calculateTooltipOffset=function(e,t,s){void 0===t&&(t=1),void 0===s&&(s=1);var o,a,d,c,p,u,f,v,r={top:0,left:0};if(1!=t||1!=s){var g=this.tooltipEle.getBoundingClientRect(),b=void 0;d=Math.round(g.width),c=Math.round(g.height),(p=(0,n.Ys)("."+$o,this.tooltipEle))&&(b=p.getBoundingClientRect()),o=p?Math.round(b.width):0,a=p?Math.round(b.height):0,u=this.showTipPointer?0:8,f=a/2+2+(c-this.tooltipEle.clientHeight*s),v=o/2+2+(d-this.tooltipEle.clientWidth*t)}else d=this.tooltipEle.offsetWidth,c=this.tooltipEle.offsetHeight,p=(0,n.Ys)("."+$o,this.tooltipEle),u=this.showTipPointer?0:8,f=(a=p?p.offsetHeight:0)/2+2+(this.tooltipEle.offsetHeight-this.tooltipEle.clientHeight),v=(o=p?p.offsetWidth:0)/2+2+(this.tooltipEle.offsetWidth-this.tooltipEle.clientWidth);switch(this.mouseTrail&&(u+=2),e){case"RightTop":r.left+=o+u,r.top-=c-f;break;case"RightCenter":r.left+=o+u,r.top-=c/2;break;case"RightBottom":r.left+=o+u,r.top-=f;break;case"BottomRight":r.top+=a+u,r.left-=v;break;case"BottomCenter":r.top+=a+u,r.left-=d/2;break;case"BottomLeft":r.top+=a+u,r.left-=d-v;break;case"LeftBottom":r.left-=o+d+u,r.top-=f;break;case"LeftCenter":r.left-=o+d+u,r.top-=c/2;break;case"LeftTop":r.left-=o+d+u,r.top-=c-f;break;case"TopLeft":r.top-=c+a+u,r.left-=d-v;break;case"TopRight":r.top-=c+a+u,r.left-=v;break;default:r.top-=c+a+u,r.left-=d/2}return r.left+=this.offsetX,r.top+=this.offsetY,r},i.prototype.updateTipPosition=function(e){var t=(0,n.td)("."+$o+",."+Gy+",."+ud,this.tooltipEle);(0,n.IV)(t,[bl,$u,Qy,Ku]),this.setTipClass(e),(0,n.cn)(t,this.tipClass)},i.prototype.adjustArrow=function(e,t,s,r){var o=(0,n.Ys)("."+$o,this.tooltipEle);if(!1!==this.showTipPointer&&null!==o){var a,d;this.updateTipPosition(t),this.tooltipEle.style.display="block";var g,c=this.tooltipEle.clientWidth,p=this.tooltipEle.clientHeight,u=(0,n.Ys)("."+ud,this.tooltipEle),f=o.offsetWidth,v=o.offsetHeight;this.tooltipEle.style.display="",this.tipClass===bl||this.tipClass===$u?(this.tipClass===bl?(d="99.9%",u.style.top="-"+(v-2)+"px"):(d=-(v-1)+"px",u.style.top="-"+(v-6)+"px"),e&&(a=(g="Center"!==s||c>e.offsetWidth||this.mouseTrail)&&"Left"===s||!g&&"End"===this.tipPointerPosition?c-f-2+"px":g&&"Right"===s||!g&&"Start"===this.tipPointerPosition?"2px":!g||"End"!==this.tipPointerPosition&&"Start"!==this.tipPointerPosition?c/2-f/2+"px":"End"===this.tipPointerPosition?e.offsetWidth+(this.tooltipEle.offsetWidth-e.offsetWidth)/2-f/2-2+"px":(this.tooltipEle.offsetWidth-e.offsetWidth)/2-f/2+2+"px")):(this.tipClass===Ku?(a="99.9%",u.style.left="-"+(f-2)+"px"):(a=-(f-1)+"px",u.style.left=f-2-f+"px"),d=(g="Center"!==r||p>e.offsetHeight||this.mouseTrail)&&"Top"===r||!g&&"End"===this.tipPointerPosition?p-v-2+"px":g&&"Bottom"===r||!g&&"Start"===this.tipPointerPosition?"2px":p/2-v/2+"px"),o.style.top=d,o.style.left=a}},i.prototype.renderContent=function(e){var t=(0,n.Ys)("."+Jy,this.tooltipEle);if(this.cssClass&&(0,n.cn)([this.tooltipEle],this.cssClass.split(" ")),e&&!(0,n.le)(e.getAttribute("title"))&&(e.setAttribute("data-content",e.getAttribute("title")),e.removeAttribute("title")),(0,n.le)(this.content))e&&!(0,n.le)(e.getAttribute("data-content"))&&(t.innerHTML=e.getAttribute("data-content"));else if(t.innerHTML="",this.content instanceof HTMLElement)t.appendChild(this.content);else if("string"==typeof this.content)this.enableHtmlSanitizer&&this.setProperties({content:n.pJ.sanitize(this.content)},!0),this.enableHtmlParse?(r=(0,n.MY)(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t,this.root))&&(0,n.R3)(r,t):t.textContent=this.content;else{var r;(r=(0,n.MY)(this.content)({},this,"content",this.element.id+"content",void 0,void 0,t))&&(0,n.R3)(r,t),this.renderReactTemplates()}},i.prototype.renderCloseIcon=function(){if(this.isSticky){var t=this.createElement("div",{className:Uy+" "+Xy});this.tooltipEle.appendChild(t),n.bi.add(t,n.AR.touchStartEvent,this.onStickyClose,this)}else{var e=this.tooltipEle.querySelector("."+Uy+"."+Xy);e&&(0,n.Od)(e)}},i.prototype.addDescribedBy=function(e,t){var s=(e.getAttribute("aria-describedby")||"").split(/\s+/);s.indexOf(t)<0&&s.push(t),(0,n.Y4)(e,{"aria-describedby":s.join(" ").trim(),"data-tooltip-id":t})},i.prototype.removeDescribedBy=function(e){var t=e.getAttribute("data-tooltip-id"),s=(e.getAttribute("aria-describedby")||"").split(/\s+/),r=s.indexOf(t);-1!==r&&s.splice(r,1),e.removeAttribute("data-tooltip-id");var o=s.join(" ").trim();o?e.setAttribute("aria-describedby",o):e.removeAttribute("aria-describedby")},i.prototype.tapHoldHandler=function(e){clearTimeout(this.autoCloseTimer),this.targetHover(e.originalEvent)},i.prototype.touchEndHandler=function(e){var t=this;this.isSticky||(this.autoCloseTimer=setTimeout(function(){t.close()},1500))},i.prototype.targetClick=function(e){var t;t=this.target?(0,n.oq)(e.target,this.target):this.element,!(0,n.le)(t)&&(null===t.getAttribute("data-tooltip-id")?this.targetHover(e):this.isSticky||this.hideTooltip(this.animation.close,e,t))},i.prototype.targetHover=function(e){var t;if(t=this.target?(0,n.oq)(e.target,this.target):this.element,!((0,n.le)(t)||null!==t.getAttribute("data-tooltip-id")&&0===this.closeDelay)){for(var r=0,o=[].slice.call((0,n.td)('[data-tooltip-id= "'+this.ctrlId+'_content"]',document));r<o.length;r++)this.restoreElement(o[r]);this.showTooltip(t,this.animation.open,e)}},i.prototype.mouseMoveBeforeOpen=function(e){this.mouseMoveEvent=e},i.prototype.mouseMoveBeforeRemove=function(){this.mouseMoveTarget&&n.bi.remove(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen)},i.prototype.showTooltip=function(e,t,s){var r=this;clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.openDelay&&this.mouseTrail&&(this.mouseMoveBeforeRemove(),this.mouseMoveTarget=e,n.bi.add(this.mouseMoveTarget,"mousemove touchstart",this.mouseMoveBeforeOpen,this)),this.tooltipEventArgs={type:s?s.type:null,cancel:!1,target:e,event:s||null,element:this.tooltipEle,isInteracted:!(0,n.le)(s)},this.trigger("beforeRender",this.tooltipEventArgs,function(a){r.beforeRenderCallback(a,e,s,t)}.bind(this))},i.prototype.beforeRenderCallback=function(e,t,s,r){e.cancel?(this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove()):(this.isHidden=!1,(0,n.le)(this.tooltipEle)?(this.ctrlId=this.element.getAttribute("id")?(0,n.QI)(this.element.getAttribute("id")):(0,n.QI)("tooltip"),this.tooltipEle=this.createElement("div",{className:Qu+" "+ef+" "+md,attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"},styles:"width:"+(0,n.Ac)(this.width)+";height:"+(0,n.Ac)(this.height)+";position:absolute;"}),this.tooltipBeforeRender(t,this),this.tooltipAfterRender(t,s,r,this)):t&&(this.adjustArrow(t,this.position,this.tooltipPositionX,this.tooltipPositionY),this.addDescribedBy(t,this.ctrlId+"_content"),this.renderContent(t),n.fw.stop(this.tooltipEle),this.reposition(t),this.tooltipAfterRender(t,s,r,this)))},i.prototype.appendContainer=function(e){"string"==typeof this.container?"body"===this.container?this.containerElement=document.body:(this.isBodyContainer=!1,this.containerElement=(0,n.Ys)(this.container,document)):this.container instanceof HTMLElement&&(this.containerElement=this.container,this.isBodyContainer="BODY"===this.containerElement.tagName),this.isBodyContainer||(0,n.cn)([this.containerElement],$y),this.containerElement.appendChild(e.tooltipEle)},i.prototype.tooltipBeforeRender=function(e,t){e&&(n.AR.isDevice&&(0,n.cn)([t.tooltipEle],"e-bigger"),"auto"!==t.width&&(t.tooltipEle.style.maxWidth=(0,n.Ac)(t.width)),t.tooltipEle.appendChild(t.createElement("div",{className:Jy})),this.appendContainer(t),(0,n.IV)([t.tooltipEle],"e-hidden"),t.addDescribedBy(e,t.ctrlId+"_content"),t.renderContent(e),(0,n.cn)([t.tooltipEle],fd),t.showTipPointer&&t.renderArrow(),t.renderCloseIcon(),t.renderPopup(e),t.adjustArrow(e,t.position,t.tooltipPositionX,t.tooltipPositionY),n.fw.stop(t.tooltipEle),t.reposition(e))},i.prototype.tooltipAfterRender=function(e,t,s,r){e&&((0,n.IV)([r.tooltipEle],fd),(0,n.cn)([r.tooltipEle],tf),r.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:e,event:t||null,element:r.tooltipEle,isInteracted:!(0,n.le)(t)},r.needTemplateReposition()&&!r.mouseTrail&&(r.tooltipEle.style.display="none"),r.trigger("beforeOpen",r.tooltipEventArgs,function(a){r.beforeOpenCallback(a,e,s,t)}.bind(r)))},i.prototype.beforeOpenCallback=function(e,t,s,r){var o=this;if(e.cancel)this.isHidden=!0,this.clear(),this.mouseMoveBeforeRemove(),this.restoreElement(t);else{var a={name:"None"===s.effect&&"Enable"===n.ti?"FadeIn":this.animation.open.effect,duration:s.duration,delay:s.delay,timingFunction:"easeOut"};"None"===s.effect&&(a=void 0),this.openDelay>0?this.showTimer=setTimeout(function(){o.mouseTrail&&n.bi.add(t,"mousemove touchstart mouseenter",o.onMouseMove,o),o.popupObj&&(o.popupObj.show(a,t),o.mouseMoveEvent&&o.mouseTrail&&o.onMouseMove(o.mouseMoveEvent))},this.openDelay):this.popupObj&&this.popupObj.show(a,t)}r&&this.wireMouseEvents(r,t)},i.prototype.needTemplateReposition=function(){return!(0,n.le)(this.viewContainerRef)&&"string"!=typeof this.viewContainerRef||this.isReact},i.prototype.checkCollision=function(e,t,s){var r={left:t,top:s,position:this.position,horizontal:this.tooltipPositionX,vertical:this.tooltipPositionY},o=Sn(this.tooltipEle,this.checkCollideTarget(),t,s);return o.length>0&&(r.horizontal=o.indexOf("left")>=0?"Right":o.indexOf("right")>=0?"Left":this.tooltipPositionX,r.vertical=o.indexOf("top")>=0?"Bottom":o.indexOf("bottom")>=0?"Top":this.tooltipPositionY),r},i.prototype.calculateElementPosition=function(e,t){return[this.isBodyContainer?e.left+t.left:e.left-this.containerElement.offsetLeft+t.left+window.pageXOffset+this.containerElement.scrollLeft,this.isBodyContainer?e.top+t.top:e.top-this.containerElement.offsetTop+t.top+window.pageYOffset+this.containerElement.scrollTop]},i.prototype.collisionFlipFit=function(e,t,s){var r=this.checkCollision(e,t,s),o=r.position;if(this.tooltipPositionY!==r.vertical&&(o=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?r.vertical+this.tooltipPositionX:this.tooltipPositionX+r.vertical),this.tooltipPositionX!==r.horizontal&&(0===o.indexOf("Left")&&(r.vertical="LeftTop"===o||"LeftCenter"===o?"Top":"Bottom",o=r.vertical+"Left"),0===o.indexOf("Right")&&(r.vertical="RightTop"===o||"RightCenter"===o?"Top":"Bottom",o=r.vertical+"Right"),r.horizontal=this.tooltipPositionX),this.tooltipEventArgs={type:null,cancel:!1,target:e,event:null,element:this.tooltipEle,collidedPosition:o},this.trigger("beforeCollision",this.tooltipEventArgs),this.tooltipEventArgs.cancel)o=this.position;else{var a=r.vertical,d=r.horizontal;if(r.position!==o){var c=Hi(e,d,a,!this.isBodyContainer,this.isBodyContainer?null:this.containerElement.getBoundingClientRect());this.adjustArrow(e,o,d,a);var p=this.getScalingFactor(e),u=this.calculateTooltipOffset(o,p.x,p.y);u.top-=this.getOffSetPosition("TopBottom",o,this.offsetY),u.left-=this.getOffSetPosition("RightLeft",o,this.offsetX),r.position=o;var f=this.calculateElementPosition(c,u);r.left=f[0],r.top=f[1]}else this.adjustArrow(e,o,d,a)}var v={left:r.left,top:r.top},g=Pu(this.tooltipEle,this.checkCollideTarget(),{X:!0,Y:this.windowCollision},v);this.tooltipEle.style.display="block";var b=(0,n.Ys)("."+$o,this.tooltipEle);if(this.showTipPointer&&null!=b&&(0===o.indexOf("Bottom")||0===o.indexOf("Top"))){var C=parseInt(b.style.left,10)-(g.left-r.left);C<0?C=0:C+b.offsetWidth>this.tooltipEle.clientWidth&&(C=this.tooltipEle.clientWidth-b.offsetWidth),b.style.left=C.toString()+"px"}return this.tooltipEle.style.display="",v.left=g.left,v.top=g.top,v},i.prototype.getOffSetPosition=function(e,t,s){return-1!==e.indexOf(this.position.split(/(?=[A-Z])/)[0])&&-1!==e.indexOf(t.split(/(?=[A-Z])/)[0])?2*s:0},i.prototype.checkCollideTarget=function(){return!this.windowCollision&&this.target?this.element:null},i.prototype.hideTooltip=function(e,t,s){var r=this;this.closeDelay>0?(clearTimeout(this.hideTimer),clearTimeout(this.showTimer),this.hideTimer=setTimeout(function(){r.closeDelay&&r.tooltipEle&&r.isTooltipOpen||r.tooltipHide(e,t,s)},this.closeDelay)):this.tooltipHide(e,t,s)},i.prototype.tooltipHide=function(e,t,s){var o,r=this;o=t?this.target?s||t.target:this.element:(0,n.Ys)('[data-tooltip-id= "'+this.ctrlId+'_content"]',document),this.tooltipEventArgs={type:t?t.type:null,cancel:!1,target:o,event:t||null,element:this.tooltipEle,isInteracted:!(0,n.le)(t)},this.trigger("beforeClose",this.tooltipEventArgs,function(a){a.cancel?r.isHidden=!1:(r.mouseMoveBeforeRemove(),r.popupHide(e,o,t))}),this.tooltipEventArgs=null},i.prototype.popupHide=function(e,t,s){t&&s&&this.restoreElement(t),this.isHidden=!0;var r={name:"None"===e.effect&&"Enable"===n.ti?"FadeOut":this.animation.close.effect,duration:e.duration,delay:e.delay,timingFunction:"easeIn"};"None"===e.effect&&(r=void 0),this.popupObj&&this.popupObj.hide(r)},i.prototype.restoreElement=function(e){this.unwireMouseEvents(e),(0,n.le)(e.getAttribute("data-content"))||(e.setAttribute("title",e.getAttribute("data-content")),e.removeAttribute("data-content")),this.removeDescribedBy(e)},i.prototype.clear=function(){var e=this.findTarget();e&&this.restoreElement(e),this.tooltipEle&&((0,n.IV)([this.tooltipEle],tf),(0,n.cn)([this.tooltipEle],fd)),this.isHidden&&(this.popupObj&&this.popupObj.destroy(),this.tooltipEle&&(0,n.Od)(this.tooltipEle),this.tooltipEle=null,this.popupObj=null)},i.prototype.tooltipHover=function(e){this.tooltipEle&&(this.isTooltipOpen=!0)},i.prototype.tooltipMouseOut=function(e){this.isTooltipOpen=!1,this.hideTooltip(this.animation.close,e,this.findTarget())},i.prototype.onMouseOut=function(e){var t=e.relatedTarget;if(t&&!this.mouseTrail){var s=(0,n.oq)(t,"."+Qu+"."+md+"."+ef);s?n.bi.add(s,"mouseleave",this.tooltipElementMouseOut,this):(this.hideTooltip(this.animation.close,e,this.findTarget()),0===this.closeDelay&&this.clear())}else this.hideTooltip(this.animation.close,e,this.findTarget()),this.clear()},i.prototype.tooltipElementMouseOut=function(e){this.hideTooltip(this.animation.close,e,this.findTarget()),n.bi.remove(this.element,"mouseleave",this.tooltipElementMouseOut),this.clear()},i.prototype.onStickyClose=function(e){this.close()},i.prototype.onMouseMove=function(e){var t=0,s=0;e.type.indexOf("touch")>-1?(e.preventDefault(),t=e.touches[0].pageX,s=e.touches[0].pageY):(t=e.pageX,s=e.pageY),n.fw.stop(this.tooltipEle),(0,n.IV)([this.tooltipEle],tf),(0,n.cn)([this.tooltipEle],fd),this.adjustArrow(e.target,this.position,this.tooltipPositionX,this.tooltipPositionY);var r=this.getScalingFactor(e.target),o=this.calculateTooltipOffset(this.position,r.x,r.y),c=this.checkCollision(e.target,t+o.left+this.offsetX,s+o.top+this.offsetY);if(this.tooltipPositionX!==c.horizontal||this.tooltipPositionY!==c.vertical){var p=0===this.position.indexOf("Bottom")||0===this.position.indexOf("Top")?c.vertical+c.horizontal:c.horizontal+c.vertical;c.position=p,this.adjustArrow(e.target,c.position,c.horizontal,c.vertical);var u=this.calculateTooltipOffset(c.position,r.x,r.y);c.left=t+u.left-this.offsetX,c.top=s+u.top-this.offsetY}this.tooltipEle.style.left=c.left+"px",this.tooltipEle.style.top=c.top+"px"},i.prototype.keyDown=function(e){this.tooltipEle&&27===e.keyCode&&this.close()},i.prototype.touchEnd=function(e){this.tooltipEle&&null===(0,n.oq)(e.target,"."+Gu)&&!this.isSticky&&this.close()},i.prototype.scrollHandler=function(e){this.tooltipEle&&!this.isSticky&&((0,n.oq)(e.target,"."+Qu+"."+md+"."+ef)||this.close())},i.prototype.render=function(){this.initialize(),this.wireEvents(this.opensOn),this.renderComplete()},i.prototype.preRender=function(){this.tipClass=bl,this.tooltipPositionX="Center",this.tooltipPositionY="Top",this.isHidden=!0},i.prototype.wireEvents=function(e){for(var s=0,r=this.getTriggerList(e);s<r.length;s++){var o=r[s];if("Custom"===o)return;"Focus"===o&&this.wireFocusEvents(),"Click"===o&&n.bi.add(this.element,n.AR.touchStartEvent,this.targetClick,this),"Hover"===o&&(n.AR.isDevice?(this.touchModule=new n.Xh(this.element,{tapHoldThreshold:500,tapHold:this.tapHoldHandler.bind(this)}),n.bi.add(this.element,n.AR.touchEndEvent,this.touchEndHandler,this)):n.bi.add(this.element,"mouseover",this.targetHover,this))}n.bi.add(document,"touchend",this.touchEnd,this),n.bi.add(document,"scroll wheel",this.scrollHandler,this),n.bi.add(window,"resize",this.windowResize,this),n.bi.add(document,"keydown",this.keyDown,this)},i.prototype.getTriggerList=function(e){return"Auto"===e&&(e=n.AR.isDevice?"Hover":"Hover Focus"),e.split(" ")},i.prototype.wireFocusEvents=function(){if((0,n.le)(this.target))n.bi.add(this.element,"focusin",this.targetHover,this);else{var e=[].slice.call((0,n.td)(this.target,this.element));this.targetsList=e;for(var t=0,s=e;t<s.length;t++)n.bi.add(s[t],"focus",this.targetHover,this)}},i.prototype.wireMouseEvents=function(e,t){this.tooltipEle&&(this.isSticky||("focus"===e.type&&n.bi.add(t,"blur",this.onMouseOut,this),"focusin"===e.type&&n.bi.add(t,"focusout",this.onMouseOut,this),"mouseover"===e.type&&n.bi.add(t,"mouseleave",this.onMouseOut,this),this.closeDelay&&(n.bi.add(this.tooltipEle,"mouseenter",this.tooltipHover,this),n.bi.add(this.tooltipEle,"mouseleave",this.tooltipMouseOut,this))),this.mouseTrail&&0===this.openDelay&&n.bi.add(t,"mousemove touchstart mouseenter",this.onMouseMove,this))},i.prototype.unwireEvents=function(e){for(var s=0,r=this.getTriggerList(e);s<r.length;s++){var o=r[s];if("Custom"===o)return;"Focus"===o&&this.unwireFocusEvents(),"Click"===o&&n.bi.remove(this.element,n.AR.touchStartEvent,this.targetClick),"Hover"===o&&(n.AR.isDevice?(this.touchModule&&this.touchModule.destroy(),n.bi.remove(this.element,n.AR.touchEndEvent,this.touchEndHandler)):n.bi.remove(this.element,"mouseover",this.targetHover))}n.bi.remove(document,"touchend",this.touchEnd),n.bi.remove(document,"scroll wheel",this.scrollHandler),n.bi.remove(window,"resize",this.windowResize),n.bi.remove(document,"keydown",this.keyDown)},i.prototype.unwireFocusEvents=function(){if((0,n.le)(this.target))n.bi.remove(this.element,"focusin",this.targetHover);else for(var t=0,s=[].slice.call((0,n.td)(this.target,this.element));t<s.length;t++)n.bi.remove(s[t],"focus",this.targetHover)},i.prototype.unwireMouseEvents=function(e){if(!this.isSticky){for(var s=0,r=this.getTriggerList(this.opensOn);s<r.length;s++){var o=r[s];"Focus"===o&&(n.bi.remove(e,"blur",this.onMouseOut),n.bi.remove(e,"focusout",this.onMouseOut)),"Hover"===o&&!n.AR.isDevice&&n.bi.remove(e,"mouseleave",this.onMouseOut)}this.closeDelay&&(n.bi.remove(e,"mouseenter",this.tooltipHover),n.bi.remove(e,"mouseleave",this.tooltipMouseOut))}this.mouseTrail&&n.bi.remove(e,"mousemove touchstart mouseenter",this.onMouseMove)},i.prototype.findTarget=function(){return(0,n.Ys)('[data-tooltip-id= "'+this.ctrlId+'_content"]',document)},i.prototype.getModuleName=function(){return"tooltip"},i.prototype.getPersistData=function(){return this.addOnPersist([])},i.prototype.onPropertyChanged=function(e,t){for(var s=this.findTarget(),r=0,o=Object.keys(e);r<o.length;r++)switch(o[r]){case"width":this.tooltipEle&&s&&(this.tooltipEle.style.width=this.tooltipEle.style.maxWidth=(0,n.Ac)(e.width),this.reposition(s));break;case"height":this.tooltipEle&&s&&(this.tooltipEle.style.height=(0,n.Ac)(e.height),this.reposition(s));break;case"content":this.tooltipEle&&this.renderContent();break;case"opensOn":this.unwireEvents(t.opensOn),this.wireEvents(e.opensOn);break;case"position":if(this.formatPosition(),this.tooltipEle&&s){var d=(0,n.Ys)("."+ud,this.tooltipEle);d&&(d.style.top=d.style.left=null),this.reposition(s)}break;case"tipPointerPosition":this.tooltipEle&&s&&this.reposition(s);break;case"offsetX":if(this.tooltipEle){var c=e.offsetX-t.offsetX;this.tooltipEle.style.left=(parseInt(this.tooltipEle.style.left,10)+c).toString()+"px"}break;case"offsetY":if(this.tooltipEle){var p=e.offsetY-t.offsetY;this.tooltipEle.style.top=(parseInt(this.tooltipEle.style.top,10)+p).toString()+"px"}break;case"cssClass":this.tooltipEle&&(t.cssClass&&(0,n.IV)([this.tooltipEle],t.cssClass.split(" ")),e.cssClass&&(0,n.cn)([this.tooltipEle],e.cssClass.split(" ")));break;case"enableRtl":this.tooltipEle&&(this.enableRtl?(0,n.cn)([this.tooltipEle],"e-rtl"):(0,n.IV)([this.tooltipEle],"e-rtl"));break;case"isSticky":this.tooltipEle&&s&&(this.renderCloseIcon(),this.reposition(s));break;case"container":(0,n.le)(this.containerElement)||(0,n.IV)([this.containerElement],$y),this.container=e.container,this.tooltipEle&&s&&(this.appendContainer(this),this.reposition(s))}},i.prototype.open=function(e,t){(0,n.le)(t)&&(t=this.animation.open),(0,n.le)(e)&&(e=this.element),"none"!==e.style.display&&this.showTooltip(e,t)},i.prototype.close=function(e){e||(e=this.animation.close),this.hideTooltip(e)},i.prototype.refresh=function(e){this.tooltipEle&&this.renderContent(e),this.popupObj&&e&&this.reposition(e),(0,n.le)(this.targetsList)||(0,n.le)(this.target)||(0,n.td)(this.target,this.element).length!==this.targetsList.length&&(this.unwireEvents(this.opensOn),this.wireEvents(this.opensOn))},i.prototype.destroy=function(){h.prototype.destroy.call(this),this.tooltipEle&&(0,n.Od)(this.tooltipEle),this.popupObj&&this.popupObj.destroy(),(0,n.IV)([this.element],Gu),this.unwireEvents(this.opensOn),this.unwireMouseEvents(this.element),this.tooltipEle=null,this.popupObj=null;for(var t=0,s=(0,n.td)('[data-tooltip-id= "'+this.ctrlId+'_content"]',this.element);t<s.length;t++)this.restoreElement(s[t])},Rt([(0,n.Z9)("auto")],i.prototype,"width",void 0),Rt([(0,n.Z9)("auto")],i.prototype,"height",void 0),Rt([(0,n.Z9)()],i.prototype,"content",void 0),Rt([(0,n.Z9)("body")],i.prototype,"container",void 0),Rt([(0,n.Z9)()],i.prototype,"target",void 0),Rt([(0,n.Z9)("TopCenter")],i.prototype,"position",void 0),Rt([(0,n.Z9)(0)],i.prototype,"offsetX",void 0),Rt([(0,n.Z9)(0)],i.prototype,"offsetY",void 0),Rt([(0,n.Z9)(!0)],i.prototype,"showTipPointer",void 0),Rt([(0,n.Z9)(!0)],i.prototype,"enableHtmlParse",void 0),Rt([(0,n.Z9)(!1)],i.prototype,"windowCollision",void 0),Rt([(0,n.Z9)("Auto")],i.prototype,"tipPointerPosition",void 0),Rt([(0,n.Z9)("Auto")],i.prototype,"opensOn",void 0),Rt([(0,n.Z9)(!1)],i.prototype,"mouseTrail",void 0),Rt([(0,n.Z9)(!1)],i.prototype,"isSticky",void 0),Rt([(0,n.Zz)({},Mw)],i.prototype,"animation",void 0),Rt([(0,n.Z9)(0)],i.prototype,"openDelay",void 0),Rt([(0,n.Z9)(0)],i.prototype,"closeDelay",void 0),Rt([(0,n.Z9)()],i.prototype,"cssClass",void 0),Rt([(0,n.Z9)(!1)],i.prototype,"enableHtmlSanitizer",void 0),Rt([(0,n.Z9)("")],i.prototype,"htmlAttributes",void 0),Rt([(0,n.ju)()],i.prototype,"beforeRender",void 0),Rt([(0,n.ju)()],i.prototype,"beforeOpen",void 0),Rt([(0,n.ju)()],i.prototype,"afterOpen",void 0),Rt([(0,n.ju)()],i.prototype,"beforeClose",void 0),Rt([(0,n.ju)()],i.prototype,"afterClose",void 0),Rt([(0,n.ju)()],i.prototype,"beforeCollision",void 0),Rt([(0,n.ju)()],i.prototype,"created",void 0),Rt([(0,n.ju)()],i.prototype,"destroyed",void 0),Rt([n.Zl],i)}(n.wA),Ei={},_l="e-spin-show",wl="e-spin-hide",eb="e-spin-material",tb="e-spin-material3",ib="e-spin-fabric",sb="e-spin-fluent",rb="e-spin-tailwind",Yw="e-spin-bootstrap",nb="e-spin-bootstrap4",ob="e-spin-bootstrap5",ab="e-spin-high-contrast",vd="e-spinner-pane",sf="e-spinner-inner",gd="e-path-circle",Fw="e-path-arc",yd="e-spin-template";function Mn(h,i){var e;if(h.target){var t,s=(0,n.le)(i)?n.az:i,r=function rS(h,i){var e=i("div",{}),t=i("div",{});return e.classList.add(vd),t.classList.add(sf),t.setAttribute("aria-disabled","true"),h.appendChild(e),e.appendChild(t),{wrap:e,inner_wrap:t}}(h.target,s);if(!(0,n.le)(h.cssClass)){var o=h.cssClass.split(" ").filter(function(p){return""!==p.trim()});(e=r.wrap.classList).add.apply(e,o)}if((0,n.le)(h.template)&&(0,n.le)(null)){var d=(0,n.le)(h.type)?function Gw(h){return window.getComputedStyle(h,":after").getPropertyValue("content").replace(/['"]+/g,"")}(r.wrap):h.type;t=function iS(h,i){var e;switch(i){case"Material":case"Material3":case"Fabric":case"Tailwind":case"Tailwind-dark":case"Fluent":default:e=30;break;case"Bootstrap4":case"Bootstrap5":e=36}return h=h?parseFloat(h+""):e,"Bootstrap"===i?h:h/2}((0,n.le)(h.width)?void 0:h.width,d),function lb(h,i,e,t){var s=i.querySelector("."+sf),r=s.querySelector("svg");switch((0,n.le)(r)||s.removeChild(r),h){case"Material":!function Bw(h,i,e){var t=en();Ei[""+t]={timeOut:0,type:"Material",radius:i},_d(h,t,0,eb),wd(i,h,"Material",eb)}(s,e);break;case"Material3":!function zw(h,i,e){var t=en();Ei[""+t]={timeOut:0,type:"Material3",radius:i},_d(h,t,0,tb),wd(i,h,"Material3",tb)}(s,e);break;case"Fabric":!function Zw(h,i,e){var t=en();Ei[""+t]={timeOut:0,type:"Fabric",radius:i},Cd(h,t,ib),Sd(i,h,ib)}(s,e);break;case"Fluent":!function Uw(h,i,e){var t=en();Ei[""+t]={timeOut:0,type:"Fluent",radius:i},Cd(h,t,sb),Sd(i,h,sb)}(s,e);break;case"Bootstrap":!function Qw(h,i,e){var t=en();Ei[""+t]={timeOut:0,type:"Bootstrap",radius:i},function $w(h,i,e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),s=64,r=32,o=2;t.setAttribute("id",i),t.setAttribute("class",Yw),t.setAttribute("viewBox","0 0 "+s+" "+s),h.insertBefore(t,h.firstChild);for(var a=0;a<=7;a++){var d=document.createElementNS("http://www.w3.org/2000/svg","circle");d.setAttribute("class",gd+"_"+a),d.setAttribute("r",o+""),d.setAttribute("transform","translate("+r+","+r+")"),t.appendChild(d)}}(h,t),function Kw(h,i){var e=h.querySelector("svg.e-spin-bootstrap"),t=0,s=0,r=24;e.style.width=e.style.height=i+"px";for(var o=90,a=0;a<=7;a++){var d=rf(t,s,r,o),c=e.querySelector("."+gd+"_"+a);c.setAttribute("cx",d.x+""),c.setAttribute("cy",d.y+""),o=o>=360?0:o,o+=45}}(h,i)}(s,e);break;case"HighContrast":!function Jw(h,i,e){var t=en();Ei[""+t]={timeOut:0,type:"HighContrast",radius:i},Cd(h,t,ab),Sd(i,h,ab)}(s,e);break;case"Bootstrap4":!function Vw(h,i,e){var t=en();Ei[""+t]={timeOut:0,type:"Bootstrap4",radius:i},_d(h,t,0,nb),wd(i,h,"Bootstrap4",nb)}(s,e);break;case"Bootstrap5":!function qw(h,i,e){var t=en();Ei[""+t]={timeOut:0,type:"Bootstrap5",radius:i},_d(h,t,0,ob),wd(i,h,"Bootstrap5",ob)}(s,e);break;case"Tailwind":case"Tailwind-dark":!function Xw(h,i,e){var t=en();Ei[""+t]={timeOut:0,type:"Tailwind",radius:i},Cd(h,t,rb),Sd(i,h,rb)}(s,e)}}(d,r.wrap,t),(0,n.le)(h.label)||function Nw(h,i,e){var t=e("div",{});t.classList.add("e-spin-label"),t.innerHTML=i,h.appendChild(t)}(r.inner_wrap,h.label,s)}else{var a=(0,n.le)(h.template)?null:h.template;r.wrap.classList.add(yd),function hb(h,i,e){(0,n.le)(e)||h.classList.add(e),h.querySelector(".e-spinner-inner").innerHTML=i}(r.wrap,a,null)}r.wrap.classList.add(wl),r=null}}function eS(h,i){var e=[],t=h,s=i,r=!1,o=1;return function a(d){e.push(d),(d!==s||1===o)&&(d<=t&&d>1&&!r?d=parseFloat((d-.2).toFixed(2)):1===d?(d=7,d=parseFloat((d+.2).toFixed(2)),r=!0):d<8&&r?8===(d=parseFloat((d+.2).toFixed(2)))&&(r=!1):d<=8&&!r&&(d=parseFloat((d-.2).toFixed(2))),++o,a(d))}(t),e}function en(){for(var h="",e=0;e<5;e++)h+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return h}function Cd(h,i,e,t){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttribute("id",i),s.setAttribute("class",e);var r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("class",gd);var o=document.createElementNS("http://www.w3.org/2000/svg","path");o.setAttribute("class",Fw),h.insertBefore(s,h.firstChild),s.appendChild(r),s.appendChild(o)}function _d(h,i,e,t){var s=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("class",t),s.setAttribute("id",i),r.setAttribute("class",gd),h.insertBefore(s,h.firstChild),s.appendChild(r)}function db(h){(function nS(h,i,e,t,s,r,o){var a=++o.globalInfo[o.uniqueID].previousId,d=(new Date).getTime(),c=i-h,p=function oS(h){return parseFloat(h)}(2*o.globalInfo[o.uniqueID].radius+""),u=cb(p),f=-90*(o.globalInfo[o.uniqueID].count||0);!function v(b){var C=Math.max(0,Math.min((new Date).getTime()-d,t));(function g(b,C){if(!(0,n.le)(C.querySelector("svg.e-spin-material"))||!(0,n.le)(C.querySelector("svg.e-spin-material3"))){var T=void 0;if((0,n.le)(C.querySelector("svg.e-spin-material"))||(0,n.le)(C.querySelector("svg.e-spin-material").querySelector("path.e-path-circle"))?!(0,n.le)(C.querySelector("svg.e-spin-material3"))&&!(0,n.le)(C.querySelector("svg.e-spin-material3").querySelector("path.e-path-circle"))&&(T=C.querySelector("svg.e-spin-material3")):T=C.querySelector("svg.e-spin-material"),!(0,n.le)(T)){var O=T.querySelector("path.e-path-circle");O.setAttribute("stroke-dashoffset",pb(p,u,b,r)+""),O.setAttribute("transform","rotate("+f+" "+p/2+" "+p/2+")")}}})(e(C,h,c,t),b.container),a===b.globalInfo[b.uniqueID].previousId&&C<t?Ei[b.uniqueID].timeOut=setTimeout(v.bind(null,b),1):db(b)}(o)})(1,149,lS,1333,0,75,h),h.globalInfo[h.uniqueID].count=++h.globalInfo[h.uniqueID].count%4}function wd(h,i,e,t){var s=2*h,r=i.querySelector("svg."+t),o=r.querySelector("path.e-path-circle"),a=cb(s),d=s/2+"px";r.setAttribute("viewBox","0 0 "+s+" "+s),r.style.width=r.style.height=s+"px",r.style.transformOrigin=d+" "+d+" "+d,o.setAttribute("d",function aS(h,i){var e=h/2,t=i/2;return"M"+e+","+t+"A"+(e-t)+","+(e-t)+" 0 1 1 "+t+","+e}(s,a)),("Material"===e||"Material3"===e)&&(o.setAttribute("stroke-width",a+""),o.setAttribute("stroke-dasharray",(s-a)*Math.PI*.75+""),o.setAttribute("stroke-dashoffset",pb(s,a,1,75)+""))}function cb(h){return.1*h}function pb(h,i,e,t){return(h-i)*Math.PI*(3*t/100-e/100)}function lS(h,i,e,t){var s=(h/=t)*h,r=s*h;return i+e*(6*r*s+-15*s*s+10*r)}function Sd(h,i,e){var t=h,s=h,r=2*h,d=i.querySelector("."+e),c=d.querySelector(".e-path-circle"),p=d.querySelector(".e-path-arc"),u=r/2+"px";c.setAttribute("d",function dS(h,i,e){return["M",h,i,"m",-e,0,"a",e,e,0,1,0,2*e,0,"a",e,e,0,1,0,2*-e,0].join(" ")}(t,s,h)),p.setAttribute("d",function hS(h,i,e,t,s){var r=rf(h,i,e,s),o=rf(h,i,e,t);return["M",r.x,r.y,"A",e,e,0,0,0,o.x,o.y].join(" ")}(t,s,h,315,45)),d.setAttribute("viewBox","0 0 "+r+" "+r),d.style.transformOrigin=u+" "+u+" "+u,d.style.width=d.style.height=r+"px"}function rf(h,i,e,t){var s=(t-90)*Math.PI/180;return{x:h+e*Math.cos(s),y:i+e*Math.sin(s)}}function us(h){ub(h,!1),h=null}function ub(h,i){var e;if(h)if(h.classList.contains(vd))e=h;else{var t=h.querySelectorAll("."+vd);if(n.AR.isIE){for(var s=0;s<t.length;s++)if(t[s].parentElement&&t[s].parentElement===h){e=t[s];break}}else e=Array.from(t).find(function(c){return c.parentElement===h})||null}if(h&&e){var r=e.querySelector("."+sf);if(i?!e.classList.contains(yd)&&!e.classList.contains(wl):!e.classList.contains(yd)&&!e.classList.contains(_l)){var a=e.querySelector("svg");if((0,n.le)(a))return;var d=a.getAttribute("id");switch(Ei[""+d].isAnimate=!i,Ei[""+d].type){case"Material":case"Material3":i?clearTimeout(Ei[d].timeOut):function Ww(h,i,e){var t={};Ei[""+i].timeOut=0,t[""+i]=function sS(h,i,e,t){return{radius:i,count:e,previousId:t}}(0,e,0,0),db({uniqueID:i,container:h,globalInfo:t,timeOutVar:0})}(r,d,Ei[d].radius);break;case"Bootstrap":i?clearTimeout(Ei[d].timeOut):function tS(h){for(var e=h.querySelector("svg.e-spin-bootstrap").getAttribute("id"),t=1;t<=8;t++)r(h.getElementsByClassName("e-path-circle_"+(8===t?0:t))[0],t,0,eS(t,t),e);function r(o,a,d,c,p){var u=0;!function f(v){Ei[""+p].isAnimate&&(++u,o.setAttribute("r",v+""),u>=c.length&&(u=0),Ei[p].timeOut=setTimeout(f.bind(null,c[u]),18))}(a)}}(r)}}i?(0,n.s1)(e,[wl],[_l]):(0,n.s1)(e,[_l],[wl]),h=null}}function Ji(h){ub(h,!0),h=null}var fS=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),ea=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r};function Sl(h,i){for(var e=(0,n.l7)({},h),t=0,s=Object.keys(e);t<s.length;t++){var r=s[t];i.indexOf(r)<0&&(0,n.ex)(e,r)}return e}function mS(h,i){var e=40===i?0:h.childElementCount-1,t=e,r=h.querySelector(".e-selected");r&&r.classList.remove("e-selected");for(var o=0,a=h.children.length;o<a;o++)h.children[o].classList.contains("e-focused")&&(t=o,h.children[o].classList.remove("e-focused"),40===i?t++:t--,t===(40===i?h.childElementCount:-1)&&(t=e));-1!==(t=fb(h,h.children[t],t,i))&&((0,n.cn)([h.children[t]],"e-focused"),h.children[t].focus())}function fb(h,i,e,t,s){if(void 0===s&&(s=0),(i.classList.contains("e-separator")||i.classList.contains("e-disabled"))&&(e===(40===t?h.childElementCount-1:0)?e=40===t?0:h.childElementCount-1:40===t?e++:e--),(i=h.children[e]).classList.contains("e-separator")||i.classList.contains("e-disabled")){if(++s===h.childElementCount)return-1;e=fb(h,i,e,t,s)}return e}var qe,nf=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return fS(i,h),ea([(0,n.Z9)("")],i.prototype,"iconCss",void 0),ea([(0,n.Z9)("")],i.prototype,"id",void 0),ea([(0,n.Z9)(!1)],i.prototype,"separator",void 0),ea([(0,n.Z9)("")],i.prototype,"text",void 0),ea([(0,n.Z9)("")],i.prototype,"url",void 0),ea([(0,n.Z9)(!1)],i.prototype,"disabled",void 0),i}(n.rt),gS=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ni=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},ai=function(h){function i(e,t){var s=h.call(this,e,t)||this;return s.isPopupCreated=!0,s}return gS(i,h),i.prototype.preRender=function(){},i.prototype.getPersistData=function(){return this.addOnPersist([])},i.prototype.toggle=function(){this.canOpen()?this.openPopUp():this.createPopupOnClick&&!this.isPopupCreated?(this.createPopup(),this.openPopUp()):this.closePopup()},i.prototype.render=function(){this.initialize(),this.disabled||this.wireEvents(),this.renderComplete()},i.prototype.addItems=function(e,t){for(var s,r=this.items.length,o=0,a=this.items.length;o<a;o++)if(t===this.items[o].text){r=o;break}for(var d=e.length-1;d>=0;d--)s=new nf(this,"items",e[d],!0),this.items.splice(r,0,s);this.canOpen()||this.createItems()},i.prototype.removeItems=function(e,t){for(var s=!1,r=0,o=e.length;r<o;r++)for(var a=0,d=this.items.length;a<d;a++)if(e[r]===(t?this.items[a].id:this.items[a].text)){this.items.splice(a,1),s=!0;break}s&&this.getULElement()&&this.createItems()},i.prototype.createPopup=function(){var e,t=this.createElement("div",{className:"e-dropdown-popup",id:this.element.id+"-popup"});document.body.appendChild(t),this.dropDown=new xn(t,{relateTo:this.element,collision:{X:"fit",Y:"flip"},position:{X:"left",Y:"bottom"},targetType:"relative",content:this.target?this.getTargetElement():"",enableRtl:this.enableRtl}),this.dropDown.element.setAttribute("role","dialog"),this.dropDown.element.setAttribute("aria-label","dropdown menu"),(0,n.le)(this.popupContent)||(this.popupContent.style.display=""),"fixed"===this.dropDown.element.style.position&&this.dropDown.refreshPosition(this.element),this.dropDown.hide(),(0,n.Y4)(this.element,((e={})["aria-haspopup"]=this.items.length||this.target?"true":"false",e["aria-expanded"]="false",e.type="button",e)),this.cssClass&&(0,n.cn)([t],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.isPopupCreated=!0},i.prototype.getTargetElement=function(){return!this.createPopupOnClick||this.isColorPicker()||(0,n.le)(this.popupContent)?"string"==typeof this.target?(0,n.Ys)(this.target):this.target:this.popupContent},i.prototype.createItems=function(e){var r,o,a,d,t=this.items,s=this.hasIcon(this.items,"iconCss"),c=this.getULElement();c?c.innerHTML="":c=this.createElement("ul",{attrs:{role:"menu",tabindex:"0"}});for(var p=0;p<t.length;p++){var u=(o=t[p]).text;a=this.createElement("li",{innerHTML:o.url?"":u,className:o.separator?"e-item e-separator":"e-item",attrs:o.separator?{role:"separator",tabindex:"-1","aria-label":"separator","aria-hidden":"true"}:{role:"menuitem",tabindex:"-1","aria-label":u},id:o.id?o.id:(0,n.QI)("e-"+this.getModuleName()+"-item")}),this.enableHtmlSanitizer?a.textContent=o.url?"":u:a.innerHTML=o.url?"":u,o.url&&(a.appendChild(this.createAnchor(o)),a.classList.add("e-url")),o.iconCss?(r=this.createElement("span",{className:"e-menu-icon "+o.iconCss}),o.url?a.childNodes[0].appendChild(r):a.insertBefore(r,a.childNodes[0])):s&&!o.separator&&a.classList.add("e-blank-icon");var f=o.disabled;o.disabled&&a.classList.add("e-disabled"),this.trigger("beforeItemRender",d={item:o,element:a}),f!==d.item.disabled&&(d.item.disabled?a.classList.add("e-disabled"):a.classList.remove("e-disabled")),c.appendChild(a)}e&&this.getPopUpElement().appendChild(c),s&&function vS(h,i){var e=[].slice.call(h.getElementsByClassName("e-blank-icon"));if(i&&[].slice.call(h.getElementsByClassName("e-item")).forEach(function(c){(c.style.paddingLeft||c.style.paddingRight)&&c.removeAttribute("style")}),e.length){var s=h.querySelector(".e-item:not(.e-blank-icon):not(.e-separator)");if(!(0,n.le)(s)){s.classList.contains("e-url")&&(s=s.querySelector(".e-menu-url"));var o,r=s.querySelector(".e-menu-icon"),a=h.classList.contains("e-rtl");o=a?{padding:"paddingRight",margin:"marginLeft"}:{padding:"paddingLeft",margin:"marginRight"};var d=parseInt(getComputedStyle(r).fontSize,10)+parseInt(getComputedStyle(r)[o.margin],10)+parseInt(getComputedStyle(s).paddingLeft,10)+"px";e.forEach(function(c){c.classList.contains("e-url")?c.querySelector(".e-menu-url").style[o.padding]=d:c.style[o.padding]=d})}}}(this.getPopUpElement())},i.prototype.hasIcon=function(e,t){for(var s=0,r=e.length;s<r;s++)if(e[s][""+t])return!0;return!1},i.prototype.createAnchor=function(e){var t=this.enableHtmlSanitizer?n.pJ.sanitize(e.text):e.text;return this.createElement("a",{className:"e-menu-text e-menu-url",innerHTML:t,attrs:{href:e.url}})},i.prototype.initialize=function(){this.button=new Fi({iconCss:this.iconCss,iconPosition:this.iconPosition,cssClass:this.cssClass,content:this.content,disabled:this.disabled,enableRtl:this.enableRtl,enablePersistence:this.enablePersistence}),this.button.createElement=this.createElement,this.button.appendTo(this.element),this.element.id||(this.element.id=(0,n.QI)("e-"+this.getModuleName())),this.appendArrowSpan(),this.setActiveElem([this.element]),this.element.setAttribute("aria-label",this.element.textContent?this.element.textContent:"dropdownbutton"),this.target&&!this.isColorPicker()&&!this.createPopupOnClick||!this.createPopupOnClick?this.createPopup():(this.isPopupCreated=!1,this.target&&!this.isColorPicker()&&this.createPopupOnClick&&(this.popupContent=this.getTargetElement(),this.popupContent.style.display="none"))},i.prototype.isColorPicker=function(){if(!this.element)return!1;var e=this.element.previousSibling;return!!(e&&e.classList&&e.classList.contains("e-split-colorpicker"))},i.prototype.appendArrowSpan=function(){this.element.appendChild(this.createElement("span",{className:"e-btn-icon e-icons e-icon-"+(this.cssClass.indexOf("e-vertical")>-1?"bottom":"right")+" e-caret"}))},i.prototype.setActiveElem=function(e){this.activeElem=e},i.prototype.getModuleName=function(){return"dropdown-btn"},i.prototype.canOpen=function(){var e=!1;return this.isPopupCreated&&(e=this.getPopUpElement().classList.contains("e-popup-close")),e},i.prototype.destroy=function(){var t,e=this;h.prototype.destroy.call(this),"dropdown-btn"===this.getModuleName()&&(this.element.querySelector("span.e-caret")&&(0,n.og)(this.element.querySelector("span.e-caret")),this.cssClass&&(t=this.cssClass.split(" ")),this.button.destroy(),t&&(0,n.IV)([this.element],t),(0,n.IV)(this.activeElem,["e-active"]),(this.element.getAttribute("class")?["aria-haspopup","aria-expanded","aria-owns","type"]:["aria-haspopup","aria-expanded","aria-owns","type","class"]).forEach(function(r){e.element.removeAttribute(r)}),this.popupUnWireEvents(),this.destroyPopup(),this.isPopupCreated=!1,this.disabled||this.unWireEvents())},i.prototype.destroyPopup=function(){if(this.isPopupCreated){if(this.dropDown.destroy(),this.getPopUpElement()){var e=document.getElementById(this.getPopUpElement().id);e&&((0,n.IV)([e],["e-popup-open","e-popup-close"]),(0,n.og)(e))}n.bi.remove(this.getPopUpElement(),"click",this.clickHandler),n.bi.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler),this.isPopupCreated&&this.dropDown&&(this.dropDown.element=null,this.dropDown=void 0)}this.isPopupCreated=!1},i.prototype.getPopUpElement=function(){var e=null;if(!this.dropDown&&this.activeElem[0].classList.contains("e-split-btn")){var t=(0,n.Xr)(this.activeElem[1],"dropdown-btn");t&&(this.dropDown=t.dropDown)}return this.dropDown&&(e=this.dropDown.element),e},i.prototype.getULElement=function(){var e=null;return this.getPopUpElement()&&(e=this.getPopUpElement().children[0]),e},i.prototype.wireEvents=function(){this.delegateMousedownHandler=this.mousedownHandler.bind(this),this.createPopupOnClick||n.bi.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),n.bi.add(this.element,"click",this.clickHandler,this),n.bi.add(this.element,"keydown",this.keyBoardHandler,this),n.bi.add(window,"resize",this.windowResize,this)},i.prototype.windowResize=function(){!this.canOpen()&&this.dropDown&&this.dropDown.refreshPosition(this.element)},i.prototype.popupWireEvents=function(){this.delegateMousedownHandler||(this.delegateMousedownHandler=this.mousedownHandler.bind(this));var e=this.getPopUpElement();this.createPopupOnClick&&n.bi.add(document,"mousedown touchstart",this.delegateMousedownHandler,this),e&&(n.bi.add(e,"click",this.clickHandler,this),n.bi.add(e,"keydown",this.keyBoardHandler,this),this.closeActionEvents&&n.bi.add(e,this.closeActionEvents,this.focusoutHandler,this)),this.rippleFn=(0,n.qx)(e,{selector:".e-item"})},i.prototype.popupUnWireEvents=function(){var e=this.getPopUpElement();this.createPopupOnClick&&n.bi.remove(document,"mousedown touchstart",this.delegateMousedownHandler),e&&e.parentElement&&(n.bi.remove(e,"click",this.clickHandler),n.bi.remove(e,"keydown",this.keyBoardHandler),this.closeActionEvents&&n.bi.remove(e,this.closeActionEvents,this.focusoutHandler)),n.re&&this.rippleFn&&this.rippleFn()},i.prototype.keyBoardHandler=function(e){if(e.target!==this.element||9!==e.keyCode&&(e.altKey||40!==e.keyCode)&&38!==e.keyCode)switch(e.keyCode){case 38:case 40:!e.altKey||38!==e.keyCode&&40!==e.keyCode?this.upDownKeyHandler(e):this.keyEventHandler(e);break;case 9:case 13:case 27:case 32:this.keyEventHandler(e)}},i.prototype.upDownKeyHandler=function(e){this.target&&(38===e.keyCode||40===e.keyCode)||(e.preventDefault(),mS(this.getULElement(),e.keyCode))},i.prototype.keyEventHandler=function(e){if(!this.target||13!==e.keyCode&&9!==e.keyCode){if(13===e.keyCode&&this.activeElem[0].classList.contains("e-split-btn"))return this.triggerSelect(e),void this.activeElem[0].focus();e.target&&e.target.className.indexOf("e-edit-template")>-1&&32===e.keyCode||(9!==e.keyCode&&e.preventDefault(),27===e.keyCode||38===e.keyCode||9===e.keyCode?this.canOpen()||this.closePopup(e,this.element):this.clickHandler(e))}},i.prototype.getLI=function(e){return"LI"===e.tagName?e:(0,n.oq)(e,"li")},i.prototype.mousedownHandler=function(e){var t=e.target;this.dropDown&&!this.canOpen()&&!(0,n.oq)(t,'[id="'+this.getPopUpElement().id+'"]')&&!(0,n.oq)(t,'[id="'+this.element.id+'"]')&&this.closePopup(e)},i.prototype.focusoutHandler=function(e){if(this.isPopupCreated&&!this.canOpen()){var t=e.relatedTarget;if(t&&t.className.indexOf("e-item")>-1){var s=this.getLI(t);if(s){var r=Array.prototype.indexOf.call(this.getULElement().children,s),o=this.items[r];o&&this.trigger("select",{element:s,item:o,event:e})}}this.closePopup(e)}},i.prototype.clickHandler=function(e){var t=e.target;(0,n.oq)(t,'[id="'+this.element.id+'"]')?!this.createPopupOnClick||this.target&&""!==this.target&&!this.isColorPicker()&&!this.createPopupOnClick?this.getPopUpElement().classList.contains("e-popup-close")?this.openPopUp(e):this.closePopup(e):this.isPopupCreated?this.closePopup(e,this.activeElem[0]):(this.createPopup(),this.openPopUp(e)):(0,n.oq)(t,'[id="'+this.getPopUpElement().id+'"]')&&this.getLI(e.target)&&(this.triggerSelect(e),this.closePopup(e,this.activeElem[0]))},i.prototype.triggerSelect=function(e){var s,r,o=this.getLI(e.target);o&&(s=Array.prototype.indexOf.call(this.getULElement().children,o),(r=this.items[s])&&this.trigger("select",{element:o,item:r,event:e}))},i.prototype.openPopUp=function(e){var t=this;void 0===e&&(e=null);var s=this.getPopUpElement();if(this.target)if(this.activeElem.length>1){var r=(0,n.Xr)(this.activeElem[0],"split-btn");r.isReact&&s.childNodes.length<1&&(r.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates())}else this.isReact&&s.childNodes.length<1&&(this.appendReactElement(this.getTargetElement(),this.getPopUpElement()),this.renderReactTemplates());else this.createItems(!0);var o=this.getULElement();this.popupWireEvents(),this.trigger("beforeOpen",{element:o,items:this.items,event:e,cancel:!1},function(d){if(!d.cancel){var c=t.getULElement();if(t.dropDown.show(null,t.element),(0,n.cn)([t.element],"e-active"),t.element.setAttribute("aria-expanded","true"),t.element.setAttribute("aria-owns",t.getPopUpElement().id),c&&c.focus(),t.enableRtl&&"0px"!==c.parentElement.style.left){var p;p=t.element.parentElement&&t.element.parentElement.classList.contains("e-split-btn-wrapper")?t.element.parentElement.offsetWidth:t.element.offsetWidth;var u=c.parentElement.offsetWidth-p,f=parseFloat(c.parentElement.style.left)-u;f<0&&(f=0),c.parentElement.style.left=f+"px"}t.trigger("open",{element:c,items:t.items})}})},i.prototype.closePopup=function(e,t){var s=this;void 0===e&&(e=null);var r=this.getULElement();this.trigger("beforeClose",{element:r,items:this.items,event:e,cancel:!1},function(a){if(a.cancel)r&&r.focus();else{var d=s.getPopUpElement();d&&n.bi.remove(d,"keydown",s.keyBoardHandler),s.popupUnWireEvents();var c=s.getULElement(),p=void 0;c&&(p=c.querySelector(".e-selected")),p&&p.classList.remove("e-selected"),s.dropDown.hide(),(0,n.IV)(s.activeElem,"e-active"),s.element.setAttribute("aria-expanded","false"),s.element.removeAttribute("aria-owns"),t&&t.focus(),s.trigger("close",{element:c,items:s.items}),!s.target&&c&&(0,n.og)(c),(!s.target||s.isColorPicker()||s.target&&!s.isColorPicker())&&s.createPopupOnClick&&s.destroyPopup()}})},i.prototype.unWireEvents=function(){this.createPopupOnClick||n.bi.remove(document,"mousedown touchstart",this.delegateMousedownHandler),n.bi.remove(this.element,"click",this.clickHandler),n.bi.remove(this.element,"keydown",this.keyBoardHandler),this.isPopupCreated&&(n.bi.remove(this.getPopUpElement(),"click",this.clickHandler),n.bi.remove(this.getPopUpElement(),"keydown",this.keyBoardHandler)),n.bi.remove(window,"resize",this.windowResize)},i.prototype.onPropertyChanged=function(e,t){var r;this.button.setProperties(Sl(e,["content","cssClass","iconCss","iconPosition","disabled","enableRtl"])),this.isPopupCreated&&(r=this.getPopUpElement(),this.dropDown.setProperties(Sl(e,["enableRtl"])));for(var o=0,a=Object.keys(e);o<a.length;o++)switch(a[o]){case"content":this.element.querySelector("span.e-caret")||this.appendArrowSpan();break;case"disabled":e.disabled?(this.unWireEvents(),this.isPopupCreated&&!this.canOpen()&&this.closePopup()):this.wireEvents();break;case"cssClass":if(e.cssClass.indexOf("e-vertical")>-1||t.cssClass.indexOf("e-vertical")>-1){this.element.querySelector("span.e-caret")||this.appendArrowSpan();var c=this.element.querySelector("span.e-caret");e.cssClass.indexOf("e-vertical")>-1?(0,n.s1)(c,["e-icon-bottom"],["e-icon-right"]):(0,n.s1)(c,["e-icon-right"],["e-icon-bottom"])}this.isPopupCreated&&(t.cssClass&&(0,n.IV)([r],t.cssClass.split(" ")),e.cssClass&&(0,n.cn)([r],e.cssClass.replace(/\s+/g," ").trim().split(" ")));break;case"target":this.dropDown.content=this.getTargetElement(),this.dropDown.dataBind();break;case"items":this.isPopupCreated&&this.getULElement()&&this.createItems();break;case"createPopupOnClick":e.createPopupOnClick?this.destroyPopup():this.createPopup()}},i.prototype.focusIn=function(){this.element.focus()},Ni([(0,n.Z9)("")],i.prototype,"content",void 0),Ni([(0,n.Z9)("")],i.prototype,"cssClass",void 0),Ni([(0,n.Z9)(!1)],i.prototype,"disabled",void 0),Ni([(0,n.Z9)("")],i.prototype,"iconCss",void 0),Ni([(0,n.Z9)("Left")],i.prototype,"iconPosition",void 0),Ni([(0,n.Z9)(!1)],i.prototype,"enableHtmlSanitizer",void 0),Ni([(0,n.FE)([],nf)],i.prototype,"items",void 0),Ni([(0,n.Z9)(!1)],i.prototype,"createPopupOnClick",void 0),Ni([(0,n.Z9)("")],i.prototype,"target",void 0),Ni([(0,n.Z9)("")],i.prototype,"closeActionEvents",void 0),Ni([(0,n.ju)()],i.prototype,"beforeItemRender",void 0),Ni([(0,n.ju)()],i.prototype,"beforeOpen",void 0),Ni([(0,n.ju)()],i.prototype,"beforeClose",void 0),Ni([(0,n.ju)()],i.prototype,"close",void 0),Ni([(0,n.ju)()],i.prototype,"open",void 0),Ni([(0,n.ju)()],i.prototype,"select",void 0),Ni([(0,n.ju)()],i.prototype,"created",void 0),Ni([n.Zl],i)}(n.wA),yS=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),Gi=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},xd="e-rtl",af="EJS-SPLITBUTTON",bS=function(h){function i(e,t){return h.call(this,e,t)||this}return yS(i,h),i.prototype.preRender=function(){var e=this.element;if(e.tagName===af){for(var t=(0,n.NA)("ej2_instances",e),s=this.createElement("button",{attrs:{type:"button"}}),r=this.createElement(af,{className:"e-"+this.getModuleName()+"-wrapper"}),o=0,a=e.attributes.length;o<a;o++)s.setAttribute(e.attributes[o].nodeName,e.attributes[o].nodeValue);e.parentNode.insertBefore(r,e),(0,n.og)(e),r.appendChild(e=s),(0,n.sO)("ej2_instances",t,e),this.wrapper=r,this.element=e}this.element.id||(this.element.id=(0,n.QI)("e-"+this.getModuleName()))},i.prototype.render=function(){this.initWrapper(),this.createPrimaryButton(),this.renderControl()},i.prototype.renderControl=function(){this.createSecondaryButton(),this.setActiveElem([this.element,this.secondaryBtnObj.element]),this.setAria(),this.wireEvents(),this.renderComplete()},i.prototype.addItems=function(e,t){h.prototype.addItems.call(this,e,t),this.secondaryBtnObj.items=this.items},i.prototype.removeItems=function(e,t){h.prototype.removeItems.call(this,e,t),this.secondaryBtnObj.items=this.items},i.prototype.initWrapper=function(){this.wrapper||(this.wrapper=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"}),this.element.parentNode.insertBefore(this.wrapper,this.element)),this.element.classList.remove("e-"+this.getModuleName()),this.enableRtl&&this.wrapper.classList.add(xd),this.cssClass&&(0,n.cn)([this.wrapper],this.cssClass.replace(/\s+/g," ").trim().split(" "))},i.prototype.createPrimaryButton=function(){this.primaryBtnObj=new Fi({cssClass:this.cssClass,enableRtl:this.enableRtl,iconCss:this.iconCss,iconPosition:this.iconPosition,content:this.content,disabled:this.disabled}),this.primaryBtnObj.createElement=this.createElement,this.primaryBtnObj.appendTo(this.element),this.element.classList.add("e-"+this.getModuleName()),this.element.type="button",this.wrapper.appendChild(this.element)},i.prototype.createSecondaryButton=function(){var e=this,t=this.createElement("button",{className:"e-icon-btn",attrs:{tabindex:"-1"},id:this.element.id+"_dropdownbtn"});this.wrapper.appendChild(t),this.secondaryBtnObj=new ai({cssClass:this.cssClass,disabled:this.disabled,enableRtl:this.enableRtl,items:this.items,target:this.target,createPopupOnClick:this.createPopupOnClick,beforeItemRender:function(r){e.createPopupOnClick&&(e.secondaryBtnObj.dropDown.relateTo=e.wrapper,e.dropDown=e.secondaryBtnObj.dropDown),e.trigger("beforeItemRender",r)},open:function(r){e.trigger("open",r)},close:function(r){e.trigger("close",r)},select:function(r){e.trigger("select",r)},beforeOpen:function(r){e.createPopupOnClick&&0==e.items.length&&(e.secondaryBtnObj.dropDown.relateTo=e.wrapper,e.dropDown=e.secondaryBtnObj.dropDown);var o=new Pd;return e.trigger("beforeOpen",r,function(a){o.resolve(a)}),o},beforeClose:function(r){var o=new Pd;return e.trigger("beforeClose",r,function(a){o.resolve(a)}),o}}),this.secondaryBtnObj.createElement=this.createElement,this.secondaryBtnObj.appendTo(t),this.createPopupOnClick||(this.secondaryBtnObj.dropDown.relateTo=this.wrapper,this.dropDown=this.secondaryBtnObj.dropDown),this.isPopupCreated=this.secondaryBtnObj.isPopupCreated,this.secondaryBtnObj.activeElem=[this.element,this.secondaryBtnObj.element],this.secondaryBtnObj.element.querySelector(".e-btn-icon").classList.remove("e-icon-right"),this.disabled&&this.wrapper.classList.add("e-splitbtn-disabled")},i.prototype.setAria=function(){(0,n.Y4)(this.element,{"aria-expanded":"false","aria-haspopup":"true","aria-label":this.element.textContent?this.element.textContent+" splitbutton":"splitbutton","aria-owns":this.element.id+"_dropdownbtn-popup"})},i.prototype.getModuleName=function(){return"split-btn"},i.prototype.toggle=function(){this.secondaryBtnObj.toggle()},i.prototype.destroy=function(){var e=this,t=[xd];if(this.cssClass&&(t=t.concat(this.cssClass.split(" "))),this.element){var s=document.getElementById(this.element.id);s&&s.parentElement===this.wrapper&&(this.wrapper.tagName===af?(this.wrapper.innerHTML="",(0,n.IV)([this.wrapper],["e-rtl","e-"+this.getModuleName()+"-wrapper"]),(0,n.IV)([this.wrapper],this.cssClass.split(" "))):((0,n.IV)([this.element],t),["aria-label","aria-haspopup","aria-expanded","aria-owns","type"].forEach(function(r){e.element.removeAttribute(r)}),this.wrapper.parentNode.insertBefore(this.element,this.wrapper),(0,n.Od)(this.wrapper)),this.unWireEvents())}this.primaryBtnObj.destroy(),this.secondaryBtnObj.destroy(),h.prototype.destroy.call(this),this.element&&!this.element.getAttribute("class")&&this.element.removeAttribute("class"),this.refreshing&&this.isAngular&&(this.element=this.wrapper,["e-control","e-split-btn","e-lib"].forEach(function(r){e.element.classList.add(r)}),(0,n.sO)("ej2_instances",[this],this.element)),this.wrapper=null},i.prototype.wireEvents=function(){n.bi.add(this.element,"click",this.primaryBtnClickHandler,this),new n.nv(this.element,{keyAction:this.btnKeyBoardHandler.bind(this),keyConfigs:{altdownarrow:"alt+downarrow",enter:"enter"}})},i.prototype.unWireEvents=function(){n.bi.remove(this.element,"click",this.primaryBtnClickHandler),(0,n.s8)(this.element,n.nv).destroy()},i.prototype.primaryBtnClickHandler=function(){this.trigger("click",{element:this.element})},i.prototype.btnKeyBoardHandler=function(e){switch(e.action){case"altdownarrow":this.clickHandler(e);break;case"enter":this.clickHandler(e),this.getPopUpElement()&&!this.getPopUpElement().classList.contains("e-popup-close")?(this.element.classList.remove("e-active"),this.secondaryBtnObj.element.classList.add("e-active")):this.secondaryBtnObj.element.classList.remove("e-active")}},i.prototype.onPropertyChanged=function(e,t){var s=["content","iconCss","iconPosition","cssClass","disabled","enableRtl"];this.primaryBtnObj.setProperties(Sl(e,s)),s=["beforeOpen","beforeItemRender","select","open","close","cssClass","disabled","enableRtl","createPopupOnClick"],Object.keys(e).indexOf("items")>-1&&(this.secondaryBtnObj.items=e.items,this.secondaryBtnObj.dataBind()),this.secondaryBtnObj.setProperties(Sl(e,s));for(var r=0,o=Object.keys(e);r<o.length;r++)switch(o[r]){case"cssClass":t.cssClass&&(0,n.IV)([this.wrapper],t.cssClass.split(" ")),(0,n.cn)([this.wrapper],e.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"enableRtl":e.enableRtl?(0,n.cn)([this.wrapper],xd):(0,n.IV)([this.wrapper],xd);break;case"disabled":e.disabled?(0,n.cn)([this.wrapper],"e-splitbtn-disabled"):(0,n.IV)([this.wrapper],"e-splitbtn-disabled")}},i.prototype.focusIn=function(){this.element.focus()},Gi([(0,n.Z9)("")],i.prototype,"content",void 0),Gi([(0,n.Z9)("")],i.prototype,"cssClass",void 0),Gi([(0,n.Z9)(!1)],i.prototype,"disabled",void 0),Gi([(0,n.Z9)("")],i.prototype,"iconCss",void 0),Gi([(0,n.Z9)("Left")],i.prototype,"iconPosition",void 0),Gi([(0,n.Z9)(!1)],i.prototype,"createPopupOnClick",void 0),Gi([(0,n.FE)([],nf)],i.prototype,"items",void 0),Gi([(0,n.Z9)("")],i.prototype,"target",void 0),Gi([(0,n.ju)()],i.prototype,"beforeItemRender",void 0),Gi([(0,n.ju)()],i.prototype,"beforeOpen",void 0),Gi([(0,n.ju)()],i.prototype,"beforeClose",void 0),Gi([(0,n.ju)()],i.prototype,"click",void 0),Gi([(0,n.ju)()],i.prototype,"close",void 0),Gi([(0,n.ju)()],i.prototype,"open",void 0),Gi([(0,n.ju)()],i.prototype,"select",void 0),Gi([(0,n.ju)()],i.prototype,"created",void 0),Gi([n.Zl],i)}(ai),Pd=function(){return function h(){var i=this;this.promise=new Promise(function(e,t){i.resolve=e,i.reject=t}),this.catch=this.promise.catch.bind(this.promise),this.then=this.promise.then.bind(this.promise)}}();!function(h){var i,e=!0;function s(F){r(F.floatLabelType,F.element),F.element.addEventListener("focus",function(){var U=b(this);(U.classList.contains("e-input-group")||U.classList.contains("e-outline")||U.classList.contains("e-filled"))&&U.classList.add("e-input-focus"),"Auto"===F.floatLabelType&&setTimeout(function(){h.calculateWidth(F.element,U)},80)}),F.element.addEventListener("blur",function(){var U=b(this);(U.classList.contains("e-input-group")||U.classList.contains("e-outline")||U.classList.contains("e-filled"))&&U.classList.remove("e-input-focus"),"Auto"===F.floatLabelType&&""===F.element.value&&setTimeout(function(){h.calculateWidth(F.element,U)},80)}),F.element.addEventListener("input",function(){r(i,F.element)})}function r(F,U){var de=U.value,Le=U.parentElement,He=Le.parentElement;""===de||(0,n.le)(de)?"Always"!==F&&(Le&&Le.classList.contains("e-input-group")?Le.classList.remove("e-valid-input"):He&&He.classList.contains("e-input-group")&&He.classList.remove("e-valid-input")):Le&&Le.classList.contains("e-input-group")?Le.classList.add("e-valid-input"):He&&He.classList.contains("e-input-group")&&He.classList.add("e-valid-input")}function o(){var F=b(this).getElementsByClassName("e-float-text")[0];(0,n.le)(F)||((0,n.cn)([F],"e-label-top"),F.classList.contains("e-label-bottom")&&(0,n.IV)([F],"e-label-bottom"))}function a(){var F=b(this);if(F.getElementsByTagName("textarea")[0]?""===F.getElementsByTagName("textarea")[0].value:""===F.getElementsByTagName("input")[0].value){var U=F.getElementsByClassName("e-float-text")[0];(0,n.le)(U)||(U.classList.contains("e-label-top")&&(0,n.IV)([U],"e-label-top"),(0,n.cn)([U],"e-label-bottom"))}}function d(F){F.addEventListener("focus",o),F.addEventListener("blur",a)}function p(F,U,de){var Le=(0,n.le)(de)?n.az:de;"Auto"===F.floatLabelType&&d(F.element),(0,n.le)(U.container)?(U.container=Y(F,"e-float-input","e-float-custom-tag","div",Le),U.container.classList.add("e-input-group"),F.element.parentNode&&F.element.parentNode.insertBefore(U.container,F.element)):((0,n.le)(F.customTag)||U.container.classList.add("e-float-custom-tag"),U.container.classList.add("e-float-input"));var He=Le("span",{className:"e-float-line"}),Ee=Le("label",{className:"e-float-text"});if(!(0,n.le)(F.element.id)&&""!==F.element.id&&(Ee.id="label_"+F.element.id.replace(/ /g,"_"),(0,n.Y4)(F.element,{"aria-labelledby":Ee.id})),!(0,n.le)(F.element.placeholder)&&""!==F.element.placeholder&&(Ee.innerText=H(F.element.placeholder),F.element.removeAttribute("placeholder")),!(0,n.le)(F.properties)&&!(0,n.le)(F.properties.placeholder)&&""!==F.properties.placeholder&&(Ee.innerText=H(F.properties.placeholder)),Ee.innerText||U.container.classList.add("e-no-float-label"),U.container.classList.contains("e-float-icon-left")){var Ht=U.container.querySelector(".e-input-in-wrap");Ht.appendChild(F.element),Ht.appendChild(He),Ht.appendChild(Ee)}else U.container.appendChild(F.element),U.container.appendChild(He),U.container.appendChild(Ee);g(F.element.value,Ee),"Always"===F.floatLabelType&&(Ee.classList.contains("e-label-bottom")&&(0,n.IV)([Ee],"e-label-bottom"),(0,n.cn)([Ee],"e-label-top")),"Auto"===F.floatLabelType&&(F.element.addEventListener("input",function(er){j(F.element,F.floatLabelType)}),F.element.addEventListener("blur",function(er){j(F.element,F.floatLabelType)})),(0,n.le)(F.element.getAttribute("id"))||Ee.setAttribute("for",F.element.getAttribute("id"))}function u(F,U){"Always"===F&&U.classList.contains("e-outline")&&U.classList.add("e-valid-input")}function v(F,U,de){(0,n.le)(U)||(F&&!de?(0,n.IV)([U],"e-clear-icon-hide"):(0,n.cn)([U],"e-clear-icon-hide"))}function g(F,U,de){void 0===de&&(de=null),F?((0,n.cn)([U],"e-label-top"),U.classList.contains("e-label-bottom")&&(0,n.IV)([U],"e-label-bottom")):(null==de||de!==document.activeElement)&&(U.classList.contains("e-label-top")&&(0,n.IV)([U],"e-label-top"),(0,n.cn)([U],"e-label-bottom"))}function b(F){var U=(0,n.le)(F.parentNode)?F:F.parentNode;return U&&U.classList.contains("e-input-in-wrap")&&(U=U.parentNode),U}function T(F,U,de){(void 0===e||e)&&U.addEventListener("click",function(Le){F.classList.contains("e-disabled")||F.readOnly||(Le.preventDefault(),F!==document.activeElement&&F.focus(),F.value="",(0,n.cn)([U],"e-clear-icon-hide"))}),F.addEventListener("input",function(Le){v(F.value,U)}),F.addEventListener("focus",function(Le){v(F.value,U,F.readOnly)}),F.addEventListener("blur",function(Le){setTimeout(function(){(0,n.le)(U)||((0,n.cn)([U],"e-clear-icon-hide"),U=!(0,n.le)(F)&&F.classList.contains("e-combobox")?null:U)},200)})}function j(F,U){if(b(F).classList.contains("e-float-input")&&"Auto"===U){var Le=b(F).getElementsByClassName("e-float-text")[0];g(F.value,Le,F)}}function Y(F,U,de,Le,He){var Ht,Ee=(0,n.le)(He)?n.az:He;return(0,n.le)(F.customTag)?Ht=Ee(Le,{className:U}):(Ht=Ee(F.customTag,{className:U})).classList.add(de),Ht.classList.add("e-control-wrapper"),Ht}function H(F){var U="";if(!(0,n.le)(F)&&""!==F){var de=document.createElement("span");de.innerHTML='<input  placeholder="'+F+'"/>',U=de.children[0].placeholder}return U}function ne(F,U,de){!(0,n.le)(de)&&""!==de&&(0,n.IV)(U,de.split(" ")),!(0,n.le)(F)&&""!==F&&(0,n.cn)(U,F.split(" "))}function re(F,U,de){var Le="multiselect"===de?F:F.clientWidth-parseInt(getComputedStyle(F,null).getPropertyValue("padding-left"),10);(0,n.le)(U.getElementsByClassName("e-float-text-content")[0])||(U.getElementsByClassName("e-float-text-content")[0].classList.contains("e-float-text-overflow")&&U.getElementsByClassName("e-float-text-content")[0].classList.remove("e-float-text-overflow"),(Le<U.getElementsByClassName("e-float-text-content")[0].clientWidth||Le===U.getElementsByClassName("e-float-text-content")[0].clientWidth)&&U.getElementsByClassName("e-float-text-content")[0].classList.add("e-float-text-overflow"))}function Ye(F,U){F=H(F);var de=b(U);de.classList.contains("e-float-input")?(0,n.le)(F)||""===F?(de.classList.add("e-no-float-label"),de.getElementsByClassName("e-float-text-content")[0]?de.getElementsByClassName("e-float-text")[0].children[0].textContent="":de.getElementsByClassName("e-float-text")[0].textContent=""):(de.getElementsByClassName("e-float-text-content")[0]?de.getElementsByClassName("e-float-text")[0].children[0].textContent=F:de.getElementsByClassName("e-float-text")[0].textContent=F,de.classList.remove("e-no-float-label"),U.removeAttribute("placeholder")):(0,n.le)(F)||""===F?U.removeAttribute("placeholder"):(0,n.Y4)(U,{placeholder:F})}function K(F,U,de){F?(0,n.Y4)(U,{readonly:""}):U.removeAttribute("readonly"),(0,n.le)(de)||j(U,de)}function te(F,U){F?(0,n.cn)(U,"e-rtl"):(0,n.IV)(U,"e-rtl")}function J(F,U,de,Le){var He={disabled:"disabled","aria-disabled":"true"},Ee=!(0,n.le)(Le);F?(U.classList.remove("e-disabled"),me(He,U),Ee&&(0,n.IV)([Le],"e-disabled")):(U.classList.add("e-disabled"),_e(He,U),Ee&&(0,n.cn)([Le],"e-disabled")),(0,n.le)(de)||j(U,de)}function pe(F,U,de,Le,He){var Ee=(0,n.le)(He)?n.az:He;F?de.clearButton=function C(F,U,de,Le){var Ee=((0,n.le)(Le)?n.az:Le)("span",{className:"e-clear-icon"}),Ht=U.container;return(0,n.le)(de)?(U.container.classList.contains("e-float-input")?U.container.querySelector(".e-float-text"):F).insertAdjacentElement("afterend",Ee):Ht.appendChild(Ee),(0,n.cn)([Ee],"e-clear-icon-hide"),T(F,Ee),Ee.setAttribute("aria-label","close"),Ee}(U,de,Le,Ee):((0,n.Od)(de.clearButton),de.clearButton=null)}function me(F,U){for(var de=0,Le=Object.keys(F);de<Le.length;de++){var He=Le[de],Ee=b(U);"disabled"===He&&U.classList.remove("e-disabled"),"disabled"===He&&Ee.classList.contains("e-input-group")&&Ee.classList.remove("e-disabled"),"placeholder"===He&&Ee.classList.contains("e-float-input")?Ee.getElementsByClassName("e-float-text")[0].textContent="":U.removeAttribute(He)}}function _e(F,U){for(var de=0,Le=Object.keys(F);de<Le.length;de++){var He=Le[de],Ee=b(U);"disabled"===He&&U.classList.add("e-disabled"),"disabled"===He&&Ee.classList.contains("e-input-group")&&Ee.classList.add("e-disabled"),"placeholder"===He&&Ee.classList.contains("e-float-input")?Ee.getElementsByClassName("e-float-text")[0].textContent=F[""+He]:U.setAttribute(He,F[""+He])}}function Fe(F,U){if(F.classList.contains("e-outline")&&F.getElementsByClassName("e-float-text")[0]){var de=U("span",{className:"e-float-text-content"});de.innerHTML=F.getElementsByClassName("e-float-text")[0].innerHTML,F.getElementsByClassName("e-float-text")[0].innerHTML="",F.getElementsByClassName("e-float-text")[0].appendChild(de)}}function ct(F,U,de){var Le=[];Le.push(de);var He=(0,n.le)(de)?U.querySelectorAll(".e-input-group-icon"):Le;if(F&&He.length>0)for(var Ee=0;Ee<He.length;Ee++)He[parseInt(Ee.toString())].addEventListener("mousedown",Ke,!1),He[parseInt(Ee.toString())].addEventListener("mouseup",dt,!1);else if(He.length>0)for(Ee=0;Ee<He.length;Ee++)He[parseInt(Ee.toString())].removeEventListener("mousedown",Ke,this),He[parseInt(Ee.toString())].removeEventListener("mouseup",dt,this)}function Ke(){for(var U=this.parentElement;!U.classList.contains("e-input-group");)U=U.parentElement;!function st(F,U){!F.classList.contains("e-disabled")&&!F.querySelector("input").readOnly&&U.classList.add("e-input-btn-ripple")}(U,this)}function dt(){var F=this;setTimeout(function(){F.classList.remove("e-input-btn-ripple")},500)}function Tt(F,U){var de=U("span",{className:F});return de.classList.add("e-input-group-icon"),de}function ti(F,U,de,Le){var He=(0,n.le)(Le)?n.az:Le,Ee=Tt(F,He);U.classList.add("e-float-icon-left");var Ht=U.querySelector(".e-input-in-wrap");if((0,n.le)(Ht)){Ht=He("span",{className:"e-input-in-wrap"}),de.parentNode.insertBefore(Ht,de);var er=U.querySelectorAll(de.tagName+" ~ *");Ht.appendChild(de);for(var ls=0;ls<er.length;ls++){var Br=er[parseInt(ls.toString())],zr=Ht.parentElement;(!Br.classList.contains("e-float-line")||(!zr||!zr.classList.contains("e-filled"))&&zr)&&Ht.appendChild(Br)}}return Ht.parentNode.insertBefore(Ee,Ht),ct(!0,U,Ee),Ee}function as(F,U,de){var He=Tt(F,(0,n.le)(de)?n.az:de);return(U.classList.contains("e-float-icon-left")?U.querySelector(".e-input-in-wrap"):U).appendChild(He),ct(!0,U,He),He}function wi(F,U){"hidden"===U.type?F.classList.add("e-hidden"):F.classList.contains("e-hidden")&&F.classList.remove("e-hidden")}h.createInput=function t(F,U){var de=(0,n.le)(U)?n.az:U,Le={container:null,buttons:[],clearButton:null};if(i=F.floatLabelType,e=F.bindClearAction,(0,n.le)(F.floatLabelType)||"Never"===F.floatLabelType?(Le.container=Y(F,"e-input-group","e-input-custom-tag","span",de),F.element.parentNode.insertBefore(Le.container,F.element),(0,n.cn)([F.element],"e-input"),Le.container.appendChild(F.element)):p(F,Le,de),s(F),!(0,n.le)(F.properties)&&!(0,n.le)(F.properties.showClearButton)&&F.properties.showClearButton&&(pe(F.properties.showClearButton,F.element,Le,!0,de),Le.clearButton.setAttribute("role","button"),Le.container.classList.contains("e-float-input")&&(0,n.cn)([Le.container],"e-input-group")),!(0,n.le)(F.buttons))for(var He=0;He<F.buttons.length;He++)Le.buttons.push(as(F.buttons[He],Le.container,de));return!(0,n.le)(F.element)&&"TEXTAREA"===F.element.tagName&&(0,n.cn)([Le.container],"e-multi-line-input"),wi(Le.container,F.element),Fe((Le=function f(F,U){if(!(0,n.le)(F.properties))for(var de=0,Le=Object.keys(F.properties);de<Le.length;de++)switch(Le[de]){case"cssClass":ne(F.properties.cssClass,[U.container]),u(F.floatLabelType,U.container);break;case"enabled":J(F.properties.enabled,F.element,F.floatLabelType,U.container);break;case"enableRtl":te(F.properties.enableRtl,[U.container]);break;case"placeholder":Ye(F.properties.placeholder,F.element);break;case"readonly":K(F.properties.readonly,F.element)}return U}(F,Le)).container,de),Le},h.bindInitialEvent=s,h.wireFloatingEvents=d,h.wireClearBtnEvents=T,h.destroy=function O(){},h.setValue=function N(F,U,de,Le){if(U.value=F,"Auto"===de&&""===F&&re(U,U.parentElement),!(0,n.le)(de)&&"Auto"===de&&j(U,de),!(0,n.le)(Le)&&Le){var He=b(U);if(!(0,n.le)(He)){var Ee=He.getElementsByClassName("e-clear-icon")[0];(0,n.le)(Ee)||(U.value&&!(0,n.le)(He)&&He.classList.contains("e-input-focus")?(0,n.IV)([Ee],"e-clear-icon-hide"):(0,n.cn)([Ee],"e-clear-icon-hide"))}}r(de,U)},h.setCssClass=ne,h.calculateWidth=re,h.setWidth=function ce(F,U){"number"==typeof F?U.style.width=(0,n.Ac)(F):"string"==typeof F&&(U.style.width=F.match(/px|%|em/)?F:(0,n.Ac)(F)),re(U.firstChild,U)},h.setPlaceholder=Ye,h.setReadonly=K,h.setEnableRtl=te,h.setEnabled=J,h.setClearButton=pe,h.removeAttributes=me,h.addAttributes=_e,h.removeFloating=function xe(F){var U=F.container;if(!(0,n.le)(U)&&U.classList.contains("e-float-input")){var de=U.querySelector("textarea")?U.querySelector("textarea"):U.querySelector("input"),Le=U.querySelector(".e-float-text").textContent,He=null!==U.querySelector(".e-clear-icon");(0,n.og)(U.querySelector(".e-float-line")),(0,n.og)(U.querySelector(".e-float-text")),(0,n.s1)(U,["e-input-group"],["e-float-input"]),function c(F){F.removeEventListener("focus",o),F.removeEventListener("blur",a)}(de),(0,n.Y4)(de,{placeholder:Le}),de.classList.add("e-input"),!He&&"INPUT"===de.tagName&&de.removeAttribute("required")}},h.addFloating=function ve(F,U,de,Le){var He=(0,n.le)(Le)?n.az:Le,Ee=(0,n.oq)(F,".e-input-group");if(i=U,"Never"!==U){var Ht=Ee.tagName,er={element:F,floatLabelType:U,customTag:Ht="DIV"!==Ht&&"SPAN"!==Ht?Ht:null,properties:{placeholder:de}},ls=Ee.querySelector(".e-clear-icon"),Br={container:Ee};F.classList.remove("e-input"),p(er,Br,He),Fe(Br.container,He),re(er.element,Br.container);var zr=Ee.classList.contains("e-float-icon-left");if((0,n.le)(ls)&&(ls=zr?Ee.querySelector(".e-input-in-wrap").querySelector(".e-input-group-icon"):Ee.querySelector(".e-input-group-icon")),(0,n.le)(ls))zr&&(ls=Ee.querySelector(".e-input-group-icon"));else{var NO=Ee.querySelector(".e-float-line"),BO=Ee.querySelector(".e-float-text"),Zm=zr?Ee.querySelector(".e-input-in-wrap"):Ee;Zm.insertBefore(F,ls),Zm.insertBefore(NO,ls),Zm.insertBefore(BO,ls)}}u(U,F.parentElement)},h.createSpanElement=Fe,h.setRipple=function ot(F,U){for(var de=0;de<U.length;de++)ct(F,U[parseInt(de.toString())].container)},h.addIcon=function We(F,U,de,Le,He){var Ee="string"==typeof U?U.split(","):U;if("append"===F.toLowerCase())for(var Ht=0,er=Ee;Ht<er.length;Ht++)as(er[Ht],de,He);else for(var Br=0,zr=Ee;Br<zr.length;Br++)ti(zr[Br],de,Le,He);de.getElementsByClassName("e-input-group-icon")[0]&&de.getElementsByClassName("e-float-text-overflow")[0]&&de.getElementsByClassName("e-float-text-overflow")[0].classList.add("e-icon")},h.prependSpan=ti,h.appendSpan=as,h.validateInputType=wi}(qe||(qe={}));var ut,wS=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),Kt=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},df="e-input-group-icon",cf="e-spin-up",pf="e-error",ta="increment",Pl="decrement",PS=new RegExp("^(-)?(\\d*)$"),vb="e-input-focus",gb=["title","style","class"],yb=0,ia=function(h){function i(e,t){var s=h.call(this,e,t)||this;return s.isVue=!1,s.preventChange=!1,s.isAngular=!1,s.isDynamicChange=!1,s.numericOptions=e,s}return wS(i,h),i.prototype.preRender=function(){this.isPrevFocused=!1,this.decimalSeparator=".",this.intRegExp=new RegExp("/^(-)?(d*)$/"),this.isCalled=!1;var e=(0,n.NA)("ej2_instances",this.element);if(this.cloneElement=this.element.cloneNode(!0),(0,n.IV)([this.cloneElement],["e-control","e-numerictextbox","e-lib"]),this.angularTagName=null,this.formEle=(0,n.oq)(this.element,"form"),"EJS-NUMERICTEXTBOX"===this.element.tagName){this.angularTagName=this.element.tagName;for(var t=this.createElement("input"),s=0;s<this.element.attributes.length;s++){var r=this.element.attributes[s].nodeName;"id"!==r&&"class"!==r?(t.setAttribute(this.element.attributes[s].nodeName,this.element.attributes[s].nodeValue),t.innerHTML=this.element.innerHTML):"class"===r&&t.setAttribute(r,this.element.className.split(" ").filter(function(a){return 0!==a.indexOf("ng-")}).join(" "))}this.element.hasAttribute("name")&&this.element.removeAttribute("name"),this.element.classList.remove("e-control","e-numerictextbox"),this.element.appendChild(t),this.element=t,(0,n.sO)("ej2_instances",e,this.element)}(0,n.Y4)(this.element,{role:"spinbutton",tabindex:"0",autocomplete:"off"}),this.l10n=new n.E7("numerictextbox",{incrementTitle:"Increment value",decrementTitle:"Decrement value",placeholder:this.placeholder},this.locale),""!==this.l10n.getConstant("placeholder")&&this.setProperties({placeholder:this.placeholder||this.l10n.getConstant("placeholder")},!0),this.element.hasAttribute("id")||this.element.setAttribute("id",(0,n.QI)("numerictextbox")),this.isValidState=!0,this.inputStyle=null,this.inputName=null,this.cultureInfo={},this.initCultureInfo(),this.initCultureFunc(),this.prevValue=this.value,this.updateHTMLAttrToElement(),this.checkAttributes(!1),this.formEle&&(this.inputEleValue=this.value),this.validateMinMax(),this.validateStep(),null===this.placeholder&&this.updatePlaceholder()},i.prototype.render=function(){"input"===this.element.tagName.toLowerCase()&&(this.createWrapper(),this.showSpinButton&&this.spinBtnCreation(),this.setElementWidth(this.width),this.container.classList.contains("e-input-group")||this.container.classList.add("e-input-group"),this.changeValue(null===this.value||isNaN(this.value)?null:this.strictMode?this.trimValue(this.value):this.value),this.wireEvents(),null!==this.value&&!isNaN(this.value)&&this.decimals&&this.setProperties({value:this.roundNumber(this.value,this.decimals)},!0),(this.element.getAttribute("value")||this.value)&&(this.element.setAttribute("value",this.element.value),this.hiddenInput.setAttribute("value",this.hiddenInput.value)),this.elementPrevValue=this.element.value,this.element.hasAttribute("data-val")&&this.element.setAttribute("data-val","false"),!(0,n.le)((0,n.oq)(this.element,"fieldset"))&&(0,n.oq)(this.element,"fieldset").disabled&&(this.enabled=!1),this.renderComplete())},i.prototype.checkAttributes=function(e){for(var s=0,r=e?(0,n.le)(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["value","min","max","step","disabled","readonly","style","name","placeholder"];s<r.length;s++){var o=r[s];if(!(0,n.le)(this.element.getAttribute(o)))switch(o){case"disabled":if((0,n.le)(this.numericOptions)||void 0===this.numericOptions.enabled||e){var a=!("disabled"===this.element.getAttribute(o)||""===this.element.getAttribute(o)||"true"===this.element.getAttribute(o));this.setProperties({enabled:a},!e)}break;case"readonly":if((0,n.le)(this.numericOptions)||void 0===this.numericOptions.readonly||e){var d="readonly"===this.element.getAttribute(o)||""===this.element.getAttribute(o)||"true"===this.element.getAttribute(o);this.setProperties({readonly:d},!e)}break;case"placeholder":((0,n.le)(this.numericOptions)||void 0===this.numericOptions.placeholder||e)&&this.setProperties({placeholder:this.element.placeholder},!e);break;case"value":if((0,n.le)(this.numericOptions)||void 0===this.numericOptions.value||e){var c=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));this.setProperties((0,n.sO)(o,c,{}),!e)}break;case"min":if((0,n.le)(this.numericOptions)||void 0===this.numericOptions.min||e){var p=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));null!==p&&!isNaN(p)&&this.setProperties((0,n.sO)(o,p,{}),!e)}break;case"max":if((0,n.le)(this.numericOptions)||void 0===this.numericOptions.max||e){var u=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));null!==u&&!isNaN(u)&&this.setProperties((0,n.sO)(o,u,{}),!e)}break;case"step":if((0,n.le)(this.numericOptions)||void 0===this.numericOptions.step||e){var f=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));null!==f&&!isNaN(f)&&this.setProperties((0,n.sO)(o,f,{}),!e)}break;case"style":this.inputStyle=this.element.getAttribute(o);break;case"name":this.inputName=this.element.getAttribute(o);break;default:var v=this.instance.getNumberParser({format:"n"})(this.element.getAttribute(o));(null!==v&&!isNaN(v)||"value"===o)&&this.setProperties((0,n.sO)(o,v,{}),!0)}}},i.prototype.updatePlaceholder=function(){this.setProperties({placeholder:this.l10n.getConstant("placeholder")},!0)},i.prototype.initCultureFunc=function(){this.instance=new n.eC(this.locale)},i.prototype.initCultureInfo=function(){this.cultureInfo.format=this.format,null!==(0,n.NA)("currency",this)&&((0,n.sO)("currency",this.currency,this.cultureInfo),this.setProperties({currencyCode:this.currency},!0))},i.prototype.createWrapper=function(){var e=this.cssClass;!(0,n.le)(this.cssClass)&&""!==this.cssClass&&(e=this.getNumericValidClassList(this.cssClass));var t=qe.createInput({element:this.element,floatLabelType:this.floatLabelType,properties:{readonly:this.readonly,placeholder:this.placeholder,cssClass:e,enableRtl:this.enableRtl,showClearButton:this.showClearButton,enabled:this.enabled}},this.createElement);this.inputWrapper=t,this.container=t.container,this.container.setAttribute("class","e-control-wrapper e-numeric "+this.container.getAttribute("class")),this.updateHTMLAttrToWrapper(),this.readonly&&(0,n.Y4)(this.element,{"aria-readonly":"true"}),this.hiddenInput=this.createElement("input",{attrs:{type:"text",validateHidden:"true","aria-label":"hidden",class:"e-numeric-hidden"}}),this.inputName=null!==this.inputName?this.inputName:this.element.id,this.element.removeAttribute("name"),(0,n.Y4)(this.hiddenInput,this.isAngular&&"EJS-NUMERICTEXTBOX"===this.angularTagName&&this.cloneElement.id.length>0?{name:this.cloneElement.id}:{name:this.inputName}),this.container.insertBefore(this.hiddenInput,this.container.childNodes[1]),this.updateDataAttribute(!1),null!==this.inputStyle&&(0,n.Y4)(this.container,{style:this.inputStyle})},i.prototype.updateDataAttribute=function(e){var t={};if(e)t=this.htmlAttributes;else for(var s=0;s<this.element.attributes.length;s++)t[this.element.attributes[s].name]=this.element.getAttribute(this.element.attributes[s].name);for(var r=0,o=Object.keys(t);r<o.length;r++){var a=o[r];0===a.indexOf("data")&&this.hiddenInput.setAttribute(a,t[""+a])}},i.prototype.updateHTMLAttrToElement=function(){if(!(0,n.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];gb.indexOf(s)<0&&this.element.setAttribute(s,this.htmlAttributes[""+s])}},i.prototype.updateCssClass=function(e,t){qe.setCssClass(this.getNumericValidClassList(e),[this.container],this.getNumericValidClassList(t))},i.prototype.getNumericValidClassList=function(e){var t=e;return!(0,n.le)(e)&&""!==e&&(t=e.replace(/\s+/g," ").trim()),t},i.prototype.updateHTMLAttrToWrapper=function(){if(!(0,n.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];if(gb.indexOf(s)>-1)if("class"===s){var r=this.getNumericValidClassList(this.htmlAttributes[""+s]);""!==r&&(0,n.cn)([this.container],r.split(" "))}else if("style"===s){var o=this.container.getAttribute(s);o=(0,n.le)(o)?this.htmlAttributes[""+s]:o+this.htmlAttributes[""+s],this.container.setAttribute(s,o)}else this.container.setAttribute(s,this.htmlAttributes[""+s])}},i.prototype.setElementWidth=function(e){(0,n.le)(e)||("number"==typeof e?this.container.style.width=(0,n.Ac)(e):"string"==typeof e&&(this.container.style.width=e.match(/px|%|em/)?e:(0,n.Ac)(e)))},i.prototype.spinBtnCreation=function(){this.spinDown=qe.appendSpan(df+" e-spin-down",this.container,this.createElement),(0,n.Y4)(this.spinDown,{title:this.l10n.getConstant("decrementTitle")}),this.spinUp=qe.appendSpan(df+" "+cf,this.container,this.createElement),(0,n.Y4)(this.spinUp,{title:this.l10n.getConstant("incrementTitle")}),this.wireSpinBtnEvents()},i.prototype.validateMinMax=function(){"number"==typeof this.min&&!isNaN(this.min)||this.setProperties({min:-Number.MAX_VALUE},!0),"number"==typeof this.max&&!isNaN(this.max)||this.setProperties({max:Number.MAX_VALUE},!0),null!==this.decimals&&(this.min!==-Number.MAX_VALUE&&this.setProperties({min:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.min))},!0),this.max!==Number.MAX_VALUE&&this.setProperties({max:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.max))},!0)),this.setProperties({min:this.min>this.max?this.max:this.min},!0),this.min!==-Number.MAX_VALUE&&(0,n.Y4)(this.element,{"aria-valuemin":this.min.toString()}),this.max!==Number.MAX_VALUE&&(0,n.Y4)(this.element,{"aria-valuemax":this.max.toString()})},i.prototype.formattedValue=function(e,t){return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(t)},i.prototype.validateStep=function(){null!==this.decimals&&this.setProperties({step:this.instance.getNumberParser({format:"n"})(this.formattedValue(this.decimals,this.step))},!0)},i.prototype.action=function(e,t){this.isInteract=!0;var s=this.isFocused?this.instance.getNumberParser({format:"n"})(this.element.value):this.value;this.changeValue(this.performAction(s,this.step,e)),this.raiseChangeEvent(t)},i.prototype.checkErrorClass=function(){this.isValidState?(0,n.IV)([this.container],pf):(0,n.cn)([this.container],pf),(0,n.Y4)(this.element,{"aria-invalid":this.isValidState?"false":"true"})},i.prototype.bindClearEvent=function(){this.showClearButton&&n.bi.add(this.inputWrapper.clearButton,"mousedown touchstart",this.resetHandler,this)},i.prototype.resetHandler=function(e){e.preventDefault(),(!this.inputWrapper.clearButton.classList.contains("e-clear-icon-hide")||this.inputWrapper.container.classList.contains("e-static-clear"))&&this.clear(e),this.isInteract=!0,this.raiseChangeEvent(e)},i.prototype.clear=function(e){if(this.setProperties({value:null},!0),this.setElementValue(""),this.hiddenInput.value="",(0,n.oq)(this.element,"form")){var s=this.element.nextElementSibling,r=document.createEvent("KeyboardEvent");r.initEvent("keyup",!1,!0),s.dispatchEvent(r)}},i.prototype.resetFormHandler=function(){this.updateValue("EJS-NUMERICTEXTBOX"===this.element.tagName?null:this.inputEleValue)},i.prototype.setSpinButton=function(){(0,n.le)(this.spinDown)||(0,n.Y4)(this.spinDown,{title:this.l10n.getConstant("decrementTitle"),"aria-label":this.l10n.getConstant("decrementTitle")}),(0,n.le)(this.spinUp)||(0,n.Y4)(this.spinUp,{title:this.l10n.getConstant("incrementTitle"),"aria-label":this.l10n.getConstant("incrementTitle")})},i.prototype.wireEvents=function(){n.bi.add(this.element,"focus",this.focusHandler,this),n.bi.add(this.element,"blur",this.focusOutHandler,this),n.bi.add(this.element,"keydown",this.keyDownHandler,this),n.bi.add(this.element,"keyup",this.keyUpHandler,this),n.bi.add(this.element,"input",this.inputHandler,this),n.bi.add(this.element,"keypress",this.keyPressHandler,this),n.bi.add(this.element,"change",this.changeHandler,this),n.bi.add(this.element,"paste",this.pasteHandler,this),this.enabled&&(this.bindClearEvent(),this.formEle&&n.bi.add(this.formEle,"reset",this.resetFormHandler,this))},i.prototype.wireSpinBtnEvents=function(){n.bi.add(this.spinUp,n.AR.touchStartEvent,this.mouseDownOnSpinner,this),n.bi.add(this.spinDown,n.AR.touchStartEvent,this.mouseDownOnSpinner,this),n.bi.add(this.spinUp,n.AR.touchEndEvent,this.mouseUpOnSpinner,this),n.bi.add(this.spinDown,n.AR.touchEndEvent,this.mouseUpOnSpinner,this),n.bi.add(this.spinUp,n.AR.touchMoveEvent,this.touchMoveOnSpinner,this),n.bi.add(this.spinDown,n.AR.touchMoveEvent,this.touchMoveOnSpinner,this)},i.prototype.unwireEvents=function(){n.bi.remove(this.element,"focus",this.focusHandler),n.bi.remove(this.element,"blur",this.focusOutHandler),n.bi.remove(this.element,"keyup",this.keyUpHandler),n.bi.remove(this.element,"input",this.inputHandler),n.bi.remove(this.element,"keydown",this.keyDownHandler),n.bi.remove(this.element,"keypress",this.keyPressHandler),n.bi.remove(this.element,"change",this.changeHandler),n.bi.remove(this.element,"paste",this.pasteHandler),this.formEle&&n.bi.remove(this.formEle,"reset",this.resetFormHandler)},i.prototype.unwireSpinBtnEvents=function(){n.bi.remove(this.spinUp,n.AR.touchStartEvent,this.mouseDownOnSpinner),n.bi.remove(this.spinDown,n.AR.touchStartEvent,this.mouseDownOnSpinner),n.bi.remove(this.spinUp,n.AR.touchEndEvent,this.mouseUpOnSpinner),n.bi.remove(this.spinDown,n.AR.touchEndEvent,this.mouseUpOnSpinner),n.bi.remove(this.spinUp,n.AR.touchMoveEvent,this.touchMoveOnSpinner),n.bi.remove(this.spinDown,n.AR.touchMoveEvent,this.touchMoveOnSpinner)},i.prototype.changeHandler=function(e){e.stopPropagation(),this.element.value.length||this.setProperties({value:null},!0);var t=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(t,e)},i.prototype.raiseChangeEvent=function(e){if(this.inputValue=(0,n.le)(this.inputValue)||isNaN(this.inputValue)?null:this.inputValue,this.prevValue!==this.value||this.prevValue!==this.inputValue){var t={};this.changeEventArgs={value:this.value,previousValue:this.prevValue,isInteracted:this.isInteract,isInteraction:this.isInteract,event:e},e&&(this.changeEventArgs.event=e),void 0===this.changeEventArgs.event&&(this.changeEventArgs.isInteracted=!1,this.changeEventArgs.isInteraction=!1),(0,n.TS)(t,this.changeEventArgs),this.prevValue=this.value,this.isInteract=!1,this.elementPrevValue=this.element.value,this.preventChange=!1,this.trigger("change",t)}},i.prototype.pasteHandler=function(){var e=this;if(this.enabled&&!this.readonly){var t=this.element.value;setTimeout(function(){e.numericRegex().test(e.element.value)||e.setElementValue(t)})}},i.prototype.preventHandler=function(){var e=this,t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);setTimeout(function(){if(e.element.selectionStart>0){var s=e.element.selectionStart,r=e.element.selectionStart-1,a=e.element.value.split(""),d=(0,n.NE)(e.locale),c=(0,n.NA)("decimal",d),p=c.charCodeAt(0);" "===e.element.value[r]&&e.element.selectionStart>0&&!t?((0,n.le)(e.prevVal)?e.element.value=e.element.value.trim():0!==r?e.element.value=e.prevVal:0===r&&(e.element.value=e.element.value.trim()),e.element.setSelectionRange(r,r)):isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&45!==e.element.value[e.element.selectionStart-1].charCodeAt(0)?(a.indexOf(e.element.value[e.element.selectionStart-1])!==a.lastIndexOf(e.element.value[e.element.selectionStart-1])&&e.element.value[e.element.selectionStart-1].charCodeAt(0)===p||e.element.value[e.element.selectionStart-1].charCodeAt(0)!==p)&&(e.element.value=e.element.value.substring(0,r)+e.element.value.substring(s,e.element.value.length),e.element.setSelectionRange(r,r),isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&e.element.selectionStart>0&&e.element.value.length&&e.preventHandler()):isNaN(parseFloat(e.element.value[e.element.selectionStart-2]))&&e.element.selectionStart>1&&45!==e.element.value[e.element.selectionStart-2].charCodeAt(0)&&(a.indexOf(e.element.value[e.element.selectionStart-2])!==a.lastIndexOf(e.element.value[e.element.selectionStart-2])&&e.element.value[e.element.selectionStart-2].charCodeAt(0)===p||e.element.value[e.element.selectionStart-2].charCodeAt(0)!==p)&&(e.element.setSelectionRange(r,r),e.nextEle=e.element.value[e.element.selectionStart],e.cursorPosChanged=!0,e.preventHandler()),!0===e.cursorPosChanged&&e.element.value[e.element.selectionStart]===e.nextEle&&isNaN(parseFloat(e.element.value[e.element.selectionStart-1]))&&(e.element.setSelectionRange(e.element.selectionStart+1,e.element.selectionStart+1),e.cursorPosChanged=!1,e.nextEle=null),""===e.element.value.trim()&&e.element.setSelectionRange(0,0),e.element.selectionStart>0&&(45===e.element.value[e.element.selectionStart-1].charCodeAt(0)&&e.element.selectionStart>1&&(e.element.value=(0,n.le)(e.prevVal)?e.element.value:e.prevVal,e.element.setSelectionRange(e.element.selectionStart,e.element.selectionStart)),e.element.value[e.element.selectionStart-1]===c&&0===e.decimals&&e.validateDecimalOnType&&(e.element.value=e.element.value.substring(0,r)+e.element.value.substring(s,e.element.value.length))),e.prevVal=e.element.value}})},i.prototype.keyUpHandler=function(){if(this.enabled&&!this.readonly){(!navigator.platform||!/iPad|iPhone|iPod/.test(navigator.platform))&&n.AR.isDevice&&this.preventHandler();var t=this.instance.getNumberParser({format:"n"})(this.element.value);if(t=null===t||isNaN(t)?null:t,this.hiddenInput.value=t||0===t?t.toString():null,(0,n.oq)(this.element,"form")){var r=this.element.nextElementSibling,o=document.createEvent("KeyboardEvent");o.initEvent("keyup",!1,!0),r.dispatchEvent(o)}}},i.prototype.inputHandler=function(e){if(this.enabled&&!this.readonly){var s=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if((navigator.userAgent.toLowerCase().indexOf("firefox")>-1||s)&&n.AR.isDevice&&this.preventHandler(),this.isAngular&&this.element.value!==(0,n.NA)("decimal",(0,n.NE)(this.locale))&&this.element.value!==(0,n.NA)("minusSign",(0,n.NE)(this.locale))){var o=this.instance.getNumberParser({format:"n"})(this.element.value);o=isNaN(o)?null:o,this.localChange({value:o}),this.preventChange=!0}if(this.isVue){var a=this.instance.getNumberParser({format:"n"})(this.element.value),d=this.instance.getNumberParser({format:"n"})(this.elementPrevValue);(new RegExp("[^0-9]+$").test(this.element.value)||(-1!==this.elementPrevValue.indexOf(".")||-1!==this.elementPrevValue.indexOf("-"))&&"0"===this.element.value[this.element.value.length-1])&&(a=this.value);var p={event:e,value:null===a||isNaN(a)?null:a,previousValue:null===d||isNaN(d)?null:d};this.preventChange=!0,this.elementPrevValue=this.element.value,this.trigger("input",p)}}},i.prototype.keyDownHandler=function(e){if(!this.readonly)switch(e.keyCode){case 38:e.preventDefault(),this.action(ta,e);break;case 40:e.preventDefault(),this.action(Pl,e)}},i.prototype.performAction=function(e,t,s){(null===e||isNaN(e))&&(e=0);var r=s===ta?e+t:e-t;return r=this.correctRounding(e,t,r),this.strictMode?this.trimValue(r):r},i.prototype.correctRounding=function(e,t,s){var r=new RegExp("[,.](.*)"),o=r.test(e.toString()),a=r.test(t.toString());if(o||a){var d=o?r.exec(e.toString())[0].length:0,c=a?r.exec(t.toString())[0].length:0,p=Math.max(d,c);return this.roundValue(s,p)}return s},i.prototype.roundValue=function(e,t){t=t||0;var s=Math.pow(10,t);return Math.round(e*=s)/s},i.prototype.updateValue=function(e,t){t&&(this.isInteract=!0),null!==e&&!isNaN(e)&&this.decimals&&(e=this.roundNumber(e,this.decimals)),this.inputValue=e,this.changeValue(null===e||isNaN(e)?null:this.strictMode?this.trimValue(e):e),this.isDynamicChange||this.raiseChangeEvent(t)},i.prototype.updateCurrency=function(e,t){(0,n.sO)(e,t,this.cultureInfo),this.updateValue(this.value)},i.prototype.changeValue=function(e){if(e||0===e){var t=this.getNumberOfDecimals(e);this.setProperties({value:this.roundNumber(e,t)},!0)}else this.setProperties({value:e=null},!0);this.modifyText(),this.strictMode||this.validateState()},i.prototype.modifyText=function(){if(this.value||0===this.value){var e=this.formatNumber(),t=this.isFocused?e:this.instance.getNumberFormat(this.cultureInfo)(this.value);this.setElementValue(t),(0,n.Y4)(this.element,{"aria-valuenow":e}),this.hiddenInput.value=this.value.toString(),null!==this.value&&this.serverDecimalSeparator&&(this.hiddenInput.value=this.hiddenInput.value.replace(".",this.serverDecimalSeparator))}else this.setElementValue(""),this.element.removeAttribute("aria-valuenow"),this.hiddenInput.value=null},i.prototype.setElementValue=function(e,t){qe.setValue(e,t||this.element,this.floatLabelType,this.showClearButton)},i.prototype.validateState=function(){this.isValidState=!0,(this.value||0===this.value)&&(this.isValidState=!(this.value>this.max||this.value<this.min)),this.checkErrorClass()},i.prototype.getNumberOfDecimals=function(e){var t,s=new RegExp("[eE][-+]?([0-9]+)"),r=e.toString();if(s.test(r)){var o=s.exec(r);(0,n.le)(o)||(r=e.toFixed(Math.min(parseInt(o[1],10),20)))}var a=r.split(".")[1];return t=a&&a.length?a.length:0,null!==this.decimals&&(t=t<this.decimals?t:this.decimals),t},i.prototype.formatNumber=function(){var e=this.getNumberOfDecimals(this.value);return this.instance.getNumberFormat({maximumFractionDigits:e,minimumFractionDigits:e,useGrouping:!1})(this.value)},i.prototype.trimValue=function(e){return e>this.max?this.max:e<this.min?this.min:e},i.prototype.roundNumber=function(e,t){var s=e,r=t||0,o=s.toString().split("e"),a=(s=Math.round(+(o[0]+"e"+(o[1]?Number(o[1])+r:r)))).toString().split("e");return s=+(a[0]+"e"+(a[1]?Number(a[1])-r:-r)),Number(s.toFixed(r))},i.prototype.cancelEvent=function(e){return e.preventDefault(),!1},i.prototype.keyPressHandler=function(e){if(!this.enabled||this.readonly)return!0;if(!n.AR.isDevice&&"11.0"===n.AR.info.version&&13===e.keyCode){var t=this.instance.getNumberParser({format:"n"})(this.element.value);return this.updateValue(t,e),!0}if(0===e.which||e.metaKey||e.ctrlKey||8===e.keyCode||13===e.keyCode)return!0;var s=String.fromCharCode(e.which),r=(0,n.NA)("decimal",(0,n.NE)(this.locale)),o="NumpadDecimal"===e.code&&s!==r;o&&(s=r);var a=this.element.value;if(a=a.substring(0,this.element.selectionStart)+s+a.substring(this.element.selectionEnd),this.numericRegex().test(a)){if(o){var d=this.element.selectionStart+1;this.element.value=a,this.element.setSelectionRange(d,d),e.preventDefault(),e.stopPropagation()}return!0}return e.preventDefault(),e.stopPropagation(),!1},i.prototype.numericRegex=function(){var e=(0,n.NE)(this.locale),t=(0,n.NA)("decimal",e),s="*";return"."===t&&(t="\\"+t),0===this.decimals&&this.validateDecimalOnType?PS:(this.decimals&&this.validateDecimalOnType&&(s="{0,"+this.decimals+"}"),new RegExp("^(-)?(((\\d+("+t+"\\d"+s+")?)|("+t+"\\d"+s+")))?$"))},i.prototype.mouseWheel=function(e){var t;e.preventDefault(),e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3),t>0?this.action(ta,e):t<0&&this.action(Pl,e),this.cancelEvent(e)},i.prototype.focusHandler=function(e){var t=this;if(clearTimeout(yb),this.focusEventArgs={event:e,value:this.value,container:this.container},this.trigger("focus",this.focusEventArgs),this.enabled&&!this.readonly){if(this.isFocused=!0,(0,n.IV)([this.container],pf),this.prevValue=this.value,this.value||0===this.value){var s=this.formatNumber();this.setElementValue(s),this.isPrevFocused||(n.AR.isDevice||"11.0"!==n.AR.info.version?yb=setTimeout(function(){t.element.setSelectionRange(0,s.length)},n.AR.isDevice&&n.AR.isIos?600:0):this.element.setSelectionRange(0,s.length))}n.AR.isDevice||n.bi.add(this.element,"mousewheel DOMMouseScroll",this.mouseWheel,this)}},i.prototype.focusOutHandler=function(e){var t=this;if(this.blurEventArgs={event:e,value:this.value,container:this.container},this.trigger("blur",this.blurEventArgs),this.enabled&&!this.readonly){if(this.isPrevFocused){if(e.preventDefault(),n.AR.isDevice){var s=this.element.value;this.element.focus(),this.isPrevFocused=!1;var r=this.element;setTimeout(function(){t.setElementValue(s,r)},200)}}else{this.isFocused=!1,this.element.value.length||this.setProperties({value:null},!0);var o=this.instance.getNumberParser({format:"n"})(this.element.value);this.updateValue(o),n.AR.isDevice||n.bi.remove(this.element,"mousewheel DOMMouseScroll",this.mouseWheel)}if((0,n.oq)(this.element,"form")){var d=this.element.nextElementSibling,c=document.createEvent("FocusEvent");c.initEvent("focusout",!1,!0),d.dispatchEvent(c)}}},i.prototype.mouseDownOnSpinner=function(e){var t=this;if(this.isFocused&&(this.isPrevFocused=!0,e.preventDefault()),this.getElementData(e)){this.getElementData(e);var r=e.currentTarget,o=r.classList.contains(cf)?ta:Pl;n.bi.add(r,"mouseleave",this.mouseUpClick,this),this.timeOut=setInterval(function(){t.isCalled=!0,t.action(o,e)},150),n.bi.add(document,"mouseup",this.mouseUpClick,this)}},i.prototype.touchMoveOnSpinner=function(e){var t;if("touchmove"===e.type){var s=e.touches;t=s.length&&document.elementFromPoint(s[0].pageX,s[0].pageY)}else t=document.elementFromPoint(e.clientX,e.clientY);t.classList.contains(df)||clearInterval(this.timeOut)},i.prototype.mouseUpOnSpinner=function(e){if(this.prevValue=this.value,this.isPrevFocused&&(this.element.focus(),n.AR.isDevice||(this.isPrevFocused=!1)),n.AR.isDevice||e.preventDefault(),this.getElementData(e)){var t=e.currentTarget,s=t.classList.contains(cf)?ta:Pl;if(n.bi.remove(t,"mouseleave",this.mouseUpClick),this.isCalled||this.action(s,e),this.isCalled=!1,n.bi.remove(document,"mouseup",this.mouseUpClick),(0,n.oq)(this.element,"form")){var o=this.element.nextElementSibling,a=document.createEvent("KeyboardEvent");a.initEvent("keyup",!1,!0),o.dispatchEvent(a)}}},i.prototype.getElementData=function(e){return!(e.which&&3===e.which||e.button&&2===e.button||!this.enabled||this.readonly||(clearInterval(this.timeOut),0))},i.prototype.floatLabelTypeUpdate=function(){qe.removeFloating(this.inputWrapper);var e=this.hiddenInput;this.hiddenInput.remove(),qe.addFloating(this.element,this.floatLabelType,this.placeholder,this.createElement),this.container.insertBefore(e,this.container.childNodes[1])},i.prototype.mouseUpClick=function(e){e.stopPropagation(),clearInterval(this.timeOut),this.isCalled=!1,this.spinUp&&n.bi.remove(this.spinUp,"mouseleave",this.mouseUpClick),this.spinDown&&n.bi.remove(this.spinDown,"mouseleave",this.mouseUpClick)},i.prototype.increment=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,ta)),this.raiseChangeEvent()},i.prototype.decrement=function(e){void 0===e&&(e=this.step),this.isInteract=!1,this.changeValue(this.performAction(this.value,e,Pl)),this.raiseChangeEvent()},i.prototype.destroy=function(){this.unwireEvents(),(0,n.og)(this.hiddenInput),this.showSpinButton&&(this.unwireSpinBtnEvents(),(0,n.og)(this.spinUp),(0,n.og)(this.spinDown));for(var e=["aria-labelledby","role","autocomplete","aria-readonly","aria-disabled","autocapitalize","spellcheck","aria-autocomplete","tabindex","aria-valuemin","aria-valuemax","aria-valuenow","aria-invalid"],t=0;t<e.length;t++)this.element.removeAttribute(e[t]);this.element.classList.remove("e-input"),this.container.insertAdjacentElement("afterend",this.element),(0,n.og)(this.container),this.spinUp=null,this.spinDown=null,this.container=null,this.hiddenInput=null,this.changeEventArgs=null,this.blurEventArgs=null,this.focusEventArgs=null,this.inputWrapper=null,qe.destroy(),h.prototype.destroy.call(this)},i.prototype.getText=function(){return this.element.value},i.prototype.focusIn=function(){document.activeElement!==this.element&&this.enabled&&(this.element.focus(),(0,n.cn)([this.container],[vb]))},i.prototype.focusOut=function(){document.activeElement===this.element&&this.enabled&&(this.element.blur(),(0,n.IV)([this.container],[vb]))},i.prototype.getPersistData=function(){return this.addOnPersist(["value"])},i.prototype.onPropertyChanged=function(e,t){for(var s=0,r=Object.keys(e);s<r.length;s++){var o=r[s];switch(o){case"width":this.setElementWidth(e.width),qe.calculateWidth(this.element,this.container);break;case"cssClass":this.updateCssClass(e.cssClass,t.cssClass);break;case"enabled":qe.setEnabled(e.enabled,this.element),this.bindClearEvent();break;case"enableRtl":qe.setEnableRtl(e.enableRtl,[this.container]);break;case"readonly":qe.setReadonly(e.readonly,this.element),this.readonly?(0,n.Y4)(this.element,{"aria-readonly":"true"}):this.element.removeAttribute("aria-readonly");break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.updateDataAttribute(!0),this.checkAttributes(!0),qe.validateInputType(this.container,this.element);break;case"placeholder":qe.setPlaceholder(e.placeholder,this.element),qe.calculateWidth(this.element,this.container);break;case"step":this.step=e.step,this.validateStep();break;case"showSpinButton":this.updateSpinButton(e);break;case"showClearButton":this.updateClearButton(e);break;case"floatLabelType":this.floatLabelType=e.floatLabelType,this.floatLabelTypeUpdate();break;case"value":this.isDynamicChange=(this.isAngular||this.isVue)&&this.preventChange,this.updateValue(e.value),this.isDynamicChange&&(this.preventChange=!1,this.isDynamicChange=!1);break;case"min":case"max":(0,n.sO)(o,(0,n.NA)(o,e),this),this.validateMinMax(),this.updateValue(this.value);break;case"strictMode":this.strictMode=e.strictMode,this.updateValue(this.value),this.validateState();break;case"locale":this.initCultureFunc(),this.l10n.setLocale(this.locale),this.setSpinButton(),this.updatePlaceholder(),qe.setPlaceholder(this.placeholder,this.element),this.updateValue(this.value);break;case"currency":var a=(0,n.NA)(o,e);this.setProperties({currencyCode:a},!0),this.updateCurrency(o,a);break;case"currencyCode":var d=(0,n.NA)(o,e);this.setProperties({currency:d},!0),this.updateCurrency("currency",d);break;case"format":(0,n.sO)(o,(0,n.NA)(o,e),this),this.initCultureInfo(),this.updateValue(this.value);break;case"decimals":this.decimals=e.decimals,this.updateValue(this.value)}}},i.prototype.updateClearButton=function(e){qe.setClearButton(e.showClearButton,this.element,this.inputWrapper,void 0,this.createElement),this.bindClearEvent()},i.prototype.updateSpinButton=function(e){e.showSpinButton?this.spinBtnCreation():((0,n.og)(this.spinUp),(0,n.og)(this.spinDown))},i.prototype.getModuleName=function(){return"numerictextbox"},Kt([(0,n.Z9)("")],i.prototype,"cssClass",void 0),Kt([(0,n.Z9)(null)],i.prototype,"value",void 0),Kt([(0,n.Z9)(-Number.MAX_VALUE)],i.prototype,"min",void 0),Kt([(0,n.Z9)(Number.MAX_VALUE)],i.prototype,"max",void 0),Kt([(0,n.Z9)(1)],i.prototype,"step",void 0),Kt([(0,n.Z9)(null)],i.prototype,"width",void 0),Kt([(0,n.Z9)(null)],i.prototype,"placeholder",void 0),Kt([(0,n.Z9)({})],i.prototype,"htmlAttributes",void 0),Kt([(0,n.Z9)(!0)],i.prototype,"showSpinButton",void 0),Kt([(0,n.Z9)(!1)],i.prototype,"readonly",void 0),Kt([(0,n.Z9)(!0)],i.prototype,"enabled",void 0),Kt([(0,n.Z9)(!1)],i.prototype,"showClearButton",void 0),Kt([(0,n.Z9)(!1)],i.prototype,"enablePersistence",void 0),Kt([(0,n.Z9)("n2")],i.prototype,"format",void 0),Kt([(0,n.Z9)(null)],i.prototype,"decimals",void 0),Kt([(0,n.Z9)(null)],i.prototype,"currency",void 0),Kt([(0,n.Z9)(null)],i.prototype,"currencyCode",void 0),Kt([(0,n.Z9)(!0)],i.prototype,"strictMode",void 0),Kt([(0,n.Z9)(!1)],i.prototype,"validateDecimalOnType",void 0),Kt([(0,n.Z9)("Never")],i.prototype,"floatLabelType",void 0),Kt([(0,n.ju)()],i.prototype,"created",void 0),Kt([(0,n.ju)()],i.prototype,"destroyed",void 0),Kt([(0,n.ju)()],i.prototype,"change",void 0),Kt([(0,n.ju)()],i.prototype,"focus",void 0),Kt([(0,n.ju)()],i.prototype,"blur",void 0),Kt([n.Zl],i)}(n.wA),Tl=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),ht=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},US=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Tl(i,h),ht([(0,n.Z9)("None")],i.prototype,"placement",void 0),ht([(0,n.Z9)(10)],i.prototype,"largeStep",void 0),ht([(0,n.Z9)(1)],i.prototype,"smallStep",void 0),ht([(0,n.Z9)(!1)],i.prototype,"showSmallTicks",void 0),ht([(0,n.Z9)(null)],i.prototype,"format",void 0),i}(n.rt),XS=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Tl(i,h),ht([(0,n.Z9)(null)],i.prototype,"color",void 0),ht([(0,n.Z9)(null)],i.prototype,"start",void 0),ht([(0,n.Z9)(null)],i.prototype,"end",void 0),i}(n.rt),JS=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Tl(i,h),ht([(0,n.Z9)(!1)],i.prototype,"enabled",void 0),ht([(0,n.Z9)(null)],i.prototype,"minStart",void 0),ht([(0,n.Z9)(null)],i.prototype,"minEnd",void 0),ht([(0,n.Z9)(null)],i.prototype,"maxStart",void 0),ht([(0,n.Z9)(null)],i.prototype,"maxEnd",void 0),ht([(0,n.Z9)(!1)],i.prototype,"startHandleFixed",void 0),ht([(0,n.Z9)(!1)],i.prototype,"endHandleFixed",void 0),i}(n.rt),GS=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Tl(i,h),ht([(0,n.Z9)("")],i.prototype,"cssClass",void 0),ht([(0,n.Z9)("Before")],i.prototype,"placement",void 0),ht([(0,n.Z9)("Focus")],i.prototype,"showOn",void 0),ht([(0,n.Z9)(!1)],i.prototype,"isVisible",void 0),ht([(0,n.Z9)(null)],i.prototype,"format",void 0),i}(n.rt),gf=function(h){function i(e,t){var s=h.call(this,e,t)||this;return s.horDir="left",s.verDir="bottom",s.transition={handle:"left .4s cubic-bezier(.25, .8, .25, 1), right .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1) , bottom .4s cubic-bezier(.25, .8, .25, 1)",rangeBar:"all .4s cubic-bezier(.25, .8, .25, 1)"},s.transitionOnMaterialTooltip={handle:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, top 1ms ease-out",rangeBar:"left 1ms ease-out, right 1ms ease-out, bottom 1ms ease-out, width 1ms ease-out, height 1ms ease-out"},s.scaleTransform="transform .4s cubic-bezier(.25, .8, .25, 1)",s.customAriaText=null,s.drag=!0,s.isDragComplete=!1,s.initialTooltip=!0,s}return Tl(i,h),i.prototype.preRender=function(){this.l10n=new n.E7("slider",{incrementTitle:"Increase",decrementTitle:"Decrease"},this.locale),this.isElementFocused=!1,this.tickElementCollection=[],this.tooltipFormatInfo={},this.ticksFormatInfo={},this.initCultureInfo(),this.initCultureFunc(),this.formChecker()},i.prototype.formChecker=function(){var e=(0,n.oq)(this.element,"form");e?(this.isForm=!0,(0,n.le)(this.formResetValue)||this.setProperties({value:this.formResetValue},!0),this.formResetValue=this.value,"Range"!==this.type||!(0,n.le)(this.formResetValue)&&"object"==typeof this.formResetValue?(0,n.le)(this.formResetValue)&&(this.formResetValue=parseFloat((0,n.Ac)(this.min))):this.formResetValue=[parseFloat((0,n.Ac)(this.min)),parseFloat((0,n.Ac)(this.max))],this.formElement=e):this.isForm=!1},i.prototype.initCultureFunc=function(){this.internationalization=new n.eC(this.locale)},i.prototype.initCultureInfo=function(){this.tooltipFormatInfo.format=(0,n.le)(this.tooltip.format)?null:this.tooltip.format,this.ticksFormatInfo.format=(0,n.le)(this.ticks.format)?null:this.ticks.format},i.prototype.formatString=function(e,t){var s=null,r=null;if(e||0===e){s=this.formatNumber(e);var o=this.numberOfDecimals(e);r=this.internationalization.getNumberFormat(t)(this.makeRoundNumber(e,o))}return{elementVal:s,formatString:r}},i.prototype.formatNumber=function(e){var t=this.numberOfDecimals(e);return this.internationalization.getNumberFormat({maximumFractionDigits:t,minimumFractionDigits:t,useGrouping:!1})(e)},i.prototype.numberOfDecimals=function(e){var t=e.toString().split(".")[1];return t&&t.length?t.length:0},i.prototype.makeRoundNumber=function(e,t){return Number(e.toFixed(t||0))},i.prototype.fractionalToInteger=function(e){e=0===this.numberOfDecimals(e)?Number(e).toFixed(this.noOfDecimals):e;for(var t=1,s=0;s<this.noOfDecimals;s++)t*=10;return Number((e*t).toFixed(0))},i.prototype.render=function(){var e=this;this.initialize(),this.initRender(),this.wireEvents(),this.setZindex(),this.renderComplete(),"EJS-SLIDER"===this.element.tagName&&"none"==this.getTheme(this.sliderContainer)&&setTimeout(function(){e.refresh()},0)},i.prototype.initialize=function(){(0,n.cn)([this.element],"e-slider"),this.setCSSClass()},i.prototype.setElementWidth=function(e){!(0,n.le)(e)&&!(0,n.le)(this.sliderContainer)&&("number"==typeof e?this.sliderContainer.style.width=(0,n.Ac)(e):"string"==typeof e&&(this.sliderContainer.style.width=e.match(/px|%|em/)?e:(0,n.Ac)(e)))},i.prototype.setCSSClass=function(e){e&&(0,n.IV)([this.element],e.split(" ")),this.cssClass&&(0,n.cn)([this.element],this.cssClass.split(" "))},i.prototype.setEnabled=function(){this.enabled?((0,n.IV)([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.remove("e-disabled"),this.wireEvents()):((0,n.cn)([this.sliderContainer],["e-disabled"]),this.tooltip.isVisible&&this.tooltipElement&&"Always"===this.tooltip.showOn&&this.tooltipElement.classList.add("e-disabled"),this.unwireEvents())},i.prototype.getTheme=function(e){return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/['"]+/g,"")},i.prototype.initRender=function(){this.sliderContainer=this.createElement("div",{className:"e-slider-container e-control-wrapper"}),this.element.parentNode.insertBefore(this.sliderContainer,this.element),this.sliderContainer.appendChild(this.element),this.sliderTrack=this.createElement("div",{className:"e-slider-track"}),this.element.appendChild(this.sliderTrack),this.setElementWidth(this.width),this.element.tabIndex=-1,this.getThemeInitialization(),this.setHandler(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setOrientClass(),this.hiddenInput=this.createElement("input",{attrs:{type:"hidden",value:(0,n.le)(this.value)?this.min.toString():this.value.toString(),name:this.element.getAttribute("name")||this.element.getAttribute("id")||"_"+(1e3*Math.random()).toFixed(0)+"slider",class:"e-slider-input"}}),this.hiddenInput.tabIndex=-1,this.sliderContainer.appendChild(this.hiddenInput),this.showButtons&&this.setButtons(),this.setEnableRTL(),"Range"===this.type?this.rangeValueUpdate():this.value=(0,n.le)(this.value)?parseFloat((0,n.Ac)(this.min.toString())):this.value,this.previousVal="Range"!==this.type?this.checkHandleValue(parseFloat((0,n.Ac)(this.value.toString()))):[this.checkHandleValue(parseFloat((0,n.Ac)(this.value[0].toString()))),this.checkHandleValue(parseFloat((0,n.Ac)(this.value[1].toString())))],this.previousChanged=this.previousVal,(0,n.le)(this.element.hasAttribute("name"))||this.element.removeAttribute("name"),this.setValue(),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.renderScale(),this.tooltip.isVisible&&this.renderTooltip(),this.enabled?(0,n.IV)([this.sliderContainer],["e-disabled"]):(0,n.cn)([this.sliderContainer],["e-disabled"]),this.readonly?(0,n.cn)([this.sliderContainer],["e-read-only"]):(0,n.IV)([this.sliderContainer],["e-read-only"])},i.prototype.getThemeInitialization=function(){this.isMaterial="material"===this.getTheme(this.sliderContainer)||"material-dark"===this.getTheme(this.sliderContainer),this.isMaterial3="Material3"===this.getTheme(this.sliderContainer)||"Material3-dark"===this.getTheme(this.sliderContainer),this.isBootstrap="bootstrap"===this.getTheme(this.sliderContainer)||"bootstrap-dark"===this.getTheme(this.sliderContainer),this.isBootstrap4="bootstrap4"===this.getTheme(this.sliderContainer),this.isTailwind="tailwind"===this.getTheme(this.sliderContainer)||"tailwind-dark"===this.getTheme(this.sliderContainer),this.isBootstrap5="bootstrap5"===this.getTheme(this.sliderContainer),this.isFluent="FluentUI"===this.getTheme(this.sliderContainer),this.isMaterialTooltip=(this.isMaterial||this.isMaterial3)&&"Range"!==this.type&&this.tooltip.isVisible},i.prototype.createRangeBar=function(){"Default"!==this.type&&(this.rangeBar=this.createElement("div",{attrs:{class:"e-range"}}),this.element.appendChild(this.rangeBar),this.drag&&"Range"===this.type&&this.rangeBar.classList.add("Horizontal"===this.orientation?"e-drag-horizontal":"e-drag-vertical"))},i.prototype.createLimitBar=function(){var e="Range"!==this.type?"e-limit-bar":"e-limit-first";this.limitBarFirst=this.createElement("div",{attrs:{class:e+=" e-limits"}}),this.element.appendChild(this.limitBarFirst),"Range"===this.type&&(this.limitBarSecond=this.createElement("div",{attrs:{class:"e-limit-second e-limits"}}),this.element.appendChild(this.limitBarSecond))},i.prototype.setOrientClass=function(){"Vertical"!==this.orientation?(this.sliderContainer.classList.remove("e-vertical"),this.sliderContainer.classList.add("e-horizontal"),this.firstHandle.setAttribute("aria-orientation","horizontal"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","horizontal")):(this.sliderContainer.classList.remove("e-horizontal"),this.sliderContainer.classList.add("e-vertical"),this.firstHandle.setAttribute("aria-orientation","vertical"),"Range"===this.type&&this.secondHandle.setAttribute("aria-orientation","vertical"))},i.prototype.setAriaAttributes=function(e){var t=this,s=this.min,r=this.max;!(0,n.le)(this.customValues)&&this.customValues.length>0&&(s=this.customValues[0],r=this.customValues[this.customValues.length-1]),"Range"!==this.type?(0,n.Y4)(e,{"aria-valuemin":s.toString(),"aria-valuemax":r.toString()}):(!(0,n.le)(this.customValues)&&this.customValues.length>0?[[s.toString(),this.customValues[this.value[1]].toString()],[this.customValues[this.value[0]].toString(),r.toString()]]:[[s.toString(),this.value[1].toString()],[this.value[0].toString(),r.toString()]]).forEach(function(a,d){var c=0===d?t.firstHandle:t.secondHandle;c&&(0,n.Y4)(c,{"aria-valuemin":a[0],"aria-valuemax":a[1]})})},i.prototype.createSecondHandle=function(){this.secondHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0","aria-label":"slider"}}),this.secondHandle.classList.add("e-handle-second"),this.element.appendChild(this.secondHandle)},i.prototype.createFirstHandle=function(){this.firstHandle=this.createElement("div",{attrs:{class:"e-handle",role:"slider",tabIndex:"0","aria-label":"slider"}}),this.firstHandle.classList.add("e-handle-first"),this.element.appendChild(this.firstHandle),this.isMaterialTooltip&&(this.materialHandle=this.createElement("div",{attrs:{class:"e-handle e-material-handle"}}),this.element.appendChild(this.materialHandle))},i.prototype.wireFirstHandleEvt=function(e){e?(n.bi.remove(this.firstHandle,"mousedown touchstart",this.handleFocus),n.bi.remove(this.firstHandle,"transitionend",this.transitionEnd),n.bi.remove(this.firstHandle,"mouseenter touchenter",this.handleOver),n.bi.remove(this.firstHandle,"mouseleave touchend",this.handleLeave)):(n.bi.add(this.firstHandle,"mousedown touchstart",this.handleFocus,this),n.bi.add(this.firstHandle,"transitionend",this.transitionEnd,this),n.bi.add(this.firstHandle,"mouseenter touchenter",this.handleOver,this),n.bi.add(this.firstHandle,"mouseleave touchend",this.handleLeave,this))},i.prototype.wireSecondHandleEvt=function(e){e?(n.bi.remove(this.secondHandle,"mousedown touchstart",this.handleFocus),n.bi.remove(this.secondHandle,"transitionend",this.transitionEnd),n.bi.remove(this.secondHandle,"mouseenter touchenter",this.handleOver),n.bi.remove(this.secondHandle,"mouseleave touchend",this.handleLeave)):(n.bi.add(this.secondHandle,"mousedown touchstart",this.handleFocus,this),n.bi.add(this.secondHandle,"transitionend",this.transitionEnd,this),n.bi.add(this.secondHandle,"mouseenter touchenter",this.handleOver,this),n.bi.add(this.secondHandle,"mouseleave touchend",this.handleLeave,this))},i.prototype.handleStart=function(){"Range"!==this.type&&(this.firstHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.isMaterialTooltip&&(this.materialHandle.classList[0===this.handlePos1?"add":"remove"]("e-handle-start"),this.tooltipElement&&this.tooltipElement.classList[0===this.handlePos1?"add":"remove"]("e-material-tooltip-start")))},i.prototype.transitionEnd=function(e){"transform"!==e.propertyName&&(this.handleStart(),this.enableAnimation||(this.getHandle().style.transition="none"),"Default"!==this.type&&(this.rangeBar.style.transition="none"),(this.isMaterial||this.isMaterial3)&&this.tooltip.isVisible&&"Default"===this.type&&(this.tooltipElement.style.transition=this.transition.handle),this.tooltipToggle(this.getHandle()),this.closeTooltip())},i.prototype.handleFocusOut=function(){this.firstHandle.classList.contains("e-handle-focused")&&this.firstHandle.classList.remove("e-handle-focused"),"Range"===this.type&&this.secondHandle.classList.contains("e-handle-focused")&&this.secondHandle.classList.remove("e-handle-focused")},i.prototype.handleFocus=function(e){this.focusSliderElement(),this.sliderBarClick(e),e.currentTarget===this.firstHandle?(this.firstHandle.classList.add("e-handle-focused"),this.firstHandle.classList.add("e-tab-handle")):(this.secondHandle.classList.add("e-handle-focused"),this.secondHandle.classList.add("e-tab-handle")),n.bi.add(document,"mousemove touchmove",this.sliderBarMove,this),n.bi.add(document,"mouseup touchend",this.sliderBarUp,this)},i.prototype.handleOver=function(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&this.tooltipToggle(e.currentTarget),"Default"===this.type&&this.tooltipToggle(this.getHandle())},i.prototype.handleLeave=function(e){this.tooltip.isVisible&&"Hover"===this.tooltip.showOn&&!e.currentTarget.classList.contains("e-handle-focused")&&!e.currentTarget.classList.contains("e-tab-handle")&&this.closeTooltip()},i.prototype.setHandler=function(){this.createFirstHandle(),"Range"===this.type&&this.createSecondHandle()},i.prototype.setEnableRTL=function(){this.enableRtl&&"Vertical"!==this.orientation?(0,n.cn)([this.sliderContainer],"e-rtl"):(0,n.IV)([this.sliderContainer],"e-rtl");var e="Vertical"!==this.orientation?this.horDir:this.verDir;this.enableRtl?(this.horDir="right",this.verDir="bottom"):(this.horDir="left",this.verDir="bottom"),e!==("Vertical"!==this.orientation?this.horDir:this.verDir)&&"Horizontal"===this.orientation&&((0,n.V7)(this.firstHandle,{right:"",left:"auto"}),"Range"===this.type&&(0,n.V7)(this.secondHandle,{top:"",left:"auto"})),this.setBarColor()},i.prototype.tooltipValue=function(){var t,e=this,s={value:this.value,text:""};this.initialTooltip&&(this.initialTooltip=!1,this.setTooltipContent(),s.text=t="function"==typeof this.tooltipObj.content?this.tooltipObj.content():this.tooltipObj.content,this.trigger("tooltipChange",s,function(r){e.addTooltipClass(r.text),t!==r.text&&(e.customAriaText=r.text,r.text=e.enableHtmlSanitizer?n.pJ.sanitize(r.text.toString()):r.text.toString(),e.tooltipObj.content=(0,n.rN)(function(){return r.text}),e.setAriaAttrValue(e.firstHandle),"Range"===e.type&&e.setAriaAttrValue(e.secondHandle))}),this.isMaterialTooltip&&this.setPreviousVal("change",this.value))},i.prototype.setTooltipContent=function(){var e;e=this.formatContent(this.tooltipFormatInfo,!1),this.tooltipObj.content=(0,n.rN)(function(){return e})},i.prototype.formatContent=function(e,t){var s="",r=this.handleVal1,o=this.handleVal2;return!(0,n.le)(this.customValues)&&this.customValues.length>0&&(r=this.customValues[this.handleVal1],o=this.customValues[this.handleVal2]),t?("Range"===this.type?s=this.enableRtl&&"Vertical"!==this.orientation?(0,n.le)(this.tooltip)||(0,n.le)(this.tooltip.format)?o.toString()+" - "+r.toString():this.formatString(o,e).elementVal+" - "+this.formatString(r,e).elementVal:(0,n.le)(this.tooltip)||(0,n.le)(this.tooltip.format)?r.toString()+" - "+o.toString():this.formatString(r,e).elementVal+" - "+this.formatString(o,e).elementVal:(0,n.le)(r)||(s=(0,n.le)(this.tooltip)||(0,n.le)(this.tooltip.format)?r.toString():this.formatString(r,e).elementVal),s):("Range"===this.type?s=this.enableRtl&&"Vertical"!==this.orientation?(0,n.le)(e.format)?o.toString()+" - "+r.toString():this.formatString(o,e).formatString+" - "+this.formatString(r,e).formatString:(0,n.le)(e.format)?r.toString()+" - "+o.toString():this.formatString(r,e).formatString+" - "+this.formatString(o,e).formatString:(0,n.le)(r)||(s=(0,n.le)(e.format)?r.toString():this.formatString(r,e).formatString),s)},i.prototype.addTooltipClass=function(e){if(this.isMaterialTooltip){var s,t=e.toString().length;this.tooltipElement?(this.tooltipElement.classList.remove((s=t>4?{oldCss:"e-material-default",newCss:"e-material-range"}:{oldCss:"e-material-range",newCss:"e-material-default"}).oldCss),this.tooltipElement.classList.contains(s.newCss)||(this.tooltipElement.classList.add(s.newCss),this.tooltipElement.style.transform=t>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate)):this.tooltipObj.cssClass="e-slider-tooltip "+(s=t>4?"e-material-range":"e-material-default")}},i.prototype.tooltipPlacement=function(){return"Horizontal"===this.orientation?"Before"===this.tooltip.placement?"TopCenter":"BottomCenter":"Before"===this.tooltip.placement?"LeftCenter":"RightCenter"},i.prototype.tooltipBeforeOpen=function(e){this.tooltipElement=e.element,this.tooltip.cssClass&&(0,n.cn)([this.tooltipElement],this.tooltip.cssClass.split(" ").filter(function(t){return t})),e.target.removeAttribute("aria-describedby"),this.isMaterialTooltip&&(this.tooltipElement.firstElementChild.classList.add("e-material-tooltip-hide"),this.handleStart(),this.setTooltipTransform())},i.prototype.tooltipCollision=function(e){if(this.isBootstrap||this.isBootstrap4||(this.isMaterial||this.isMaterial3)&&!this.isMaterialTooltip){var t=this.isBootstrap4?3:6;switch(e){case"TopCenter":this.tooltipObj.setProperties({offsetY:-t},!1);break;case"BottomCenter":this.tooltipObj.setProperties({offsetY:t},!1);break;case"LeftCenter":this.tooltipObj.setProperties({offsetX:-t},!1);break;case"RightCenter":this.tooltipObj.setProperties({offsetX:t},!1)}}},i.prototype.materialTooltipEventCallBack=function(e){this.sliderBarClick(e),n.bi.add(document,"mousemove touchmove",this.sliderBarMove,this),n.bi.add(document,"mouseup touchend",this.sliderBarUp,this)},i.prototype.wireMaterialTooltipEvent=function(e){this.isMaterialTooltip&&(e?n.bi.remove(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack):n.bi.add(this.tooltipElement,"mousedown touchstart",this.materialTooltipEventCallBack,this))},i.prototype.tooltipPositionCalculation=function(e){var t;switch(e){case"TopCenter":t="e-slider-horizontal-before";break;case"BottomCenter":t="e-slider-horizontal-after";break;case"LeftCenter":t="e-slider-vertical-before";break;case"RightCenter":t="e-slider-vertical-after"}return t},i.prototype.getTooltipTransformProperties=function(e){var t;if(this.tooltipElement){var s="Horizontal"===this.orientation?this.tooltipElement.clientHeight+14-this.tooltipElement.clientHeight/2:this.tooltipElement.clientWidth+14-this.tooltipElement.clientWidth/2;t="Horizontal"===this.orientation?"e-slider-horizontal-before"===e?{rotate:"rotate(45deg)",translate:"translateY("+s+"px)"}:{rotate:"rotate(225deg)",translate:"translateY("+-s+"px)"}:"e-slider-vertical-before"===e?{rotate:"rotate(-45deg)",translate:"translateX("+s+"px)"}:{rotate:"rotate(-225deg)",translate:"translateX("+-s+"px)"}}return t},i.prototype.openMaterialTooltip=function(){var e=this;if(this.isMaterialTooltip){this.refreshTooltip(this.firstHandle);var t=this.tooltipElement.firstElementChild;t.classList.remove("e-material-tooltip-hide"),t.classList.add("e-material-tooltip-show"),this.firstHandle.style.cursor="default",this.tooltipElement.style.transition=this.scaleTransform,this.tooltipElement.classList.add("e-material-tooltip-open"),this.materialHandle.style.transform="scale(0)",this.tooltipElement.style.transform=t.innerText.length>4?"scale(1)":this.getTooltipTransformProperties(this.previousTooltipClass).rotate,"Default"===this.type?setTimeout(function(){e.tooltipElement&&(e.tooltipElement.style.transition=e.transition.handle)},2500):setTimeout(function(){e.tooltipElement&&(e.tooltipElement.style.transition="none")},2500)}},i.prototype.closeMaterialTooltip=function(){var e=this;if(this.isMaterialTooltip){var t=this.tooltipElement.firstElementChild;this.tooltipElement.style.transition=this.scaleTransform,t.classList.remove("e-material-tooltip-show"),t.classList.add("e-material-tooltip-hide"),this.firstHandle.style.cursor="-webkit-grab",this.firstHandle.style.cursor="grab",this.materialHandle&&(this.materialHandle.style.transform="scale(1)"),this.tooltipElement.classList.remove("e-material-tooltip-open"),this.setTooltipTransform(),this.tooltipTarget=void 0,setTimeout(function(){e.tooltipElement&&(e.tooltipElement.style.transition="none")},2500)}},i.prototype.checkTooltipPosition=function(e){var t=this.tooltipPositionCalculation(e.collidedPosition);(void 0===this.tooltipCollidedPosition||this.tooltipCollidedPosition!==e.collidedPosition||!e.element.classList.contains(t))&&(this.isMaterialTooltip&&(void 0!==t&&(e.element.classList.remove(this.previousTooltipClass),e.element.classList.add(t),this.previousTooltipClass=t),e.element.style.transform&&e.element.classList.contains("e-material-tooltip-open")&&e.element.firstElementChild.innerText.length<=4&&(e.element.style.transform=this.getTooltipTransformProperties(this.previousTooltipClass).rotate)),this.tooltipCollidedPosition=e.collidedPosition),this.isMaterialTooltip&&this.tooltipElement&&-1!==this.tooltipElement.style.transform.indexOf("translate")&&this.setTooltipTransform()},i.prototype.setTooltipTransform=function(){var e=this.getTooltipTransformProperties(this.previousTooltipClass);(0,n.le)(this.tooltipElement)||(this.tooltipElement.style.transform=this.tooltipElement.firstElementChild.innerText.length>4?e.translate+" scale(0.01)":e.translate+" "+e.rotate+" scale(0.01)")},i.prototype.renderTooltip=function(){this.tooltipObj=new Cl({showTipPointer:this.isBootstrap||this.isMaterial||this.isMaterial3||this.isBootstrap4||this.isTailwind||this.isBootstrap5||this.isFluent,cssClass:"e-slider-tooltip",height:this.isMaterial||this.isMaterial3?30:"auto",animation:{open:{effect:"None"},close:{effect:"FadeOut",duration:500}},opensOn:"Custom",beforeOpen:this.tooltipBeforeOpen.bind(this),beforeCollision:this.checkTooltipPosition.bind(this),beforeClose:this.tooltipBeforeClose.bind(this),enableHtmlSanitizer:this.enableHtmlSanitizer}),this.tooltipObj.appendTo(this.firstHandle),this.initializeTooltipProps()},i.prototype.initializeTooltipProps=function(){this.setProperties({tooltip:{showOn:"Auto"===this.tooltip.showOn?"Hover":this.tooltip.showOn}},!0),this.tooltipObj.position=this.tooltipPlacement(),this.tooltipCollision(this.tooltipObj.position),[this.firstHandle,this.rangeBar,this.secondHandle].forEach(function(t){(0,n.le)(t)||(t.style.transition="none")}),this.isMaterialTooltip&&(this.sliderContainer.classList.add("e-material-slider"),this.tooltipValue(),this.tooltipObj.animation.close.effect="None",this.tooltipObj.open(this.firstHandle))},i.prototype.tooltipBeforeClose=function(){this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0},i.prototype.setButtons=function(){this.firstBtn=this.createElement("div",{className:"e-slider-button e-first-button"}),this.firstBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.firstBtn.querySelector("span").classList.add("e-icons"),this.firstBtn.tabIndex=-1,this.secondBtn=this.createElement("div",{className:"e-slider-button e-second-button"}),this.secondBtn.appendChild(this.createElement("span",{className:"e-button-icon"})),this.isTailwind&&this.secondBtn.querySelector("span").classList.add("e-icons"),this.secondBtn.tabIndex=-1,this.sliderContainer.classList.add("e-slider-btn"),this.sliderContainer.appendChild(this.firstBtn),this.sliderContainer.appendChild(this.secondBtn),this.sliderContainer.appendChild(this.element),this.buttonTitle()},i.prototype.buttonTitle=function(){var e=this.enableRtl&&"Vertical"!==this.orientation;this.l10n.setLocale(this.locale);var t=this.l10n.getConstant("decrementTitle"),s=this.l10n.getConstant("incrementTitle");(0,n.Y4)(e?this.secondBtn:this.firstBtn,{"aria-label":t,title:t}),(0,n.Y4)(e?this.firstBtn:this.secondBtn,{"aria-label":s,title:s})},i.prototype.buttonFocusOut=function(){(this.isMaterial||this.isMaterial3)&&this.getHandle().classList.remove("e-large-thumb-size")},i.prototype.repeatButton=function(e){var r,t=this.handleValueUpdate(),s=this.enableRtl&&"Vertical"!==this.orientation;e.target.parentElement.classList.contains("e-first-button")||e.target.classList.contains("e-first-button")?r=this.add(t,parseFloat(this.step.toString()),!!s):(e.target.parentElement.classList.contains("e-second-button")||e.target.classList.contains("e-second-button"))&&(r=this.add(t,parseFloat(this.step.toString()),!s)),this.limits.enabled&&(r=this.getLimitCorrectedValues(r)),r>=this.min&&r<=this.max&&(this.changeHandleValue(r),this.tooltipToggle(this.getHandle()))},i.prototype.repeatHandlerMouse=function(e){e.preventDefault(),("mousedown"===e.type||"touchstart"===e.type)&&(this.buttonClick(e),this.repeatInterval=setInterval(this.repeatButton.bind(this),180,e))},i.prototype.materialChange=function(){this.getHandle().classList.contains("e-large-thumb-size")||this.getHandle().classList.add("e-large-thumb-size")},i.prototype.focusHandle=function(){this.getHandle().classList.contains("e-tab-handle")||this.getHandle().classList.add("e-tab-handle")},i.prototype.repeatHandlerUp=function(e){this.changeEvent("changed",e),this.closeTooltip(),clearInterval(this.repeatInterval),this.getHandle().focus()},i.prototype.customTickCounter=function(e){var t=4;return!(0,n.le)(this.customValues)&&this.customValues.length>0&&(e>4&&(t=3),e>7&&(t=2),e>14&&(t=1),e>28&&(t=0)),t},i.prototype.renderScale=function(){var e="Vertical"===this.orientation?"v":"h";this.noOfDecimals=this.numberOfDecimals(this.step),this.ul=this.createElement("ul",{className:"e-scale e-"+e+"-scale e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),this.ul.style.zIndex="-1",n.AR.isAndroid&&"h"===e&&this.ul.classList.add("e-tick-pos");var t=this.ticks.smallStep;this.ticks.showSmallTicks?t<=0&&(t=parseFloat((0,n.Ac)(this.step))):t=this.ticks.largeStep>0?this.ticks.largeStep:parseFloat((0,n.Ac)(this.max))-parseFloat((0,n.Ac)(this.min));var s=this.fractionalToInteger(this.min),r=this.fractionalToInteger(this.max),o=this.fractionalToInteger(t),a=!(0,n.le)(this.customValues)&&this.customValues.length>0&&this.customValues.length-1,d=this.customTickCounter(a),c=!(0,n.le)(this.customValues)&&this.customValues.length>0?a*d+a:Math.abs((r-s)/o);this.element.appendChild(this.ul);var p,u=parseFloat(this.min.toString());"v"===e&&(u=parseFloat(this.max.toString()));var v,f=0,g=100/c;g===1/0&&(g=5);for(var b=0,C=!(0,n.le)(this.customValues)&&this.customValues.length>0?this.customValues.length-1:0,T=0;b<=c;b++){if(p=this.createElement("li",{attrs:{class:"e-tick",role:"presentation",tabIndex:"-1","aria-hidden":"true"}}),!(0,n.le)(this.customValues)&&this.customValues.length>0)(v=b%(d+1)==0)&&("h"===e?(u=this.customValues[T],T++):(u=this.customValues[C],C--),p.setAttribute("title",u.toString()));else if(p.setAttribute("title",u.toString()),0===this.numberOfDecimals(this.max)&&0===this.numberOfDecimals(this.min)&&0===this.numberOfDecimals(this.step))v="h"===e?(u-parseFloat(this.min.toString()))%this.ticks.largeStep==0:Math.abs(u-parseFloat(this.max.toString()))%this.ticks.largeStep==0;else{var O=this.fractionalToInteger(this.ticks.largeStep),j=this.fractionalToInteger(u);v="h"===e?(j-s)%O==0:Math.abs(j-parseFloat(r.toString()))%O==0}v&&p.classList.add("e-large"),"h"===e?p.style.width=g+"%":p.style.height=g+"%";var Y=v?"Both"===this.ticks.placement?2:1:0;if(v)for(var H=0;H<Y;H++)this.createTick(p,u,g);else(0,n.le)(this.customValues)&&this.formatTicksValue(p,u);this.ul.appendChild(p),this.tickElementCollection.push(p);var N=void 0;(0,n.le)(this.customValues)&&(N=this.numberOfDecimals(t)>this.numberOfDecimals(u)?this.numberOfDecimals(t):this.numberOfDecimals(u),u=this.makeRoundNumber("h"===e||this.min>this.max?u+t:u-t,N),f=this.makeRoundNumber(f+t,N))}this.ticksAlignment(e,g)},i.prototype.ticksAlignment=function(e,t,s){void 0===s&&(s=!0),this.firstChild=this.ul.firstElementChild,this.lastChild=this.ul.lastElementChild,this.firstChild.classList.add("e-first-tick"),this.lastChild.classList.add("e-last-tick"),this.sliderContainer.classList.add("e-scale-"+this.ticks.placement.toLowerCase()),"h"===e?(this.firstChild.style.width=t/2+"%",this.lastChild.style.width=t/2+"%"):(this.firstChild.style.height=t/2+"%",this.lastChild.style.height=t/2+"%"),s&&this.trigger("renderedTicks",{ticksWrapper:this.ul,tickElements:this.tickElementCollection}),this.scaleAlignment()},i.prototype.createTick=function(e,t,s){var r=this.createElement("span",{className:"e-tick-value e-tick-"+this.ticks.placement.toLowerCase(),attrs:{role:"presentation",tabIndex:"-1","aria-hidden":"true"}});e.appendChild(r),(0,n.le)(this.customValues)?this.formatTicksValue(e,t,r,s):r.innerHTML=this.enableHtmlSanitizer?n.pJ.sanitize(t.toString()):t.toString()},i.prototype.formatTicksValue=function(e,t,s,r){var o=this,a=this.formatNumber(t),d=(0,n.le)(this.ticks)||(0,n.le)(this.ticks.format)?a:this.formatString(t,this.ticksFormatInfo).formatString;this.trigger("renderingTicks",{value:t,text:d,tickElement:e},function(p){e.setAttribute("title",p.text.toString()),s&&(s.innerHTML=o.enableHtmlSanitizer?n.pJ.sanitize(p.text.toString()):p.text.toString())})},i.prototype.scaleAlignment=function(){this.tickValuePosition(),"Vertical"===this.orientation?this.element.getBoundingClientRect().width<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size"):this.element.getBoundingClientRect().height<=15?this.sliderContainer.classList.add("e-small-size"):this.sliderContainer.classList.remove("e-small-size")},i.prototype.tickValuePosition=function(){this.firstChild=this.element.querySelector("ul").children[0];var t,s,e=this.firstChild.getBoundingClientRect(),r=this.ticks.smallStep,o=Math.abs(parseFloat((0,n.Ac)(this.max))-parseFloat((0,n.Ac)(this.min)))/r;this.firstChild.children.length>0&&(t=this.firstChild.children[0].getBoundingClientRect());var d,a=[this.sliderContainer.querySelectorAll(".e-tick.e-large .e-tick-value")];d=[].slice.call(a[0],"Both"===this.ticks.placement?2:1);for(var c="Vertical"===this.orientation?2*e.height:2*e.width,p=0;p<this.firstChild.children.length;p++)"Vertical"===this.orientation?this.firstChild.children[p].style.top=-t.height/2+"px":this.firstChild.children[p].style.left=this.enableRtl?(c-this.firstChild.children[p].getBoundingClientRect().width)/2+"px":-t.width/2+"px";for(p=0;p<d.length;p++)s=d[p].getBoundingClientRect(),(0,n.V7)(d[p],"Vertical"===this.orientation?{top:(c-s.height)/2+"px"}:{left:(c-s.width)/2+"px"});this.enableRtl&&this.lastChild.children.length&&0!==o&&(this.lastChild.children[0].style.left=-this.lastChild.getBoundingClientRect().width/2+"px","Both"===this.ticks.placement&&(this.lastChild.children[1].style.left=-this.lastChild.getBoundingClientRect().width/2+"px")),0===o&&("Horizontal"===this.orientation&&(this.enableRtl?(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.right=this.firstHandle.style.right,this.firstChild.children[0].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px","Both"===this.ticks.placement&&(this.firstChild.children[1].style.left=this.firstChild.getBoundingClientRect().width/2+2+"px")):(this.firstChild.classList.remove("e-last-tick"),this.firstChild.style.left=this.firstHandle.style.left)),"Vertical"===this.orientation&&this.firstChild.classList.remove("e-last-tick"))},i.prototype.setAriaAttrValue=function(e){var t,s=!(0,n.le)(this.ticks)&&!(0,n.le)(this.ticks.format),r=this.formatContent(s?this.tooltipFormatInfo:this.ticksFormatInfo,!1),o=this.formatContent(s?this.ticksFormatInfo:this.tooltipFormatInfo,!0);t=2===(r=this.customAriaText?this.customAriaText:r).split(" - ").length?r.split(" - "):[r,r],this.setAriaAttributes(e),(0,n.Y4)(e,"Range"!==this.type?{"aria-valuenow":o,"aria-valuetext":r}:this.enableRtl?e===this.firstHandle?{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":t[1]}:{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":t[0]}:e===this.firstHandle?{"aria-valuenow":o.split(" - ")[0],"aria-valuetext":t[0]}:{"aria-valuenow":o.split(" - ")[1],"aria-valuetext":t[1]})},i.prototype.handleValueUpdate=function(){return"Range"===this.type?1===this.activeHandle?this.handleVal1:this.handleVal2:this.handleVal1},i.prototype.getLimitCorrectedValues=function(e){return"MinRange"===this.type||"Default"===this.type||1===this.activeHandle?this.getLimitValueAndPosition(e,this.limits.minStart,this.limits.minEnd)[0]:this.getLimitValueAndPosition(e,this.limits.maxStart,this.limits.maxEnd)[0]},i.prototype.focusSliderElement=function(){this.isElementFocused||(this.element.focus(),this.isElementFocused=!0)},i.prototype.buttonClick=function(e){this.focusSliderElement();var t,s=this.enableRtl&&"Vertical"!==this.orientation,r=this.handleValueUpdate();40===e.keyCode||37===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(r,parseFloat(this.step.toString()),!!s):38===e.keyCode||39===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(r,parseFloat(this.step.toString()),!s):33===e.keyCode||e.currentTarget.classList.contains("e-first-button")?t=this.add(r,parseFloat(this.ticks.largeStep.toString()),!s):34===e.keyCode||e.currentTarget.classList.contains("e-second-button")?t=this.add(r,parseFloat(this.ticks.largeStep.toString()),!!s):36===e.keyCode?t=parseFloat(this.min<this.max?this.min.toString():this.max.toString()):35===e.keyCode&&(t=parseFloat(this.min<this.max?this.max.toString():this.min.toString())),this.limits.enabled&&(t=this.getLimitCorrectedValues(t)),this.changeHandleValue(t),(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),this.getHandle().focus(),this.focusHandle(),e.currentTarget.classList.contains("e-first-button")&&n.bi.add(this.firstBtn,"mouseup touchend",this.buttonUp,this),e.currentTarget.classList.contains("e-second-button")&&n.bi.add(this.secondBtn,"mouseup touchend",this.buttonUp,this)},i.prototype.tooltipToggle=function(e){this.isMaterialTooltip?this.tooltipElement.classList.contains("e-material-tooltip-open")?this.refreshTooltip(this.firstHandle):this.openMaterialTooltip():this.tooltipElement?this.refreshTooltip(e):this.openTooltip(e)},i.prototype.buttonUp=function(e){e.currentTarget.classList.contains("e-first-button")&&n.bi.remove(this.firstBtn,"mouseup touchend",this.buttonUp),e.currentTarget.classList.contains("e-second-button")&&n.bi.remove(this.secondBtn,"mouseup touchend",this.buttonUp)},i.prototype.setRangeBar=function(){"Horizontal"!==this.orientation||(0,n.le)(this.rangeBar)?(0,n.le)(this.rangeBar)||("MinRange"===this.type?(this.rangeBar.style.bottom=this.min>this.max?this.handlePos1+"px":"0px",(0,n.V7)(this.rangeBar,{height:(0,n.le)(this.handlePos1)?0:this.min>this.max?this.element.clientHeight-this.handlePos1+"px":this.handlePos1+"px"})):(this.rangeBar.style.bottom=this.min>this.max?this.handlePos2+"px":this.handlePos1+"px",(0,n.V7)(this.rangeBar,{height:this.min>this.max?this.handlePos1-this.handlePos2+"px":this.handlePos2-this.handlePos1+"px"}))):"MinRange"===this.type?(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",(0,n.V7)(this.rangeBar,{width:(0,n.le)(this.handlePos1)?0:this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",(0,n.V7)(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"}))},i.prototype.checkValidValueAndPos=function(e){return e=this.checkHandleValue(e),this.checkHandlePosition(e)},i.prototype.setLimitBarPositions=function(e,t,s,r){"Horizontal"===this.orientation?this.enableRtl?(this.limitBarFirst.style.right=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.left=e+"px",this.limitBarFirst.style.width=t-e+"px"):(this.limitBarFirst.style.bottom=(this.min<this.max?e:t)+"px",this.limitBarFirst.style.height=(this.min<this.max?t-e:e-t)+"px"),"Range"===this.type&&("Horizontal"===this.orientation?this.enableRtl?(this.limitBarSecond.style.right=s+"px",this.limitBarSecond.style.width=r-s+"px"):(this.limitBarSecond.style.left=s+"px",this.limitBarSecond.style.width=r-s+"px"):(this.limitBarSecond.style.bottom=(this.min<this.max?s:r)+"px",this.limitBarSecond.style.height=(this.min<this.max?r-s:s-r)+"px"))},i.prototype.setLimitBar=function(){if("Default"===this.type||"MinRange"===this.type){var e=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];e=this.checkValidValueAndPos(e);var t=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];t=this.checkValidValueAndPos(t),this.setLimitBarPositions(e,t)}else if("Range"===this.type){var s=this.getLimitValueAndPosition(this.limits.minStart,this.limits.minStart,this.limits.minEnd,!0)[0];s=this.checkValidValueAndPos(s);var r=this.getLimitValueAndPosition(this.limits.minEnd,this.limits.minStart,this.limits.minEnd,!0)[0];r=this.checkValidValueAndPos(r);var o=this.getLimitValueAndPosition(this.limits.maxStart,this.limits.maxStart,this.limits.maxEnd,!0)[0];o=this.checkValidValueAndPos(o);var a=this.getLimitValueAndPosition(this.limits.maxEnd,this.limits.maxStart,this.limits.maxEnd,!0)[0];a=this.checkValidValueAndPos(a),this.setLimitBarPositions(s,r,o,a)}},i.prototype.getLimitValueAndPosition=function(e,t,s,r){return(0,n.le)(t)&&(t=this.min<this.max?this.min:this.max,(0,n.le)(e)&&r&&(e=t)),(0,n.le)(s)&&(s=this.min<this.max?this.max:this.min,(0,n.le)(e)&&r&&(e=s)),e<t&&(e=t),e>s&&(e=s),[e,this.checkHandlePosition(e)]},i.prototype.setValue=function(){if(!(0,n.le)(this.customValues)&&this.customValues.length>0&&(this.min=0,this.max=this.customValues.length-1,this.setBarColor()),this.setAriaAttributes(this.firstHandle),this.handleVal1=(0,n.le)(this.value)?this.checkHandleValue(parseFloat(this.min.toString())):this.checkHandleValue(parseFloat(this.value.toString())),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.preHandlePos1=this.handlePos1,this.activeHandle=(0,n.le)(this.activeHandle)?"Range"===this.type?2:1:this.activeHandle,"Default"===this.type||"MinRange"===this.type){if(this.limits.enabled){var e=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=e[0],this.handlePos1=e[1],this.preHandlePos1=this.handlePos1}this.setHandlePosition(null),this.handleStart(),this.value=this.handleVal1,this.setAriaAttrValue(this.firstHandle),this.changeEvent("changed",null)}else this.validateRangeValue();"Default"!==this.type&&this.setRangeBar(),this.limits.enabled&&this.setLimitBar()},i.prototype.rangeValueUpdate=function(){(null===this.value||"object"!=typeof this.value)&&(this.value=[parseFloat((0,n.Ac)(this.min)),parseFloat((0,n.Ac)(this.max))])},i.prototype.validateRangeValue=function(){this.rangeValueUpdate(),this.setRangeValue()},i.prototype.modifyZindex=function(){"Range"!==this.type||(0,n.le)(this.firstHandle)||(0,n.le)(this.secondHandle)?this.isMaterialTooltip&&this.tooltipElement&&(this.tooltipElement.style.zIndex=po(this.element)+""):1===this.activeHandle?(this.firstHandle.style.zIndex=this.zIndex+4+"",this.secondHandle.style.zIndex=this.zIndex+3+""):(this.firstHandle.style.zIndex=this.zIndex+3+"",this.secondHandle.style.zIndex=this.zIndex+4+"")},i.prototype.setHandlePosition=function(e){var s,t=this,r=1===this.activeHandle?this.handlePos1:this.handlePos2;s=this.isMaterialTooltip?[this.firstHandle,this.materialHandle]:[this.getHandle()],this.handleStart(),s.forEach(function(o){"Horizontal"===t.orientation?t.enableRtl?o.style.right=r+"px":o.style.left=r+"px":o.style.bottom=r+"px"}),this.changeEvent("change",e)},i.prototype.getHandle=function(){return 1===this.activeHandle?this.firstHandle:this.secondHandle},i.prototype.setRangeValue=function(){this.updateRangeValue(),this.activeHandle=1,this.setHandlePosition(null),this.activeHandle=2,this.setHandlePosition(null),this.activeHandle=1},i.prototype.changeEvent=function(e,t){var s="change"===e?this.previousVal:this.previousChanged;if("Range"!==this.type)this.setProperties({value:this.handleVal1},!0),s!==this.value&&(!this.isMaterialTooltip||!this.initialTooltip)&&(this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.firstHandle);else{var r=this.value=[this.handleVal1,this.handleVal2];this.setProperties({value:r},!0),(s.length===this.value.length&&this.value[0]!==s[0]||this.value[1]!==s[1])&&(this.initialTooltip=!1,this.trigger(e,this.changeEventArgs(e,t)),this.initialTooltip=!0,this.setPreviousVal(e,this.value)),this.setAriaAttrValue(this.getHandle())}this.hiddenInput.value=this.value.toString()},i.prototype.changeEventArgs=function(e,t){var s;return this.tooltip.isVisible&&this.tooltipObj&&this.initialTooltip?(this.tooltipValue(),s={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:"function"==typeof this.tooltipObj.content?this.tooltipObj.content():this.tooltipObj.content,isInteracted:!(0,n.le)(t)}):s={value:this.value,previousValue:"change"===e?this.previousVal:this.previousChanged,action:e,text:(0,n.le)(this.ticksFormatInfo.format)?this.value.toString():"Range"!==this.type?this.formatString(this.value,this.ticksFormatInfo).formatString:this.formatString(this.value[0],this.ticksFormatInfo).formatString+" - "+this.formatString(this.value[1],this.ticksFormatInfo).formatString,isInteracted:!(0,n.le)(t)},s},i.prototype.setPreviousVal=function(e,t){"change"===e?this.previousVal=t:this.previousChanged=t},i.prototype.updateRangeValue=function(){var e=this.value.toString().split(",").map(Number);if(this.value=this.enableRtl&&"Vertical"!==this.orientation||this.rtl?[e[1],e[0]]:[e[0],e[1]],this.enableRtl&&"Vertical"!==this.orientation?(this.handleVal1=this.checkHandleValue(this.value[1]),this.handleVal2=this.checkHandleValue(this.value[0])):(this.handleVal1=this.checkHandleValue(this.value[0]),this.handleVal2=this.checkHandleValue(this.value[1])),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2),this.min<this.max&&this.handlePos1>this.handlePos2&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.min>this.max&&this.handlePos1<this.handlePos2&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.preHandlePos1=this.handlePos1,this.preHandlePos2=this.handlePos2,this.limits.enabled){this.activeHandle=1;var t=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=t[0],this.handlePos1=t[1],this.preHandlePos1=this.handlePos1,this.activeHandle=2,t=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=t[0],this.handlePos2=t[1],this.preHandlePos2=this.handlePos2}},i.prototype.checkHandlePosition=function(e){var t;return e=100*(e-parseFloat((0,n.Ac)(this.min)))/(parseFloat((0,n.Ac)(this.max))-parseFloat((0,n.Ac)(this.min))),t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(e/100):this.element.getBoundingClientRect().height*(e/100),parseFloat((0,n.Ac)(this.max))===parseFloat((0,n.Ac)(this.min))&&(t="Horizontal"===this.orientation?this.element.getBoundingClientRect().width:this.element.getBoundingClientRect().height),t},i.prototype.checkHandleValue=function(e){if(this.min===this.max)return parseFloat((0,n.Ac)(this.max));var t=this.tempStartEnd();return e<t.start?e=t.start:e>t.end&&(e=t.end),e},i.prototype.reposition=function(){var e=this;(0,n.le)(this.firstHandle)||(this.firstHandle.style.transition="none"),"Default"!==this.type&&!(0,n.le)(this.rangeBar)&&(this.rangeBar.style.transition="none"),"Range"===this.type&&!(0,n.le)(this.secondHandle)&&(this.secondHandle.style.transition="none"),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handleVal2&&(this.handlePos2=this.checkHandlePosition(this.handleVal2)),"Horizontal"===this.orientation?(this.enableRtl?this.firstHandle.style.right=this.handlePos1+"px":this.firstHandle.style.left=this.handlePos1+"px",this.isMaterialTooltip&&!(0,n.le)(this.materialHandle)&&(this.enableRtl?this.materialHandle.style.right=this.handlePos1+"px":this.materialHandle.style.left=this.handlePos1+"px"),"MinRange"!==this.type||(0,n.le)(this.rangeBar)?"Range"===this.type&&!(0,n.le)(this.secondHandle)&&!(0,n.le)(this.rangeBar)&&(this.enableRtl?this.secondHandle.style.right=this.handlePos2+"px":this.secondHandle.style.left=this.handlePos2+"px",this.enableRtl?this.rangeBar.style.right=this.handlePos1+"px":this.rangeBar.style.left=this.handlePos1+"px",(0,n.V7)(this.rangeBar,{width:this.handlePos2-this.handlePos1+"px"})):(this.enableRtl?this.rangeBar.style.right="0px":this.rangeBar.style.left="0px",(0,n.V7)(this.rangeBar,{width:(0,n.le)(this.handlePos1)?0:this.handlePos1+"px"}))):(this.firstHandle.style.bottom=this.handlePos1+"px",this.isMaterialTooltip&&(this.materialHandle.style.bottom=this.handlePos1+"px"),"MinRange"===this.type?(this.rangeBar.style.bottom=this.min>this.max?this.handlePos1+"px":"0px",(0,n.V7)(this.rangeBar,{height:(0,n.le)(this.handlePos1)?0:this.min>this.max?this.element.clientHeight-this.handlePos1+"px":this.handlePos1+"px"})):"Range"===this.type&&(this.secondHandle.style.bottom=this.handlePos2+"px",this.rangeBar.style.bottom=this.min>this.max?this.handlePos2+"px":this.handlePos1+"px",(0,n.V7)(this.rangeBar,{height:this.min>this.max?this.handlePos1-this.handlePos2+"px":this.handlePos2-this.handlePos1+"px"}))),this.limits.enabled&&this.setLimitBar(),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.handleStart(),this.tooltip.isVisible||setTimeout(function(){(0,n.le)(e.firstHandle)||(e.firstHandle.style.transition=e.scaleTransform),"Range"===e.type&&!(0,n.le)(e.secondHandle)&&(e.secondHandle.style.transition=e.scaleTransform)}),this.refreshTooltip(this.tooltipTarget),this.setBarColor()},i.prototype.changeHandleValue=function(e){var t=null;1===this.activeHandle?(this.limits.enabled&&this.limits.startHandleFixed||(this.handleVal1=this.checkHandleValue(e),this.handlePos1=this.checkHandlePosition(this.handleVal1),"Range"===this.type&&(this.handlePos1>this.handlePos2&&this.min<this.max||this.handlePos1<this.handlePos2&&this.min>this.max)&&(this.handlePos1=this.handlePos2,this.handleVal1=this.handleVal2),this.handlePos1!==this.preHandlePos1&&(t=this.preHandlePos1=this.handlePos1)),this.modifyZindex()):(this.limits.enabled&&this.limits.endHandleFixed||(this.handleVal2=this.checkHandleValue(e),this.handlePos2=this.checkHandlePosition(this.handleVal2),"Range"===this.type&&(this.handlePos2<this.handlePos1&&this.min<this.max||this.handlePos2>this.handlePos1&&this.min>this.max)&&(this.handlePos2=this.handlePos1,this.handleVal2=this.handleVal1),this.handlePos2!==this.preHandlePos2&&(t=this.preHandlePos2=this.handlePos2)),this.modifyZindex()),null!==t&&("Default"!==this.type&&this.setRangeBar(),this.setHandlePosition(null))},i.prototype.tempStartEnd=function(){return this.min>this.max?{start:this.max,end:this.min}:{start:this.min,end:this.max}},i.prototype.xyToPosition=function(e){if(this.min===this.max)return 100;if("Horizontal"===this.orientation){var s=e.x-this.element.getBoundingClientRect().left;this.val=s/(this.element.offsetWidth/100)}else{var o=e.y-this.element.getBoundingClientRect().top;this.val=100-o/(this.element.offsetHeight/100)}var a=this.stepValueCalculation(this.val);return a<0?a=0:a>100&&(a=100),this.enableRtl&&"Vertical"!==this.orientation&&(a=100-a),"Horizontal"===this.orientation?this.element.getBoundingClientRect().width*(a/100):this.element.getBoundingClientRect().height*(a/100)},i.prototype.stepValueCalculation=function(e){0===this.step&&(this.step=1);var t=parseFloat((0,n.Ac)(this.step))/((parseFloat((0,n.Ac)(this.max))-parseFloat((0,n.Ac)(this.min)))/100),s=e%Math.abs(t);return 0!==s&&(t/2>s?e-=s:e+=Math.abs(t)-s),e},i.prototype.add=function(e,t,s){var o=Math.pow(10,3);return s?(Math.round(e*o)+Math.round(t*o))/o:(Math.round(e*o)-Math.round(t*o))/o},i.prototype.positionToValue=function(e){var t,s=parseFloat((0,n.Ac)(this.max))-parseFloat((0,n.Ac)(this.min));return t="Horizontal"===this.orientation?e/this.element.getBoundingClientRect().width*s:e/this.element.getBoundingClientRect().height*s,this.add(t,parseFloat(this.min.toString()),!0)},i.prototype.sliderBarClick=function(e){var t;e.preventDefault(),"mousedown"===e.type||"mouseup"===e.type||"click"===e.type?t={x:e.clientX,y:e.clientY}:("touchend"===e.type||"touchstart"===e.type)&&(t={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY});var s=this.xyToPosition(t),r=this.positionToValue(s);if("Range"===this.type&&(this.min<this.max&&this.handlePos2-s<s-this.handlePos1||this.min>this.max&&this.handlePos1-s>s-this.handlePos2))this.activeHandle=2,this.limits.enabled&&this.limits.endHandleFixed||(this.limits.enabled&&(r=(o=this.getLimitValueAndPosition(r,this.limits.maxStart,this.limits.maxEnd))[0],s=o[1]),this.secondHandle.classList.add("e-handle-active"),this.handlePos2=this.preHandlePos2=s,this.handleVal2=r),this.modifyZindex(),this.secondHandle.focus();else{var o;if(this.activeHandle=1,!this.limits.enabled||!this.limits.startHandleFixed)this.limits.enabled&&(r=(o=this.getLimitValueAndPosition(r,this.limits.minStart,this.limits.minEnd))[0],s=o[1]),this.firstHandle.classList.add("e-handle-active"),this.handlePos1=this.preHandlePos1=s,this.handleVal1=r;this.modifyZindex(),this.firstHandle.focus()}this.isMaterialTooltip&&this.tooltipElement.classList.add("e-tooltip-active");var a=this.element.querySelector(".e-tab-handle");a&&this.getHandle()!==a&&a.classList.remove("e-tab-handle");var c,d=1===this.activeHandle?this.firstHandle:this.secondHandle;if("click"!==e.type&&"mousedown"!==e.type||e.target!==d||(c=document.elementFromPoint(e.clientX,e.clientY)),e.target===d&&c!=d)return(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.sliderBarUp(e),void this.tooltipToggle(this.getHandle());if(this.checkRepeatedValue(r)){var f=(this.isMaterial||this.isMaterial3)&&this.tooltip.isVisible?this.transitionOnMaterialTooltip:this.transition;this.getHandle().style.transition=f.handle,"Default"!==this.type&&(this.rangeBar.style.transition=f.rangeBar),this.setHandlePosition(e),this.isMaterialTooltip&&(this.initialTooltip=!1),e.target!=d&&this.changeEvent("changed",e),"Default"!==this.type&&this.setRangeBar()}},i.prototype.handleValueAdjust=function(e,t,s){1===s?(this.handleVal1=t,this.handleVal2=this.handleVal1+this.minDiff):2===s&&(this.handleVal2=t,this.handleVal1=this.handleVal2-this.minDiff),this.handlePos1=this.checkHandlePosition(this.handleVal1),this.handlePos2=this.checkHandlePosition(this.handleVal2)},i.prototype.dragRangeBarMove=function(e){var t,s,r,o,a;if("touchmove"!==e.type&&e.preventDefault(),this.rangeBarDragged=!0,this.rangeBar.style.transition="none",this.firstHandle.style.transition="none",this.secondHandle.style.transition="none","mousemove"===e.type?(o=(t=[e.clientX,e.clientY])[0],a=t[1]):(o=(s=[e.changedTouches[0].clientX,e.changedTouches[0].clientY])[0],a=s[1]),!(this.limits.enabled&&this.limits.startHandleFixed||this.limits.enabled&&this.limits.endHandleFixed)){if(r=this.enableRtl?{x:o+this.secondPartRemain,y:a+this.secondPartRemain}:{x:o-this.firstPartRemain,y:a+this.secondPartRemain},this.min>this.max?(this.handlePos2=this.xyToPosition(r),this.handleVal2=this.positionToValue(this.handlePos2)):(this.handlePos1=this.xyToPosition(r),this.handleVal1=this.positionToValue(this.handlePos1)),r=this.enableRtl?{x:o-this.firstPartRemain,y:a-this.firstPartRemain}:{x:o+this.secondPartRemain,y:a-this.firstPartRemain},this.min>this.max?(this.handlePos1=this.xyToPosition(r),this.handleVal1=this.positionToValue(this.handlePos1)):(this.handlePos2=this.xyToPosition(r),this.handleVal2=this.positionToValue(this.handlePos2)),this.limits.enabled){var d=this.getLimitValueAndPosition(this.handleVal1,this.limits.minStart,this.limits.minEnd);this.handleVal1=d[0],this.handlePos1=d[1],this.handleVal1===this.limits.minEnd&&this.handleValueAdjust(this.handleVal1,this.limits.minEnd,1),this.handleVal1===this.limits.minStart&&this.handleValueAdjust(this.handleVal1,this.limits.minStart,1),d=this.getLimitValueAndPosition(this.handleVal2,this.limits.maxStart,this.limits.maxEnd),this.handleVal2=d[0],this.handlePos2=d[1],this.handleVal2===this.limits.maxStart&&this.handleValueAdjust(this.handleVal2,this.limits.maxStart,2),this.handleVal2===this.limits.maxEnd&&this.handleValueAdjust(this.handleVal2,this.limits.maxEnd,2)}this.handleVal2===(this.min>this.max?this.min:this.max)&&this.handleValueAdjust(this.handleVal2,this.min>this.max?this.min:this.max,2),this.handleVal1===(this.min>this.max?this.max:this.min)&&this.handleValueAdjust(this.handleVal1,this.min>this.max?this.max:this.min,1)}this.activeHandle=1,this.setHandlePosition(e),this.activeHandle=2,this.setHandlePosition(e),this.tooltipToggle(this.rangeBar),this.setRangeBar()},i.prototype.sliderBarUp=function(e){this.changeEvent("changed",e),this.handleFocusOut(),this.firstHandle.classList.remove("e-handle-active"),"Range"===this.type&&(this.initialTooltip=!1,this.secondHandle.classList.remove("e-handle-active")),this.closeTooltip(),(this.isMaterial||this.isMaterial3)&&(this.getHandle().classList.remove("e-large-thumb-size"),this.isMaterialTooltip&&this.tooltipElement.classList.remove("e-tooltip-active")),n.bi.remove(document,"mousemove touchmove",this.sliderBarMove),n.bi.remove(document,"mouseup touchend",this.sliderBarUp)},i.prototype.sliderBarMove=function(e){"touchmove"!==e.type&&e.preventDefault();var s=this.xyToPosition("mousemove"===e.type?{x:e.clientX,y:e.clientY}:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}),r=this.positionToValue(s);if(s=Math.round(s),"Range"!==this.type&&1===this.activeHandle){if(!this.limits.enabled||!this.limits.startHandleFixed){if(this.limits.enabled){var o=this.getLimitValueAndPosition(r,this.limits.minStart,this.limits.minEnd);s=o[1],r=o[0]}this.handlePos1=s,this.handleVal1=r}this.firstHandle.classList.add("e-handle-active")}if("Range"===this.type)if(1===this.activeHandle)this.firstHandle.classList.add("e-handle-active"),this.limits.enabled&&this.limits.startHandleFixed||((this.min<this.max&&s>this.handlePos2||this.min>this.max&&s<this.handlePos2)&&(s=this.handlePos2,r=this.handleVal2),s===this.preHandlePos1)||(this.limits.enabled&&(r=(a=this.getLimitValueAndPosition(r,this.limits.minStart,this.limits.minEnd))[0],s=a[1]),this.handlePos1=this.preHandlePos1=s,this.handleVal1=r,this.activeHandle=1);else if(2===this.activeHandle&&(this.secondHandle.classList.add("e-handle-active"),!(this.limits.enabled&&this.limits.endHandleFixed||((this.min<this.max&&s<this.handlePos1||this.min>this.max&&s>this.handlePos1)&&(s=this.handlePos1,r=this.handleVal1),s===this.preHandlePos2)))){var a;this.limits.enabled&&(r=(a=this.getLimitValueAndPosition(r,this.limits.maxStart,this.limits.maxEnd))[0],s=a[1]),this.handlePos2=this.preHandlePos2=s,this.handleVal2=r,this.activeHandle=2}this.checkRepeatedValue(r)&&(this.getHandle().style.transition=this.scaleTransform,"Default"!==this.type&&(this.rangeBar.style.transition="none"),this.setHandlePosition(e),(this.isMaterial||this.isMaterial3)&&!this.tooltip.isVisible&&!this.getHandle().classList.contains("e-tab-handle")&&this.materialChange(),this.tooltipToggle(this.getHandle()),"Default"!==this.type&&this.setRangeBar())},i.prototype.dragRangeBarUp=function(e){this.rangeBarDragged?this.isDragComplete=!0:(this.focusSliderElement(),this.sliderBarClick(e)),this.changeEvent("changed",e),this.closeTooltip(),n.bi.remove(document,"mousemove touchmove",this.dragRangeBarMove),n.bi.remove(document,"mouseup touchend",this.dragRangeBarUp),this.rangeBarDragged=!1},i.prototype.checkRepeatedValue=function(e){if("Range"===this.type){if(e===(this.enableRtl&&"Vertical"!==this.orientation?1===this.activeHandle?this.previousVal[1]:this.previousVal[0]:1===this.activeHandle?this.previousVal[0]:this.previousVal[1]))return 0}else if(e===this.previousVal)return 0;return 1},i.prototype.refreshTooltip=function(e){this.tooltip.isVisible&&this.tooltipObj&&(this.tooltipValue(),e&&(this.tooltipObj.refresh(e),this.tooltipTarget=e))},i.prototype.openTooltip=function(e){this.tooltip.isVisible&&this.tooltipObj&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.open(e),this.tooltipTarget=e)},i.prototype.closeTooltip=function(){this.tooltip.isVisible&&this.tooltipObj&&"Always"!==this.tooltip.showOn&&!this.isMaterialTooltip&&(this.tooltipValue(),this.tooltipObj.close(),this.tooltipTarget=void 0)},i.prototype.keyDown=function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:case 33:case 34:case 36:case 35:e.preventDefault(),this.buttonClick(e)}},i.prototype.wireButtonEvt=function(e){e?(n.bi.remove(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut),n.bi.remove(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut),n.bi.remove(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse),n.bi.remove(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),n.bi.remove(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse),n.bi.remove(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp),n.bi.remove(this.firstBtn,"focusout",this.sliderFocusOut),n.bi.remove(this.secondBtn,"focusout",this.sliderFocusOut)):(n.bi.add(this.firstBtn,"mouseleave touchleave",this.buttonFocusOut,this),n.bi.add(this.secondBtn,"mouseleave touchleave",this.buttonFocusOut,this),n.bi.add(this.firstBtn,"mousedown touchstart",this.repeatHandlerMouse,this),n.bi.add(this.firstBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),n.bi.add(this.secondBtn,"mousedown touchstart",this.repeatHandlerMouse,this),n.bi.add(this.secondBtn,"mouseup mouseleave touchup touchend",this.repeatHandlerUp,this),n.bi.add(this.firstBtn,"focusout",this.sliderFocusOut,this),n.bi.add(this.secondBtn,"focusout",this.sliderFocusOut,this))},i.prototype.rangeBarMousedown=function(e){var t,s;if(e.preventDefault(),this.focusSliderElement(),"Range"===this.type&&this.drag&&e.target===this.rangeBar){var r=void 0,o=void 0;"mousedown"===e.type?(r=(t=[e.clientX,e.clientY])[0],o=t[1]):"touchstart"===e.type&&(r=(s=[e.changedTouches[0].clientX,e.changedTouches[0].clientY])[0],o=s[1]),"Horizontal"===this.orientation?(this.firstPartRemain=r-this.rangeBar.getBoundingClientRect().left,this.secondPartRemain=this.rangeBar.getBoundingClientRect().right-r):(this.firstPartRemain=o-this.rangeBar.getBoundingClientRect().top,this.secondPartRemain=this.rangeBar.getBoundingClientRect().bottom-o),this.minDiff=this.handleVal2-this.handleVal1,this.tooltipToggle(this.rangeBar);var a=this.element.querySelector(".e-tab-handle");a&&a.classList.remove("e-tab-handle"),n.bi.add(document,"mousemove touchmove",this.dragRangeBarMove,this),n.bi.add(document,"mouseup touchend",this.dragRangeBarUp,this)}},i.prototype.elementClick=function(e){this.isDragComplete?this.isDragComplete=!1:(e.preventDefault(),this.focusSliderElement(),this.sliderBarClick(e),this.focusHandle())},i.prototype.wireEvents=function(){this.onresize=this.reposition.bind(this),window.addEventListener("resize",this.onresize),this.enabled&&!this.readonly&&(n.bi.add(this.element,"click",this.elementClick,this),"Range"===this.type&&this.drag&&n.bi.add(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown,this),n.bi.add(this.sliderContainer,"keydown",this.keyDown,this),n.bi.add(this.sliderContainer,"keyup",this.keyUp,this),n.bi.add(this.element,"focusout",this.sliderFocusOut,this),n.bi.add(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover,this),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.showButtons&&this.wireButtonEvt(!1),this.wireMaterialTooltipEvent(!1),this.isForm&&n.bi.add(this.formElement,"reset",this.formResetHandler,this))},i.prototype.unwireEvents=function(){n.bi.remove(this.element,"click",this.elementClick),"Range"===this.type&&this.drag&&n.bi.remove(this.rangeBar,"mousedown touchstart",this.rangeBarMousedown),n.bi.remove(this.sliderContainer,"keydown",this.keyDown),n.bi.remove(this.sliderContainer,"keyup",this.keyUp),n.bi.remove(this.element,"focusout",this.sliderFocusOut),n.bi.remove(this.sliderContainer,"mouseover mouseout touchstart touchend",this.hover),this.wireFirstHandleEvt(!0),"Range"===this.type&&this.wireSecondHandleEvt(!0),this.showButtons&&this.wireButtonEvt(!0),this.wireMaterialTooltipEvent(!0),n.bi.remove(this.element,"reset",this.formResetHandler)},i.prototype.formResetHandler=function(){this.setProperties({value:this.formResetValue},!0),this.setValue()},i.prototype.keyUp=function(e){if(9===e.keyCode&&e.target.classList.contains("e-handle")&&(this.focusSliderElement(),!e.target.classList.contains("e-tab-handle"))){this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),e.target.classList.add("e-tab-handle");var t=e.target.parentElement;t===this.element&&(t.querySelector(".e-slider-track").classList.add("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&t.querySelector(".e-range").classList.add("e-tab-range")),"Range"===this.type&&(this.activeHandle=e.target.previousSibling.classList.contains("e-handle")?2:1),this.getHandle().focus(),this.tooltipToggle(this.getHandle())}this.closeTooltip(),this.changeEvent("changed",e)},i.prototype.hover=function(e){if(!(0,n.le)(e))if("mouseover"===e.type||"touchmove"===e.type||"mousemove"===e.type||"pointermove"===e.type||"touchstart"===e.type)this.sliderContainer.classList.add("e-slider-hover");else{this.sliderContainer.classList.remove("e-slider-hover");var t=e.currentTarget;this.tooltip.isVisible&&"Always"!==this.tooltip.showOn&&this.tooltipObj&&this.isMaterialTooltip&&!t.classList.contains("e-handle-focused")&&!t.classList.contains("e-tab-handle")&&this.closeMaterialTooltip()}},i.prototype.sliderFocusOut=function(e){e.relatedTarget!==this.secondHandle&&e.relatedTarget!==this.firstHandle&&e.relatedTarget!==this.element&&e.relatedTarget!==this.firstBtn&&e.relatedTarget!==this.secondBtn&&(this.closeMaterialTooltip(),this.closeTooltip(),this.element.querySelector(".e-tab-handle")&&this.element.querySelector(".e-tab-handle").classList.remove("e-tab-handle"),this.element.querySelector(".e-tab-track")&&(this.element.querySelector(".e-tab-track").classList.remove("e-tab-track"),("Range"===this.type||"MinRange"===this.type)&&this.element.querySelector(".e-tab-range")&&this.element.querySelector(".e-tab-range").classList.remove("e-tab-range")),this.hiddenInput.focus(),this.hiddenInput.blur(),this.isElementFocused=!1)},i.prototype.removeElement=function(e){e.parentNode&&e.parentNode.removeChild(e)},i.prototype.changeSliderType=function(e,t){this.isMaterialTooltip&&this.materialHandle&&(this.sliderContainer.classList.remove("e-material-slider"),this.removeElement(this.materialHandle),this.materialHandle=void 0),this.removeElement(this.firstHandle),this.firstHandle=void 0,"Default"!==e&&("Range"===e&&(this.removeElement(this.secondHandle),this.secondHandle=void 0),this.removeElement(this.rangeBar),this.rangeBar=void 0),this.tooltip.isVisible&&!(0,n.le)(this.tooltipObj)&&(this.tooltipObj.destroy(),this.tooltipElement=void 0,this.tooltipCollidedPosition=void 0),this.limits.enabled&&("MinRange"===e||"Default"===e?(0,n.le)(this.limitBarFirst)||(this.removeElement(this.limitBarFirst),this.limitBarFirst=void 0):(0,n.le)(this.limitBarSecond)||(this.removeElement(this.limitBarSecond),this.limitBarSecond=void 0)),this.activeHandle=1,this.getThemeInitialization(),"Range"===this.type&&this.rangeValueUpdate(),this.createRangeBar(),this.limits.enabled&&this.createLimitBar(),this.setHandler(),this.setOrientClass(),this.wireFirstHandleEvt(!1),"Range"===this.type&&this.wireSecondHandleEvt(!1),this.setValue(),this.tooltip.isVisible&&(this.renderTooltip(),this.wireMaterialTooltipEvent(!1)),this.setBarColor(),"tooltip"!==t&&this.updateConfig()},i.prototype.changeRtl=function(){if(!this.enableRtl&&"Range"===this.type&&(this.value=[this.handleVal2,this.handleVal1]),this.updateConfig(),this.tooltip.isVisible&&this.tooltipObj.refresh(this.firstHandle),this.showButtons){var e=this.enableRtl&&"Vertical"!==this.orientation;(0,n.Y4)(e?this.secondBtn:this.firstBtn,{"aria-label":"Decrease",title:"Decrease"}),(0,n.Y4)(e?this.firstBtn:this.secondBtn,{"aria-label":"Increase",title:"Increase"})}},i.prototype.changeOrientation=function(){this.changeSliderType(this.type,"null")},i.prototype.updateConfig=function(){this.setEnableRTL(),this.setValue(),this.tooltip.isVisible&&this.refreshTooltip(this.tooltipTarget),"None"!==this.ticks.placement&&this.ul&&(this.removeElement(this.ul),this.ul=void 0,this.renderScale()),this.limitsPropertyChange()},i.prototype.limitsPropertyChange=function(){this.limits.enabled?((0,n.le)(this.limitBarFirst)&&"Range"!==this.type&&this.createLimitBar(),(0,n.le)(this.limitBarFirst)&&(0,n.le)(this.limitBarSecond)&&"Range"===this.type&&this.createLimitBar(),this.setLimitBar(),this.setValue()):((0,n.le)(this.limitBarFirst)||(0,n.og)(this.limitBarFirst),(0,n.le)(this.limitBarSecond)||(0,n.og)(this.limitBarSecond))},i.prototype.getPersistData=function(){return this.addOnPersist(["value"])},i.prototype.destroy=function(){h.prototype.destroy.call(this),this.unwireEvents(),window.removeEventListener("resize",this.onresize),(0,n.IV)([this.sliderContainer],["e-disabled"]),this.firstHandle.removeAttribute("aria-orientation"),"Range"===this.type&&this.secondHandle.removeAttribute("aria-orientation"),this.sliderContainer.parentNode.insertBefore(this.element,this.sliderContainer),(0,n.og)(this.sliderContainer),this.tooltip.isVisible&&this.tooltipObj.destroy(),this.element.innerHTML="",this.hiddenInput=null,this.sliderContainer=null,this.sliderTrack=null,this.rangeBar=null,this.firstHandle=null,this.secondHandle=null,this.tickElementCollection=null,this.ul=null,this.firstBtn=null,this.secondBtn=null,this.materialHandle=null,this.tooltipObj=null,this.tooltipTarget=null,this.limitBarFirst=null,this.limitBarSecond=null,this.firstChild=null,this.lastChild=null,this.tooltipElement=null},i.prototype.onPropertyChanged=function(e,t){for(var s=this,r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];switch(a){case"cssClass":this.setCSSClass(t.cssClass);break;case"value":if(e&&t){var d=(0,n.le)(e.value)?"Range"===this.type?[this.min,this.max]:this.min:e.value;this.setProperties({value:d},!0),!(0,n.le)(t.value)&&t.value.toString()!==d.toString()&&(this.setValue(),this.refreshTooltip(this.tooltipTarget),"Range"===this.type&&(this.activeHandle=(0,n.le)(e.value)||t.value[1]===d[1]?1:2))}break;case"min":case"step":case"max":this.setMinMaxValue();break;case"tooltip":!(0,n.le)(e.tooltip)&&!(0,n.le)(t.tooltip)&&(this.setTooltip(a),this.showButtons||this.wireEvents());break;case"type":!(0,n.le)(t)&&Object.keys(t).length&&!(0,n.le)(t.type)&&(this.changeSliderType(t.type,a),this.setZindex());break;case"enableRtl":t.enableRtl!==e.enableRtl&&"Vertical"!==this.orientation&&(this.rtl=t.enableRtl,this.changeRtl());break;case"limits":this.limitsPropertyChange();break;case"orientation":this.changeOrientation();break;case"ticks":(0,n.le)(this.sliderContainer.querySelector(".e-scale"))||((0,n.og)(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(c){c.match(/e-scale-/)&&s.sliderContainer.classList.remove(c)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex());break;case"locale":this.showButtons&&this.buttonTitle();break;case"showButtons":e.showButtons?(this.setButtons(),this.reposition(),this.enabled&&!this.readonly&&this.wireButtonEvt(!1)):this.firstBtn&&this.secondBtn&&(this.sliderContainer.removeChild(this.firstBtn),this.sliderContainer.removeChild(this.secondBtn),this.sliderContainer.classList.remove("e-slider-btn"),this.firstBtn=void 0,this.secondBtn=void 0,this.reposition());break;case"enabled":this.setEnabled();break;case"readonly":this.setReadOnly();break;case"customValues":this.setValue(),this.reposition();break;case"colorRange":this.reposition();break;case"width":this.setElementWidth(e.width),this.setMinMaxValue(),this.limits&&this.limitsPropertyChange()}}},i.prototype.setReadOnly=function(){this.readonly?(this.unwireEvents(),this.sliderContainer.classList.add("e-read-only")):(this.wireEvents(),this.sliderContainer.classList.remove("e-read-only"))},i.prototype.setMinMaxValue=function(){var e=this;this.setValue(),this.refreshTooltip(this.tooltipTarget),(0,n.le)(this.sliderContainer.querySelector(".e-scale"))||this.ul&&((0,n.og)(this.ul),Array.prototype.forEach.call(this.sliderContainer.classList,function(t){t.match(/e-scale-/)&&e.sliderContainer.classList.remove(t)})),"None"!==this.ticks.placement&&(this.renderScale(),this.setZindex())},i.prototype.setZindex=function(){this.zIndex=6,!(0,n.le)(this.ticks)&&"None"!==this.ticks.placement&&!(0,n.le)(this.ul)&&!(0,n.le)(this.element)&&(this.ul.style.zIndex=this.zIndex+-7+"",this.element.style.zIndex=this.zIndex+2+""),!this.isMaterial&&!this.isMaterial3&&!(0,n.le)(this.ticks)&&"Both"===this.ticks.placement&&(this.element.style.zIndex=this.zIndex+2+""),(0,n.le)(this.firstHandle)||(this.firstHandle.style.zIndex=this.zIndex+3+""),"Range"===this.type&&!(0,n.le)(this.secondHandle)&&(this.secondHandle.style.zIndex=this.zIndex+4+"")},i.prototype.setTooltip=function(e){this.changeSliderType(this.type,e)},i.prototype.setBarColor=function(){for(var e,t,s=this.sliderTrack.lastElementChild;s;)this.sliderTrack.removeChild(s),s=this.sliderTrack.lastElementChild;for(var r=0;r<this.colorRange.length;r++)if(!(0,n.le)(this.colorRange[r].start)&&!(0,n.le)(this.colorRange[r].end)&&this.colorRange[r].end>this.colorRange[r].start){this.colorRange[r].start<this.min&&(this.colorRange[r].start=this.min),this.colorRange[r].end>this.max&&(this.colorRange[r].end=this.max);var o=this.checkHandlePosition(this.colorRange[r].start),a=this.checkHandlePosition(this.colorRange[r].end),d=this.createElement("div");d.style.backgroundColor=this.colorRange[r].color,d.style.border="1px solid "+this.colorRange[r].color,"Horizontal"===this.orientation?(t="e-slider-horizantal-color",e=this.enableRtl?(0,n.le)(this.customValues)?this.checkHandlePosition(this.max)-this.checkHandlePosition(this.colorRange[r].end):this.checkHandlePosition(this.customValues.length-this.colorRange[r].end-1):this.checkHandlePosition(this.colorRange[r].start),d.style.width=a-o+"px",d.style.left=e+"px"):(t="e-slider-vertical-color",e=this.checkHandlePosition(this.colorRange[r].start),d.style.height=a-o+"px",d.style.bottom=e+"px"),d.classList.add(t),this.sliderTrack.appendChild(d)}},i.prototype.getModuleName=function(){return"slider"},ht([(0,n.Z9)(null)],i.prototype,"value",void 0),ht([(0,n.Z9)(null)],i.prototype,"customValues",void 0),ht([(0,n.Z9)(1)],i.prototype,"step",void 0),ht([(0,n.Z9)(null)],i.prototype,"width",void 0),ht([(0,n.Z9)(0)],i.prototype,"min",void 0),ht([(0,n.Z9)(100)],i.prototype,"max",void 0),ht([(0,n.Z9)(!1)],i.prototype,"readonly",void 0),ht([(0,n.Z9)("Default")],i.prototype,"type",void 0),ht([(0,n.FE)([{}],XS)],i.prototype,"colorRange",void 0),ht([(0,n.Zz)({},US)],i.prototype,"ticks",void 0),ht([(0,n.Zz)({},JS)],i.prototype,"limits",void 0),ht([(0,n.Z9)(!0)],i.prototype,"enabled",void 0),ht([(0,n.Zz)({},GS)],i.prototype,"tooltip",void 0),ht([(0,n.Z9)(!1)],i.prototype,"showButtons",void 0),ht([(0,n.Z9)(!0)],i.prototype,"enableAnimation",void 0),ht([(0,n.Z9)("Horizontal")],i.prototype,"orientation",void 0),ht([(0,n.Z9)("")],i.prototype,"cssClass",void 0),ht([(0,n.Z9)(!1)],i.prototype,"enableHtmlSanitizer",void 0),ht([(0,n.ju)()],i.prototype,"created",void 0),ht([(0,n.ju)()],i.prototype,"change",void 0),ht([(0,n.ju)()],i.prototype,"changed",void 0),ht([(0,n.ju)()],i.prototype,"renderingTicks",void 0),ht([(0,n.ju)()],i.prototype,"renderedTicks",void 0),ht([(0,n.ju)()],i.prototype,"tooltipChange",void 0),ht([n.Zl],i)}(n.wA),Od=(new RegExp("^[A-Za-z0-9._%+-]{1,}@[A-Za-z0-9._%+-]{1,}([.]{1}[a-zA-Z0-9]{2,}|[.]{1}[a-zA-Z0-9]{2,4}[.]{1}[a-zA-Z0-9]{2,4})$"),new RegExp("^([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$"),new RegExp("^[0-9]*$"),new RegExp("^[+]?[0-9]{9,13}$"),new RegExp("^\\d{13,16}$"),function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}()),it=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},Wb="e-file-select",bf="e-file-drop",Zb="e-upload-files",Md="e-upload-file-list",bi="e-file-status",Ub="e-file-name",Xb="e-file-type",Jb="e-file-size",Bi="e-file-remove-btn",Bs="e-file-delete-btn",Gb="e-spinner-pane",ci="e-file-abort-btn",Dr="e-file-reload-btn",Cf="e-upload-drag-hover",fo="e-upload-progress-wrap",Ad="e-upload-progress-bar",_f="e-progress-bar-text",zs="e-upload-progress",hr="e-upload-success",Vs="e-upload-fails",wf="e-file-container",Qb="e-validation-fails",Sf="e-disabled",Kb="e-rtl-container",xf="e-clear-icon-focus",ss="e-file-pause-btn",mo="e-file-play-btn",kl="e-restrict-retry",e0=["title","style","class"],t0="e-form-upload",Ll="e-file-invalid",lx=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Od(i,h),it([(0,n.Z9)("")],i.prototype,"name",void 0),it([(0,n.Z9)(null)],i.prototype,"size",void 0),it([(0,n.Z9)("")],i.prototype,"type",void 0),i}(n.rt),hx=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Od(i,h),it([(0,n.Z9)("Browse...")],i.prototype,"browse",void 0),it([(0,n.Z9)("Upload")],i.prototype,"upload",void 0),it([(0,n.Z9)("Clear")],i.prototype,"clear",void 0),i}(n.rt),dx=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Od(i,h),it([(0,n.Z9)("")],i.prototype,"saveUrl",void 0),it([(0,n.Z9)("")],i.prototype,"removeUrl",void 0),it([(0,n.Z9)(0)],i.prototype,"chunkSize",void 0),it([(0,n.Z9)(3)],i.prototype,"retryCount",void 0),it([(0,n.Z9)(500)],i.prototype,"retryAfterDelay",void 0),i}(n.rt),Ol=function(h){function i(e,t){var s=h.call(this,e,t)||this;return s.initialAttr={accept:null,multiple:!1,disabled:!1},s.uploadedFilesData=[],s.base64String=[],s.isForm=!1,s.allTypes=!1,s.pausedData=[],s.uploadMetaData=[],s.tabIndex="0",s.btnTabIndex="0",s.disableKeyboardNavigation=!1,s.count=-1,s.actionCompleteCount=0,s.flag=!0,s.selectedFiles=[],s.uploaderName="UploadFiles",s.fileStreams=[],s.newFileRef=0,s.isFirstFileOnSelection=!1,s.dragCounter=0,s.isAngular=!1,s.fileList=[],s.filesData=[],s.uploaderOptions=e,s}return Od(i,h),i.prototype.onPropertyChanged=function(e,t){for(var s=0,r=Object.keys(e);s<r.length;s++)switch(r[s]){case"allowedExtensions":this.setExtensions(this.allowedExtensions),this.clearAll();break;case"enabled":this.setControlStatus();break;case"multiple":this.setMultipleSelection();break;case"enableRtl":this.setRTL(),this.reRenderFileList();break;case"buttons":this.buttons.browse=(0,n.le)(this.buttons.browse)?"":this.buttons.browse,this.buttons.clear=(0,n.le)(this.buttons.clear)?"":this.buttons.clear,this.buttons.upload=(0,n.le)(this.buttons.upload)?"":this.buttons.upload,this.renderButtonTemplates();break;case"dropArea":this.unBindDropEvents(),this.updateDropArea();break;case"htmlAttributes":this.updateHTMLAttrToElement(),this.updateHTMLAttrToWrapper(),this.checkHTMLAttributes(!0);break;case"files":this.renderPreLoadFiles();break;case"directoryUpload":this.updateDirectoryAttributes();break;case"template":(0,n.NA)("ej2_instances",this.element)[0].isReact?this.reRenderFileList():this.clearAll();break;case"minFileSize":case"maxFileSize":case"autoUpload":case"sequentialUpload":this.clearAll();break;case"locale":this.l10n.setLocale(this.locale),this.setLocalizedTexts(),this.preLocaleObj=(0,n.NA)("currentLocale",this.l10n);break;case"cssClass":this.setCSSClass(t.cssClass)}},i.prototype.setLocalizedTexts=function(){(0,n.le)(this.template)&&("string"==typeof this.buttons.browse&&(this.browseButton.innerText="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText),this.uploadWrapper&&!(0,n.le)(this.uploadWrapper.querySelector("."+bf))&&(this.uploadWrapper.querySelector("."+bf).innerHTML=this.localizedTexts("dropFilesHint"))),this.updateFileList())},i.prototype.getKeyValue=function(e){for(var t,s=0,r=Object.keys(this.preLocaleObj);s<r.length;s++){var o=r[s];this.preLocaleObj[""+o]===e&&(t=o)}return t},i.prototype.updateFileList=function(){if(this.fileList.length>0&&!(0,n.le)(this.uploadWrapper.querySelector("."+Zb)))for(var t=0;t<this.fileList.length;t++)this.fileList[t].querySelector(".e-file-status").innerHTML=this.localizedTexts(this.getKeyValue(this.filesData[t].status)),this.filesData[t].status=this.localizedTexts(this.getKeyValue(this.filesData[t].status)),this.fileList[t].classList.contains(hr)&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("delete")),this.fileList[t].querySelector(".e-file-play-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("resume")),this.fileList[t].querySelector(".e-file-remove-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("remove")),this.fileList[t].querySelector(".e-file-reload-btn")&&this.fileList[t].querySelector(".e-icons").setAttribute("title",this.localizedTexts("retry")),this.autoUpload||(this.uploadButton.innerText="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.localizedTexts("Upload")),this.clearButton.innerText="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.localizedTexts("Clear")))},i.prototype.reRenderFileList=function(){this.listParent&&((0,n.og)(this.listParent),this.listParent=null,this.fileList=[],this.internalCreateFileList(this.filesData),this.actionButtons&&(this.removeActionButtons(),this.renderActionButtons(),this.checkActionButtonStatus()))},i.prototype.preRender=function(){this.localeText={Browse:"Browse...",Clear:"Clear",Upload:"Upload",invalidFileName:"File Name is not allowed",dropFilesHint:"Or drop files here",invalidMaxFileSize:"File size is too large",invalidMinFileSize:"File size is too small",invalidFileType:"File type is not allowed",uploadFailedMessage:"File failed to upload",uploadSuccessMessage:"File uploaded successfully",removedSuccessMessage:"File removed successfully",removedFailedMessage:"Unable to remove file",inProgress:"Uploading",readyToUploadMessage:"Ready to upload",abort:"Abort",remove:"Remove",cancel:"Cancel",delete:"Delete file",pauseUpload:"File upload paused",pause:"Pause",resume:"Resume",retry:"Retry",fileUploadCancel:"File upload canceled",invalidFileSelection:"Invalid files selected",totalFiles:"Total files",size:"Size"},this.l10n=new n.E7("uploader",this.localeText,this.locale),this.preLocaleObj=(0,n.NA)("currentLocale",this.l10n),this.formRendered(),this.updateHTMLAttrToElement(),this.checkHTMLAttributes(!1);var e=(0,n.NA)("ej2_instances",this.element);if("EJS-UPLOADER"===this.element.tagName){for(var t=this.createElement("input",{attrs:{type:"file"}}),s=0;s<this.element.attributes.length;s++)"id"!==this.element.attributes[s].nodeName?t.setAttribute(this.element.attributes[s].nodeName,this.element.attributes[s].nodeValue):"id"===this.element.attributes[s].nodeName&&t.setAttribute(this.element.attributes[s].nodeName,(0,n.QI)("uploader")),t.innerHTML=this.element.innerHTML;t.hasAttribute("name")||t.setAttribute("name","UploadFiles"),this.element.appendChild(t),this.element=t,(0,n.sO)("ej2_instances",e,this.element)}e[0].isPureReactComponent&&((0,n.le)(e[0].props.name)?!(0,n.le)(e[0].props.id)&&(0,n.le)(e[0].props.name)?this.element.setAttribute("name",e[0].props.id):this.element.setAttribute("name","UploadFiles"):this.element.setAttribute("name",e[0].props.name)),(0,n.le)(this.element.getAttribute("name"))&&this.element.setAttribute("name",this.element.getAttribute("id")),this.element.hasAttribute("type")||this.element.setAttribute("type","file"),this.updateDirectoryAttributes(),this.keyConfigs={enter:"enter"},this.element.hasAttribute("tabindex")&&(this.tabIndex=this.element.getAttribute("tabindex")),this.browserName=n.AR.info.name,this.uploaderName=this.element.getAttribute("name")},i.prototype.formRendered=function(){var e=(0,n.oq)(this.element,"form");if(!(0,n.le)(e))for(;e&&e!==document.documentElement;e=e.parentElement)"FORM"===e.tagName&&(this.isForm=!0,this.formElement=e,e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data"))},i.prototype.getPersistData=function(){return this.addOnPersist(["filesData"])},i.prototype.getModuleName=function(){return"uploader"},i.prototype.updateDirectoryAttributes=function(){this.directoryUpload?(this.element.setAttribute("directory","true"),this.element.setAttribute("webkitdirectory","true")):(this.element.removeAttribute("directory"),this.element.removeAttribute("webkitdirectory"))},i.prototype.render=function(){this.renderBrowseButton(),this.initializeUpload(),this.updateHTMLAttrToWrapper(),this.wireEvents(),this.setMultipleSelection(),this.setExtensions(this.allowedExtensions),this.setRTL(),this.renderPreLoadFiles(),this.setControlStatus(),this.setCSSClass()},i.prototype.renderBrowseButton=function(){this.browseButton=this.createElement("button",{className:"e-css e-btn",attrs:{type:"button"}}),this.browseButton.setAttribute("tabindex",this.tabIndex),"string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.innerText)):this.browseButton.appendChild(this.buttons.browse),this.element.setAttribute("aria-label","Uploader")},i.prototype.renderActionButtons=function(){this.element.setAttribute("tabindex","-1"),this.actionButtons=this.createElement("div",{className:"e-upload-actions"}),this.uploadButton=this.createElement("button",{className:"e-file-upload-btn e-css e-btn e-flat e-primary",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.clearButton=this.createElement("button",{className:"e-file-clear-btn e-css e-btn e-flat",attrs:{type:"button",tabindex:this.btnTabIndex}}),this.actionButtons.appendChild(this.clearButton),this.actionButtons.appendChild(this.uploadButton),this.renderButtonTemplates(),this.uploadWrapper.appendChild(this.actionButtons),this.browseButton.blur(),this.isPreloadFiles||this.uploadButton.focus(),this.wireActionButtonEvents()},i.prototype.serverActionButtonsEventBind=function(e){e&&!this.isForm&&(this.browseButton.blur(),this.actionButtons=e,this.uploadButton=this.actionButtons.querySelector(".e-file-upload-btn"),this.clearButton=this.actionButtons.querySelector(".e-file-clear-btn"),this.uploadButton.focus(),this.unwireActionButtonEvents(),this.wireActionButtonEvents(),this.checkActionButtonStatus())},i.prototype.wireActionButtonEvents=function(){n.bi.add(this.uploadButton,"click",this.uploadButtonClick,this),n.bi.add(this.clearButton,"click",this.clearButtonClick,this)},i.prototype.unwireActionButtonEvents=function(){n.bi.remove(this.uploadButton,"click",this.uploadButtonClick),n.bi.remove(this.clearButton,"click",this.clearButtonClick)},i.prototype.removeActionButtons=function(){this.actionButtons&&(this.unwireActionButtonEvents(),(0,n.og)(this.actionButtons),this.actionButtons=null)},i.prototype.renderButtonTemplates=function(){if("string"==typeof this.buttons.browse?(this.browseButton.textContent="Browse..."===this.buttons.browse?this.localizedTexts("Browse"):this.buttons.browse,this.browseButton.setAttribute("title",this.browseButton.textContent)):(this.browseButton.innerHTML="",this.browseButton.appendChild(this.buttons.browse)),this.uploadButton){var e=(0,n.le)(this.buttons.upload)?"Upload":this.buttons.upload;this.buttons.upload=e,"string"==typeof this.buttons.upload?(this.uploadButton.textContent="Upload"===this.buttons.upload?this.localizedTexts("Upload"):this.buttons.upload,this.uploadButton.setAttribute("title",this.uploadButton.textContent)):(this.uploadButton.innerHTML="",this.uploadButton.appendChild(this.buttons.upload))}if(this.clearButton){var t=(0,n.le)(this.buttons.clear)?"Clear":this.buttons.clear;this.buttons.clear=t,"string"==typeof this.buttons.clear?(this.clearButton.textContent="Clear"===this.buttons.clear?this.localizedTexts("Clear"):this.buttons.clear,this.clearButton.setAttribute("title",this.clearButton.textContent)):(this.clearButton.innerHTML="",this.clearButton.appendChild(this.buttons.clear))}},i.prototype.initializeUpload=function(){this.element.setAttribute("tabindex","-1");var e=this.createElement("span",{className:Wb});this.element.parentElement.insertBefore(e,this.element),this.dropAreaWrapper=this.createElement("div",{className:"e-file-select-wrap"}),this.element.parentElement.insertBefore(this.dropAreaWrapper,this.element),e.appendChild(this.element),this.dropAreaWrapper.appendChild(this.browseButton),this.dropAreaWrapper.appendChild(e),this.uploadWrapper=this.createElement("div",{className:"e-upload e-control-wrapper"}),this.dropAreaWrapper.parentElement.insertBefore(this.uploadWrapper,this.dropAreaWrapper),this.uploadWrapper.appendChild(this.dropAreaWrapper),this.setDropArea()},i.prototype.renderPreLoadFiles=function(){if(this.files.length){if(this.enablePersistence&&this.filesData.length)return void this.internalCreateFileList(this.filesData);if((0,n.le)(this.files[0].size))return;this.isPreloadFiles=!0;var e=[].slice.call(this.files),t=[];this.multiple||(this.clearData(),e=[e[0]]);for(var s=0,r=e;s<r.length;s++){var o=r[s],a={name:o.name+"."+o.type.split(".")[o.type.split(".").length-1],rawFile:"",size:o.size,status:this.localizedTexts("uploadSuccessMessage"),type:o.type,validationMessages:{minSize:"",maxSize:""},statusCode:"2"};t.push(a),this.filesData.push(a)}this.internalCreateFileList(t),!this.autoUpload&&this.listParent&&!this.actionButtons&&(!this.isForm||this.allowUpload())&&this.showFileList&&this.renderActionButtons(),this.checkActionButtonStatus(),this.sequentialUpload&&(this.count=this.filesData.length-1),this.isPreloadFiles=!1}},i.prototype.checkActionButtonStatus=function(){if(this.actionButtons){var e=this.uploadWrapper.querySelectorAll("."+Qb).length+this.uploadWrapper.querySelectorAll(".e-upload-fails:not(.e-upload-progress)").length+this.uploadWrapper.querySelectorAll("span."+hr).length+this.uploadWrapper.querySelectorAll("span."+zs).length;e>0&&e===this.uploadWrapper.querySelectorAll("li").length?this.uploadButton.setAttribute("disabled","disabled"):this.uploadButton.removeAttribute("disabled")}},i.prototype.setDropArea=function(){var e=this.dropAreaWrapper.querySelector(".e-file-drop");if(this.dropArea){this.dropZoneElement="string"!=typeof this.dropArea?this.dropArea:(0,n.Ys)(this.dropArea,document);for(var t=this.element,s=!1;t.parentNode;)(t=t.parentNode)===this.dropZoneElement&&(s=!0,e?e.innerHTML=this.localizedTexts("dropFilesHint"):this.createDropTextHint());!s&&e&&(0,n.Od)(e)}else!(0,n.le)(this.uploaderOptions)&&void 0===this.uploaderOptions.dropArea&&(this.createDropTextHint(),this.dropZoneElement=this.uploadWrapper,this.setProperties({dropArea:this.uploadWrapper},!0));this.bindDropEvents()},i.prototype.updateDropArea=function(){if(this.dropArea)this.setDropArea();else{this.dropZoneElement=null;var e=this.dropAreaWrapper.querySelector(".e-file-drop");e&&(0,n.Od)(e)}},i.prototype.createDropTextHint=function(){var e=this.createElement("span",{className:bf});e.innerHTML=this.localizedTexts("dropFilesHint"),this.dropAreaWrapper.appendChild(e)},i.prototype.updateHTMLAttrToElement=function(){if(!(0,n.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];e0.indexOf(s)<0&&this.element.setAttribute(s,this.htmlAttributes[""+s])}},i.prototype.updateHTMLAttrToWrapper=function(){if(!(0,n.le)(this.htmlAttributes))for(var e=0,t=Object.keys(this.htmlAttributes);e<t.length;e++){var s=t[e];if(e0.indexOf(s)>-1)if("class"===s){var r=this.htmlAttributes[""+s].replace(/\s+/g," ").trim();""!==r&&(0,n.cn)([this.uploadWrapper],r.split(" "))}else if("style"===s){var o=this.uploadWrapper.getAttribute(s);o=(0,n.le)(o)?this.htmlAttributes[""+s]:o+this.htmlAttributes[""+s],this.uploadWrapper.setAttribute(s,o)}else this.uploadWrapper.setAttribute(s,this.htmlAttributes[""+s])}},i.prototype.setMultipleSelection=function(){if(this.multiple&&!this.element.hasAttribute("multiple")){var e=document.createAttribute("multiple");e.value="multiple",this.element.setAttributeNode(e)}else this.multiple||this.element.removeAttribute("multiple")},i.prototype.checkAutoUpload=function(e){this.autoUpload?(this.sequentialUpload?this.sequenceUpload(e):this.upload(e),this.removeActionButtons()):this.actionButtons||this.renderActionButtons(),this.checkActionButtonStatus()},i.prototype.sequenceUpload=function(e){if(this.filesData.length-e.length==0||"1"!==this.filesData[this.filesData.length-e.length-1].statusCode){(this.multiple||this.count<0)&&++this.count;var t=!this.showFileList;"object"==typeof this.filesData[this.count]?(this.isFirstFileOnSelection=!1,this.upload(this.filesData[this.count],t),"0"===this.filesData[this.count].statusCode&&this.sequenceUpload(e)):--this.count}},i.prototype.setCSSClass=function(e){var t=e;(0,n.le)(e)||(t=e.replace(/\s+/g," ").trim()),!(0,n.le)(e)&&""!==t&&(0,n.IV)([this.uploadWrapper],t.split(" "));var s=this.cssClass;!(0,n.le)(this.cssClass)&&""!==this.cssClass&&(s=this.cssClass.replace(/\s+/g," ").trim()),!(0,n.le)(this.cssClass)&&""!==s&&(0,n.cn)([this.uploadWrapper],s.split(s.indexOf(",")>-1?",":" "))},i.prototype.wireEvents=function(){n.bi.add(this.browseButton,"click",this.browseButtonClick,this),n.bi.add(this.element,"change",this.onSelectFiles,this),n.bi.add(document,"click",this.removeFocus,this),this.keyboardModule=new n.nv(this.uploadWrapper,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs,eventName:"keydown"}),this.isForm&&n.bi.add(this.formElement,"reset",this.resetForm,this)},i.prototype.unWireEvents=function(){n.bi.remove(this.browseButton,"click",this.browseButtonClick),n.bi.remove(this.element,"change",this.onSelectFiles),n.bi.remove(document,"click",this.removeFocus),this.isForm&&n.bi.remove(this.formElement,"reset",this.resetForm),this.keyboardModule&&this.keyboardModule.destroy()},i.prototype.resetForm=function(){this.clearAll()},i.prototype.keyActionHandler=function(e){var t=e.target;if("enter"===e.action){if(e.target===this.clearButton)this.clearButtonClick();else if(e.target===this.uploadButton)this.uploadButtonClick();else if(e.target===this.browseButton)this.browseButtonClick();else if(t.classList.contains(ss))(s=this.getCurrentMetaData(null,e)).file.statusCode="4",s.file.status=this.localizedTexts("pauseUpload"),this.abortUpload(s,!1);else if(t.classList.contains(mo))this.resumeUpload(this.getCurrentMetaData(null,e),e);else if(t.classList.contains(Dr)){var s=this.getCurrentMetaData(null,e);if((0,n.le)(s)){var o=this.filesData[this.fileList.indexOf(e.target.parentElement)];this.retry(o)}else s.file.statusCode="1",s.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(s.file)}else this.removeFiles(e),t.classList.contains(ci)||this.browseButton.focus();e.preventDefault(),e.stopPropagation()}},i.prototype.getCurrentMetaData=function(e,t){var s,r;s=(0,n.le)(e)?this.filesData[this.fileList.indexOf(t.target.parentElement)]:e;for(var a=0;a<this.uploadMetaData.length;a++)this.uploadMetaData[a].file.name===s.name&&(r=this.uploadMetaData[a]);return r},i.prototype.removeFocus=function(){this.uploadWrapper&&this.listParent&&this.listParent.querySelector("."+xf)&&(document.activeElement.blur(),this.listParent.querySelector("."+xf).classList.remove(xf))},i.prototype.browseButtonClick=function(){this.element.click()},i.prototype.uploadButtonClick=function(){this.sequentialUpload?this.sequenceUpload(this.filesData):this.upload(this.filesData)},i.prototype.clearButtonClick=function(){this.clearAll(),this.sequentialUpload&&(this.count=-1),this.actionCompleteCount=0},i.prototype.bindDropEvents=function(){this.dropZoneElement&&(n.bi.add(this.dropZoneElement,"drop",this.dropElement,this),n.bi.add(this.dropZoneElement,"dragover",this.dragHover,this),n.bi.add(this.dropZoneElement,"dragleave",this.onDragLeave,this),n.bi.add(this.dropZoneElement,"paste",this.onPasteFile,this),n.bi.add(this.dropZoneElement,"dragenter",this.onDragEnter,this))},i.prototype.unBindDropEvents=function(){this.dropZoneElement&&(n.bi.remove(this.dropZoneElement,"drop",this.dropElement),n.bi.remove(this.dropZoneElement,"dragover",this.dragHover),n.bi.remove(this.dropZoneElement,"dragleave",this.onDragLeave),n.bi.remove(this.dropZoneElement,"dragenter",this.onDragEnter))},i.prototype.onDragEnter=function(e){this.enabled&&(this.dropZoneElement.classList.add(Cf),this.dragCounter=this.dragCounter+1,e.preventDefault(),e.stopPropagation())},i.prototype.onDragLeave=function(){this.enabled&&(this.dragCounter=this.dragCounter-1,this.dragCounter||this.dropZoneElement.classList.remove(Cf))},i.prototype.dragHover=function(e){this.enabled&&("Default"!==this.dropEffect&&(e.dataTransfer.dropEffect=this.dropEffect.toLowerCase()),e.preventDefault(),e.stopPropagation())},i.prototype.dropElement=function(e){this.dragCounter=0,this.dropZoneElement.classList.remove(Cf),this.onSelectFiles(e),e.preventDefault(),e.stopPropagation()},i.prototype.onPasteFile=function(e){var t=e.clipboardData.items;if("paste"===e.type&&"msie"!==this.browserName&&"edge"!==this.browserName&&"safari"!==this.browserName&&(this.element.files=e.clipboardData.files),1===t.length){var s=[].slice.call(t)[0];"file"===s.kind&&s.type.match("^image/")&&this.renderSelectedFiles(e,[s.getAsFile()],!1,!0)}},i.prototype.getSelectedFiles=function(e){for(var t=[],s=this.fileList[e],r=this.getFilesData(),o=+s.getAttribute("data-files-count"),a=0,d=0;d<e;d++)a+=+this.fileList[d].getAttribute("data-files-count");for(var c=a;c<a+o;c++)t.push(r[c]);return t},i.prototype.removeFiles=function(e){if(this.enabled){var s=this.fileList.indexOf(e.target.parentElement),r=this.fileList[s],o=this.isFormUpload(),a=o?this.getSelectedFiles(s):this.getFilesInArray(this.filesData[s]);if(!(0,n.le)(a)){if(e.target.classList.contains(ci)&&!o){if(a[0].statusCode="5",!(0,n.le)(r)){var d=r.querySelector("."+ci);Mn({target:d,width:"20px"}),us(d)}this.sequentialUpload&&this.uploadSequential(),r.classList.contains(kl)||this.checkActionComplete(!0)}else(0,n.oq)(e.target,"."+Gb)||this.remove(a,!1,!1,!0,e);this.checkActionButtonStatus()}}},i.prototype.removeFilesData=function(e,t){var s;if(t)this.showFileList||(s=this.filesData.indexOf(e),this.filesData.splice(s,1));else{var r=this.getLiElement(e);(0,n.le)(r)||(this.element.value="",(0,n.og)(r),s=this.fileList.indexOf(r),this.fileList.splice(s,1),this.filesData.splice(s,1),0===this.fileList.length&&!(0,n.le)(this.listParent)&&((0,n.og)(this.listParent),this.listParent=null,this.removeActionButtons()),this.sequentialUpload&&s<=this.count&&--this.count)}},i.prototype.removeUploadedFile=function(e,t,s,r){var o=this,a=e,d=new n.tk(this.asyncSettings.removeUrl,"POST",!0,null);d.emitError=!1;var c=new FormData;d.beforeSend=function(p){t.currentRequest=d.httpRequest,s?o.removingEventCallback(t,c,a,e):o.trigger("removing",t,function(u){u.cancel?p.cancel=!0:o.removingEventCallback(u,c,a,e)})},d.onLoad=function(p){return o.removeCompleted(p,a,r),{}},d.onError=function(p){return o.removeFailed(p,a,r),{}},d.send(c)},i.prototype.removingEventCallback=function(e,t,s,r){var o=this.element.getAttribute("name"),a=this.getLiElement(r);if(!((0,n.le)(a)||(0,n.le)(a.querySelector("."+Bs))&&(0,n.le)(a.querySelector("."+Bi)))){var d=a.querySelector("."+Bs)?a.querySelector("."+Bs):a.querySelector("."+Bi);Mn({target:d,width:"20px"}),us(d)}e.postRawFile&&!(0,n.le)(s.rawFile)&&""!==s.rawFile?t.append(o,s.rawFile,s.name):t.append(o,s.name),this.updateFormData(t,e.customFormData)},i.prototype.updateFormData=function(e,t){if(t.length>0&&t[0])for(var s=function(o){var a=t[o],d=Object.keys(a).map(function(c){return a[""+c]});e.append(Object.keys(a)[0],d)},r=0;r<t.length;r++)s(r)},i.prototype.updateCustomheader=function(e,t){if(t.length>0&&t[0])for(var s=function(o){var a=t[o],d=Object.keys(a).map(function(c){return a[""+c]});e.setRequestHeader(Object.keys(a)[0],d)},r=0;r<t.length;r++)s(r)},i.prototype.removeCompleted=function(e,t,s){var r=e&&e.currentTarget?this.getResponse(e):null,o=e.target;if(4===o.readyState&&o.status>=200&&o.status<=299){var a={e,response:r,operation:"remove",file:this.updateStatus(t,this.localizedTexts("removedSuccessMessage"),"2")};this.trigger("success",a),this.removeFilesData(t,s);var d=this.uploadedFilesData.indexOf(t);this.uploadedFilesData.splice(d,1),this.trigger("change",{files:this.uploadedFilesData})}else this.removeFailed(e,t,s)},i.prototype.removeFailed=function(e,t,s){var o={e,response:e&&e.currentTarget?this.getResponse(e):null,operation:"remove",file:this.updateStatus(t,this.localizedTexts("removedFailedMessage"),"0")};if(!s){var a=this.filesData.indexOf(t),d=this.fileList[a];if(d){d.classList.remove(hr),d.classList.add(Vs);var c=d.querySelector("."+bi);c&&(c.classList.remove(hr),c.classList.add(Vs))}this.checkActionButtonStatus()}this.trigger("failure",o);var p=this.getLiElement(t);(0,n.le)(p)||(0,n.le)(p.querySelector("."+Bs))||(Ji(p.querySelector("."+Bs)),(0,n.og)(p.querySelector(".e-spinner-pane")))},i.prototype.getFilesFromFolder=function(e){this.filesEntries=[];var t=this.multiple?e.dataTransfer.items:[e.dataTransfer.items[0]];if(this.checkDirectoryUpload(t))for(var r=function(d){var c=t[d].webkitGetAsEntry();if(c.isFile){var p=[];c.file(function(u){p.push({path:c.fullPath,file:u})}),o.renderSelectedFiles(e,p,!0)}else c.isDirectory&&o.traverseFileTree(c,e)},o=this,a=0;a<t.length;a++)r(a)},i.prototype.checkDirectoryUpload=function(e){for(var t=0;e&&t<e.length;t++)if(e[t].webkitGetAsEntry().isDirectory)return!0;return!1},i.prototype.traverseFileTree=function(e,t){if(e.isFile)this.filesEntries.push(e);else if(e.isDirectory){var s=e.createReader();this.readFileFromDirectory(s,t)}},i.prototype.readFileFromDirectory=function(e,t){var s=this;e.readEntries(function(r){for(var o=0;o<r.length;o++)s.traverseFileTree(r[o],t);s.pushFilesEntries(t),r.length&&s.readFileFromDirectory(e)})},i.prototype.pushFilesEntries=function(e){for(var t=this,s=[],r=function(d){o.filesEntries[d].file(function(c){t.filesEntries.length&&(s.push({path:t.filesEntries[d].fullPath,file:c}),d===t.filesEntries.length-1&&(t.filesEntries=[],t.renderSelectedFiles(e,s,!0)))})},o=this,a=0;a<this.filesEntries.length;a++)r(a)},i.prototype.onSelectFiles=function(e){if(this.enabled){var t;if("drop"===e.type)if(this.directoryUpload)this.getFilesFromFolder(e);else{var s=this.sortFilesList=e.dataTransfer.files;"msie"!==this.browserName&&"edge"!==this.browserName&&"safari"!==this.browserName&&(this.element.files=s),s.length>0&&(t=this.multiple?this.sortFileList(s):[s[0]],this.renderSelectedFiles(e,t))}else t=[].slice.call(e.target.files),this.renderSelectedFiles(e,t);(this.isAngular||this.isReact)&&e.stopPropagation()}},i.prototype.getBase64=function(e){return new Promise(function(t,s){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(o){return s(o)}})},i.prototype.renderSelectedFiles=function(e,t,s,r){var o=this;this.base64String=[];var a={event:e,cancel:!1,filesData:[],isModified:!1,modifiedFilesData:[],progressInterval:"",isCanceled:!1,currentRequest:null,customFormData:null};if(t.length<1)return a.isCanceled=!0,void this.trigger("selected",a);this.flag=!0;var d=[];this.multiple||(this.clearData(!0),this.actionCompleteCount=0,t=[t[0]]);for(var c=0;c<t.length;c++)this.updateInitialFileDetails(e,t,s?t[c].file:t[c],c,d,s,r);if(a.filesData=d,this.allowedExtensions.indexOf("*")>-1&&(this.allTypes=!0),this.enableHtmlSanitizer)for(c=0;c<d.length;c++){for(var u=n.pJ.beforeSanitize(),f=n.pJ.serializeValue(u,d[parseInt(c.toString())].name),v=d[parseInt(c.toString())].name,g=!1,b=0;b<v.length;b++)if(v.charCodeAt(b)>127){g=!0;break}var T=/<([a-z][a-z0-9]*)\b[^>]*>(.*?)<\/\1>/i.test(v);if(f!==d[parseInt(c.toString())].name&&(!g||T)){var O=t[parseInt(c.toString())].name.replace(/[\u00A0-\u9999<>\&]/g,function(Y){return"&#"+Y.charCodeAt(0)+";"});d[parseInt(c.toString())].name=O,d[parseInt(c.toString())].status=this.localizedTexts("invalidFileName"),d[parseInt(c.toString())].statusCode="0"}}this.allTypes||(d=this.checkExtension(d)),this.trigger("selected",a,function(j){o._internalRenderSelect(j,d)})},i.prototype.updateInitialFileDetails=function(e,t,s,r,o,a,d){var p={name:a?t[r].path.substring(1,t[r].path.length):d?(0,n.QI)(s.name.substring(0,s.name.lastIndexOf(".")))+"."+this.getFileType(s.name):this.directoryUpload?t[r].webkitRelativePath:s.name,rawFile:s,size:s.size,status:this.localizedTexts("readyToUploadMessage"),type:this.getFileType(s.name),validationMessages:this.validatedFileSize(s.size),statusCode:"1",id:(0,n.QI)(s.name.substring(0,s.name.lastIndexOf(".")))+"."+this.getFileType(s.name)};d&&(p.fileSource="paste"),p.status=""!==p.validationMessages.minSize?this.localizedTexts("invalidMinFileSize"):""!==p.validationMessages.maxSize?this.localizedTexts("invalidMaxFileSize"):p.status,(""!==p.validationMessages.minSize||""!==p.validationMessages.maxSize)&&(p.statusCode="0"),o.push(p)},i.prototype._internalRenderSelect=function(e,t){if(!e.cancel){if(this.selectedFiles=this.selectedFiles.concat(t),this.btnTabIndex=this.disableKeyboardNavigation?"-1":"0",this.showFileList){if(e.isModified&&e.modifiedFilesData.length>0){for(var s=0;s<e.modifiedFilesData.length;s++)for(var r=0;r<t.length;r++)e.modifiedFilesData[s].id===t[r].id&&(e.modifiedFilesData[s].rawFile=t[r].rawFile);var o=this.allTypes?e.modifiedFilesData:this.checkExtension(e.modifiedFilesData);this.updateSortedFileList(o),this.filesData=this.filesData.concat(o),(!this.isForm||this.allowUpload())&&this.checkAutoUpload(o)}else{if(this.internalCreateFileList(t),this.autoUpload&&this.sequenceUpload&&this.sequentialUpload&&this.filesData.length>0&&"2"!==this.filesData[this.filesData.length-1].statusCode&&"0"!==this.filesData[this.filesData.length-1].statusCode)return void(this.filesData=this.filesData.concat(t));this.filesData=this.filesData.concat(t),(!this.isForm||this.allowUpload())&&this.checkAutoUpload(t)}!(0,n.le)(e.progressInterval)&&""!==e.progressInterval&&(this.progressInterval=e.progressInterval)}else this.filesData=this.filesData.concat(t),this.autoUpload&&this.upload(this.filesData,!0);for(var a=0;a<this.filesData.length;a++)"0"===this.filesData[a].statusCode&&this.checkActionComplete(!0);this.isFirstFileOnSelection=!0}},i.prototype.allowUpload=function(){var e=!1;return this.isForm&&!(0,n.le)(this.asyncSettings.saveUrl)&&""!==this.asyncSettings.saveUrl&&(e=!0),e},i.prototype.isFormUpload=function(){var e=!1;return this.isForm&&((0,n.le)(this.asyncSettings.saveUrl)||""===this.asyncSettings.saveUrl)&&((0,n.le)(this.asyncSettings.removeUrl)||""===this.asyncSettings.removeUrl)&&(e=!0),e},i.prototype.clearData=function(e){(0,n.le)(this.listParent)||((0,n.og)(this.listParent),this.listParent=null),"msie"!==this.browserName&&!e&&(this.element.value=""),this.fileList=[],this.filesData=[],this.removeActionButtons()},i.prototype.updateSortedFileList=function(e){var t=this.createElement("div",{id:"clonewrapper"}),s=-1;if(this.listParent){for(var r=0;r<this.listParent.querySelectorAll("li").length;r++){var o=this.listParent.querySelectorAll("li")[r];t.appendChild(o.cloneNode(!0))}this.removeActionButtons();var a=[].slice.call(t.childNodes);this.createParentUL();for(var d=0;d<e.length;d++){for(var c=0;c<this.filesData.length;c++)this.filesData[c].name===e[d].name&&(this.listParent.appendChild(a[c]),n.bi.add(a[c].querySelector(".e-icons"),"click",this.removeFiles,this),this.fileList.push(a[c]),s=d);s!==d&&this.internalCreateFileList([e[d]])}}else this.internalCreateFileList(e)},i.prototype.isBlank=function(e){return!e||/^\s*$/.test(e)},i.prototype.checkExtension=function(e){var t=e;if(!this.isBlank(this.allowedExtensions)){for(var s=[],o=0,a=this.allowedExtensions.split(",");o<a.length;o++)s.push(a[o].trim().toLocaleLowerCase());for(var c=0;c<e.length;c++)-1===s.indexOf(("."+e[c].type).toLocaleLowerCase())&&(e[c].status=this.localizedTexts("invalidFileType"),e[c].statusCode="0")}return t},i.prototype.validatedFileSize=function(e){var t="",s="";return e<this.minFileSize?t=this.localizedTexts("invalidMinFileSize"):e>this.maxFileSize?s=this.localizedTexts("invalidMaxFileSize"):(t="",s=""),{minSize:t,maxSize:s}},i.prototype.isPreLoadFile=function(e){for(var t=!1,s=0;s<this.files.length;s++)this.files[s].name===e.name.slice(0,e.name.lastIndexOf("."))&&this.files[s].type===e.type&&(t=!0);return t},i.prototype.createCustomfileList=function(e){this.createParentUL();for(var t=0,s=e;t<s.length;t++){var r=s[t],o=this.createElement("li",{className:Md,attrs:{"data-file-name":r.name}});this.uploadTemplateFn=this.templateComplier(this.template);var a=this.uploadTemplateFn(r,this,"template",this.element.id+"Template",this.isStringTemplate,null,o);if(a){var d=[].slice.call(a);(0,n.R3)(d,o)}var c=e.indexOf(r),p={element:o,fileInfo:r,index:c,isPreload:this.isPreLoadFile(r)},u={element:o,fileInfo:r,index:c,isPreload:this.isPreLoadFile(r)};this.trigger("rendering",p),this.trigger("fileListRendering",u),this.listParent.appendChild(o),this.fileList.push(o)}this.renderReactTemplates()},i.prototype.createParentUL=function(){(0,n.le)(this.listParent)&&(this.listParent=this.createElement("ul",{className:Zb}),this.uploadWrapper.appendChild(this.listParent))},i.prototype.formFileList=function(e,t){var s=this.createElement("li",{className:Md});s.setAttribute("data-files-count",e.length+"");for(var o,r=this.createElement("span",{className:wf}),a=0,d=e;a<d.length;a++){var c=d[a],p=this.createElement("span",{className:Ub});p.innerHTML=this.getFileNameOnly(c.name);var u=this.createElement("span",{className:Xb}),f=this.getFileType(c.name);if(u.innerHTML="."+f,f||u.classList.add("e-hidden"),this.enableRtl){var v=this.createElement("span",{className:Kb});v.appendChild(u),v.appendChild(p),r.appendChild(v)}else r.appendChild(p),r.appendChild(u);this.truncateName(p),o=this.formValidateFileInfo(c,s)}s.appendChild(r),this.setListToFileInfo(e,s);var g=this.listParent.querySelectorAll("li").length,b=this.createElement("span");if(s.classList.contains(Ll)?(b.classList.add(bi),b.classList.add(Ll),b.innerText=e.length>1?this.localizedTexts("invalidFileSelection"):o):(b.classList.add(e.length>1?"e-file-information":Jb),b.innerText=e.length>1?this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):this.bytesToSize(e[0].size),this.createFormInput(e)),r.appendChild(b),(0,n.le)(s.querySelector(".e-icons"))){var C=this.createElement("span",{className:"e-icons",attrs:{tabindex:this.btnTabIndex}});"msie"===this.browserName&&C.classList.add("e-msie"),C.setAttribute("title",this.localizedTexts("remove")),s.appendChild(r),s.appendChild(C),n.bi.add(C,"click",this.removeFiles,this),C.classList.add(Bi)}var T={element:s,fileInfo:this.mergeFileInfo(e,s),index:g,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,s))},O={element:s,fileInfo:this.mergeFileInfo(e,s),index:g,isPreload:this.isPreLoadFile(this.mergeFileInfo(e,s))};this.trigger("rendering",T),this.trigger("fileListRendering",O),this.listParent.appendChild(s),this.fileList.push(s)},i.prototype.formValidateFileInfo=function(e,t){var s=e.status,r=this.validatedFileSize(e.size);(""!==r.minSize||""!==r.maxSize)&&(this.addInvalidClass(t),s=""!==r.minSize?this.localizedTexts("invalidMinFileSize"):""!==r.maxSize?this.localizedTexts("invalidMaxFileSize"):s);var o=this.checkExtension(this.getFilesInArray(e))[0].status;return o===this.localizedTexts("invalidFileType")&&(this.addInvalidClass(t),s=o),s},i.prototype.addInvalidClass=function(e){e.classList.add(Ll)},i.prototype.createFormInput=function(e){if("safari"!==this.browserName){var t=this.element.cloneNode(!0);t.classList.add("e-hidden-file-input");for(var s=0,r=e;s<r.length;s++)r[s].input=t;t.setAttribute("id",(0,n.QI)("hiddenUploader")),t.setAttribute("name",this.uploaderName),this.uploadWrapper.querySelector("."+Wb).appendChild(t),"msie"!==this.browserName&&"edge"!==this.browserName&&(this.element.value="")}},i.prototype.getFileSize=function(e){for(var t=0,s=0,r=e;s<r.length;s++)t+=r[s].size;return t},i.prototype.mergeFileInfo=function(e,t){for(var s={name:"",rawFile:"",size:0,status:"",type:"",validationMessages:{minSize:"",maxSize:""},statusCode:"1",list:t},r=[],o="",a=0,d=e;a<d.length;a++){var c=d[a];r.push(c.name),o=c.type}return s.name=r.join(", "),s.size=this.getFileSize(e),s.type=o,s.status=this.statusForFormUpload(e,t),s},i.prototype.statusForFormUpload=function(e,t){for(var r,s=!0,o=0,a=e;o<a.length;o++){var d=a[o];r=d.status;var c=this.validatedFileSize(d.size);(""!==c.minSize||""!==c.maxSize)&&(s=!1,r=""!==c.minSize?this.localizedTexts("invalidMinFileSize"):""!==c.maxSize?this.localizedTexts("invalidMaxFileSize"):r);var p=this.checkExtension(this.getFilesInArray(d))[0].status;p===this.localizedTexts("invalidFileType")&&(s=!1,r=p)}return s?r=this.localizedTexts("totalFiles")+": "+e.length+" , "+this.localizedTexts("size")+": "+this.bytesToSize(this.getFileSize(e)):(t.classList.add(Ll),r=e.length>1?this.localizedTexts("invalidFileSelection"):r),r},i.prototype.formCustomFileList=function(e,t){this.createParentUL();var s=this.createElement("li",{className:Md});s.setAttribute("data-files-count",e.length+""),this.setListToFileInfo(e,s);var r=this.mergeFileInfo(e,s);s.setAttribute("data-file-name",r.name),this.uploadTemplateFn=this.templateComplier(this.template);var o=this.uploadTemplateFn(r,this,"template",this.element.id+"Template",this.isStringTemplate,null,s);if(o){var a=[].slice.call(o);(0,n.R3)(a,s)}var d=this.listParent.querySelectorAll("li").length;s.classList.contains(Ll)||this.createFormInput(e);var c={element:s,fileInfo:r,index:d,isPreload:this.isPreLoadFile(r)},p={element:s,fileInfo:r,index:d,isPreload:this.isPreLoadFile(r)};this.trigger("rendering",c),this.trigger("fileListRendering",p),this.listParent.appendChild(s),this.fileList.push(s),this.renderReactTemplates()},i.prototype.createFileList=function(e){this.filesData=this.filesData&&this.filesData.length>0?this.filesData.concat(e):e,this.internalCreateFileList(e)},i.prototype.internalCreateFileList=function(e){if(this.createParentUL(),""===this.template||(0,n.le)(this.template))if(this.isFormUpload())this.uploadWrapper.classList.add(t0),this.formFileList(e,this.element.files);else for(var t=0,s=e;t<s.length;t++){var r=s[t],o=this.createElement("li",{className:Md,attrs:{"data-file-name":r.name,"data-files-count":"1"}}),a=this.createElement("span",{className:wf}),d=this.createElement("span",{className:Ub,attrs:{title:r.name}});d.innerHTML=this.getFileNameOnly(r.name);var c=this.createElement("span",{className:Xb}),p=this.getFileType(r.name);if(c.innerHTML="."+p,p||c.classList.add("e-hidden"),this.enableRtl){var u=this.createElement("span",{className:Kb});u.appendChild(c),u.appendChild(d),a.appendChild(u)}else a.appendChild(d),a.appendChild(c);var f=this.createElement("span",{className:Jb});f.innerHTML=this.bytesToSize(r.size),a.appendChild(f);var v=this.createElement("span",{className:bi});a.appendChild(v),v.innerHTML=r.status,o.appendChild(a);var g=this.createElement("span",{className:" e-icons",attrs:{tabindex:this.btnTabIndex}});"msie"===this.browserName&&g.classList.add("e-msie"),g.setAttribute("title",this.localizedTexts("remove")),o.appendChild(g),n.bi.add(g,"click",this.removeFiles,this),"2"===r.statusCode?(v.classList.add(hr),g.classList.add(Bs),g.setAttribute("title",this.localizedTexts("delete"))):"1"!==r.statusCode&&(v.classList.remove(hr),v.classList.add(Qb)),this.autoUpload&&"1"===r.statusCode&&""!==this.asyncSettings.saveUrl&&(v.innerHTML=""),g.classList.contains(Bs)||g.classList.add(Bi);var b=e.indexOf(r),C={element:o,fileInfo:r,index:b,isPreload:this.isPreLoadFile(r)},T={element:o,fileInfo:r,index:b,isPreload:this.isPreLoadFile(r)};this.trigger("rendering",C),this.trigger("fileListRendering",T),this.listParent.appendChild(o),this.fileList.push(o),this.truncateName(d);var O=this.flag;this.isPreLoadFile(r)&&(this.flag=!1,this.checkActionComplete(!0),this.flag=O)}else this.isFormUpload()?(this.uploadWrapper.classList.add(t0),this.formCustomFileList(e,this.element.files)):this.createCustomfileList(e)},i.prototype.getSlicedName=function(e){var t=e.textContent;e.dataset.tail=t.slice(t.length-10)},i.prototype.setListToFileInfo=function(e,t){for(var s=0,r=e;s<r.length;s++)r[s].list=t},i.prototype.truncateName=function(e){("edge"!==this.browserName&&e.offsetWidth<e.scrollWidth||e.offsetWidth+1<e.scrollWidth)&&this.getSlicedName(e)},i.prototype.getFileType=function(e){var t,s=e.lastIndexOf(".");return s>=0&&(t=e.substring(s+1)),t||""},i.prototype.getFileNameOnly=function(e){var t=this.getFileType(e);return e.split("."+t)[0]},i.prototype.setInitialAttributes=function(){if(this.initialAttr.accept&&this.element.setAttribute("accept",this.initialAttr.accept),this.initialAttr.disabled&&this.element.setAttribute("disabled","disabled"),this.initialAttr.multiple){var e=document.createAttribute("multiple");this.element.setAttributeNode(e)}},i.prototype.filterfileList=function(e){for(var t=[],r=0;r<e.length;r++)this.getLiElement(e[r]).classList.contains(hr)||t.push(e[r]);return t},i.prototype.updateStatus=function(e,t,s,r){if(void 0===r&&(r=!0),!(""===t||(0,n.le)(t))&&!(""===s||(0,n.le)(s))&&(e.status=t,e.statusCode=s),r){var o=this.getLiElement(e);(0,n.le)(o)||!(0,n.le)(o.querySelector("."+bi))&&""!==t&&!(0,n.le)(t)&&(o.querySelector("."+bi).textContent=t)}return e},i.prototype.getLiElement=function(e){for(var t,s=0;s<this.filesData.length;s++)!(0,n.le)(e)&&((0,n.le)(this.filesData[s].id)||(0,n.le)(e.id)?this.filesData[s].name===e.name:this.filesData[s].name===e.name&&this.filesData[s].id===e.id)&&(t=s);return this.fileList[t]},i.prototype.createProgressBar=function(e){var t=this.createElement("span",{className:fo}),s=this.createElement("progressbar",{className:Ad,attrs:{value:"0",max:"100"}}),r=this.createElement("span",{className:"e-progress-inner-wrap"});s.setAttribute("style","width: 0%");var o=this.createElement("span",{className:_f});o.textContent="0%",r.appendChild(s),t.appendChild(r),t.appendChild(o),e.querySelector("."+wf).appendChild(t)},i.prototype.updateProgressbar=function(e,t){if(!isNaN(Math.round(e.loaded/e.total*100))&&!(0,n.le)(t.querySelector("."+Ad)))if((0,n.le)(this.progressInterval)||""===this.progressInterval)this.changeProgressValue(t,Math.round(e.loaded/e.total*100).toString()+"%");else{var s=Math.round(e.loaded/e.total*100)%parseInt(this.progressInterval,10);(0===s||100===s)&&this.changeProgressValue(t,Math.round(e.loaded/e.total*100).toString()+"%")}},i.prototype.changeProgressValue=function(e,t){e.querySelector("."+Ad).setAttribute("style","width:"+t),e.querySelector("."+_f).textContent=t},i.prototype.uploadInProgress=function(e,t,s,r){var o=this.getLiElement(t);if(!(0,n.le)(o)||s){if((0,n.le)(o))this.cancelUploadingFile(t,e,r);else{"5"===t.statusCode&&this.cancelUploadingFile(t,e,r,o),!(o.querySelectorAll("."+fo).length>0)&&o.querySelector("."+bi)&&(o.querySelector("."+bi).classList.add(zs),this.createProgressBar(o),this.updateProgressBarClasses(o,zs),o.querySelector("."+bi).classList.remove(Vs)),this.updateProgressbar(e,o);var a=o.querySelector("."+Bi);(0,n.le)(a)||(a.classList.add(ci,zs),a.setAttribute("title",this.localizedTexts("abort")),a.classList.remove(Bi))}var d={e,operation:"upload",file:this.updateStatus(t,this.localizedTexts("inProgress"),"3")};this.trigger("progress",d)}},i.prototype.cancelUploadingFile=function(e,t,s,r){var o=this;"5"===e.statusCode&&this.trigger("canceling",{event:t,fileData:e,cancel:!1,customFormData:[],currentRequest:null},function(d){if(d.cancel){if(e.statusCode="3",!(0,n.le)(r)){var c=r.querySelector("."+ci);(0,n.le)(c)||(Ji(c),(0,n.og)(r.querySelector(".e-spinner-pane")))}}else{s.emitError=!1,s.httpRequest.abort();var p=new FormData;if("5"===e.statusCode){var u=o.element.getAttribute("name");p.append(u,e.name),p.append("cancel-uploading",e.name),o.updateFormData(p,d.customFormData);var f=new n.tk(o.asyncSettings.removeUrl,"POST",!0,null);f.emitError=!1,f.beforeSend=function(v){d.currentRequest&&o.updateCustomheader(f.httpRequest,d.currentRequest)},f.onLoad=function(v){return o.removecanceledFile(v,e),{}},f.send(p)}}})},i.prototype.removecanceledFile=function(e,t){var s=this.getLiElement(t);if(!((0,n.le)(s)||s.querySelector("."+Dr)||(0,n.le)(s.querySelector("."+ci)))){this.updateStatus(t,this.localizedTexts("fileUploadCancel"),"5"),this.renderFailureState(e,t,s);var r=s.querySelector("."+Bi);(0,n.le)(s)||(Ji(r),(0,n.le)(s.querySelector(".e-spinner-pane"))||(0,n.og)(s.querySelector(".e-spinner-pane")));var o=e&&e.currentTarget?this.getResponse(e):null;this.trigger("success",{event:e,response:o,operation:"cancel",file:t})}},i.prototype.renderFailureState=function(e,t,s){var r=this;this.updateProgressBarClasses(s,Vs),this.removeProgressbar(s,"failure"),(0,n.le)(s.querySelector(".e-file-status"))||s.querySelector(".e-file-status").classList.add(Vs);var o=s.querySelector("."+ci);(0,n.le)(o)||(o.classList.remove(ci,zs),o.classList.add(Bi),o.setAttribute("title",this.localizedTexts("remove")),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}}),o.parentElement.insertBefore(this.pauseButton,o),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),s.querySelector("."+Dr).addEventListener("click",function(d){r.reloadcanceledFile(d,t,s,!1)},!1))},i.prototype.reloadcanceledFile=function(e,t,s,r){t.statusCode="1",t.status=this.localizedTexts("readyToUploadMessage"),r||((0,n.le)(s.querySelector("."+bi))||s.querySelector("."+bi).classList.remove(Vs),(0,n.le)(s.querySelector("."+Dr))||(0,n.og)(s.querySelector("."+Dr)),this.pauseButton=null),(0,n.le)(s)||s.classList.add(kl),this.upload([t])},i.prototype.uploadComplete=function(e,t,s){var r=e.target;if(4===r.readyState&&r.status>=200&&r.status<=299){var o=this.getLiElement(t);if((0,n.le)(o)&&(!s||(0,n.le)(s)))return;if(!(0,n.le)(o)){this.updateProgressBarClasses(o,hr),this.removeProgressbar(o,"success");var a=o.querySelector("."+ci);(0,n.le)(a)||(a.classList.add(Bs),a.setAttribute("title",this.localizedTexts("delete")),a.classList.remove(ci),a.classList.remove(zs))}this.raiseSuccessEvent(e,t)}else this.uploadFailed(e,t)},i.prototype.getResponse=function(e){var t=e.currentTarget;return{readyState:t.readyState,statusCode:t.status,statusText:t.statusText,headers:t.getAllResponseHeaders(),withCredentials:t.withCredentials}},i.prototype.raiseSuccessEvent=function(e,t){var s=this,r=e&&e.currentTarget?this.getResponse(e):null,o=this.localizedTexts("uploadSuccessMessage"),a={e,response:r,operation:"upload",file:this.updateStatus(t,o,"2",!1),statusText:o},d=this.getLiElement(t);if(!(0,n.le)(d)){var c=d.querySelector("."+Gb);(0,n.le)(c)||(Ji(d),(0,n.og)(c))}this.trigger("success",a,function(p){s.updateStatus(t,p.statusText,"2"),s.uploadedFilesData.push(t),s.trigger("change",{file:s.uploadedFilesData}),s.checkActionButtonStatus(),s.fileList.length>0&&(s.getLiElement(t).classList.contains(kl)?s.getLiElement(t).classList.remove(kl):(s.uploadSequential(),s.checkActionComplete(!0)))})},i.prototype.uploadFailed=function(e,t){var s=this,r=this.getLiElement(t),o=e&&e.currentTarget?this.getResponse(e):null,a=this.localizedTexts("uploadFailedMessage"),d={e,response:o,operation:"upload",file:this.updateStatus(t,a,"0",!1),statusText:a};(0,n.le)(r)||this.renderFailureState(e,t,r),this.trigger("failure",d,function(c){s.updateStatus(t,c.statusText,"0"),s.checkActionButtonStatus(),s.uploadSequential(),s.checkActionComplete(!0)})},i.prototype.uploadSequential=function(){this.sequentialUpload&&(this.autoUpload?this.checkAutoUpload(this.filesData):this.uploadButtonClick())},i.prototype.checkActionComplete=function(e){e?++this.actionCompleteCount:--this.actionCompleteCount,this.raiseActionComplete()},i.prototype.raiseActionComplete=function(){if(this.filesData.length===this.actionCompleteCount&&this.flag){this.flag=!1;var e={fileData:[]};e.fileData=this.getSelectedFileStatus(this.selectedFiles),this.trigger("actionComplete",e)}},i.prototype.getSelectedFileStatus=function(e){for(var t=[],s=0,r=0;r<e.length;r++)for(var o=e[r],a=0;a<this.filesData.length;a++)this.filesData[a].name===o.name&&this.filesData[a].status===o.status&&(t[s]=this.filesData[a],++s);return t},i.prototype.updateProgressBarClasses=function(e,t){var s=e.querySelector("."+Ad);(0,n.le)(s)||s.classList.add(t)},i.prototype.removeProgressbar=function(e,t){var s=this;(0,n.le)(e.querySelector("."+fo))||(this.progressAnimation=new n.fw({duration:1250}),this.progressAnimation.animate(e.querySelector("."+fo),{name:"FadeOut"}),this.progressAnimation.animate(e.querySelector("."+_f),{name:"FadeOut"}),setTimeout(function(){s.animateProgressBar(e,t)},750))},i.prototype.animateProgressBar=function(e,t){"success"===t?(e.classList.add(hr),(0,n.le)(e.querySelector("."+bi))||(e.querySelector("."+bi).classList.remove(zs),this.progressAnimation.animate(e.querySelector("."+bi),{name:"FadeIn"}),e.querySelector("."+bi).classList.add(hr))):(0,n.le)(e.querySelector("."+bi))||(e.querySelector("."+bi).classList.remove(zs),this.progressAnimation.animate(e.querySelector("."+bi),{name:"FadeIn"}),e.querySelector("."+bi).classList.add(Vs)),e.querySelector("."+fo)&&(0,n.og)(e.querySelector("."+fo))},i.prototype.setExtensions=function(e){""===e||(0,n.le)(e)?this.element.removeAttribute("accept"):this.element.setAttribute("accept",e)},i.prototype.templateComplier=function(e){if(e)try{return"function"!=typeof e&&(0,n.td)(e,document).length?(0,n.MY)((0,n.Ys)(e,document).innerHTML.trim()):(0,n.MY)(e)}catch{return(0,n.MY)(e)}},i.prototype.setRTL=function(){this.enableRtl?(0,n.cn)([this.uploadWrapper],"e-rtl"):(0,n.IV)([this.uploadWrapper],"e-rtl")},i.prototype.localizedTexts=function(e){return this.l10n.setLocale(this.locale),this.l10n.getConstant(e)},i.prototype.setControlStatus=function(){this.enabled?(this.uploadWrapper.classList.contains(Sf)&&this.uploadWrapper.classList.remove(Sf),!(0,n.le)(this.browseButton)&&this.element.hasAttribute("disabled")&&(this.element.removeAttribute("disabled"),this.browseButton.removeAttribute("disabled")),!(0,n.le)(this.clearButton)&&this.clearButton.hasAttribute("disabled")&&this.clearButton.removeAttribute("disabled"),!(0,n.le)(this.uploadButton)&&this.uploadButton.hasAttribute("disabled")&&this.uploadButton.hasAttribute("disabled")):(this.uploadWrapper.classList.add(Sf),this.element.setAttribute("disabled","disabled"),this.browseButton.setAttribute("disabled","disabled"),(0,n.le)(this.clearButton)||this.clearButton.setAttribute("disabled","disabled"),(0,n.le)(this.uploadButton)||this.uploadButton.setAttribute("disabled","disabled"))},i.prototype.checkHTMLAttributes=function(e){for(var s=0,r=e?(0,n.le)(this.htmlAttributes)?[]:Object.keys(this.htmlAttributes):["accept","multiple","disabled"];s<r.length;s++){var o=r[s];if(!(0,n.le)(this.element.getAttribute(o)))switch(o){case"accept":((0,n.le)(this.uploaderOptions)||void 0===this.uploaderOptions.allowedExtensions||e)&&(this.setProperties({allowedExtensions:this.element.getAttribute("accept")},!e),this.initialAttr.accept=this.allowedExtensions);break;case"multiple":if((0,n.le)(this.uploaderOptions)||void 0===this.uploaderOptions.multiple||e){var a="multiple"===this.element.getAttribute(o)||""===this.element.getAttribute(o)||"true"===this.element.getAttribute(o);this.setProperties({multiple:a},!e),this.initialAttr.multiple=!0}break;case"disabled":if((0,n.le)(this.uploaderOptions)||void 0===this.uploaderOptions.enabled||e){var d=!("disabled"===this.element.getAttribute(o)||""===this.element.getAttribute(o)||"true"===this.element.getAttribute(o));this.setProperties({enabled:d},!e),this.initialAttr.disabled=!0}}}},i.prototype.chunkUpload=function(e,t,s){var o=Math.min(this.asyncSettings.chunkSize,e.size),d=e.rawFile.slice(0,o);this.sendRequest(e,{chunkIndex:0,blob:d,file:e,start:0,end:o,retryCount:0,request:null},t,s)},i.prototype.sendRequest=function(e,t,s,r){var o=this,a=new FormData,d=e.rawFile.slice(t.start,t.end);a.append(this.uploaderName,d,e.name),a.append("chunk-index",t.chunkIndex.toString()),a.append("chunkIndex",t.chunkIndex.toString());var c=Math.max(Math.ceil(e.size/this.asyncSettings.chunkSize),1);a.append("total-chunk",c.toString()),a.append("totalChunk",c.toString());var p=new n.tk({url:this.asyncSettings.saveUrl,type:"POST",async:!0,contentType:null});p.emitError=!1,p.onLoad=function(f){return o.chunkUploadComplete(f,t,s),{}},p.onUploadProgress=function(f){return o.chunkUploadInProgress(f,t,s),{}};var u={fileData:e,customFormData:[],cancel:!1,chunkSize:0===this.asyncSettings.chunkSize?null:this.asyncSettings.chunkSize};p.beforeSend=function(f){u.currentRequest=p.httpRequest,u.currentChunkIndex=t.chunkIndex,o.trigger(0===u.currentChunkIndex?"uploading":"chunkUploading",u,function(v){o.uploadingEventCallback(a,v,f,e)})},p.onError=function(f){return o.chunkUploadFailed(f,t,s),{}},p.send(a),t.request=p},i.prototype.uploadingEventCallback=function(e,t,s,r){t.cancel?this.eventCancelByArgs(s,t,r):this.updateFormData(e,t.customFormData)},i.prototype.eventCancelByArgs=function(e,t,s){var r=this;if(e.cancel=!0,"5"!==t.fileData.statusCode){t.fileData.statusCode="5",t.fileData.status=this.localizedTexts("fileUploadCancel");var o=this.getLiElement(t.fileData);if(o){(0,n.le)(o.querySelector("."+bi))||(o.querySelector("."+bi).innerHTML=this.localizedTexts("fileUploadCancel"),o.querySelector("."+bi).classList.add(Vs)),this.pauseButton=this.createElement("span",{className:"e-icons e-file-reload-btn",attrs:{tabindex:this.btnTabIndex}});var a=o.querySelector("."+Bi);a&&a.parentElement.insertBefore(this.pauseButton,a),this.pauseButton.setAttribute("title",this.localizedTexts("retry")),this.pauseButton.addEventListener("click",function(d){r.reloadcanceledFile(d,s,o)},!1),this.checkActionButtonStatus()}}},i.prototype.checkChunkUpload=function(){return!(this.asyncSettings.chunkSize<=0||(0,n.le)(this.asyncSettings.chunkSize))},i.prototype.chunkUploadComplete=function(e,t,s){var a,r=this,o=e.target;if(4===o.readyState&&o.status>=200&&o.status<300){var d=e&&e.currentTarget?this.getResponse(e):null,c=Math.max(Math.ceil(t.file.size/this.asyncSettings.chunkSize),1);if(this.trigger("chunkSuccess",{event:e,file:t.file,chunkIndex:t.chunkIndex,totalChunk:c,chunkSize:this.asyncSettings.chunkSize,response:d}),((0,n.le)(s)||!s)&&(a=this.getLiElement(t.file)),this.updateMetaData(t),t.end===t.file.size&&(t.file.statusCode="3"),"5"===t.file.statusCode)this.trigger("canceling",{event:e,fileData:t.file,cancel:!1,customFormData:[]},function(v){if(v.cancel){t.file.statusCode="3";var g=a.querySelector("."+ci);!(0,n.le)(a)&&!(0,n.le)(g)&&(Ji(g),(0,n.og)(a.querySelector(".e-spinner-pane"))),r.sendNextRequest(t)}else{t.request.emitError=!1,o.abort();var b=new FormData,C=r.element.getAttribute("name");b.append(C,t.file.name),b.append("cancel-uploading",t.file.name),b.append("cancelUploading",t.file.name),r.updateFormData(b,v.customFormData);var T=new n.tk(r.asyncSettings.removeUrl,"POST",!0,null);T.emitError=!1,T.onLoad=function(O){return r.removeChunkFile(O,t,s),{}},T.send(b)}});else{if(c-1===t.chunkIndex&&c>t.chunkIndex){var f=this.pausedData.indexOf(t);return f>=0&&this.pausedData.splice(f,1),(0,n.le)(this.template)&&((0,n.le)(s)||!s)&&a&&(a&&!(0,n.le)(a.querySelector("."+ss))&&(0,n.og)(a.querySelector("."+ss)),this.removeChunkProgressBar(t)),void this.raiseSuccessEvent(e,t.file)}"4"!==t.file.statusCode&&this.sendNextRequest(t)}}else this.chunkUploadFailed(e,t)},i.prototype.sendNextRequest=function(e){e.start=e.end,e.end+=this.asyncSettings.chunkSize,e.end=Math.min(e.end,e.file.size),e.chunkIndex+=1,this.sendRequest(e.file,e)},i.prototype.removeChunkFile=function(e,t,s){if((0,n.le)(this.template)&&(0,n.le)(s)&&!s){var r=this.getLiElement(t.file),o=r.querySelector("."+ci),a=o;this.updateStatus(t.file,this.localizedTexts("fileUploadCancel"),"5"),this.updateProgressBarClasses(r,Vs),this.removeProgressbar(r,"failure"),o&&o.classList.remove(ci),o&&o.classList.add(Bi),o&&o.setAttribute("title",this.localizedTexts("remove"));var d=r.querySelector("."+ss);d&&d.classList.add(Dr),d&&d.classList.remove(ss),d&&d.setAttribute("title",this.localizedTexts("retry")),!(0,n.le)(r)&&!(0,n.le)(o)&&!(0,n.le)(r.querySelector(".e-spinner-pane"))&&(Ji(a),(0,n.og)(r.querySelector(".e-spinner-pane")))}},i.prototype.pauseUpload=function(e,t,s){e.file.statusCode="4",e.file.status=this.localizedTexts("pause"),this.updateMetaData(e);var r={event:t||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.abortUpload(e,s,r)},i.prototype.abortUpload=function(e,t,s){"4"!==e.file.statusCode&&(e.request.emitError=!1,e.request.httpRequest.abort());var r=this.getLiElement(e.file);if((0,n.le)(this.template)&&((0,n.le)(t)||!t)){var o=r.querySelector("."+ss);o.classList.remove(ss),o.classList.add(mo),o.setAttribute("title",this.localizedTexts("resume")),o.nextElementSibling.classList.add(Bi),o.nextElementSibling.classList.remove(ci),o.nextElementSibling.setAttribute("title",this.localizedTexts("remove"))}for(var a=0;a<this.pausedData.length;a++)this.pausedData[a].file.name===e.file.name&&this.pausedData.splice(a,1);this.pausedData.push(e),this.trigger("pausing",s)},i.prototype.resumeUpload=function(e,t,s){var o,r=this.getLiElement(e.file);(0,n.le)(r)||(o=r.querySelector("."+mo)),!(0,n.le)(o)&&((0,n.le)(s)||!s)&&(o.classList.remove(mo),o.classList.add(ss),o.setAttribute("title",this.localizedTexts("pause")),o.nextElementSibling.classList.remove(Bi),o.nextElementSibling.classList.add(ci),o.nextElementSibling.setAttribute("title",this.localizedTexts("abort"))),e.file.status=this.localizedTexts("inProgress"),e.file.statusCode="3",this.updateMetaData(e);var a={event:t||null,file:e.file,chunkIndex:e.chunkIndex,chunkCount:Math.round(e.file.size/this.asyncSettings.chunkSize),chunkSize:this.asyncSettings.chunkSize};this.trigger("resuming",a);for(var d=0;d<this.pausedData.length;d++)this.pausedData[d].end===this.pausedData[d].file.size?this.chunkUploadComplete(t,e,s):this.pausedData[d].file.name===e.file.name&&(this.pausedData[d].start=this.pausedData[d].end,this.pausedData[d].end=this.pausedData[d].end+this.asyncSettings.chunkSize,this.pausedData[d].end=Math.min(this.pausedData[d].end,this.pausedData[d].file.size),this.pausedData[d].chunkIndex=this.pausedData[d].chunkIndex+1,this.sendRequest(this.pausedData[d].file,this.pausedData[d],s))},i.prototype.updateMetaData=function(e){-1===this.uploadMetaData.indexOf(e)||this.uploadMetaData.splice(this.uploadMetaData.indexOf(e),1),this.uploadMetaData.push(e)},i.prototype.removeChunkProgressBar=function(e){var t=this.getLiElement(e.file);if(!(0,n.le)(t)){this.updateProgressBarClasses(t,hr),this.removeProgressbar(t,"success");var s=t.querySelector("."+ci);(0,n.le)(s)||(s.classList.add(Bs),s.setAttribute("title",this.localizedTexts("delete")),s.classList.remove(ci,zs))}},i.prototype.chunkUploadFailed=function(e,t,s){var a,r=this,o=Math.max(Math.ceil(t.file.size/this.asyncSettings.chunkSize),1);(0,n.le)(this.template)&&((0,n.le)(s)||!s)&&(a=this.getLiElement(t.file));var d=e&&e.currentTarget?this.getResponse(e):null;this.trigger("chunkFailure",{event:e,file:t.file,chunkIndex:t.chunkIndex,totalChunk:o,chunkSize:this.asyncSettings.chunkSize,cancel:!1,response:d},function(p){if(!p.cancel)if(t.retryCount<r.asyncSettings.retryCount)setTimeout(function(){r.retryRequest(a,t,s)},r.asyncSettings.retryAfterDelay);else{if(!(0,n.le)(a)){var u=a.querySelector("."+ss)?a.querySelector("."+ss):a.querySelector("."+mo);(0,n.le)(u)||(u.classList.add(Dr),u.classList.remove(ss,mo)),r.updateProgressBarClasses(a,Vs),r.removeProgressbar(a,"failure"),a.querySelector(".e-icons").classList.remove(zs);var f=a.querySelector("."+ci)?a.querySelector("."+ci):a.querySelector("."+Bi);f.classList.remove(ci),(0,n.le)(a.querySelector("."+ss))||(0,n.og)(a.querySelector("."+ss)),t.start>0?(f.classList.add(Bs),f.setAttribute("title",r.localizedTexts("delete"))):(f.classList.add(Bi),f.setAttribute("title",r.localizedTexts("remove")))}t.retryCount=0;var v=t.file,g=r.localizedTexts("uploadFailedMessage"),b={e,response:d,operation:"upload",file:r.updateStatus(v,g,"0",!1),statusText:g};r.trigger("failure",b,function(C){r.updateStatus(v,C.statusText,"0"),r.uploadSequential(),r.checkActionComplete(!0)})}})},i.prototype.retryRequest=function(e,t,s){(0,n.le)(this.template)&&((0,n.le)(s)||!s)&&e&&this.updateProgressBarClasses(e,Vs),t.retryCount+=1,this.sendRequest(t.file,t)},i.prototype.checkPausePlayAction=function(e){var t=e.target,r=this.fileList.indexOf(e.target.parentElement),a=this.getCurrentMetaData(this.filesData[r]);t.classList.contains(ss)?this.pauseUpload(a,e):t.classList.contains(mo)?this.resumeUpload(a,e):t.classList.contains(Dr)&&(a.file.status===this.localizedTexts("fileUploadCancel")?this.retryUpload(a,!1):this.retryUpload(a,!0))},i.prototype.retryUpload=function(e,t){t?(e.end=e.end+this.asyncSettings.chunkSize,e.start=e.start+this.asyncSettings.chunkSize,this.sendRequest(e.file,e)):(e.file.statusCode="1",e.file.status=this.localizedTexts("readyToUploadMessage"),this.chunkUpload(e.file)),this.getLiElement(e.file).classList.add(kl)},i.prototype.chunkUploadInProgress=function(e,t,s){var r=this;if("4"!==t.file.statusCode){"4"!==t.file.statusCode&&"5"!==t.file.statusCode&&(t.file.statusCode="3",t.file.status=this.localizedTexts("inProgress")),this.updateMetaData(t);var o=this.getLiElement(t.file);if(!(0,n.le)(o)){var a=o.querySelector("."+Dr);if((0,n.le)(a)||(a.classList.add(ss),a.setAttribute("title",this.localizedTexts("pause")),a.classList.remove(Dr)),!(0,n.le)(o)){if(!(o.querySelectorAll("."+fo).length>0)){var d=o.querySelector("."+bi);(0,n.le)(this.template)&&(d.classList.add(zs),d.classList.remove(Vs),this.createProgressBar(o),this.updateProgressBarClasses(o,zs));var c=o.querySelector("."+Bi)?o.querySelector("."+Bi):o.querySelector("."+Bs);(0,n.le)(c)||(c.classList.add(ci),c.setAttribute("title",this.localizedTexts("abort")),c.classList.remove(Bi))}if(!isNaN(Math.round(e.loaded/e.total*100))&&(0,n.le)(this.template)&&"4"!==t.file.statusCode){var p=void 0,u=Math.ceil(t.file.size/this.asyncSettings.chunkSize)-1;this.asyncSettings.chunkSize&&u&&(p=Math.round(t.chunkIndex/u*100),this.changeProgressValue(o,p.toString()+"%"))}0===t.chunkIndex&&this.checkActionButtonStatus()}if((0,n.le)(o.querySelector("."+ss))&&(0,n.le)(this.template)&&(0,n.le)(o.querySelector("."+Bs))){this.pauseButton=this.createElement("span",{className:"e-icons e-file-pause-btn",attrs:{tabindex:this.btnTabIndex}}),"msie"===this.browserName&&this.pauseButton.classList.add("e-msie");var f=o.querySelector("."+ci);f.parentElement.insertBefore(this.pauseButton,f),this.pauseButton.setAttribute("title",this.localizedTexts("pause")),this.pauseButton.addEventListener("click",function(v){r.checkPausePlayAction(v)},!1)}}}},i.prototype.bytesToSize=function(e){var t=-1;if(!e)return"0.0 KB";do{e/=1024,t++}while(e>99);return t>=2&&(e*=1024,t=1),Math.max(e,0).toFixed(1)+" "+["KB","MB"][t]},i.prototype.sortFileList=function(e){for(var t=e=e||this.sortFilesList,s=[],r=0;r<t.length;r++)s.push(t[r].name);for(var a=[],d=0,c=s.sort();d<c.length;d++){var p=c[d];for(r=0;r<t.length;r++)p===t[r].name&&a.push(t[r])}return a},i.prototype.destroy=function(){this.element.value=null,this.clearTemplate(),this.clearAll(),this.unWireEvents(),this.unBindDropEvents(),this.multiple&&this.element.removeAttribute("multiple"),this.enabled||this.element.removeAttribute("disabled"),this.element.removeAttribute("accept"),this.setInitialAttributes();for(var t=0,s=["aria-label","directory","webkitdirectory","tabindex"];t<s.length;t++)this.element.removeAttribute(s[t]);(0,n.le)(this.uploadWrapper)||(this.uploadWrapper.parentElement.appendChild(this.element),(0,n.og)(this.uploadWrapper)),this.uploadWrapper=null,this.uploadWrapper=null,this.browseButton=null,this.dropAreaWrapper=null,this.dropZoneElement=null,this.dropArea=null,this.keyboardModule=null,this.clearButton=null,this.uploadButton=null,h.prototype.destroy.call(this)},i.prototype.upload=function(e,t){var s=this;if(e=e||this.filesData,this.sequentialUpload&&(this.isFirstFileOnSelection||t))this.sequenceUpload(e);else{var r=this.getFilesInArray(e);this.trigger("beforeUpload",{customFormData:[],currentRequest:null,cancel:!1},function(a){a.cancel||s.uploadFiles(r,t)})}},i.prototype.getFilesInArray=function(e){var t=[];return e instanceof Array?t=e:t.push(e),t},i.prototype.serverReadFileBase64=function(e,t,s){var r=this;return new Promise(function(o,a){var p,d=r.fileStreams[e].rawFile;try{var c=new FileReader;c.onload=(p=c,function(){try{var u=p.result,f=u?u.split(";base64,")[1]:null;o(f)}catch(v){a(v)}}),c.readAsDataURL(d.slice(t,t+s))}catch(p){a(p)}})},i.prototype.uploadFileCount=function(e){var t=this.filesData;return t&&0!==t.length?t.length:-1},i.prototype.getFileRead=function(e,t){var s=this.filesData;if(!s||0===s.length)return-1;var r=s[e],o=this.newFileRef++;return this.fileStreams[o]=r,o},i.prototype.getFileInfo=function(e,t){var s=this.filesData;return s&&0!==s.length&&s[e]?this.filesData[e]:null},i.prototype.uploadFiles=function(e,t){var s=[];if(""!==this.asyncSettings.saveUrl&&!(0,n.le)(this.asyncSettings.saveUrl)){if(!t||(0,n.le)(t))if(this.multiple)s=this.filterfileList(e);else{var r=[];r.push(e[0]),s=this.filterfileList(r)}else s=e;for(var o=0;o<s.length;o++)this.uploadFilesRequest(s,o,t)}},i.prototype.uploadFilesRequest=function(e,t,s){var r=this,o=this.checkChunkUpload(),a=new n.tk(this.asyncSettings.saveUrl,"POST",!0,null);a.emitError=!1;var d={fileData:e[t],customFormData:[],cancel:!1},c=new FormData;if(a.beforeSend=function(u){d.currentRequest=a.httpRequest,r.trigger("uploading",d,function(f){f.cancel&&r.eventCancelByArgs(u,f,e[t]),r.updateFormData(c,f.customFormData)})},"1"===e[t].statusCode){var p=this.element.getAttribute("name");c.append(p,e[t].rawFile,e[t].name),o&&e[t].size>this.asyncSettings.chunkSize?this.chunkUpload(e[t],s,t):(a.onLoad=function(u){return d.cancel||r.uploadComplete(u,e[t],s),{}},a.onUploadProgress=function(u){return d.cancel||r.uploadInProgress(u,e[t],s,a),{}},a.onError=function(u){return r.uploadFailed(u,e[t]),{}},a.send(c))}},i.prototype.spliceFiles=function(e){for(var t=this.fileList[e],s=this.getFilesData(),r=+t.getAttribute("data-files-count"),o=0,a=0;a<e;a++)o+=+this.fileList[a].getAttribute("data-files-count");for(var c=o+r-1;c>=o;c--)s.splice(c,1)},i.prototype.remove=function(e,t,s,r,o){var a=this;(0,n.le)(r)&&(r=!0);var d={event:o,cancel:!1,filesData:[],customFormData:[],postRawFile:r,currentRequest:null};this.trigger("beforeRemove",{cancel:!1,customFormData:[],currentRequest:null},function(p){if(!p.cancel)if(a.isFormUpload())d.filesData=e,a.trigger("removing",d,function(O){if(!O.cancel)for(var Y=!1,H=void 0,N=0,ne=a.getFilesInArray(e);N<ne.length;N++){var re=ne[N];if(Y||(H=a.fileList.indexOf(re.list)),H>-1){var ce=(0,n.le)(re.input)?null:re.input;ce&&(0,n.og)(ce),a.spliceFiles(H),(0,n.og)(a.fileList[H]),a.fileList.splice(H,1),Y=!0,H=-1}}});else if(a.isForm&&((0,n.le)(a.asyncSettings.removeUrl)||""===a.asyncSettings.removeUrl))d.filesData=a.getFilesData(),a.trigger("removing",d,function(O){O.cancel||a.clearAll()});else{var u=[];(e=(0,n.le)(e)?a.filesData:e)instanceof Array?u=e:u.push(e),d.filesData=u;for(var f=a.asyncSettings.removeUrl,v=!(""===f||(0,n.le)(f)),g=function(O){var j=a.uploadedFilesData.indexOf(O);("2"===O.statusCode||"4"===O.statusCode||"0"===O.statusCode&&-1!==j)&&v?a.removeUploadedFile(O,d,s,t):s?a.removeFilesData(O,t):a.trigger("removing",d,function(Y){Y.cancel||a.removeFilesData(O,t)}),o&&!o.target.classList.contains(Bi)&&a.checkActionComplete(!1)},b=0,C=u;b<C.length;b++)g(C[b])}})},i.prototype.clearAll=function(){var e=this;if((0,n.le)(this.listParent))return"msie"!==this.browserName&&(this.element.value=""),void(this.filesData=[]);this.trigger("clearing",{cancel:!1,filesData:this.filesData},function(s){s.cancel||(e.clearData(),e.actionCompleteCount=0,e.count=-1)})},i.prototype.getFilesData=function(e){return(0,n.le)(e)?this.filesData:this.getSelectedFiles(e)},i.prototype.pause=function(e,t){var s=this.getFilesInArray(e=e||this.filesData);this.pauseUploading(s,t)},i.prototype.pauseUploading=function(e,t){for(var s=this.getFiles(e),r=0;r<s.length;r++)"3"===s[r].statusCode&&this.pauseUpload(this.getCurrentMetaData(s[r],null),null,t)},i.prototype.getFiles=function(e){var t=[];return(0,n.le)(e)||e instanceof Array?t=e:t.push(e),t},i.prototype.resume=function(e,t){var s=this.getFilesInArray(e=e||this.filesData);this.resumeFiles(s,t)},i.prototype.resumeFiles=function(e,t){for(var s=this.getFiles(e),r=0;r<s.length;r++)"4"===s[r].statusCode&&this.resumeUpload(this.getCurrentMetaData(s[r],null),null,t)},i.prototype.retry=function(e,t,s){var r=this.getFilesInArray(e=e||this.filesData);this.sequentialUpload&&this.isFirstFileOnSelection&&(this.isFirstFileOnSelection=!1),this.retryFailedFiles(r,t,s)},i.prototype.retryFailedFiles=function(e,t,s){for(var r=this.getFiles(e),o=0;o<r.length;o++)if("5"===r[o].statusCode||"0"===r[o].statusCode)if(this.asyncSettings.chunkSize>0&&this.getCurrentMetaData(r[o],null))this.retryUpload(this.getCurrentMetaData(r[o],null),t);else{var a=void 0;s||(a=this.fileList[this.filesData.indexOf(r[o])]),this.reloadcanceledFile(null,r[o],a,s)}},i.prototype.cancel=function(e){var t=this.getFilesInArray(e=e||this.filesData);this.cancelUpload(t)},i.prototype.cancelUpload=function(e){var t=this.getFiles(e);if(this.asyncSettings.chunkSize>0){for(var s=0;s<t.length;s++)if("3"===t[s].statusCode){var r=this.getCurrentMetaData(t[s],null);r.file.statusCode="5",r.file.status=this.localizedTexts("fileUploadCancel"),this.updateMetaData(r),this.showHideUploadSpinner(t[s])}}else for(s=0;s<t.length;s++)"3"===t[s].statusCode&&(t[s].statusCode="5",t[s].status=this.localizedTexts("fileUploadCancel"),this.showHideUploadSpinner(t[s]))},i.prototype.showHideUploadSpinner=function(e){var t=this.getLiElement(e);if(!(0,n.le)(t)&&(0,n.le)(this.template)){var s=t.querySelector("."+ci);Mn({target:s,width:"20px"}),us(s)}},it([(0,n.Zz)({saveUrl:"",removeUrl:""},dx)],i.prototype,"asyncSettings",void 0),it([(0,n.Z9)(!1)],i.prototype,"sequentialUpload",void 0),it([(0,n.Z9)({})],i.prototype,"htmlAttributes",void 0),it([(0,n.Z9)("")],i.prototype,"cssClass",void 0),it([(0,n.Z9)(!0)],i.prototype,"enabled",void 0),it([(0,n.Z9)(null)],i.prototype,"template",void 0),it([(0,n.Z9)(!0)],i.prototype,"multiple",void 0),it([(0,n.Z9)(!0)],i.prototype,"autoUpload",void 0),it([(0,n.Z9)(!0)],i.prototype,"enableHtmlSanitizer",void 0),it([(0,n.Zz)({},hx)],i.prototype,"buttons",void 0),it([(0,n.Z9)("")],i.prototype,"allowedExtensions",void 0),it([(0,n.Z9)(0)],i.prototype,"minFileSize",void 0),it([(0,n.Z9)(3e7)],i.prototype,"maxFileSize",void 0),it([(0,n.Z9)(null)],i.prototype,"dropArea",void 0),it([(0,n.FE)([{}],lx)],i.prototype,"files",void 0),it([(0,n.Z9)(!0)],i.prototype,"showFileList",void 0),it([(0,n.Z9)(!1)],i.prototype,"directoryUpload",void 0),it([(0,n.Z9)("Default")],i.prototype,"dropEffect",void 0),it([(0,n.ju)()],i.prototype,"created",void 0),it([(0,n.ju)()],i.prototype,"actionComplete",void 0),it([(0,n.ju)()],i.prototype,"rendering",void 0),it([(0,n.ju)()],i.prototype,"beforeUpload",void 0),it([(0,n.ju)()],i.prototype,"fileListRendering",void 0),it([(0,n.ju)()],i.prototype,"selected",void 0),it([(0,n.ju)()],i.prototype,"uploading",void 0),it([(0,n.ju)()],i.prototype,"success",void 0),it([(0,n.ju)()],i.prototype,"failure",void 0),it([(0,n.ju)()],i.prototype,"removing",void 0),it([(0,n.ju)()],i.prototype,"beforeRemove",void 0),it([(0,n.ju)()],i.prototype,"clearing",void 0),it([(0,n.ju)()],i.prototype,"progress",void 0),it([(0,n.ju)()],i.prototype,"change",void 0),it([(0,n.ju)()],i.prototype,"chunkSuccess",void 0),it([(0,n.ju)()],i.prototype,"chunkFailure",void 0),it([(0,n.ju)()],i.prototype,"chunkUploading",void 0),it([(0,n.ju)()],i.prototype,"canceling",void 0),it([(0,n.ju)()],i.prototype,"pausing",void 0),it([(0,n.ju)()],i.prototype,"resuming",void 0),it([n.Zl],i)}(n.wA),cx=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),pi=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},Ml="e-apply",Id="e-cancel",Pf="e-current",Al="e-ctrl-btn",ra="e-switch-ctrl-btn",s0="e-disabled",r0="e-value-switch-btn",n0="e-handler",Tf="e-hide-hex-value",kf="e-hide-opacity",na="e-hide-switchable-value",vo="e-hide-value",a0="e-hide-valueswitcher",Il="e-hsv-color",l0="e-hsv-container",oa="e-selected-value",Ed="e-mode-switch-btn",Lf="e-nocolor-item",Of="e-opacity-value",El="e-palette",Dd="e-color-palette",Mf="e-color-picker",jd="e-preview-container",Rd="e-previous",aa="e-show-value",Dl="e-selected",Yd="e-split-preview",Fd="e-tile",fx_default=["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"],la=function(h){function i(e,t){return h.call(this,e,t)||this}return cx(i,h),i.prototype.preRender=function(){var e=this.element;this.formElement=(0,n.oq)(this.element,"form"),this.formElement&&n.bi.add(this.formElement,"reset",this.formResetHandler,this),this.l10n=new n.E7("colorpicker",{Apply:"Apply",Cancel:"Cancel",ModeSwitcher:"Switch Mode"},this.locale),e.getAttribute("ejs-for")&&!e.getAttribute("name")&&e.setAttribute("name",e.id)},i.prototype.render=function(){this.initWrapper(),this.inline?this.createWidget():this.createSplitBtn(),this.enableOpacity||(0,n.cn)([this.container.parentElement],kf),this.renderComplete()},i.prototype.initWrapper=function(){var e=this.createElement("div",{className:"e-"+this.getModuleName()+"-wrapper"});this.element.parentNode.insertBefore(e,this.element),e.appendChild(this.element),(0,n.Y4)(this.element,{tabindex:"-1",spellcheck:"false","aria-label":"colorpicker"}),this.container=this.createElement("div",{className:"e-container"}),this.getWrapper().appendChild(this.container);var t=this.value?this.roundValue(this.value).toLowerCase():"#008000ff";this.noColor&&"Palette"===this.mode&&""===this.value&&(t="");var s=t.slice(0,7);(0,n.le)(this.initialInputValue)&&(this.initialInputValue=s),this.element.value=s,this.setProperties(this.enableOpacity?{value:t}:{value:s},!0),this.enableRtl&&e.classList.add("e-rtl"),this.cssClass&&(0,n.cn)([e],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.tileRipple=(0,n.qx)(this.container,{selector:"."+Fd}),this.ctrlBtnRipple=(0,n.qx)(this.container,{selector:".e-btn"})},i.prototype.getWrapper=function(){return this.element.parentElement},i.prototype.createWidget=function(){"Palette"===this.mode?(this.createPalette(),this.inline||this.firstPaletteFocus()):(this.createPicker(),this.inline||this.getDragHandler().focus()),this.isRgb=!0,this.createInput(),this.createCtrlBtn(),this.disabled||this.wireEvents(),this.inline&&this.disabled&&this.toggleDisabled(!0),n.AR.isDevice&&this.refreshPopupPos()},i.prototype.createSplitBtn=function(){var e=this,t=this.createElement("button",{className:"e-split-colorpicker"});this.getWrapper().appendChild(t),this.splitBtn=new bS({iconCss:"e-selected-color",target:this.container,disabled:this.disabled,enableRtl:this.enableRtl,createPopupOnClick:this.createPopupOnClick,open:this.onOpen.bind(this),click:function(){e.trigger("change",{currentValue:{hex:e.value.slice(0,7),rgba:e.convertToRgbString(e.hexToRgb(e.value))},previousValue:{hex:null,rgba:null},value:e.value})}}),this.splitBtn.createElement=this.createElement,this.splitBtn.appendTo(t);var s=this.createElement("span",{className:Yd});(0,n.Ys)(".e-selected-color",t).appendChild(s),s.style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value));var r=this.getPopupEle();if((0,n.cn)([r],"e-colorpicker-popup"),this.cssClass&&(0,n.cn)([r],this.cssClass.replace(/\s+/g," ").trim().split(" ")),n.AR.isDevice){var o=this.getPopupInst();o.relateTo=document.body,o.position={X:"center",Y:"center"},o.targetType="container",o.collision={X:"fit",Y:"fit"},o.offsetY=4,r.style.zIndex=po(this.splitBtn.element).toString()}this.bindCallBackEvent()},i.prototype.onOpen=function(){if(this.trigger("open",{element:this.container}),!n.AR.isDevice){var e=this.getPopupInst();Sn(e.element).length>0&&(e.collision={X:"flip",Y:"fit"},e.position={X:"right",Y:"bottom"},e.targetType="container")}},i.prototype.getPopupInst=function(){return(0,n.s8)(this.getPopupEle(),xn)},i.prototype.bindCallBackEvent=function(){var e=this;this.splitBtn.beforeOpen=function(t){var s=new Pd;return e.trigger("beforeOpen",t,function(r){if(!r.cancel){var o=e.getPopupEle();o.style.top=(0,n.Ac)(0+pageYOffset),o.style.left=(0,n.Ac)(0+pageXOffset),o.style.display="block",e.createWidget(),o.style.display="",n.AR.isDevice&&(e.modal=e.createElement("div"),e.modal.className="e-"+e.getModuleName()+" e-modal",e.modal.style.display="none",document.body.insertBefore(e.modal,o),document.body.className+=" e-colorpicker-overflow",e.modal.style.display="block",e.modal.style.zIndex=(Number(o.style.zIndex)-1).toString())}t.cancel=r.cancel,s.resolve(r)}),s},this.splitBtn.beforeClose=function(t){var s=new Pd;return(0,n.le)(t.event)?s.resolve(t):e.trigger("beforeClose",{element:e.container,event:t.event,cancel:!1},function(o){n.AR.isDevice&&t.event.target===e.modal&&(o.cancel=!0),o.cancel||e.onPopupClose(),t.cancel=o.cancel,s.resolve(o)}),s}},i.prototype.onPopupClose=function(){this.unWireEvents(),this.destroyOtherComp(),this.container.style.width="",(0,n.Ys)("."+Yd,this.splitBtn.element).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value)),this.container.innerHTML="",(0,n.IV)([this.container],[Mf,Dd]),n.AR.isDevice&&this.modal&&((0,n.IV)([document.body],"e-colorpicker-overflow"),this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},i.prototype.createPalette=function(){if((0,n.s1)(this.container,[Dd],[Mf]),this.presetColors){var e=this.createElement("div",{className:"e-custom-palette"});this.appendElement(e);var t=Object.keys(this.presetColors);if(1===t.length)this.appendPalette(this.presetColors[t[0]],t[0],e);else for(var s=0,r=t.length;s<r;s++)this.appendPalette(this.presetColors[t[s]],t[s],e);(0,n.td)(".e-row",e).length>10&&(0,n.cn)([e],"e-palette-group")}else this.appendPalette(fx_default,"default");"Palette"===this.mode&&!this.modeSwitcher&&this.noColor&&this.setNoColor();var o=parseInt(getComputedStyle(this.container).borderBottomWidth,10);this.container.style.width=(0,n.Ac)(this.container.children[0].offsetWidth+o+o),this.rgb=this.hexToRgb(this.roundValue(this.value)),this.hsv=this.rgbToHsv.apply(this,this.rgb)},i.prototype.firstPaletteFocus=function(){(0,n.Ys)("."+Dl,this.container.children[0])||(0,n.td)("."+El,this.container)[0].focus()},i.prototype.appendPalette=function(e,t,s){var r=this.createElement("div",{className:El,attrs:{tabindex:"0",role:"grid"}});s?s.appendChild(r):this.appendElement(r);for(var o,a,d,c=0,p=e.length;c<p;c++)(0===c||c%this.columns==0)&&(o=this.createElement("div",{className:"e-row",attrs:{role:"row"}}),r.appendChild(o)),d=this.roundValue(e[c]).toLowerCase(),a=this.createElement("span",{className:Fd,attrs:{role:"gridcell","aria-label":d,"aria-selected":"false",tabindex:"0"}}),this.trigger("beforeTileRender",{element:a,presetName:t,value:e[c]}),o.appendChild(a),this.value===d&&(this.addTileSelection(a),r.focus()),a.style.backgroundColor=this.convertToRgbString(this.hexToRgb(d))},i.prototype.setNoColor=function(){var e=this.container.querySelector(".e-row").children[0];e.classList.add(Lf),this.value||(e.classList.add(Dl),(0,n.oq)(e,"."+El).focus()),["aria-selected","aria-label"].forEach(function(t){e.removeAttribute(t)}),e.style.backgroundColor=""},i.prototype.appendElement=function(e,t){void 0===t&&(t=0);var s=this.container.children[t];s?this.container.insertBefore(e,s):this.container.appendChild(e)},i.prototype.addTileSelection=function(e){e.classList.add(Dl),e.setAttribute("aria-selected","true")},i.prototype.createPicker=function(){(0,n.s1)(this.container,[Mf],[Dd]);var e=this.createElement("div",{className:l0});this.appendElement(e),e.appendChild(this.createElement("div",{className:Il}));var t=this.createElement("span",{className:n0,attrs:{tabindex:"0"}});e.appendChild(t),(null===this.value||""===this.value)&&(this.value="#008000ff"),this.rgb=this.hexToRgb(this.value),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHsvContainerBg(),this.setHandlerPosition(),this.createSlider(),this.createDragTooltip()},i.prototype.setHsvContainerBg=function(e){void 0===e&&(e=this.hsv[0]),this.getHsvContainer().style.backgroundColor=this.convertToRgbString(this.hsvToRgb(e,100,100,1))},i.prototype.getHsvContainer=function(){return(0,n.Ys)("."+l0,this.container)},i.prototype.setHandlerPosition=function(){var e=this.getDragHandler(),t=(0,n.Ys)("."+Il,this.container);e.style.left=(0,n.Ac)(this.enableRtl?t.offsetWidth*Math.abs(100-this.hsv[1])/100:t.offsetWidth*this.hsv[1]/100),e.style.top=(0,n.Ac)(t.offsetHeight*(100-this.hsv[2])/100)},i.prototype.createSlider=function(){var e=this.createElement("div",{className:"e-slider-preview"});this.appendElement(e,1),this.createPreview(e);var t=this.createElement("div",{className:"e-colorpicker-slider"});e.insertBefore(t,e.children[0]);var s=this.createElement("div",{className:"e-hue-slider"});t.appendChild(s),this.hueSlider=new gf({value:this.hsv[0],min:0,max:359,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.hueChange.bind(this)}),this.hueSlider.createElement=this.createElement,this.hueSlider.appendTo(s),this.enableOpacity&&(s=this.createElement("div",{className:"e-opacity-slider"}),t.appendChild(s),this.createOpacitySlider(s))},i.prototype.createOpacitySlider=function(e){this.opacitySlider=new gf({value:100*this.rgb[3],min:0,max:100,enableRtl:this.enableRtl,enabled:!this.disabled,change:this.opacityChange.bind(this)}),this.opacitySlider.createElement=this.createElement,this.opacitySlider.appendTo(e);var t=this.createElement("div",{className:"e-opacity-empty-track"});e.appendChild(t),this.updateOpacitySliderBg()},i.prototype.updateOpacitySliderBg=function(){var e=this.enableRtl?"to left":"to right",t=(0,n.Ys)(".e-opacity-empty-track",this.opacitySlider.element);t&&(t.style.background="linear-gradient("+e+", rgba("+this.rgb.slice(0,3)+", 0) 0%, "+this.convertToRgbString(this.rgb.slice(0,3))+" 100%)")},i.prototype.hueChange=function(e){this.hsv[0]=e.value,this.setHsvContainerBg(),this.convertToOtherFormat()},i.prototype.opacityChange=function(e){var t=e.value,s=this.rgbToHex(this.rgb);this.hsv[3]=t/100,this.rgb[3]=t/100;var r=this.rgbToHex(this.rgb);this.updateOpacityInput(t);var o=this.convertToRgbString(this.rgb);this.updatePreview(o),this.triggerEvent(r,s,o)},i.prototype.updateOpacityInput=function(e){if(this.enableOpacity&&!this.getWrapper().classList.contains(vo)){var t=(0,n.s8)((0,n.Ys)("."+Of,this.container),ia);t.value=e,t.dataBind()}},i.prototype.createPreview=function(e){var t=this.createElement("div",{className:jd});e.appendChild(t);var s=this.createElement("span",{className:"e-preview "+Pf});t.appendChild(s);var r=this.convertToRgbString(this.rgb);s.style.backgroundColor=r,s=this.createElement("span",{className:"e-preview "+Rd}),t.appendChild(s),s.style.backgroundColor=r},i.prototype.isPicker=function(){return!this.container.classList.contains(Dd)},i.prototype.getPopupEle=function(){return this.container.parentElement},i.prototype.createNumericInput=function(e,t,s,r){var o=this,a=new ia({value:t,placeholder:s,min:0,max:r,format:"###.##",showSpinButton:!1,floatLabelType:"Always",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker(),change:function(d){d.event&&o.inputHandler(d.event)}});a.createElement=this.createElement,a.appendTo(e)},i.prototype.createInput=function(){var e=this.isPicker(),t=this.getWrapper();if(e&&!t.classList.contains(vo)||!e&&t.classList.contains(aa)){var s=this.createElement("div",{className:oa});this.appendElement(s,e?2:1);var r=this.createElement("div",{className:"e-input-container"});if(s.appendChild(r),t.classList.contains(a0)||this.appendValueSwitchBtn(s),!t.classList.contains(Tf)){var o=this.createElement("input",{className:"e-hex",attrs:{maxlength:"7",spellcheck:"false","aria-label":"HEX"}});r.appendChild(o),qe.createInput({element:o,floatLabelType:"Always",properties:{placeholder:"HEX",enableRtl:this.enableRtl,enabled:!this.disabled,readonly:!this.isPicker()}},this.createElement),qe.setValue(this.value.slice(0,7),o),o.addEventListener("input",this.inputHandler.bind(this))}if(!t.classList.contains(na)){var a=void 0,d=void 0;this.isRgb?(a="RGB",d=this.rgb):(a="HSV",d=this.hsv);for(var c=["rh","gs","bv"],p=0;p<3;p++)this.createNumericInput(r.appendChild(this.createElement("input",{className:"e-"+c[p]+"-value"})),d[p],a[p],255);this.enableOpacity&&this.appendOpacityValue(r)}}},i.prototype.appendOpacityValue=function(e){this.createNumericInput(e.appendChild(this.createElement("input",{className:Of})),100*this.rgb[3],"A",100)},i.prototype.appendValueSwitchBtn=function(e){var t=this.createElement("button",{className:"e-icons e-css e-btn e-flat e-icon-btn "+r0,attrs:{title:"Toggle format"}});e.appendChild(t),this.isPicker()&&!this.getWrapper().classList.contains(na)&&t.addEventListener("click",this.formatSwitchHandler.bind(this))},i.prototype.createCtrlBtn=function(){if(this.modeSwitcher||this.showButtons){this.l10n.setLocale(this.locale);var e=this.createElement("div",{className:ra});if(this.container.appendChild(e),this.showButtons){var t=this.createElement("div",{className:Al});e.appendChild(t);var s=this.l10n.getConstant("Apply");t.appendChild(this.createElement("button",{innerHTML:s,className:"e-btn e-css e-flat e-primary e-small "+Ml,attrs:{title:s}}));var r=this.l10n.getConstant("Cancel");t.appendChild(this.createElement("button",{innerHTML:r,className:"e-btn e-css e-flat e-small "+Id,attrs:{title:r}}))}this.modeSwitcher&&this.appendModeSwitchBtn()}},i.prototype.appendModeSwitchBtn=function(){var e=this.createElement("button",{className:"e-icons e-btn e-flat e-icon-btn "+Ed,attrs:{title:this.l10n.getConstant("ModeSwitcher")}});(0,n.Ys)("."+ra,this.container).insertBefore(e,(0,n.Ys)("."+Al,this.container))},i.prototype.createDragTooltip=function(){var e=this,t=new Cl({opensOn:"Custom",showTipPointer:!1,cssClass:"e-color-picker-tooltip",htmlAttributes:{title:"tooltip"},beforeOpen:function(s){e.tooltipEle=s.element},animation:{open:{effect:"None"},close:{effect:"None"}}});t.createElement=this.createElement,t.appendTo(this.container),t.open(this.container),this.tooltipEle.style.zIndex=po(this.tooltipEle).toString(),this.tooltipEle.setAttribute("aria-label","colorpicker-tooltip"),(0,n.Ys)(".e-tip-content",this.tooltipEle).appendChild(this.createElement("div",{className:"e-tip-transparent"}))},i.prototype.getTooltipInst=function(){return(0,n.s8)(this.container,Cl)},i.prototype.setTooltipOffset=function(e){this.getTooltipInst().offsetY=e},i.prototype.toggleDisabled=function(e){e?this.getWrapper().classList.add(s0):this.getWrapper().classList.remove(s0),this.showButtons&&[].slice.call((0,n.td)(".e-btn",this.container)).forEach(function(t){e?(0,n.Y4)(t,{disabled:""}):t.removeAttribute("disabled")})},i.prototype.convertToRgbString=function(e){return e.length?4===e.length?"rgba("+e.join()+")":"rgb("+e.join()+")":""},i.prototype.convertToHsvString=function(e){return 4===e.length?"hsva("+e.join()+")":"hsv("+e.join()+")"},i.prototype.updateHsv=function(){this.hsv[1]=this.hsv[1]>100?100:this.hsv[1],this.hsv[2]=this.hsv[2]>100?100:this.hsv[2],this.setHandlerPosition()},i.prototype.convertToOtherFormat=function(e){void 0===e&&(e=!1);var t=this.rgbToHex(this.rgb);this.rgb=this.hsvToRgb.apply(this,this.hsv);var s=this.rgbToHex(this.rgb),r=this.convertToRgbString(this.rgb);this.updatePreview(r),this.updateInput(s),this.triggerEvent(s,t,r,e)},i.prototype.updateInput=function(e){var t=this.getWrapper();t.classList.contains(vo)||(t.classList.contains(Tf)||qe.setValue(e.substr(0,7),(0,n.Ys)(".e-hex",this.container)),t.classList.contains(na)||this.updateValue(this.isRgb?this.rgb:this.hsv,!1))},i.prototype.updatePreview=function(e){this.enableOpacity&&this.updateOpacitySliderBg(),(0,n.Ys)(".e-tip-transparent",this.tooltipEle).style.backgroundColor=e,(0,n.Ys)("."+jd+" ."+Pf,this.container).style.backgroundColor=e,(0,n.Ys)("."+jd+" ."+Rd,this.container).style.backgroundColor=this.convertToRgbString(this.hexToRgb(this.value))},i.prototype.getDragHandler=function(){return(0,n.Ys)("."+n0,this.container)},i.prototype.removeTileSelection=function(){[].slice.call((0,n.td)("."+Dl,this.container.children[0])).forEach(function(t){t.classList.remove(Dl),t.setAttribute("aria-selected","false")})},i.prototype.convertRgbToNumberArray=function(e){return e.slice(e.indexOf("(")+1,e.indexOf(")")).split(",").map(function(t,s){return 3!==s?parseInt(t,10):parseFloat(t)})},i.prototype.getValue=function(e,t){if(e||(e=this.value),t=t?t.toLowerCase():"hex","r"===e[0]){var s=this.convertRgbToNumberArray(e);if("hex"===t||"hexa"===t){var r=this.rgbToHex(s);return"hex"===t?r.slice(0,7):r}return"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,s.slice(0,3))):"hsva"===t?this.convertToHsvString(this.rgbToHsv.apply(this,s)):"null"}if("h"===e[0])return s=this.hsvToRgb.apply(this,this.convertRgbToNumberArray(e)),"rgba"===t?this.convertToRgbString(s):"hex"===t||"hexa"===t?(r=this.rgbToHex(s),"hex"===t?r.slice(0,7):r):"rgb"===t?this.convertToRgbString(s.slice(0,3)):"null";e=this.roundValue(e);var o=this.hexToRgb(e);return("rgb"===t||"hsv"===t)&&(o=o.slice(0,3)),"rgba"===t||"rgb"===t?this.convertToRgbString(o):"hsva"===t||"hsv"===t?this.convertToHsvString(this.rgbToHsv.apply(this,o)):"hex"===t?e.slice(0,7):"a"===t?o[3].toString():"null"},i.prototype.toggle=function(){this.container.parentElement.classList.contains("e-popup-close")?this.splitBtn.toggle():this.closePopup(null)},i.prototype.getModuleName=function(){return"colorpicker"},i.prototype.getPersistData=function(){return this.addOnPersist(["value"])},i.prototype.wireEvents=function(){if(this.isPicker()){var e=this.getDragHandler();n.bi.add(e,"keydown",this.pickerKeyDown,this);var t=(0,n.Ys)("."+Al,this.container);t&&n.bi.add(t,"keydown",this.ctrlBtnKeyDown,this),n.bi.add(this.getHsvContainer(),"mousedown touchstart",this.handlerDown,this),(this.modeSwitcher||this.showButtons)&&this.addCtrlSwitchEvent(),n.bi.add((0,n.Ys)("."+Rd,this.container),"click",this.previewHandler,this)}else n.bi.add(this.container,"click",this.paletteClickHandler,this),n.bi.add(this.container,"keydown",this.paletteKeyDown,this)},i.prototype.formResetHandler=function(){this.value=this.initialInputValue,(0,n.Y4)(this.element,{value:this.initialInputValue})},i.prototype.addCtrlSwitchEvent=function(){var e=(0,n.Ys)("."+ra,this.container);e&&n.bi.add(e,"click",this.btnClickHandler,this)},i.prototype.ctrlBtnKeyDown=function(e){if(13===e.keyCode){if((0,n.Ys)("."+Ml,this.container)){var s=this.rgbToHex(this.rgb);this.triggerChangeEvent(s)}this.splitBtn.element.focus()}},i.prototype.pickerKeyDown=function(e){switch(e.keyCode){case 39:this.handlerDragPosition(1,this.enableRtl?-1:1,e);break;case 37:this.handlerDragPosition(1,this.enableRtl?1:-1,e);break;case 38:this.handlerDragPosition(2,1,e);break;case 40:this.handlerDragPosition(2,-1,e);break;case 13:e.preventDefault();var t=this.rgbToHex(this.rgb);this.enterKeyHandler(t,e)}},i.prototype.enterKeyHandler=function(e,t){this.triggerChangeEvent(e),this.inline||this.splitBtn.element.focus()},i.prototype.closePopup=function(e){var t=this;this.trigger("beforeClose",{element:this.container,event:e,cancel:!1},function(r){r.cancel||(t.splitBtn.toggle(),t.onPopupClose())})},i.prototype.triggerChangeEvent=function(e){var t=e.slice(0,7);this.trigger("change",{currentValue:{hex:t,rgba:this.convertToRgbString(this.rgb)},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:this.enableOpacity?e:t}),this.setProperties(this.enableOpacity?{value:e}:{value:t},!0),this.element.value=t||"#000000"},i.prototype.handlerDragPosition=function(e,t,s){s.preventDefault(),this.hsv[e]+=t*(s.ctrlKey?1:3),this.hsv[e]<0&&(this.hsv[e]=0),this.updateHsv(),this.convertToOtherFormat(!0)},i.prototype.handlerDown=function(e){e.preventDefault(),"mousedown"===e.type?(this.clientX=Math.abs(e.pageX-pageXOffset),this.clientY=Math.abs(e.pageY-pageYOffset),this.setTooltipOffset(8)):(this.clientX=Math.abs(e.changedTouches[0].pageX-pageXOffset),this.clientY=Math.abs(e.changedTouches[0].pageY-pageYOffset),this.setTooltipOffset(-8)),this.setHsv(this.clientX,this.clientY),this.getDragHandler().style.transition="left .4s cubic-bezier(.25, .8, .25, 1), top .4s cubic-bezier(.25, .8, .25, 1)",this.updateHsv(),this.convertToOtherFormat(),this.getDragHandler().focus(),n.bi.add(document,"mousemove touchmove",this.handlerMove,this),n.bi.add(document,"mouseup touchend",this.handlerEnd,this)},i.prototype.handlerMove=function(e){var t,s;"touchmove"!==e.type&&e.preventDefault(),"mousemove"===e.type?(t=Math.abs(e.pageX-pageXOffset),s=Math.abs(e.pageY-pageYOffset)):(t=Math.abs(e.changedTouches[0].pageX-pageXOffset),s=Math.abs(e.changedTouches[0].pageY-pageYOffset)),this.setHsv(t,s);var r=this.getDragHandler();this.updateHsv(),this.convertToOtherFormat(),this.getTooltipInst().refresh(r),this.tooltipEle.style.transform||(Math.abs(this.clientX-t)>8||Math.abs(this.clientY-s)>8)&&((0,n.Ys)("."+Il,this.container).style.cursor="pointer",r.style.transition="none",this.inline||(this.tooltipEle.style.zIndex=(parseInt(this.getPopupEle().style.zIndex,10)+1).toString()),this.tooltipEle.style.transform="rotate(45deg)",r.classList.add("e-hide-handler"))},i.prototype.setHsv=function(e,t){var s=(0,n.Ys)("."+Il,this.container),r=s.getBoundingClientRect();e=this.enableRtl?e>r.right?0:Math.abs(e-r.right):e>r.left?Math.abs(e-r.left):0,t=t>r.top?Math.abs(t-r.top):0,this.hsv[2]=Math.round(10*Number(100*(s.offsetHeight-Math.max(0,Math.min(s.offsetHeight,t-s.offsetTop)))/s.offsetHeight))/10,this.hsv[1]=Math.round(10*Number(100*Math.max(0,Math.min(s.offsetWidth,e-s.offsetLeft))/s.offsetWidth))/10},i.prototype.handlerEnd=function(e){"touchend"!==e.type&&e.preventDefault(),n.bi.remove(document,"mousemove touchmove",this.handlerMove),n.bi.remove(document,"mouseup touchend",this.handlerEnd);var t=this.getDragHandler();(0,n.Ys)("."+Il,this.container).style.cursor="",this.tooltipEle.style.transform&&(this.tooltipEle.style.transform="",t.classList.remove("e-hide-handler")),!this.inline&&!this.showButtons&&this.closePopup(e)},i.prototype.btnClickHandler=function(e){var t=e.target;(0,n.oq)(t,"."+Ed)?(e.stopPropagation(),this.switchToPalette()):(t.classList.contains(Ml)||t.classList.contains(Id))&&this.ctrlBtnClick(t,e)},i.prototype.switchToPalette=function(){this.trigger("beforeModeSwitch",{element:this.container,mode:"Palette"}),this.unWireEvents(),this.destroyOtherComp(),(0,n.og)((0,n.Ys)(".e-slider-preview",this.container)),this.getWrapper().classList.contains(vo)||(0,n.Od)((0,n.Ys)("."+oa,this.container)),(0,n.og)(this.getHsvContainer()),this.createPalette(),this.firstPaletteFocus(),this.createInput(),this.refreshPopupPos(),this.element.parentElement&&this.element.parentElement.parentElement&&this.element.parentElement.parentElement.classList.contains("e-ie-ddb-popup")&&this.refreshImageEditorPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Palette"})},i.prototype.refreshImageEditorPopupPos=function(){if(n.AR.isDevice){var e=this.getPopupEle();e.style.left=(0,n.Ac)(0+pageXOffset),e.style.top=(0,n.Ac)(0+pageYOffset);var t=document.querySelector("#"+this.element.parentElement.parentElement.id.split("-popup")[0]);t&&e.parentElement.ej2_instances[0].refreshPosition(t)}},i.prototype.refreshPopupPos=function(){if(!this.inline){var e=this.getPopupEle();e.style.left=(0,n.Ac)(0+pageXOffset),e.style.top=(0,n.Ac)(0+pageYOffset),this.getPopupInst().refreshPosition(this.splitBtn.element.parentElement)}},i.prototype.formatSwitchHandler=function(){this.isRgb?(this.updateValue(this.hsv,!0,3,[360,100,100]),this.isRgb=!1):(this.updateValue(this.rgb,!0,2),this.isRgb=!0)},i.prototype.updateValue=function(e,t,s,r){for(var a,o=["e-rh-value","e-gs-value","e-bv-value"],d=0,c=o.length;d<c;d++)(a=(0,n.s8)((0,n.Ys)("."+o[d],this.container),ia)).value=Math.round(e[d]),t&&(a.placeholder=o[d].substr(s,1).toUpperCase(),a.max=r?r[d]:255),a.dataBind()},i.prototype.previewHandler=function(e){var t=e.target,s=this.rgbToHex(this.rgb);this.rgb=this.convertRgbToNumberArray(t.style.backgroundColor),this.rgb[3]||(this.rgb[3]=1);var r=this.rgbToHex(this.rgb),o=this.rgbToHsv.apply(this,this.rgb);o[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:o[0]},!0),this.hueSlider.refresh()),this.setHsvContainerBg(o[0]),this.enableOpacity&&o[3]!==this.hsv[3]&&(this.opacitySlider.setProperties({value:100*o[3]},!0),this.opacitySlider.refresh(),this.updateOpacitySliderBg()),this.hsv=o,this.setHandlerPosition(),this.updateInput(r),(0,n.Ys)("."+jd+" ."+Pf,this.container).style.backgroundColor=this.convertToRgbString(this.rgb),this.triggerEvent(r,s,this.convertToRgbString(this.rgb))},i.prototype.paletteClickHandler=function(e){e.preventDefault();var t=e.target;if(t.classList.contains(Fd)){if(this.removeTileSelection(),this.addTileSelection(t),t.classList.contains(Lf))this.noColorTile();else{var s=t.getAttribute("aria-label"),r=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(this.roundValue(s)),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(aa)&&this.updateInput(s),this.triggerEvent(s,r,this.convertToRgbString(this.rgb))}!this.inline&&!this.showButtons&&this.closePopup(e)}else(0,n.oq)(t,"."+Ed)?this.switchToPicker():t.classList.contains(Ml)||t.classList.contains(Id)?this.ctrlBtnClick(t,e):this.getWrapper().classList.contains(aa)&&(0,n.oq)(t,"."+r0)&&this.formatSwitchHandler()},i.prototype.noColorTile=function(e){void 0===e&&(e=!1);var t=this.rgbToHex(this.rgb);this.rgb=[],this.hsv=[],this.triggerEvent("",t,"",e)},i.prototype.switchToPicker=function(){var e=this.getWrapper();this.trigger("beforeModeSwitch",{element:this.container,mode:"Picker"}),this.unWireEvents(),[].slice.call((0,n.td)("."+El,this.container)).forEach(function(s){(0,n.og)(s)}),e.classList.contains(aa)&&(0,n.og)((0,n.Ys)("."+oa,this.container)),this.container.style.width="";var t=(0,n.Ys)(".e-custom-palette",this.container);this.presetColors&&(0,n.Od)(t),this.createPicker(),this.getDragHandler().focus(),this.createInput(),this.refreshPopupPos(),this.element.parentElement&&this.element.parentElement.parentElement&&this.element.parentElement.parentElement.classList.contains("e-ie-ddb-popup")&&this.refreshImageEditorPopupPos(),this.wireEvents(),this.trigger("onModeSwitch",{element:this.container,mode:"Picker"})},i.prototype.ctrlBtnClick=function(e,t){if(e.classList.contains(Ml)){var s=this.rgbToHex(this.rgb);this.triggerChangeEvent(s)}this.inline?e.classList.contains(Id)&&this.trigger("beforeClose",{element:this.container,event:t,cancel:!1}):(this.closePopup(t),this.splitBtn.element.focus())},i.prototype.paletteKeyDown=function(e){var t=e.target;if(t.classList.contains(El)){var s,r,o=[].slice.call((0,n.td)("."+Fd,t)),a=o.filter(function(c){return c.classList.contains("e-selected")}).pop();switch(!e.altKey&&e.keyCode){case 39:e.preventDefault(),s=a?o[this.tilePosition(o,a,this.enableRtl?-1:1)]:o[this.enableRtl?o.length-1:0],this.keySelectionChanges(s);break;case 37:e.preventDefault(),s=a?o[this.tilePosition(o,a,this.enableRtl?1:-1)]:o[this.enableRtl?0:o.length-1],this.keySelectionChanges(s);break;case 38:e.preventDefault(),r=a?this.tilePosition(o,a,-this.columns):0,this.keySelectionChanges(s=o[r]?o[r]:o[r-this.columns]);break;case 40:e.preventDefault(),o[r=a?this.tilePosition(o,a,this.columns):o.length-1]||(r%=o.length,r+=o[o.length-1].parentElement.childElementCount),this.keySelectionChanges(s=o[r]);break;case 13:if(e.preventDefault(),a){var d=a.getAttribute("aria-label");this.enterKeyHandler(d||"",e)}}}},i.prototype.keySelectionChanges=function(e){if(this.removeTileSelection(),this.addTileSelection(e),e.classList.contains(Lf))this.noColorTile(!0);else{var t=e.getAttribute("aria-label"),s=this.rgbToHex(this.rgb);this.rgb=this.hexToRgb(t),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.getWrapper().classList.contains(aa)&&this.updateInput(t),this.triggerEvent(t,s,this.convertToRgbString(this.rgb),!0)}},i.prototype.tilePosition=function(e,t,s){var r=(e=Array.prototype.slice.call(e)).length,o=this.columns-e[r-1].parentElement.childElementCount,a=e.indexOf(t);return(a+=s)<0?a+=r+o:a%=r+o,a},i.prototype.inputHandler=function(e){var s,r,t=e.target;if(t.value.length)switch((0,n.Ys)(".e-float-text",t.parentElement).textContent){case"HEX":var a="";if(("#"===t.value[0]&&5!==t.value.length||"#"!==t.value[0]&&4!==t.value.length)&&(a=this.roundValue(t.value)),9!==a.length)return;r=this.rgbToHex(this.rgb),this.rgb=this.hexToRgb(a+a.substr(-2)),this.inputValueChange(this.rgbToHsv.apply(this,this.rgb),r,t.value);break;case"R":this.rgb[0]!==Number(t.value)&&(r=this.rgbToHex(this.rgb),this.rgb[0]=Number(t.value),s=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(s,r));break;case"G":this.rgb[1]!==Number(t.value)&&(r=this.rgbToHex(this.rgb),this.rgb[1]=Number(t.value),s=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(s,r));break;case"B":this.rgb[2]!==Number(t.value)&&(r=this.rgbToHex(this.rgb),this.rgb[2]=Number(t.value),s=this.rgbToHsv.apply(this,this.rgb),this.inputValueChange(s,r));break;case"H":this.hueSlider.value=Number(t.value);break;case"S":this.hsv[1]!==Number(t.value)&&(this.hsv[1]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"V":this.hsv[2]!==Number(t.value)&&(this.hsv[2]=Number(t.value),this.updateHsv(),this.convertToOtherFormat());break;case"A":this.opacitySlider.value=Number(t.value)}},i.prototype.inputValueChange=function(e,t,s){e[0]!==this.hsv[0]&&(this.hueSlider.setProperties({value:e[0]},!0),this.hueSlider.refresh(),this.setHsvContainerBg(e[0])),this.hsv=e;var r=this.rgbToHex(this.rgb);this.setHandlerPosition(),this.updateInput(s||r);var o=this.convertToRgbString(this.rgb);this.updatePreview(o),this.triggerEvent(r,t,o)},i.prototype.triggerEvent=function(e,t,s,r){void 0===r&&(r=!1);var o=e.slice(0,7);this.showButtons||r?this.trigger("select",{currentValue:{hex:o,rgba:s},previousValue:{hex:t.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(t))}}):(this.trigger("change",{currentValue:{hex:o,rgba:s},previousValue:{hex:this.value.slice(0,7),rgba:this.convertToRgbString(this.hexToRgb(this.value))},value:e}),this.setProperties(this.enableOpacity?{value:e}:{value:o},!0),this.element.value=o||"#000000")},i.prototype.destroy=function(){var e=this,t=this.getWrapper();h.prototype.destroy.call(this),["tabindex","spellcheck"].forEach(function(s){e.element.removeAttribute(s)}),this.inline?(this.unWireEvents(),this.destroyOtherComp()):(this.isPopupOpen()&&(this.unWireEvents(),this.destroyOtherComp()),this.splitBtn.destroy(),this.splitBtn=null),this.tileRipple(),this.tileRipple=null,this.ctrlBtnRipple(),this.ctrlBtnRipple=null,this.element.nextElementSibling&&(0,n.og)(this.element.nextElementSibling),t&&(t.parentElement.insertBefore(this.element,t),(0,n.og)(t)),this.container=null,this.formElement&&n.bi.remove(this.formElement,"reset",this.formResetHandler)},i.prototype.destroyOtherComp=function(){if(this.isPicker()){for(var t=(0,n.oq)(this.hueSlider.element,".e-color-picker").querySelectorAll(".e-numerictextbox"),s=0;s<t.length;s++)(0,n.s8)(t[s],ia).destroy();this.hueSlider.destroy(),this.enableOpacity&&(this.opacitySlider.destroy(),this.opacitySlider=null),this.hueSlider=null;var r=this.getTooltipInst();r.close(),r.destroy(),this.tooltipEle=null}},i.prototype.isPopupOpen=function(){return this.getPopupEle().classList.contains("e-popup-open")},i.prototype.unWireEvents=function(){if(this.isPicker()){var e=this.getDragHandler();n.bi.remove(e,"keydown",this.pickerKeyDown);var t=(0,n.Ys)("."+Al,this.container);t&&n.bi.remove(t,"keydown",this.ctrlBtnKeyDown),n.bi.remove(this.getHsvContainer(),"mousedown touchstart",this.handlerDown),(this.modeSwitcher||this.showButtons)&&n.bi.remove((0,n.Ys)("."+ra,this.container),"click",this.btnClickHandler),n.bi.remove((0,n.Ys)("."+Rd,this.container),"click",this.previewHandler)}else n.bi.remove(this.container,"click",this.paletteClickHandler),n.bi.remove(this.container,"keydown",this.paletteKeyDown)},i.prototype.roundValue=function(e){if(!e)return"";"#"!==e[0]&&(e="#"+e);var t=e.length;if(4===t&&(e+="f",t=5),5===t){for(var s="",r=1,o=e.length;r<o;r++)s+=e.charAt(r)+e.charAt(r);e="#"+s,t=9}return 7===t&&(e+="ff"),e},i.prototype.hexToRgb=function(e){if(!e)return[];9!==(e=e.trim()).length&&(e=this.roundValue(e));var t=Number((parseInt(e.slice(-2),16)/255).toFixed(2));e=e.slice(1,7);var s=parseInt(e,16),r=[];return r.push(s>>16&255),r.push(s>>8&255),r.push(255&s),r.push(t),r},i.prototype.rgbToHsv=function(e,t,s,r){if(this.rgb&&!this.rgb.length)return[];e/=255,t/=255,s/=255;var d,o=Math.max(e,t,s),a=Math.min(e,t,s),c=o,p=o-a,u=0===o?0:p/o;if(o===a)d=0;else{switch(o){case e:d=(t-s)/p+(t<s?6:0);break;case t:d=(s-e)/p+2;break;case s:d=(e-t)/p+4}d/=6}var f=[Math.round(360*d),Math.round(1e3*u)/10,Math.round(1e3*c)/10];return(0,n.le)(r)||f.push(r),f},i.prototype.hsvToRgb=function(e,t,s,r){var o,a,d;if(s/=100,0==(t/=100))return o=a=d=s,[Math.round(255*o),Math.round(255*a),Math.round(255*d),r];e/=60;var c=Math.floor(e),p=e-c,u=s*(1-t),f=s*(1-t*p),v=s*(1-t*(1-p));switch(c){case 0:o=s,a=v,d=u;break;case 1:o=f,a=s,d=u;break;case 2:o=u,a=s,d=v;break;case 3:o=u,a=f,d=s;break;case 4:o=v,a=u,d=s;break;default:o=s,a=u,d=f}var g=[Math.round(255*o),Math.round(255*a),Math.round(255*d)];return(0,n.le)(r)||g.push(r),g},i.prototype.rgbToHex=function(e){return e.length?"#"+this.hex(e[0])+this.hex(e[1])+this.hex(e[2])+((0,n.le)(e[3])?"":0!==e[3]?(Math.round(255*e[3])+65536).toString(16).substr(-2):"00"):""},i.prototype.hex=function(e){return("0"+e.toString(16)).slice(-2)},i.prototype.changeModeSwitcherProp=function(e){var t=(0,n.Ys)("."+ra,this.container);e?t?this.appendModeSwitchBtn():(this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):t&&(this.showButtons?(0,n.og)((0,n.Ys)("."+Ed,t)):(0,n.Od)(t))},i.prototype.changeShowBtnProps=function(e){var t=(0,n.Ys)("."+ra,this.container);e?(t&&(0,n.Od)(t),this.createCtrlBtn(),this.isPicker()&&!this.disabled&&this.addCtrlSwitchEvent()):this.modeSwitcher?(0,n.og)((0,n.Ys)("."+Al,t)):(0,n.Od)(t)},i.prototype.changeValueProp=function(e){if(this.isPicker())this.rgb=this.hexToRgb(e),this.hsv=this.rgbToHsv.apply(this,this.rgb),this.setHandlerPosition(),(0,n.og)((0,n.oq)(this.hueSlider.element,".e-slider-preview")),this.createSlider(),this.setHsvContainerBg(),this.updateInput(e),4===this.rgb.length&&this.updateOpacityInput(100*this.rgb[3]);else{this.removeTileSelection();var t=this.container.querySelector('span[aria-label="'+this.roundValue(e)+'"]');t&&this.addTileSelection(t)}},i.prototype.setInputEleProps=function(){(0,n.Od)((0,n.Ys)("."+oa,this.container)),this.createInput()},i.prototype.changeDisabledProp=function(e){this.isPicker()&&(this.hueSlider.enabled=!e,this.opacitySlider.enabled=!e,this.setInputEleProps()),e?(this.toggleDisabled(!0),this.unWireEvents()):(this.toggleDisabled(!1),this.wireEvents())},i.prototype.changeCssClassProps=function(e,t){var s=this.getWrapper(),r=this.getPopupEle();t&&(0,n.IV)([s,r],t.split(" ")),e&&(0,n.cn)([s,r],e.replace(/\s+/g," ").trim().split(" "))},i.prototype.changeRtlProps=function(e){e?(0,n.cn)([this.getWrapper()],"e-rtl"):(0,n.IV)([this.getWrapper()],"e-rtl")},i.prototype.changePaletteProps=function(){(0,n.og)(this.container.children[0]),this.container.style.width="",this.createPalette()},i.prototype.changeOpacityProps=function(e){var t=this.getWrapper();e?((0,n.IV)([this.container.parentElement],kf),this.createOpacitySlider((0,n.Ys)(".e-colorpicker-slider",this.container).appendChild(this.createElement("div",{className:"e-opacity-slider"}))),!t.classList.contains(vo)&&!t.classList.contains(na)&&this.appendOpacityValue((0,n.Ys)(".e-input-container",this.container))):((0,n.cn)([this.container.parentElement],kf),this.opacitySlider.destroy(),(0,n.Od)(this.opacitySlider.element),this.opacitySlider=null,!t.classList.contains(vo)&&!t.classList.contains(na)&&(0,n.Od)((0,n.Ys)("."+Of,this.container).parentElement))},i.prototype.onPropertyChanged=function(e,t){var s=this;if(!(0,n.le)(e.value)){var r=this.roundValue(e.value);if(9===r.length)this.element.value=this.roundValue(r).slice(0,7),(o=this.splitBtn&&(0,n.Ys)("."+Yd,this.splitBtn.element))&&(o.style.backgroundColor=this.convertToRgbString(this.hexToRgb(e.value)));else if(this.noColor&&"Palette"===this.mode&&""===this.value){var o;(o=this.splitBtn&&(0,n.Ys)("."+Yd,this.splitBtn.element)).style.backgroundColor=""}else this.value=t.value}if(!this.inline&&(0,n.le)(e.inline)&&(this.splitBtn.setProperties(Sl(e,["disabled","enableRtl"])),!this.isPopupOpen()))return this.changeCssClassProps(e.cssClass,t.cssClass),void this.changeRtlProps(e.enableRtl);for(var d=function(v){switch(v){case"inline":e.inline?(c.getWrapper().appendChild(c.container),c.splitBtn.destroy(),(0,n.og)(c.element.nextElementSibling),c.container.children.length||c.createWidget()):(c.destroyOtherComp(),c.unWireEvents(),c.container.innerHTML="",c.createSplitBtn());break;case"cssClass":c.changeCssClassProps(e.cssClass,t.cssClass);var g=e.cssClass.split(" ").concat(t.cssClass.split(" "));g=g.reduce(function(C,T){return C.indexOf(T)<0&&C.push(T),C},[]);var b=0;g.forEach(function(C){0!==b||C!==vo&&C!==a0&&C!==aa&&C!==Tf&&C!==na||((0,n.Ys)("."+oa,s.container)&&(0,n.Od)((0,n.Ys)("."+oa,s.container)),s.createInput(),b++)});break;case"enableRtl":c.isPicker()&&(c.hueSlider.enableRtl=e.enableRtl,c.enableOpacity&&(c.opacitySlider.enableRtl=e.enableRtl),c.setInputEleProps()),c.changeRtlProps(e.enableRtl);break;case"disabled":c.changeDisabledProp(e.disabled);break;case"value":c.value!==t.value&&c.changeValueProp(e.value);break;case"showButtons":c.changeShowBtnProps(e.showButtons);break;case"mode":"Picker"===e.mode?c.switchToPicker():c.switchToPalette();break;case"modeSwitcher":c.changeModeSwitcherProp(e.modeSwitcher);break;case"columns":case"presetColors":c.isPicker()||c.changePaletteProps();break;case"noColor":e.noColor?"Palette"===c.mode&&!c.modeSwitcher&&c.setNoColor():c.changePaletteProps();break;case"enableOpacity":c.changeOpacityProps(e.enableOpacity)}},c=this,p=0,u=Object.keys(e);p<u.length;p++)d(u[p])},i.prototype.focusIn=function(){this.element.parentElement.focus()},pi([(0,n.Z9)("#008000ff")],i.prototype,"value",void 0),pi([(0,n.Z9)("")],i.prototype,"cssClass",void 0),pi([(0,n.Z9)(!1)],i.prototype,"disabled",void 0),pi([(0,n.Z9)("Picker")],i.prototype,"mode",void 0),pi([(0,n.Z9)(!0)],i.prototype,"modeSwitcher",void 0),pi([(0,n.Z9)(null)],i.prototype,"presetColors",void 0),pi([(0,n.Z9)(!0)],i.prototype,"showButtons",void 0),pi([(0,n.Z9)(10)],i.prototype,"columns",void 0),pi([(0,n.Z9)(!1)],i.prototype,"inline",void 0),pi([(0,n.Z9)(!1)],i.prototype,"noColor",void 0),pi([(0,n.Z9)(!1)],i.prototype,"enablePersistence",void 0),pi([(0,n.Z9)(!0)],i.prototype,"enableOpacity",void 0),pi([(0,n.Z9)(!1)],i.prototype,"createPopupOnClick",void 0),pi([(0,n.ju)()],i.prototype,"select",void 0),pi([(0,n.ju)()],i.prototype,"change",void 0),pi([(0,n.ju)()],i.prototype,"beforeTileRender",void 0),pi([(0,n.ju)()],i.prototype,"beforeOpen",void 0),pi([(0,n.ju)()],i.prototype,"open",void 0),pi([(0,n.ju)()],i.prototype,"beforeClose",void 0),pi([(0,n.ju)()],i.prototype,"beforeModeSwitch",void 0),pi([(0,n.ju)()],i.prototype,"onModeSwitch",void 0),pi([(0,n.ju)()],i.prototype,"created",void 0),pi([n.Zl],i)}(n.wA),St=function(){function h(i){return this.subQuery=null,this.isChild=!1,this.distincts=[],this.queries=[],this.key="",this.fKey="","string"==typeof i?this.fromTable=i:i&&i instanceof Array&&(this.lookups=i),this.expands=[],this.sortedColumns=[],this.groupedColumns=[],this.subQuery=null,this.isChild=!1,this.params=[],this.lazyLoad=[],this}return h.prototype.setKey=function(i){return this.key=i,this},h.prototype.using=function(i){return this.dataManager=i,this},h.prototype.execute=function(i,e,t,s){return(i=i||this.dataManager)?i.executeQuery(this,e,t,s):ee.throwError('Query - execute() : dataManager needs to be is set using "using" function or should be passed as argument')},h.prototype.executeLocal=function(i){return(i=i||this.dataManager)?i.executeLocal(this):ee.throwError('Query - executeLocal() : dataManager needs to be is set using "using" function or should be passed as argument')},h.prototype.clone=function(){var i=new h;return i.queries=this.queries.slice(0),i.key=this.key,i.isChild=this.isChild,i.dataManager=this.dataManager,i.fromTable=this.fromTable,i.params=this.params.slice(0),i.expands=this.expands.slice(0),i.sortedColumns=this.sortedColumns.slice(0),i.groupedColumns=this.groupedColumns.slice(0),i.subQuerySelector=this.subQuerySelector,i.subQuery=this.subQuery,i.fKey=this.fKey,i.isCountRequired=this.isCountRequired,i.distincts=this.distincts.slice(0),i.lazyLoad=this.lazyLoad.slice(0),i},h.prototype.from=function(i){return this.fromTable=i,this},h.prototype.addParams=function(i,e){return this.params.push("function"==typeof e?{key:i,fn:e}:{key:i,value:e}),this},h.prototype.distinct=function(i){return this.distincts="string"==typeof i?[].slice.call([i],0):i.slice(0),this},h.prototype.expand=function(i){return this.expands="string"==typeof i?[].slice.call([i],0):i.slice(0),this},h.prototype.where=function(i,e,t,s,r,o){e=e?e.toLowerCase():null;var a=null;return"string"==typeof i?a=new $i(i,e,t,s,r,o):i instanceof $i&&(a=i),this.queries.push({fn:"onWhere",e:a}),this},h.prototype.search=function(i,e,t,s,r){return"string"==typeof e&&(e=[e]),(!t||"none"===t)&&(t="contains"),this.queries.push({fn:"onSearch",e:{fieldNames:e,operator:t,searchKey:i,ignoreCase:s,ignoreAccent:r,comparer:ee.fnOperators[t]}}),this},h.prototype.sortBy=function(i,e,t){return this.sortByForeignKey(i,e,t)},h.prototype.sortByForeignKey=function(i,e,t,s){var o,a,r=(0,n.le)(s)?"ascending":s;if("string"==typeof i&&ee.endsWith(i.toLowerCase()," desc")&&(i=i.replace(/ desc$/i,""),e="descending"),(!e||"string"==typeof e)&&(r=e?e.toLowerCase():"ascending",e=ee.fnSort(e)),t){o=h.filterQueries(this.queries,"onSortBy");for(var d=0;d<o.length;d++)if("string"==typeof(a=o[d].e.fieldName)){if(a===i)return this}else if(a instanceof Array)for(var c=0;c<a.length;c++)if(a[c]===i||i.toLowerCase()===a[c]+" desc")return this}return this.queries.push({fn:"onSortBy",e:{fieldName:i,comparer:e,direction:r}}),this},h.prototype.sortByDesc=function(i){return this.sortBy(i,"descending")},h.prototype.group=function(i,e,t){return this.sortBy(i,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:i,comparer:e||null,format:t||null}}),this},h.prototype.page=function(i,e){return this.queries.push({fn:"onPage",e:{pageIndex:i,pageSize:e}}),this},h.prototype.range=function(i,e){return this.queries.push({fn:"onRange",e:{start:i,end:e}}),this},h.prototype.take=function(i){return this.queries.push({fn:"onTake",e:{nos:i}}),this},h.prototype.skip=function(i){return this.queries.push({fn:"onSkip",e:{nos:i}}),this},h.prototype.select=function(i){return"string"==typeof i&&(i=[].slice.call([i],0)),this.queries.push({fn:"onSelect",e:{fieldNames:i}}),this},h.prototype.hierarchy=function(i,e){return this.subQuerySelector=e,this.subQuery=i,this},h.prototype.foreignKey=function(i){return this.fKey=i,this},h.prototype.requiresCount=function(){return this.isCountRequired=!0,this},h.prototype.aggregate=function(i,e){return this.queries.push({fn:"onAggregates",e:{field:e,type:i}}),this},h.filterQueries=function(i,e){return i.filter(function(t){return t.fn===e})},h.filterQueryLists=function(i,e){for(var t=i.filter(function(o){return-1!==e.indexOf(o.fn)}),s={},r=0;r<t.length;r++)s[t[r].fn]||(s[t[r].fn]=t[r].e);return s},h}(),$i=function(){function h(i,e,t,s,r,o){return void 0===s&&(s=!1),this.ignoreAccent=!1,this.isComplex=!1,"string"==typeof i?(this.field=i,this.operator=e.toLowerCase(),this.value=t,this.matchCase=o,this.ignoreCase=s,this.ignoreAccent=r,this.isComplex=!1,this.comparer=ee.fnOperators.processOperator(this.operator)):(i instanceof h&&t instanceof h||t instanceof Array)&&(this.isComplex=!0,this.condition=e.toLowerCase(),this.predicates=[i],this.matchCase=i.matchCase,this.ignoreCase=i.ignoreCase,this.ignoreAccent=i.ignoreAccent,t instanceof Array?[].push.apply(this.predicates,t):this.predicates.push(t)),this}return h.and=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return h.combinePredicates([].slice.call(i,0),"and")},h.prototype.and=function(i,e,t,s,r){return h.combine(this,i,e,t,"and",s,r)},h.or=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return h.combinePredicates([].slice.call(i,0),"or")},h.prototype.or=function(i,e,t,s,r){return h.combine(this,i,e,t,"or",s,r)},h.ornot=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return h.combinePredicates([].slice.call(i,0),"or not")},h.prototype.ornot=function(i,e,t,s,r){return h.combine(this,i,e,t,"ornot",s,r)},h.andnot=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return h.combinePredicates([].slice.call(i,0),"and not")},h.prototype.andnot=function(i,e,t,s,r){return h.combine(this,i,e,t,"andnot",s,r)},h.fromJson=function(i){if(i instanceof Array){for(var e=[],t=0,s=i.length;t<s;t++)e.push(this.fromJSONData(i[t]));return e}return this.fromJSONData(i)},h.prototype.validate=function(i){var t,s,e=this.predicates?this.predicates:[];if(!this.isComplex&&this.comparer)return this.condition&&-1!==this.condition.indexOf("not")?(this.condition=""===this.condition.split("not")[0]?void 0:this.condition.split("not")[0],!this.comparer.call(this,ee.getObject(this.field,i),this.value,this.ignoreCase,this.ignoreAccent)):this.comparer.call(this,ee.getObject(this.field,i),this.value,this.ignoreCase,this.ignoreAccent);s=this.condition&&-1!==this.condition.indexOf("not")?-1!==this.condition.indexOf("and"):"and"===this.condition;for(var r=0;r<e.length;r++)if(r>0&&this.condition&&-1!==this.condition.indexOf("not")&&(e[r].condition=e[r].condition?e[r].condition+"not":"not"),t=e[r].validate(i),s){if(!t)return!1}else if(t)return!0;return s},h.prototype.toJson=function(){var i,e;if(this.isComplex){i=[],e=this.predicates;for(var t=0;t<e.length;t++)i.push(e[t].toJson())}return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:i,matchCase:this.matchCase}},h.combinePredicates=function(i,e){if(1===i.length){if(!(i[0]instanceof Array))return i[0];i=i[0]}return new h(i[0],e,i.slice(1))},h.combine=function(i,e,t,s,r,o,a){return e instanceof h?h[r](i,e):"string"==typeof e?h[r](i,new h(e,t,s,o,a)):ee.throwError("Predicate - "+r+" : invalid arguments")},h.fromJSONData=function(i){for(var e=i.predicates||[],t=e.length,s=[],o=0;o<t;o++)s.push(this.fromJSONData(e[o]));return i.isComplex?new h(s[0],i.condition,s.slice(1)):new h(i.field,i.operator,i.value,i.ignoreCase,i.ignoreAccent)},h}(),C0={GroupGuid:"{271bbba0-1ee7}"},ee=function(){function h(){}return h.getValue=function(i,e){return"function"==typeof i?i.call(e||{}):i},h.endsWith=function(i,e){return i.slice&&i.slice(-e.length)===e},h.notEndsWith=function(i,e){return i.slice&&i.slice(-e.length)!==e},h.startsWith=function(i,e){return i.slice(0,e.length)===e},h.notStartsWith=function(i,e){return i.slice(0,e.length)!==e},h.wildCard=function(i,e){var t,s;if(-1!==e.indexOf("[")&&(e=e.split("[").join("[[]")),-1!==e.indexOf("(")&&(e=e.split("(").join("[(]")),-1!==e.indexOf(")")&&(e=e.split(")").join("[)]")),-1!==e.indexOf("\\")&&(e=e.split("\\").join("[\\\\]")),-1!==e.indexOf("*")){"*"!==e.charAt(0)&&(e="^"+e),"*"!==e.charAt(e.length-1)&&(e+="$"),t=e.split("*");for(var r=0;r<t.length;r++)t[r]=-1===t[r].indexOf(".")?t[r]+".*":t[r]+"*";e=t.join("")}return(-1!==e.indexOf("%3f")||-1!==e.indexOf("?"))&&(s=-1!==e.indexOf("%3f")?e.split("%3f"):e.split("?"),e=s.join(".")),new RegExp(e,"g").test(i)},h.like=function(i,e){return-1!==e.indexOf("%")&&("%"===e.charAt(0)&&e.lastIndexOf("%")<2?(e=e.substring(1,e.length),h.startsWith(h.toLowerCase(i),h.toLowerCase(e))):"%"===e.charAt(e.length-1)&&e.indexOf("%")>e.length-3?(e=e.substring(0,e.length-1),h.endsWith(h.toLowerCase(i),h.toLowerCase(e))):(e.lastIndexOf("%")!==e.indexOf("%")&&e.lastIndexOf("%")>e.indexOf("%")+1&&(e=e.substring(e.indexOf("%")+1,e.lastIndexOf("%"))),-1!==i.indexOf(e)))},h.fnSort=function(i){return"ascending"===(i=i?h.toLowerCase(i):"ascending")?this.fnAscending:this.fnDescending},h.fnAscending=function(i,e){return(0,n.le)(i)&&(0,n.le)(e)||null==e?-1:"string"==typeof i?i.localeCompare(e):null==i?1:i-e},h.fnDescending=function(i,e){return(0,n.le)(i)&&(0,n.le)(e)?-1:null==e?1:"string"==typeof i?-1*i.localeCompare(e):null==i?-1:e-i},h.extractFields=function(i,e){for(var t={},s=0;s<e.length;s++)t=this.setValue(e[s],this.getObject(e[s],i),t);return t},h.select=function(i,e){for(var t=[],s=0;s<i.length;s++)t.push(this.extractFields(i[s],e));return t},h.group=function(i,e,t,s,r,o,a){s=s||1;var d=i,c="GroupGuid";if(d.GroupGuid===C0[c]){for(var p=function(j){if((0,n.le)(r))d[j].items=u.group(d[j].items,e,t,d.level+1,null,o,a),d[j].count=d[j].items.length;else{var Y,H=r.filter(function(N){return N.key===d[j].key});Y=r.indexOf(H[0]),d[j].items=u.group(d[j].items,e,t,d.level+1,r[Y].items,o,a),d[j].count=r[Y].count}},u=this,f=0;f<d.length;f++)p(f);return d.childLevels+=1,d}var v={},g=[];g.GroupGuid=C0[c],g.level=s,g.childLevels=0,g.records=d;for(var b=function(j){var Y=C.getVal(d,j,e);if((0,n.le)(o)||(Y=o(Y,e)),!v[Y]&&(v[Y]={key:Y,count:0,items:[],aggregates:{},field:e},g.push(v[Y]),!(0,n.le)(r))){var H=r.filter(function(N){return N.key===v[Y].key});v[Y].count=H[0].count}v[Y].count=(0,n.le)(r)?v[Y].count+=1:v[Y].count,(!a||a&&t.length)&&v[Y].items.push(d[j])},C=this,T=0;T<d.length;T++)b(T);if(t&&t.length){var O=function(j){for(var Y={},H=void 0,N=t,ne=0;ne<t.length;ne++)if(H=h.aggregates[t[ne].type],(0,n.le)(r))H&&(Y[N[ne].field+" - "+N[ne].type]=H(g[j].items,N[ne].field));else{var re=r.filter(function(ce){return ce.key===g[j].key});H&&(Y[N[ne].field+" - "+N[ne].type]=H(re[0].items,N[ne].field))}g[j].aggregates=Y};for(T=0;T<g.length;T++)O(T)}if(a&&g.length&&t.length)for(T=0;T<g.length;T++)g[T].items=[];return d.length&&g||d},h.buildHierarchy=function(i,e,t,s,r){var o,a={};for(s.result&&(s=s.result),s.GroupGuid&&this.throwError("DataManager: Do not have support Grouping in hierarchy"),o=0;o<s.length;o++)(a[c=this.getObject(i,s[o])]||(a[c]=[])).push(s[o]);for(o=0;o<t.length;o++){var c=this.getObject(r||i,t[o]);t[o][e]=a[c]}},h.getFieldList=function(i,e,t){if(void 0===t&&(t=""),null==e)return this.getFieldList(i,[],t);for(var s=i,o=0,a=Object.keys(i);o<a.length;o++){var d=a[o];"object"!=typeof s[d]||s[d]instanceof Array?e.push(t+d):this.getFieldList(s[d],e,t+d+".")}return e},h.getObject=function(i,e){if(!i)return e;if(e){if(-1===i.indexOf(".")){var t=i.charAt(0).toLowerCase()+i.slice(1),s=i.charAt(0).toUpperCase()+i.slice(1);return(0,n.le)(e[i])?(0,n.le)(e[t])?(0,n.le)(e[s])?null:e[s]:e[t]:e[i]}for(var r=e,o=i.split("."),a=0;a<o.length&&null!=r;a++){if(void 0===(r=r[o[a]])){var d=o[a].charAt(0).toUpperCase()+o[a].slice(1);r=e[d]||e[d.charAt(0).toLowerCase()+d.slice(1)]||null}e=r}return r}},h.setValue=function(i,e,t){var a,c,s=i.toString().split("."),r=t||{},o=r,d=s.length;for(a=0;a<d;a++)c=s[a],a+1===d?o[c]=void 0===e?void 0:e:(0,n.le)(o[c])&&(o[c]={}),o=o[c];return r},h.sort=function(i,e,t){if(i.length<=1)return i;var s=parseInt((i.length/2).toString(),10),r=i.slice(0,s),o=i.slice(s);return r=this.sort(r,e,t),o=this.sort(o,e,t),this.merge(r,o,e,t)},h.ignoreDiacritics=function(i){return"string"!=typeof i?i:i.split("").map(function(s){return s in h.diacritics?h.diacritics[s]:s}).join("")},h.merge=function(i,e,t,s){for(var o,r=[];i.length>0||e.length>0;)o=i.length>0&&e.length>0?s?s(this.getVal(i,0,t),this.getVal(e,0,t),i[0],e[0])<=0?i:e:i[0][t]<i[0][t]?i:e:i.length>0?i:e,r.push(o.shift());return r},h.getVal=function(i,e,t){return t?this.getObject(t,i[e]):i[e]},h.toLowerCase=function(i){return i?"string"==typeof i?i.toLowerCase():i.toString():0===i||!1===i?i.toString():""},h.callAdaptorFunction=function(i,e,t,s){if(e in i){var r=i[e](t,s);(0,n.le)(r)||(t=r)}return t},h.getAddParams=function(i,e,t){var s={};return h.callAdaptorFunction(i,"addParams",{dm:e,query:t,params:t.params,reqParams:s}),s},h.isPlainObject=function(i){return!!i&&i.constructor===Object},h.isCors=function(){var i=null;try{i=new window.XMLHttpRequest}catch{}return!!i&&"withCredentials"in i},h.getGuid=function(i){var t;return(i||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(s,r){if("crypto"in window&&"getRandomValues"in crypto){var o=new Uint8Array(1);window.crypto.getRandomValues(o),t=o[0]%16|0}else t=16*Math.random()|0;return"0123456789abcdef"[19===r?3&t|8:t]})},h.isNull=function(i){return null==i},h.getItemFromComparer=function(i,e,t){var s,r,o,a=0,d="string"==typeof h.getVal(i,0,e);if(i.length)for(;(0,n.le)(s)&&a<i.length;)s=h.getVal(i,a,e),o=i[a++];for(;a<i.length;a++)r=h.getVal(i,a,e),!(0,n.le)(r)&&(d&&(s=+s,r=+r),t(s,r)>0&&(s=r,o=i[a]));return o},h.distinct=function(i,e,t){t=!(0,n.le)(t)&&t;var r,s=[],o={};return i.forEach(function(a,d){(r="object"==typeof i[d]?h.getVal(i,d,e):i[d])in o||(s.push(t?i[d]:r),o[r]=1)}),s},h.processData=function(i,e){var t=this.prepareQuery(i),s=new Xe(e);i.requiresCounts&&t.requiresCount();var r=s.executeLocal(t),o={result:i.requiresCounts?r.result:r,count:r.count,aggregates:JSON.stringify(r.aggregates)};return i.requiresCounts?o:r},h.prepareQuery=function(i){var e=this,t=new St;return i.select&&t.select(i.select),i.where&&h.parse.parseJson(i.where).filter(function(o){if((0,n.le)(o.condition))t.where(o.field,o.operator,o.value,o.ignoreCase,o.ignoreAccent);else{var a=[];o.field?a.push(new $i(o.field,o.operator,o.value,o.ignoreCase,o.ignoreAccent)):a=a.concat(e.getPredicate(o.predicates)),"or"===o.condition?t.where($i.or(a)):"and"===o.condition&&t.where($i.and(a))}}),i.search&&h.parse.parseJson(i.search).filter(function(o){return t.search(o.key,o.fields,o.operator,o.ignoreCase,o.ignoreAccent)}),i.aggregates&&i.aggregates.filter(function(o){return t.aggregate(o.type,o.field)}),i.sorted&&i.sorted.filter(function(o){return t.sortBy(o.name,o.direction)}),i.skip&&t.skip(i.skip),i.take&&t.take(i.take),i.group&&i.group.filter(function(o){return t.group(o)}),t},h.getPredicate=function(i){for(var e=[],t=0;t<i.length;t++){var s=i[t];if(s.field)e.push(new $i(s.field,s.operator,s.value,s.ignoreCase,s.ignoreAccent));else{for(var r=[],o=this.getPredicate(s.predicates),a=0,d=Object.keys(o);a<d.length;a++)r.push(o[d[a]]);e.push("or"===s.condition?$i.or(r):$i.and(r))}}return e},h.serverTimezoneOffset=null,h.timeZoneHandling=!0,h.throwError=function(i){try{throw new Error(i)}catch(e){throw e.message+"\n"+e.stack}},h.aggregates={sum:function(i,e){for(var s,t=0,r="number"!=typeof h.getVal(i,0,e),o=0;o<i.length;o++)s=h.getVal(i,o,e),!isNaN(s)&&null!==s&&(r&&(s=+s),t+=s);return t},average:function(i,e){return h.aggregates.sum(i,e)/i.length},min:function(i,e){var t;return"function"==typeof e&&(t=e,e=null),h.getObject(e,h.getItemFromComparer(i,e,t||h.fnAscending))},max:function(i,e){var t;return"function"==typeof e&&(t=e,e=null),h.getObject(e,h.getItemFromComparer(i,e,t||h.fnDescending))},truecount:function(i,e){return new Xe(i).executeLocal((new St).where(e,"equal",!0,!0)).length},falsecount:function(i,e){return new Xe(i).executeLocal((new St).where(e,"equal",!1,!0)).length},count:function(i,e){return i.length}},h.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},h.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne "},h.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not substringof",wildcard:"wildcard",like:"like"},h.odv4UniOperator={"$=":"endswith","^=":"startswith","*=":"contains",endswith:"endswith",startswith:"startswith",contains:"contains",doesnotendwith:"not endswith",doesnotstartwith:"not startswith",doesnotcontain:"not contains",wildcard:"wildcard",like:"like"},h.diacritics={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"},h.fnOperators={equal:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),t?h.toLowerCase(i)===h.toLowerCase(e):i===e},notequal:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),!h.fnOperators.equal(i,e,t)},lessthan:function(i,e,t){return t?h.toLowerCase(i)<h.toLowerCase(e):((0,n.le)(i)&&(i=void 0),i<e)},greaterthan:function(i,e,t){return t?h.toLowerCase(i)>h.toLowerCase(e):i>e},lessthanorequal:function(i,e,t){return t?h.toLowerCase(i)<=h.toLowerCase(e):((0,n.le)(i)&&(i=void 0),i<=e)},greaterthanorequal:function(i,e,t){return t?h.toLowerCase(i)>=h.toLowerCase(e):i>=e},contains:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),t?!(0,n.le)(i)&&!(0,n.le)(e)&&-1!==h.toLowerCase(i).indexOf(h.toLowerCase(e)):!(0,n.le)(i)&&!(0,n.le)(e)&&-1!==i.toString().indexOf(e)},doesnotcontain:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),t?!(0,n.le)(i)&&!(0,n.le)(e)&&-1===h.toLowerCase(i).indexOf(h.toLowerCase(e)):!(0,n.le)(i)&&!(0,n.le)(e)&&-1===i.toString().indexOf(e)},isnotnull:function(i){return null!=i},isnull:function(i){return null==i},startswith:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),t?i&&e&&h.startsWith(h.toLowerCase(i),h.toLowerCase(e)):i&&e&&h.startsWith(i,e)},doesnotstartwith:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),t?i&&e&&h.notStartsWith(h.toLowerCase(i),h.toLowerCase(e)):i&&e&&h.notStartsWith(i,e)},like:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),t?i&&e&&h.like(h.toLowerCase(i),h.toLowerCase(e)):i&&e&&h.like(i,e)},isempty:function(i){return void 0===i||""===i},isnotempty:function(i){return void 0!==i&&""!==i},wildcard:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),t?(i||"boolean"==typeof i)&&e&&"object"!=typeof i&&h.wildCard(h.toLowerCase(i),h.toLowerCase(e)):(i||"boolean"==typeof i)&&e&&h.wildCard(i,e)},endswith:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),t?i&&e&&h.endsWith(h.toLowerCase(i),h.toLowerCase(e)):i&&e&&h.endsWith(i,e)},doesnotendwith:function(i,e,t,s){return s&&(i=h.ignoreDiacritics(i),e=h.ignoreDiacritics(e)),t?i&&e&&h.notEndsWith(h.toLowerCase(i),h.toLowerCase(e)):i&&e&&h.notEndsWith(i,e)},processSymbols:function(i){var e=h.operatorSymbols[i];return e?h.fnOperators[e]:h.throwError("Query - Process Operator : Invalid operator")},processOperator:function(i){return h.fnOperators[i]||h.fnOperators.processSymbols(i)}},h.parse={parseJson:function(i){return"string"!=typeof i||!/^[\s]*\[|^[\s]*\{(.)+:/g.test(i)&&-1!==i.indexOf('"')?i instanceof Array?h.parse.iterateAndReviveArray(i):"object"==typeof i&&null!==i&&h.parse.iterateAndReviveJson(i):i=JSON.parse(i,h.parse.jsonReviver),i},iterateAndReviveArray:function(i){for(var e=0;e<i.length;e++)"object"==typeof i[e]&&null!==i[e]?h.parse.iterateAndReviveJson(i[e]):i[e]="string"!=typeof i[e]||/^[\s]*\[|^[\s]*\{(.)+:|\"/g.test(i[e])&&-1!==i[e].toString().indexOf('"')?h.parse.parseJson(i[e]):h.parse.jsonReviver("",i[e])},iterateAndReviveJson:function(i){for(var e,s=0,r=Object.keys(i);s<r.length;s++){var o=r[s];h.startsWith(o,"__")||("object"==typeof(e=i[o])?e instanceof Array?h.parse.iterateAndReviveArray(e):e&&h.parse.iterateAndReviveJson(e):i[o]=h.parse.jsonReviver(i[o],e))}},jsonReviver:function(i,e){if("string"==typeof e){var t=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e),s=h.timeZoneHandling?h.serverTimezoneOffset:null;if(t)return h.dateParse.toTimeZone(new Date(parseInt(t[1],10)),s,!0);if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var r=e.indexOf("Z")>-1||e.indexOf("z")>-1,o=e.split(/[^0-9.]/);if(r){if(o[5].indexOf(".")>-1){var a=o[5].split(".");o[5]=a[0],o[6]=new Date(e).getUTCMilliseconds().toString()}else o[6]="00";e=h.dateParse.toTimeZone(new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10),parseInt(o[6],10)),h.serverTimezoneOffset,!1)}else{var d=new Date(parseInt(o[0],10),parseInt(o[1],10)-1,parseInt(o[2],10),parseInt(o[3],10),parseInt(o[4],10),parseInt(o[5]?o[5]:"00",10)),c=parseInt(o[6],10),p=parseInt(o[7],10);if(isNaN(c)&&isNaN(p))return d;e.indexOf("+")>-1?d.setHours(d.getHours()-c,d.getMinutes()-p):d.setHours(d.getHours()+c,d.getMinutes()+p),e=h.dateParse.toTimeZone(d,h.serverTimezoneOffset,!1)}null==h.serverTimezoneOffset&&(e=h.dateParse.addSelfOffset(e))}}return e},isJson:function(i){return"string"==typeof i[0]?i:h.parse.parseJson(i)},isGuid:function(i){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(i)},replacer:function(i,e){return h.isPlainObject(i)?h.parse.jsonReplacer(i,e):i instanceof Array?h.parse.arrayReplacer(i):i instanceof Date?h.parse.jsonReplacer({val:i},e).val:i},jsonReplacer:function(i,e){for(var t,r=0,o=Object.keys(i);r<o.length;r++){var a=o[r];if((t=i[a])instanceof Date){var d=t;null==h.serverTimezoneOffset?i[a]=h.dateParse.toTimeZone(d,null).toJSON():(d=new Date(+d+36e5*h.serverTimezoneOffset),i[a]=h.dateParse.toTimeZone(h.dateParse.addSelfOffset(d),null).toJSON())}}return i},arrayReplacer:function(i){for(var e=0;e<i.length;e++)h.isPlainObject(i[e])?i[e]=h.parse.jsonReplacer(i[e]):i[e]instanceof Date&&(i[e]=h.parse.jsonReplacer({date:i[e]}).date);return i},jsonDateReplacer:function(i,e){if("value"===i&&e){if("string"==typeof e){var t=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(e);if(t)e=h.dateParse.toTimeZone(new Date(parseInt(t[1],10)),null,!0);else if(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(e)){var s=e.split(/[^0-9]/);e=h.dateParse.toTimeZone(new Date(parseInt(s[0],10),parseInt(s[1],10)-1,parseInt(s[2],10),parseInt(s[3],10),parseInt(s[4],10),parseInt(s[5],10)),null,!0)}}if(e instanceof Date)return e=h.dateParse.addSelfOffset(e),null===h.serverTimezoneOffset?h.dateParse.toTimeZone(h.dateParse.addSelfOffset(e),null).toJSON():(e=h.dateParse.toTimeZone(e,e.getTimezoneOffset()/60-h.serverTimezoneOffset,!1)).toJSON()}return e}},h.dateParse={addSelfOffset:function(i){return new Date(+i-6e4*i.getTimezoneOffset())},toUTC:function(i){return new Date(+i+6e4*i.getTimezoneOffset())},toTimeZone:function(i,e,t){if(null===e)return i;var s=t?h.dateParse.toUTC(i):i;return new Date(+s-36e5*e)},toLocalTime:function(i){var e=i,t=-e.getTimezoneOffset(),s=t>=0?"+":"-",r=function(a){var d=Math.floor(Math.abs(a));return(d<10?"0":"")+d};return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+s+r(t/60)+":"+r(t%60)}},h}(),jr=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),xx={GroupGuid:"{271bbba0-1ee7}"},_0=function(){function h(i){this.options={from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",expand:"expand"},this.type=h,this.dataSource=i,this.pvt={}}return h.prototype.processResponse=function(i,e,t,s){return i},h}(),Df=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return jr(i,h),i.prototype.processQuery=function(e,t){for(var a,d,f,s=e.dataSource.json.slice(0),r=s.length,o=!0,c={},p=0,u=[],v=0;v<t.lazyLoad.length;v++)p++,c[t.lazyLoad[v].key]=t.lazyLoad[v].value;var g={};for(v=0;v<t.queries.length;v++)"onPage"!==(d=t.queries[v]).fn&&"onGroup"!==d.fn||!t.lazyLoad.length?(a=this[d.fn].call(this,s,d.e,t),"onAggregates"===d.fn?g[d.e.field+" - "+d.e.type]=a:s=void 0!==a?a:s,("onPage"===d.fn||"onSkip"===d.fn||"onTake"===d.fn||"onRange"===d.fn)&&(o=!1),o&&(r=s.length)):("onGroup"===d.fn&&u.push(d.e),"onPage"===d.fn&&(f=d.e));if(p){var C=this.lazyLoadGroup({query:t,lazyLoad:c,result:s,group:u,page:f});s=C.result,r=C.count}return t.isCountRequired&&(s={result:s,count:r,aggregates:g}),s},i.prototype.lazyLoadGroup=function(e){var t=0,s=this.getAggregate(e.query),r=e.result;if((0,n.le)(e.lazyLoad.onDemandGroupInfo)){t=(r=ee.group(r,e.group[0].fieldName,s,null,null,e.group[0].comparer,!0)).length;var c=r;e.page&&(r=this.onPage(r,e.page,e.query)),this.formGroupResult(r,c)}else{for(var o=e.lazyLoad.onDemandGroupInfo,a=o.where.length-1;a>=0;a--)r=this.onWhere(r,o.where[a]);e.group.length!==o.level&&(r=ee.group(r,e.group[o.level].fieldName,s,null,null,e.group[0].comparer,!0)),t=r.length,c=r,r=(r=r.slice(o.skip)).slice(0,o.take),e.group.length!==o.level&&this.formGroupResult(r,c)}return{result:r,count:t}},i.prototype.formGroupResult=function(e,t){if(e.length&&t.length){var s="GroupGuid",r="childLevels",o="level",a="records";e[s]=t[s],e[r]=t[r],e[o]=t[o],e[a]=t[a]}return e},i.prototype.getAggregate=function(e){var t=St.filterQueries(e.queries,"onAggregates"),s=[];if(t.length)for(var r=void 0,o=0;o<t.length;o++)s.push({type:(r=t[o].e).type,field:ee.getValue(r.field,e)});return s},i.prototype.batchRequest=function(e,t,s){var r,o=t.deletedRecords.length;for(r=0;r<t.addedRecords.length;r++)this.insert(e,t.addedRecords[r]);for(r=0;r<t.changedRecords.length;r++)this.update(e,s.key,t.changedRecords[r]);for(r=0;r<o;r++)this.remove(e,s.key,t.deletedRecords[r]);return t},i.prototype.onWhere=function(e,t){return e&&e.length?e.filter(function(s){if(t)return t.validate(s)}):e},i.prototype.onAggregates=function(e,t){var s=ee.aggregates[t.type];return e&&s&&0!==e.length?s(e,t.field):null},i.prototype.onSearch=function(e,t){return e&&e.length?(0===t.fieldNames.length&&ee.getFieldList(e[0],t.fieldNames),e.filter(function(s){for(var r=0;r<t.fieldNames.length;r++)if(t.comparer.call(s,ee.getObject(t.fieldNames[r],s),t.searchKey,t.ignoreCase,t.ignoreAccent))return!0;return!1})):e},i.prototype.onSortBy=function(e,t,s){if(!e||!e.length)return e;var r,o=ee.getValue(t.fieldName,s);if(!o)return e.sort(t.comparer);if(o instanceof Array){for(var a=(o=o.slice(0)).length-1;a>=0;a--)o[a]&&(r=t.comparer,ee.endsWith(o[a]," desc")&&(r=ee.fnSort("descending"),o[a]=o[a].replace(" desc","")),e=ee.sort(e,o[a],r));return e}return ee.sort(e,o,t.comparer)},i.prototype.onGroup=function(e,t,s){if(!e||!e.length)return e;var r=this.getAggregate(s);return ee.group(e,ee.getValue(t.fieldName,s),r,null,null,t.comparer)},i.prototype.onPage=function(e,t,s){var r=ee.getValue(t.pageSize,s),o=(ee.getValue(t.pageIndex,s)-1)*r;return e&&e.length?e.slice(o,o+r):e},i.prototype.onRange=function(e,t){return e&&e.length?e.slice(ee.getValue(t.start),ee.getValue(t.end)):e},i.prototype.onTake=function(e,t){return e&&e.length?e.slice(0,ee.getValue(t.nos)):e},i.prototype.onSkip=function(e,t){return e&&e.length?e.slice(ee.getValue(t.nos)):e},i.prototype.onSelect=function(e,t){return e&&e.length?ee.select(e,ee.getValue(t.fieldNames)):e},i.prototype.insert=function(e,t,s,r,o){return(0,n.le)(o)?e.dataSource.json.push(t):e.dataSource.json.splice(o,0,t)},i.prototype.remove=function(e,t,s,r){var a,o=e.dataSource.json;for("object"==typeof s&&!(s instanceof Date)&&(s=ee.getObject(t,s)),a=0;a<o.length&&ee.getObject(t,o[a])!==s;a++);return a!==o.length?o.splice(a,1):null},i.prototype.update=function(e,t,s,r){var a,d,o=e.dataSource.json;for((0,n.le)(t)||(d=(0,n.NA)(t,s)),a=0;a<o.length&&((0,n.le)(t)||(0,n.NA)(t,o[a])!==d);a++);return a<o.length?(0,n.TS)(o[a],s):null},i}(_0),In=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return jr(i,h),i.prototype.processQuery=function(e,t,s){var c,p,r=this.getQueryRequest(t),o=St.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),a=t.params,d=e.dataSource.url,u=null,f=this.options,v={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};"onPage"in o?p=((p=ee.getValue((c=o.onPage).pageIndex,t))-1)*(u=ee.getValue(c.pageSize,t)):"onRange"in o&&(p=(c=o.onRange).start,u=c.end-c.start);for(var g=0;g<r.sorts.length;g++)c=ee.getValue(r.sorts[g].e.fieldName,t),v.sorts.push(ee.callAdaptorFunction(this,"onEachSort",{name:c,direction:r.sorts[g].e.direction},t));for(s&&(c=this.getFiltersFrom(s,t))&&v.filters.push(ee.callAdaptorFunction(this,"onEachWhere",c.toJson(),t)),g=0;g<r.filters.length;g++){var b=ee.callAdaptorFunction(this,"onEachWhere",r.filters[g].e.toJson(),t);this.getModuleName&&"ODataV4Adaptor"===this.getModuleName()&&!(0,n.le)(r.filters[g].e.key)&&r.filters.length>1&&(b="("+b+")"),v.filters.push(b);for(var T=0,O="object"==typeof v.filters[g]?Object.keys(v.filters[g]):[];T<O.length;T++)ee.isNull(v[j=O[T]])&&delete v[j]}for(g=0;g<r.searches.length;g++)v.searches.push(ee.callAdaptorFunction(this,"onEachSearch",{fields:(c=r.searches[g].e).fieldNames,operator:c.operator,key:c.searchKey,ignoreCase:c.ignoreCase},t));for(g=0;g<r.groups.length;g++)v.groups.push(ee.getValue(r.groups[g].e.fieldName,t));for(g=0;g<r.aggregates.length;g++)v.aggregates.push({type:(c=r.aggregates[g].e).type,field:ee.getValue(c.field,t)});var Y={};if(this.getRequestQuery(f,t,o,v,Y),ee.callAdaptorFunction(this,"addParams",{dm:e,query:t,params:a,reqParams:Y}),t.lazyLoad.length)for(g=0;g<t.lazyLoad.length;g++)Y[t.lazyLoad[g].key]=t.lazyLoad[g].value;for(var N=0,ne=Object.keys(Y);N<ne.length;N++){var j;(ee.isNull(Y[j=ne[N]])||""===Y[j]||0===Y[j].length)&&delete Y[j]}(!(f.skip in Y)||!(f.take in Y))&&null!==u&&(Y[f.skip]=ee.callAdaptorFunction(this,"onSkip",p,t),Y[f.take]=ee.callAdaptorFunction(this,"onTake",u,t));var re=this.pvt;return this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(Y,ee.parse.jsonDateReplacer),url:d,pvtData:re,type:"POST",contentType:"application/json; charset=utf-8"}:(c=this.convertToQueryString(Y,t,e),{type:"GET",url:(c=(-1!==e.dataSource.url.indexOf("?")?"&":"/")+c).length?d.replace(/\/*$/,c):d,pvtData:re})},i.prototype.getRequestQuery=function(e,t,s,r,o){var d=o;d[e.from]=t.fromTable,e.apply&&t.distincts.length&&(d[e.apply]="onDistinct"in this?ee.callAdaptorFunction(this,"onDistinct",t.distincts):""),!t.distincts.length&&e.expand&&(d[e.expand]="onExpand"in this&&"onSelect"in s?ee.callAdaptorFunction(this,"onExpand",{selects:ee.getValue(s.onSelect.fieldNames,t),expands:t.expands},t):t.expands),d[e.select]="onSelect"in s&&!t.distincts.length?ee.callAdaptorFunction(this,"onSelect",ee.getValue(s.onSelect.fieldNames,t),t):"",d[e.count]=t.isCountRequired?ee.callAdaptorFunction(this,"onCount",t.isCountRequired,t):"",d[e.search]=r.searches.length?ee.callAdaptorFunction(this,"onSearch",r.searches,t):"",d[e.skip]="onSkip"in s?ee.callAdaptorFunction(this,"onSkip",ee.getValue(s.onSkip.nos,t),t):"",d[e.take]="onTake"in s?ee.callAdaptorFunction(this,"onTake",ee.getValue(s.onTake.nos,t),t):"",d[e.where]=r.filters.length||r.searches.length?ee.callAdaptorFunction(this,"onWhere",r.filters,t):"",d[e.sortBy]=r.sorts.length?ee.callAdaptorFunction(this,"onSortBy",r.sorts,t):"",d[e.group]=r.groups.length?ee.callAdaptorFunction(this,"onGroup",r.groups,t):"",d[e.aggregates]=r.aggregates.length?ee.callAdaptorFunction(this,"onAggregates",r.aggregates,t):"",d.param=[]},i.prototype.convertToQueryString=function(e,t,s){return""},i.prototype.processResponse=function(e,t,s,r,o,a){if(r&&r.headers.get("Content-Type")&&-1!==r.headers.get("Content-Type").indexOf("application/json")){var d=ee.timeZoneHandling;t&&!t.timeZoneHandling&&(ee.timeZoneHandling=!1),e=ee.parse.parseJson(e),ee.timeZoneHandling=d}var c=o,p=c.pvtData||{},u=e?e.groupDs:[];if(r&&r.headers.get("Content-Type")&&-1!==r.headers.get("Content-Type").indexOf("xml"))return s.isCountRequired?{result:[],count:0}:[];var f=JSON.parse(c.data);if(f&&"batch"===f.action&&e&&e.addedRecords)return a.addedRecords=e.addedRecords,a;e&&e.d&&(e=e.d);var v={};e&&"count"in e&&(v.count=e.count),v.result=e&&e.result?e.result:e;var g=!1;if(Array.isArray(e.result)&&e.result.length&&((0,n.le)(e.result[0].key)||(v.result=this.formRemoteGroupedData(v.result,1,p.groups.length-1)),s&&s.lazyLoad.length&&p.groups.length))for(var O=0;O<s.lazyLoad.length;O++)"onDemandGroupInfo"===s.lazyLoad[O].key&&p.groups.length===s.lazyLoad[O].value.level&&(g=!0);return g||this.getAggregateResult(p,e,v,u,s),ee.isNull(v.count)?v.result:{result:v.result,count:v.count,aggregates:v.aggregates}},i.prototype.formRemoteGroupedData=function(e,t,s){for(var r=0;r<e.length;r++)e[r].items.length&&Object.keys(e[r].items[0]).indexOf("key")>-1&&this.formRemoteGroupedData(e[r].items,t+1,s-1);var o="GroupGuid",c="records";return e[o]=xx[o],e.level=t,e.childLevels=s,e[c]=e[0].items.length?this.getGroupedRecords(e,!(0,n.le)(e[0].items[c])):[],e},i.prototype.getGroupedRecords=function(e,t){for(var s=[],o=0;o<e.length;o++)if(t)s=s.concat(e[o].items.records);else for(var a=0;a<e[o].items.length;a++)s.push(e[o].items[a]);return s},i.prototype.onGroup=function(e){return this.pvt.groups=e,e},i.prototype.onAggregates=function(e){this.pvt.aggregates=e},i.prototype.batchRequest=function(e,t,s,r,o){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.removeUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify((0,n.l7)({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:s[void 0],key:s[void 0]},ee.getAddParams(this,e,r)))}},i.prototype.beforeSend=function(e,t){},i.prototype.insert=function(e,t,s,r){return{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify((0,n.l7)({},{value:t,table:s,action:"insert"},ee.getAddParams(this,e,r)))}},i.prototype.remove=function(e,t,s,r,o){return{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify((0,n.l7)({},{key:s,keyColumn:t,table:r,action:"remove"},ee.getAddParams(this,e,o)))}},i.prototype.update=function(e,t,s,r,o){return{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify((0,n.l7)({},{value:s,action:"update",keyColumn:t,key:ee.getObject(t,s),table:r},ee.getAddParams(this,e,o)))}},i.prototype.getFiltersFrom=function(e,t){var r,s=t.fKey,o=s,a=t.key,d=[];"object"!=typeof e[0]&&(o=null);for(var c=0;c<e.length;c++)r="object"==typeof e[0]?ee.getObject(a||o,e[c]):e[c],d.push(new $i(s,"equal",r));return $i.or(d)},i.prototype.getAggregateResult=function(e,t,s,r,o){var a=t;if(t&&t.result&&(a=t.result),e&&e.aggregates&&e.aggregates.length){var d=e.aggregates,c=void 0,p=a,u={};t.aggregate&&(p=t.aggregate);for(var f=0;f<d.length;f++)(c=ee.aggregates[d[f].type])&&(u[d[f].field+" - "+d[f].type]=c(p,d[f].field));s.aggregates=u}var g=Array.isArray(t.result)&&t.result.length&&!(0,n.le)(t.result[0].key);if(e&&e.groups&&e.groups.length&&!g){var b=e.groups;for(f=0;f<b.length;f++){(0,n.le)(r)||(r=ee.group(r,b[f]));var T=St.filterQueries(o.queries,"onGroup")[f].e;a=ee.group(a,b[f],e.aggregates,null,r,T.comparer)}s.result=a}return s},i.prototype.getQueryRequest=function(e){var t={sorts:[],groups:[],filters:[],searches:[],aggregates:[]};return t.sorts=St.filterQueries(e.queries,"onSortBy"),t.groups=St.filterQueries(e.queries,"onGroup"),t.filters=St.filterQueries(e.queries,"onWhere"),t.searches=St.filterQueries(e.queries,"onSearch"),t.aggregates=St.filterQueries(e.queries,"onAggregates"),t},i.prototype.addParams=function(e){var t=e.reqParams;e.params.length&&(t.params={});for(var s=0,r=e.params;s<r.length;s++){var o=r[s];if(t[o.key])throw new Error("Query() - addParams: Custom Param is conflicting other request arguments");t[o.key]=o.value,o.fn&&(t[o.key]=o.fn.call(e.query,o.key,e.query,e.dm)),t.params[o.key]=t[o.key]}},i}(_0),ha=function(h){function i(e){var t=h.call(this)||this;return t.options=(0,n.l7)({},t.options,{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 ",updateType:"PUT"}),(0,n.l7)(t.options,e||{}),t}return jr(i,h),i.prototype.getModuleName=function(){return"ODataAdaptor"},i.prototype.onPredicate=function(e,t,s){var o,a,r="",d=e.value,c=typeof d,p=e.field?i.getField(e.field):null;if(d instanceof Date&&(d="datetime'"+ee.parse.replacer(d)+"'"),"string"===c&&(d=d.replace(/'/g,"''"),e.ignoreCase&&(d=d.toLowerCase()),"like"!==e.operator&&(d=encodeURIComponent(d)),"wildcard"!==e.operator&&"like"!==e.operator&&(d="'"+d+"'"),s&&(p="cast("+p+", 'Edm.String')"),ee.parse.isGuid(d)&&(a="guid"),e.ignoreCase&&(a||(p="tolower("+p+")"),d=d.toLowerCase())),"isempty"===e.operator||"isnull"===e.operator||"isnotempty"===e.operator||"isnotnull"===e.operator?(o=-1!==e.operator.indexOf("isnot")?ee.odBiOperator.notequal:ee.odBiOperator.equal,d="isnull"===e.operator||"isnotnull"===e.operator?null:"''"):o=ee.odBiOperator[e.operator],o)return r+=p,r+=o,a&&(r+=a),r+d;if("like"===(o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator[e.operator]:ee.odv4UniOperator[e.operator]))-1!==d.indexOf("%")&&("%"===d.charAt(0)&&d.lastIndexOf("%")<2?(d=d.substring(1,d.length),o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator.startswith:ee.odv4UniOperator.startswith):"%"===d.charAt(d.length-1)&&d.indexOf("%")>d.length-3?(d=d.substring(0,d.length-1),o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator.endswith:ee.odv4UniOperator.endswith):d.lastIndexOf("%")!==d.indexOf("%")&&d.lastIndexOf("%")>d.indexOf("%")+1?(d=d.substring(d.indexOf("%")+1,d.lastIndexOf("%")),o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator.contains:ee.odv4UniOperator.contains):o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator.contains:ee.odv4UniOperator.contains),d="'"+(d=encodeURIComponent(d))+"'";else if("wildcard"===o)if(-1!==d.indexOf("*")){var u=d.split("*"),f=void 0,v=0;if(0!==d.indexOf("*")&&-1===u[0].indexOf("%3f")&&-1===u[0].indexOf("?")&&(f="'"+(f=u[0])+"'",r+=(o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator.startswith:ee.odv4UniOperator.startswith)+"(",r+=p+",",a&&(r+=a),r+=f+")",v++),d.lastIndexOf("*")!==d.length-1&&-1===u[u.length-1].indexOf("%3f")&&-1===u[u.length-1].indexOf("?")&&(f="'"+(f=u[u.length-1])+"'",v>0&&(r+=" and "),r+=(o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator.endswith:ee.odv4UniOperator.endswith)+"(",r+=p+",",a&&(r+=a),r+=f+")",v++),u.length>2)for(var g=1;g<u.length-1;g++)if(-1===u[g].indexOf("%3f")&&-1===u[g].indexOf("?")){if(f="'"+(f=u[g])+"'",v>0&&(r+=" and "),"substringof"===(o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator.contains:ee.odv4UniOperator.contains)||"not substringof"===o){var b=f;f=p,p=b}r+=o+"(",r+=p+",",a&&(r+=a),r+=f+")",v++}0===v?(o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator.contains:ee.odv4UniOperator.contains,(-1!==d.indexOf("?")||-1!==d.indexOf("%3f"))&&(d=-1!==d.indexOf("?")?d.split("?").join(""):d.split("%3f").join("")),d="'"+d+"'"):o="wildcard"}else o=(0,n.le)(this.getModuleName)||"ODataV4Adaptor"!==this.getModuleName()?ee.odUniOperator.contains:ee.odv4UniOperator.contains,(-1!==d.indexOf("?")||-1!==d.indexOf("%3f"))&&(d=-1!==d.indexOf("?")?d.split("?").join(""):d.split("%3f").join("")),d="'"+d+"'";return"substringof"!==o&&"not substringof"!==o||(b=d,d=p,p=b),"wildcard"!==o&&(r+=o+"(",r+=p+",",a&&(r+=a),r+=d+")"),r},i.prototype.addParams=function(e){h.prototype.addParams.call(this,e),delete e.reqParams.params},i.prototype.onComplexPredicate=function(e,t,s){for(var r=[],o=0;o<e.predicates.length;o++)r.push("("+this.onEachWhere(e.predicates[o],t,s)+")");return r.join(" "+e.condition+" ")},i.prototype.onEachWhere=function(e,t,s){return e.isComplex?this.onComplexPredicate(e,t,s):this.onPredicate(e,t,s)},i.prototype.onWhere=function(e){return this.pvt.search&&e.push(this.onEachWhere(this.pvt.search,null,!0)),e.join(" and ")},i.prototype.onEachSearch=function(e){e.fields&&0===e.fields.length&&ee.throwError("Query() - Search : oData search requires list of field names to search");for(var t=this.pvt.search||[],s=0;s<e.fields.length;s++)t.push(new $i(e.fields[s],e.operator,e.key,e.ignoreCase));this.pvt.search=t},i.prototype.onSearch=function(e){return this.pvt.search=$i.or(this.pvt.search),""},i.prototype.onEachSort=function(e){var t=[];if(e.name instanceof Array)for(var s=0;s<e.name.length;s++)t.push(i.getField(e.name[s])+("descending"===e.direction?" desc":""));else t.push(i.getField(e.name)+("descending"===e.direction?" desc":""));return t.join(",")},i.prototype.onSortBy=function(e){return e.reverse().join(",")},i.prototype.onGroup=function(e){return this.pvt.groups=e,[]},i.prototype.onSelect=function(e){for(var t=0;t<e.length;t++)e[t]=i.getField(e[t]);return e.join(",")},i.prototype.onAggregates=function(e){return this.pvt.aggregates=e,""},i.prototype.onCount=function(e){return!0===e?"allpages":""},i.prototype.beforeSend=function(e,t,s){ee.endsWith(s.url,this.options.batch)&&"post"===s.type.toLowerCase()?(t.headers.set("Accept",this.options.multipartAccept),t.headers.set("DataServiceVersion","2.0")):t.headers.set("Accept",this.options.accept),t.headers.set("DataServiceVersion","2.0"),t.headers.set("MaxDataServiceVersion","2.0")},i.prototype.processResponse=function(e,t,s,r,o,a){var d="odata.metadata";if(o&&"GET"===o.type&&!this.rootUrl&&e[d]){var c=e[d].split("/$metadata#");this.rootUrl=c[0],this.resourceTableName=c[1]}if(!(0,n.le)(e.d)){var u=s&&s.isCountRequired?e.d.results:e.d,f="__metadata";if(!(0,n.le)(u))for(var v=0;v<u.length;v++)(0,n.le)(u[v][f])||delete u[v][f]}var g=o&&o.pvtData,b=this.processBatchResponse(e,s,r,o,a);if(b)return b;var C=r&&o.fetchRequest.headers.get("DataServiceVersion"),T=null,O=C&&parseInt(C,10)||2;if(s&&s.isCountRequired){var j="__count";(e[j]||e["odata.count"])&&(T=e[j]||e["odata.count"]),e.d&&(e=e.d),(e[j]||e["odata.count"])&&(T=e[j]||e["odata.count"])}3===O&&e.value&&(e=e.value),e.d&&(e=e.d),O<3&&e.results&&(e=e.results);var Y={};return Y.count=T,Y.result=e,this.getAggregateResult(g,e,Y,null,s),ee.isNull(T)?Y.result:{result:Y.result,count:Y.count,aggregates:Y.aggregates}},i.prototype.convertToQueryString=function(e,t,s){var r=[],o="table",a=e[o]||"";delete e[o],s.dataSource.requiresFormat&&(e.$format="json");for(var p=0,u=Object.keys(e);p<u.length;p++){var f=u[p];r.push(f+"="+e[f])}return r=r.join("&"),s.dataSource.url&&-1!==s.dataSource.url.indexOf("?")&&!a?r:r.length?a+"?"+r:a||""},i.prototype.localTimeReplacer=function(e,t){for(var s=0,r=(0,n.le)(t)?[]:Object.keys(t);s<r.length;s++){var o=r[s];t[o]instanceof Date&&(t[o]=ee.dateParse.toLocalTime(t[o]))}return t},i.prototype.insert=function(e,t,s){return{url:(e.dataSource.insertUrl||e.dataSource.url).replace(/\/*$/,s?"/"+s:""),data:JSON.stringify(t,this.options.localTime?this.localTimeReplacer:null)}},i.prototype.remove=function(e,t,s,r){var o;return o="string"!=typeof s||ee.parse.isGuid(s)?"("+s+")":"('"+s+"')",{type:"DELETE",url:(e.dataSource.removeUrl||e.dataSource.url).replace(/\/*$/,r?"/"+r:"")+o}},i.prototype.update=function(e,t,s,r,o,a){var d;return"PATCH"===this.options.updateType&&!(0,n.le)(a)&&(s=this.compareAndRemove(s,a,t)),d="string"!=typeof s[t]||ee.parse.isGuid(s[t])?"("+s[t]+")":"('"+s[t]+"')",{type:this.options.updateType,url:(e.dataSource.updateUrl||e.dataSource.url).replace(/\/*$/,r?"/"+r:"")+d,data:JSON.stringify(s,this.options.localTime?this.localTimeReplacer:null),accept:this.options.accept}},i.prototype.batchRequest=function(e,t,s,r,o){var a=s.guid=ee.getGuid(this.options.batchPre),d=this.rootUrl?this.rootUrl+"/"+this.options.batch:e.dataSource.url.replace(/\/*$/,"/"+this.options.batch);s.url=this.resourceTableName?this.resourceTableName:s.url;var c={url:s.url,key:s.key,cid:1,cSet:ee.getGuid(this.options.changeSet)},p="--"+a+"\n";return p+="Content-Type: multipart/mixed; boundary="+c.cSet.replace("--","")+"\n",this.pvt.changeSet=0,p+=this.generateInsertRequest(t.addedRecords,c,e),p+=this.generateUpdateRequest(t.changedRecords,c,e,o?o.changedRecords:[]),p+=this.generateDeleteRequest(t.deletedRecords,c,e),p+=c.cSet+"--\n",{type:"POST",url:d,dataType:"json",contentType:"multipart/mixed; charset=UTF-8;boundary="+a,data:p+="--"+a+"--"}},i.prototype.generateDeleteRequest=function(e,t,s){return e?this.generateBodyContent(e,t,{method:"DELETE ",url:function(a,d,c){var p=ee.getObject(c,a[d]);return"number"==typeof p||ee.parse.isGuid(p)?"("+p+")":p instanceof Date?"("+a[d][c].toJSON()+")":"('"+p+"')"},data:function(a,d){return""}},s)+"\n":""},i.prototype.generateInsertRequest=function(e,t,s){return e?this.generateBodyContent(e,t,{method:"POST ",url:function(a,d,c){return""},data:function(a,d){return JSON.stringify(a[d])+"\n\n"}},s):""},i.prototype.generateUpdateRequest=function(e,t,s,r){var o=this;return e?(e.forEach(function(c){return c=o.compareAndRemove(c,r.filter(function(p){return ee.getObject(t.key,p)===ee.getObject(t.key,c)})[0],t.key)}),this.generateBodyContent(e,t,{method:this.options.updateType+" ",url:function(c,p,u){return"number"==typeof c[p][u]||ee.parse.isGuid(c[p][u])?"("+c[p][u]+")":c[p][u]instanceof Date?"("+c[p][u].toJSON()+")":"('"+c[p][u]+"')"},data:function(c,p){return JSON.stringify(c[p])+"\n\n"}},s)):""},i.getField=function(e){return e.replace(/\./g,"/")},i.prototype.generateBodyContent=function(e,t,s,r){for(var o="",a=0;a<e.length;a++)o+="\n"+t.cSet+"\n",o+=this.options.changeSetContent+"\n\n",o+=s.method,"POST "===s.method?o+=(r.dataSource.insertUrl||r.dataSource.crudUrl||t.url)+s.url(e,a,t.key)+" HTTP/1.1\n":"PUT "===s.method||"PATCH "===s.method?o+=(r.dataSource.updateUrl||r.dataSource.crudUrl||t.url)+s.url(e,a,t.key)+" HTTP/1.1\n":"DELETE "===s.method&&(o+=(r.dataSource.removeUrl||r.dataSource.crudUrl||t.url)+s.url(e,a,t.key)+" HTTP/1.1\n"),o+="Accept: "+this.options.accept+"\n",o+="Content-Id: "+this.pvt.changeSet+++"\n",o+=this.options.batchChangeSetContentType+"\n",(0,n.le)(e[a]["@odata.etag"])?o+="\n":(o+="If-Match: "+e[a]["@odata.etag"]+"\n\n",delete e[a]["@odata.etag"]),o+=s.data(e,a);return o},i.prototype.processBatchResponse=function(e,t,s,r,o){if(s&&s.headers.get("Content-Type")&&-1!==s.headers.get("Content-Type").indexOf("xml"))return t.isCountRequired?{result:[],count:0}:[];if(r&&this.options.batch&&ee.endsWith(r.url,this.options.batch)&&"post"===r.type.toLowerCase()){var a=s.headers.get("Content-Type"),d=void 0,c=void 0,p=e+"";if(a=a.substring(a.indexOf("=batchresponse")+1),(p=p.split(a)).length<2)return{};var u=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(p=p[1]);u&&p.replace(u[0],"");for(var v=(p=p.split(u?u[1]:"")).length;v>-1;v--)!/\bContent-ID:/i.test(p[v])||!/\bHTTP.+201/.test(p[v])||(d=parseInt(/\bContent-ID: (\d+)/i.exec(p[v])[1],10),o.addedRecords[d]&&(c=ee.parse.parseJson(/^\{.+\}/m.exec(p[v])[0]),(0,n.l7)({},o.addedRecords[d],this.processResponse(c))));return o}return null},i.prototype.compareAndRemove=function(e,t,s){var r=this;return(0,n.le)(t)||Object.keys(e).forEach(function(o){o!==s&&"@odata.etag"!==o&&(ee.isPlainObject(e[o])?(r.compareAndRemove(e[o],t[o]),0===Object.keys(e[o]).filter(function(d){return"@odata.etag"!==d}).length&&delete e[o]):(e[o]===t[o]||e[o]&&t[o]&&e[o].valueOf()===t[o].valueOf())&&delete e[o])}),e},i}(In),Px=function(h){function i(){var e=h.call(this)||this;return(0,n.sO)("beforeSend",In.prototype.beforeSend,e),e}return jr(i,h),i.prototype.insert=function(e,t,s,r,o){return this.pvt.position=o,this.updateType="add",{url:e.dataSource.insertUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify((0,n.l7)({},{value:t,table:s,action:"insert"},ee.getAddParams(this,e,r)))}},i.prototype.remove=function(e,t,s,r,o){return h.prototype.remove.call(this,e,t,s),{type:"POST",url:e.dataSource.removeUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify((0,n.l7)({},{key:s,keyColumn:t,table:r,action:"remove"},ee.getAddParams(this,e,o)))}},i.prototype.update=function(e,t,s,r,o){return this.updateType="update",this.updateKey=t,{type:"POST",url:e.dataSource.updateUrl||e.dataSource.crudUrl||e.dataSource.url,data:JSON.stringify((0,n.l7)({},{value:s,action:"update",keyColumn:t,key:s[t],table:r},ee.getAddParams(this,e,o)))}},i.prototype.processResponse=function(e,t,s,r,o,a,d){var c;if(e="batch"===(o?JSON.parse(o.data):e).action?ee.parse.parseJson(e):e,"add"===this.updateType&&h.prototype.insert.call(this,t,e,null,null,this.pvt.position),"update"===this.updateType&&h.prototype.update.call(this,t,this.updateKey,e),this.updateType=void 0,e.added)for(c=0;c<e.added.length;c++)h.prototype.insert.call(this,t,e.added[c]);if(e.changed)for(c=0;c<e.changed.length;c++)h.prototype.update.call(this,t,d.key,e.changed[c]);if(e.deleted)for(c=0;c<e.deleted.length;c++)h.prototype.remove.call(this,t,d.key,e.deleted[c]);return e},i.prototype.batchRequest=function(e,t,s,r,o){return{type:"POST",url:e.dataSource.batchUrl||e.dataSource.crudUrl||e.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify((0,n.l7)({},{changed:t.changedRecords,added:t.addedRecords,deleted:t.deletedRecords,action:"batch",table:s.url,key:s.key},ee.getAddParams(this,e,r)))}},i.prototype.addParams=function(e){(new In).addParams(e)},i}(Df),Tx=function(h){function i(e){var t=h.call(this)||this;return t.options=(0,n.l7)({},t.options,{getData:new Function,addRecord:new Function,updateRecord:new Function,deleteRecord:new Function,batchUpdate:new Function}),(0,n.l7)(t.options,e||{}),t}return jr(i,h),i.prototype.getModuleName=function(){return"CustomDataAdaptor"},i}(In),kx=function(h){function i(e,t,s){var r=h.call(this)||this;r.isCrudAction=!1,r.isInsertAction=!1,(0,n.le)(e)||(r.cacheAdaptor=e),r.pageSize=s,r.guidId=ee.getGuid("cacheAdaptor"),window.localStorage.setItem(r.guidId,JSON.stringify({keys:[],results:[]}));var a=r.guidId;return(0,n.le)(t)||setInterval(function(){for(var d=ee.parse.parseJson(window.localStorage.getItem(a)),c=[],p=0;p<d.results.length;p++){var u=+new Date,f=+new Date(d.results[p].timeStamp);d.results[p].timeStamp=u-f,u-f>t&&c.push(p)}for(p=0;p<c.length;p++)d.results.splice(c[p],1),d.keys.splice(c[p],1);window.localStorage.removeItem(a),window.localStorage.setItem(a,JSON.stringify(d))},t),r}return jr(i,h),i.prototype.generateKey=function(e,t){var s=this.getQueryRequest(t),r=St.filterQueryLists(t.queries,["onSelect","onPage","onSkip","onTake","onRange"]),o=e,a="onPage";a in r&&(o+=r[a].pageIndex),s.sorts.forEach(function(f){o+=f.e.direction+f.e.fieldName}),s.groups.forEach(function(f){o+=f.e.fieldName}),s.searches.forEach(function(f){o+=f.e.searchKey});for(var d=0;d<s.filters.length;d++){var c=s.filters[d];if(c.e.isComplex){var p=t.clone();p.queries=[];for(var u=0;u<c.e.predicates.length;u++)p.queries.push({fn:"onWhere",e:c.e.predicates[u],filter:t.queries.filter});o+=c.e.condition+this.generateKey(e,p)}else o+=c.e.field+c.e.operator+c.e.value}return o},i.prototype.processQuery=function(e,t,s){var r=this.generateKey(e.dataSource.url,t),o=ee.parse.parseJson(window.localStorage.getItem(this.guidId)),a=o?o.results[o.keys.indexOf(r)]:null;return null==a||this.isCrudAction||this.isInsertAction?(this.isCrudAction=null,this.isInsertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):a},i.prototype.processResponse=function(e,t,s,r,o,a){if(this.isInsertAction||o&&this.cacheAdaptor.options.batch&&ee.endsWith(o.url,this.cacheAdaptor.options.batch)&&"post"===o.type.toLowerCase())return this.cacheAdaptor.processResponse(e,t,s,r,o,a);e=this.cacheAdaptor.processResponse.apply(this.cacheAdaptor,[].slice.call(arguments,0));var d=s?this.generateKey(t.dataSource.url,s):t.dataSource.url,c={},p=(c=ee.parse.parseJson(window.localStorage.getItem(this.guidId))).keys.indexOf(d);for(-1!==p&&(c.results.splice(p,1),c.keys.splice(p,1)),c.results[c.keys.push(d)-1]={keys:d,result:e.result,timeStamp:new Date,count:e.count};c.results.length>this.pageSize;)c.results.splice(0,1),c.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(c)),e},i.prototype.beforeSend=function(e,t,s){!(0,n.le)(this.cacheAdaptor.options.batch)&&ee.endsWith(s.url,this.cacheAdaptor.options.batch)&&"post"===s.type.toLowerCase()&&t.headers.set("Accept",this.cacheAdaptor.options.multipartAccept),e.dataSource.crossDomain||t.headers.set("Accept",this.cacheAdaptor.options.accept)},i.prototype.update=function(e,t,s,r){return this.isCrudAction=!0,this.cacheAdaptor.update(e,t,s,r)},i.prototype.insert=function(e,t,s){return this.isInsertAction=!0,this.cacheAdaptor.insert(e,t,s)},i.prototype.remove=function(e,t,s,r){return this.isCrudAction=!0,this.cacheAdaptor.remove(e,t,s,r)},i.prototype.batchRequest=function(e,t,s){return this.cacheAdaptor.batchRequest(e,t,s)},i}(In),Xe=function(){function h(i,e,t){var r,s=this;return this.dateParse=!0,this.timeZoneHandling=!0,this.persistQuery={},this.isInitialLoad=!1,this.requests=[],this.isInitialLoad=!0,!i&&!this.dataSource&&(i=[]),t=t||i.adaptor,i&&!1===i.timeZoneHandling&&(this.timeZoneHandling=i.timeZoneHandling),i instanceof Array?r={json:i,offline:!0}:"object"==typeof i?(i.json||(i.json=[]),i.enablePersistence||(i.enablePersistence=!1),i.id||(i.id=""),i.ignoreOnPersist||(i.ignoreOnPersist=[]),r={url:i.url,insertUrl:i.insertUrl,removeUrl:i.removeUrl,updateUrl:i.updateUrl,crudUrl:i.crudUrl,batchUrl:i.batchUrl,json:i.json,headers:i.headers,accept:i.accept,data:i.data,timeTillExpiration:i.timeTillExpiration,cachingPageSize:i.cachingPageSize,enableCaching:i.enableCaching,requestType:i.requestType,key:i.key,crossDomain:i.crossDomain,jsonp:i.jsonp,dataType:i.dataType,offline:void 0!==i.offline?i.offline:!(i.adaptor instanceof Px||i.adaptor instanceof Tx||i.url),requiresFormat:i.requiresFormat,enablePersistence:i.enablePersistence,id:i.id,ignoreOnPersist:i.ignoreOnPersist}):ee.throwError("DataManager: Invalid arguments"),void 0===r.requiresFormat&&!ee.isCors()&&(r.requiresFormat=!!(0,n.le)(r.crossDomain)||r.crossDomain),void 0===r.dataType&&(r.dataType="json"),this.dataSource=r,this.defaultQuery=e,this.dataSource.enablePersistence&&this.dataSource.id&&window.addEventListener("unload",this.setPersistData.bind(this)),r.url&&r.offline&&!r.json.length?(this.isDataAvailable=!1,this.adaptor=t||new ha,this.dataSource.offline=!1,this.ready=this.executeQuery(e||new St),this.ready.then(function(o){s.dataSource.offline=!0,s.isDataAvailable=!0,r.json=o.result,s.adaptor=new Df})):this.adaptor=r.offline?new Df:new ha,!r.jsonp&&this.adaptor instanceof ha&&(r.jsonp="callback"),this.adaptor=t||this.adaptor,r.enableCaching&&(this.adaptor=new kx(this.adaptor,r.timeTillExpiration,r.cachingPageSize)),this}return h.prototype.getPersistedData=function(i){var e=localStorage.getItem(i||this.dataSource.id);return JSON.parse(e)},h.prototype.setPersistData=function(i,e,t){localStorage.setItem(e||this.dataSource.id,JSON.stringify(t||this.persistQuery))},h.prototype.setPersistQuery=function(i){var e=this,t=this.getPersistedData();if(this.isInitialLoad&&t&&Object.keys(t).length){this.persistQuery=t,this.persistQuery.queries=this.persistQuery.queries.filter(function(r){if(e.dataSource.ignoreOnPersist&&e.dataSource.ignoreOnPersist.length&&r.fn&&e.dataSource.ignoreOnPersist.some(function(d){return r.fn===d}))return!1;if("onWhere"===r.fn){var o=r.e;if(o&&o.isComplex&&o.predicates instanceof Array){var a=o.predicates.map(function(d){if(d.predicates&&d.predicates instanceof Array){var c=d.predicates.map(function(C){return new $i(C.field,C.operator,C.value,C.ignoreCase,C.ignoreAccent,C.matchCase)});return"and"===d.condition?$i.and(c):$i.or(c)}return new $i(d.field,d.operator,d.value,d.ignoreCase,d.ignoreAccent,d.matchCase)});r.e=new $i(a[0],o.condition,a.slice(1))}}return!0});var s=(0,n.l7)(new St,this.persistQuery);return this.isInitialLoad=!1,s}return this.persistQuery=i,this.isInitialLoad=!1,i},h.prototype.setDefaultQuery=function(i){return this.defaultQuery=i,this},h.prototype.executeLocal=function(i){!this.defaultQuery&&!(i instanceof St)&&ee.throwError("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||ee.throwError("DataManager - executeLocal() : Json data is required to execute"),this.dataSource.enablePersistence&&this.dataSource.id&&(i=this.setPersistQuery(i));var e=this.adaptor.processQuery(this,i=i||this.defaultQuery);if(i.subQuery){var t=i.subQuery.fromTable,s=i.subQuery.lookups,r=i.isCountRequired?e.result:e;s&&s instanceof Array&&ee.buildHierarchy(i.subQuery.fKey,t,r,s,i.subQuery.key);for(var o=0;o<r.length;o++)r[o][t]instanceof Array&&(r[o]=(0,n.l7)({},{},r[o]),r[o][t]=this.adaptor.processResponse(i.subQuery.using(new h(r[o][t].slice(0))).executeLocal(),this,i))}return this.adaptor.processResponse(e,this,i)},h.prototype.executeQuery=function(i,e,t,s){var r=this,o="makeRequest";this.dataSource.enablePersistence&&this.dataSource.id&&(i=this.setPersistQuery(i)),"function"==typeof i&&(s=t,t=e,e=i,i=null),i||(i=this.defaultQuery),i instanceof St||ee.throwError("DataManager - executeQuery() : A query is required to execute");var a=new Bd,d={query:i};if(!this.dataSource.offline&&void 0!==this.dataSource.url&&""!==this.dataSource.url||!(0,n.le)(this.adaptor[o])||this.isCustomDataAdaptor(this.adaptor)){var c=this.adaptor.processQuery(this,i);(0,n.le)(this.adaptor[o])?!(0,n.le)(c.url)||this.isCustomDataAdaptor(this.adaptor)?(this.requests=[],this.makeRequest(c,a,d,i)):(d=h.getDeferedArgs(i,c,d),a.resolve(d)):this.adaptor[o](c,a,d,i)}else h.nextTick(function(){var p=r.executeLocal(i);d=h.getDeferedArgs(i,p,d),a.resolve(d)});return(e||t)&&a.promise.then(e,t),s&&a.promise.then(s,s),a.promise},h.getDeferedArgs=function(i,e,t){return i.isCountRequired?(t.result=e.result,t.count=e.count,t.aggregates=e.aggregates):t.result=e,t},h.nextTick=function(i){(window.setImmediate||window.setTimeout)(i,0)},h.prototype.extendRequest=function(i,e,t){return(0,n.l7)({},{type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!0,processData:!1,onSuccess:e,onFailure:t},i)},h.prototype.makeRequest=function(i,e,t,s){var r=this,o=!!s.subQuerySelector,a=function(C){t.error=C,e.reject(t)},d=function(C,T,O,j,Y,H,N){t.xhr=O,t.count=T?parseInt(T.toString(),10):0,t.result=C,t.request=j,t.aggregates=H,t.actual=Y,t.virtualSelectRecords=N,e.resolve(t)},c=function(C,T){var O=new Bd,j={parent:t};s.subQuery.isChild=!0;var Y=r.adaptor.processQuery(r,s.subQuery,C?r.adaptor.processResponse(C):T),H=r.makeRequest(Y,O,j,s.subQuery);return o||O.then(function(N){C&&(ee.buildHierarchy(s.subQuery.fKey,s.subQuery.fromTable,C,N,s.subQuery.key),d(C,N.count,N.xhr))},a),H},u=this.extendRequest(i,function(C,T){if(r.isGraphQLAdaptor(r.adaptor)&&!(0,n.le)(C.errors))return a(C.errors);r.isCustomDataAdaptor(r.adaptor)&&(T=(0,n.l7)({},r.fetchReqOption,T)),-1===T.contentType.indexOf("xml")&&r.dateParse&&(C=ee.parse.parseJson(C));var O=r.adaptor.processResponse(C,r,s,T.fetchRequest,T),j=0,Y=null,N=C.virtualSelectRecords;s.isCountRequired&&(j=O.count,Y=O.aggregates,O=O.result),s.subQuery?o||c(O,T):d(O,j,T.fetchRequest,T.type,C,Y,N)},a);if(this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=u,this.adaptor.options.getData({data:u.data,onSuccess:u.onSuccess,onFailure:u.onFailure});else{var f=new n.Uo(u);f.beforeSend=function(){r.beforeSend(f.fetchRequest,f)},(u=f.send()).catch(function(C){return!0}),this.requests.push(f)}if(o){var b=s.subQuerySelector.call(this,{query:s.subQuery,parent:s});b&&b.length?Promise.all([u,c(null,b)]).then(function(){for(var C=[],T=0;T<arguments.length;T++)C[T]=arguments[T];var O=C[0],j=r.adaptor.processResponse(O[0],r,s,r.requests[0].fetchRequest,r.requests[0]),Y=0;s.isCountRequired&&(Y=j.count,j=j.result);var H=r.adaptor.processResponse(O[1],r,s.subQuery,r.requests[1].fetchRequest,r.requests[1]);Y=0,s.subQuery.isCountRequired&&(Y=H.count,H=H.result),ee.buildHierarchy(s.subQuery.fKey,s.subQuery.fromTable,j,H,s.subQuery.key),o=!1,d(j,Y,r.requests[0].fetchRequest)}):o=!1}return u},h.prototype.beforeSend=function(i,e){this.adaptor.beforeSend(this,i,e);for(var s,t=this.dataSource.headers,r=0;t&&r<t.length;r++){s=[];for(var a=0,d=Object.keys(t[r]);a<d.length;a++){var c=d[a];s.push(c),i.headers.set(c,t[r][c])}}},h.prototype.saveChanges=function(i,e,t,s,r){var o=this;t instanceof St&&(s=t,t=null);var a={url:t,key:e||this.dataSource.key},d=this.adaptor.batchRequest(this,i,a,s||new St,r),c="dofetchRequest";if(this.dataSource.offline)return d;if((0,n.le)(this.adaptor[c])){if(this.isCustomDataAdaptor(this.adaptor))return this.dofetchRequest(d,this.adaptor.options.batchUpdate);var p=new Bd,u=new n.Uo(d);return u.beforeSend=function(){o.beforeSend(u.fetchRequest,u)},u.onSuccess=function(f,v){o.isGraphQLAdaptor(o.adaptor)&&((0,n.le)(f.errors)||u.onFailure(JSON.stringify(f.errors))),p.resolve(o.adaptor.processResponse(f,o,null,v.fetchRequest,v,i,a))},u.onFailure=function(f){p.reject([{error:f}])},u.send().catch(function(f){return!0}),p.promise}return this.adaptor[c](d)},h.prototype.insert=function(i,e,t,s){e instanceof St&&(t=e,e=null);var r=this.adaptor.insert(this,i,e,t,s),o="dofetchRequest";return this.dataSource.offline?r:(0,n.le)(this.adaptor[o])?this.dofetchRequest(r,this.adaptor.options.addRecord):this.adaptor[o](r)},h.prototype.remove=function(i,e,t,s){"object"==typeof e&&(e=ee.getObject(i,e)),t instanceof St&&(s=t,t=null);var r=this.adaptor.remove(this,i,e,t,s),o="dofetchRequest";return this.dataSource.offline?r:(0,n.le)(this.adaptor[o])?this.dofetchRequest(r,this.adaptor.options.deleteRecord):this.adaptor[o](r)},h.prototype.update=function(i,e,t,s,r){t instanceof St&&(s=t,t=null);var o=this.adaptor.update(this,i,e,t,s,r),a="dofetchRequest";return this.dataSource.offline?o:(0,n.le)(this.adaptor[a])?this.dofetchRequest(o,this.adaptor.options.updateRecord):this.adaptor[a](o)},h.prototype.isCustomDataAdaptor=function(i){return this.adaptor.getModuleName&&"CustomDataAdaptor"===this.adaptor.getModuleName()},h.prototype.isGraphQLAdaptor=function(i){return this.adaptor.getModuleName&&"GraphQLAdaptor"===this.adaptor.getModuleName()},h.prototype.successFunc=function(i,e){if(this.isGraphQLAdaptor(this.adaptor)){var t=JSON.parse(i);(0,n.le)(t.errors)||this.failureFunc(JSON.stringify(t.errors))}this.isCustomDataAdaptor(this.adaptor)&&(e=(0,n.l7)({},this.fetchReqOption,e));try{ee.parse.parseJson(i)}catch{i=[]}i=this.adaptor.processResponse(ee.parse.parseJson(i),this,null,e.fetchRequest,e),this.fetchDeffered.resolve(i)},h.prototype.failureFunc=function(i){this.fetchDeffered.reject([{error:i}])},h.prototype.dofetchRequest=function(i,e){var t=this;if(i=(0,n.l7)({},{type:"POST",contentType:"application/json; charset=utf-8",processData:!1},i),this.fetchDeffered=new Bd,this.isCustomDataAdaptor(this.adaptor))this.fetchReqOption=i,e.call(this,{data:i.data,onSuccess:this.successFunc.bind(this),onFailure:this.failureFunc.bind(this)});else{var s=new n.Uo(i);s.beforeSend=function(){t.beforeSend(s.fetchRequest,s)},s.onSuccess=this.successFunc.bind(this),s.onFailure=this.failureFunc.bind(this),s.send().catch(function(r){return!0})}return this.fetchDeffered.promise},h.prototype.clearPersistence=function(){window.removeEventListener("unload",this.setPersistData.bind(this)),this.dataSource.enablePersistence=!1,this.persistQuery={},window.localStorage.setItem(this.dataSource.id,"[]")},h}(),Bd=function(){return function h(){var i=this;this.promise=new Promise(function(e,t){i.resolve=e,i.reject=t}),this.then=this.promise.then.bind(this.promise),this.catch=this.promise.catch.bind(this.promise)}}(),kt={li:"e-list-item",ul:"e-list-parent e-ul",group:"e-list-group-item",icon:"e-list-icon",text:"e-list-text",check:"e-list-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-list-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-list-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"};function zi(h,i){var e={};if((0,n.le)(h)||"string"==typeof h||"number"==typeof h||!(0,n.le)(h.isHeader))return h;for(var t=0,s=Object.keys(i);t<s.length;t++){var o=i[""+s[t]],a=(0,n.le)(o)||"string"!=typeof o?void 0:(0,n.NA)(o,h);(0,n.le)(a)||(e[""+o]=a)}return e}function zd(h){if(h)try{return"function"!=typeof h&&document.querySelector(h)?(0,n.MY)(document.querySelector(h).innerHTML.trim()):(0,n.MY)(h)}catch{return(0,n.MY)(h)}}!function(h){h.defaultMappedFields={id:"id",text:"text",url:"url",value:"value",isChecked:"isChecked",enabled:"enabled",expanded:"expanded",selected:"selected",iconCss:"iconCss",child:"child",isVisible:"isVisible",hasChildren:"hasChildren",tooltip:"tooltip",htmlAttributes:"htmlAttributes",urlAttributes:"urlAttributes",imageAttributes:"imageAttributes",imageUrl:"imageUrl",groupBy:null,sortBy:null};var i={level:1,listRole:"presentation",itemRole:"presentation",groupItemRole:"group",itemText:"list-item",wrapperRole:"presentation"},e={showCheckBox:!1,showIcon:!1,enableHtmlSanitizer:!1,expandCollapse:!1,fields:h.defaultMappedFields,ariaAttributes:i,listClass:"",itemClass:"",processSubChild:!1,sortOrder:"None",template:null,groupTemplate:null,headerTemplate:null,expandIconClass:"e-icon-collapsible",moduleName:"list",expandIconPosition:"Right",itemNavigable:!1};function s(K,te,J,pe,me){return ce(K,r(K,te,J,pe,me),null,pe)}function r(K,te,J,pe,me){var _e=[],xe=(0,n.l7)({},e,pe);kt=N(xe.moduleName);for(var ve=j(),Fe=0;Fe<te.length;Fe++)if(!(0,n.le)(te[Fe])){var ot;xe.itemCreating&&"function"==typeof xe.itemCreating&&xe.itemCreating({dataSource:te,curData:te[Fe],text:te[Fe],options:xe}),ot=J?H(K,te[Fe],void 0,null,null,[],null,ve,Fe,pe):re(K,te[Fe],void 0,null,null,pe,me),xe.itemCreated&&"function"==typeof xe.itemCreated&&xe.itemCreated({dataSource:te,curData:te[Fe],text:te[Fe],item:ot,options:xe}),_e.push(ot)}return _e}function o(K,te,J,pe,me,_e){var xe=(0,n.l7)({},e,J);kt=N(xe.moduleName);var ot,ve=!_e||"listview"!==_e.getModuleName()&&"multiselect"!==_e.getModuleName()?(0,n.l7)({},h.defaultMappedFields,xe.fields):xe.fields,Fe=(0,n.l7)({},i,xe.ariaAttributes),ct=[];pe&&(Fe.level=pe);var Ke,dt,st=[];te&&te.length&&!(0,n.le)(g(te).item)&&!g(te).item.hasOwnProperty(ve.id)&&(ot=j());for(var Tt=0;Tt<te.length;Tt++){var We=zi(te[Tt],ve);if(!(0,n.le)(te[Tt])){xe.itemCreating&&"function"==typeof xe.itemCreating&&xe.itemCreating({dataSource:te,curData:te[Tt],text:We[ve.text],options:xe,fields:ve});var as=te[Tt];xe.itemCreating&&"function"==typeof xe.itemCreating&&(We=zi(te[Tt],ve)),We.hasOwnProperty(ve.id)&&!(0,n.le)(We[ve.id])&&(ot=We[ve.id]);var wi=[];if(xe.showCheckBox&&(xe.itemNavigable&&(We[ve.url]||We[ve.urlAttributes])?ct.push(K("input",{className:kt.check,attrs:{type:"checkbox"}})):wi.push(K("input",{className:kt.check,attrs:{type:"checkbox"}}))),!0===me)xe.showIcon&&We.hasOwnProperty(ve.iconCss)&&!(0,n.le)(We[ve.iconCss])&&wi.push(K("span",{className:kt.icon+" "+We[ve.iconCss]})),dt=(Ke=H(K,as,We,ve,xe.itemClass,wi,!(!as.hasOwnProperty("isHeader")||!as.isHeader),ot,Tt,J)).querySelector("."+kt.anchorWrap),xe.itemNavigable&&ct.length&&(0,n.Ce)(ct,Ke.firstElementChild);else{if((Ke=re(K,as,We,ve,xe.itemClass,J,_e)).classList.add(kt.level+"-"+Fe.level),Ke.setAttribute("aria-level",Fe.level.toString()),("presentation"===Fe.groupItemRole||"presentation"===Fe.itemRole)&&Ke.removeAttribute("aria-level"),dt=Ke.querySelector("."+kt.anchorWrap),We.hasOwnProperty(ve.tooltip)){var F=We[ve.tooltip];if(J&&J.enableHtmlSanitizer)F=n.pJ.sanitize(F);else{var U=K("span",{innerHTML:F});F=U.innerText,U=null}Ke.setAttribute("title",F)}if(We.hasOwnProperty(ve.htmlAttributes)&&We[ve.htmlAttributes]){var de=We[ve.htmlAttributes];de.hasOwnProperty("class")&&"string"==typeof de.class&&""===de.class.trim()&&delete de.class,b(Ke,de)}if(We.hasOwnProperty(ve.enabled)&&!1===We[ve.enabled]&&Ke.classList.add(kt.disabled),We.hasOwnProperty(ve.isVisible)&&!1===We[ve.isVisible]&&(Ke.style.display="none"),We.hasOwnProperty(ve.imageUrl)&&!(0,n.le)(We[ve.imageUrl])&&!xe.template){var Le={src:We[ve.imageUrl]};(0,n.TS)(Le,We[ve.imageAttributes]);var He=K("img",{className:kt.image,attrs:Le});dt?dt.insertAdjacentElement("afterbegin",He):(0,n.Ce)([He],Ke.firstElementChild)}if(xe.showIcon&&We.hasOwnProperty(ve.iconCss)&&!(0,n.le)(We[ve.iconCss])&&!xe.template){var Ee=K("div",{className:kt.icon+" "+We[ve.iconCss]});dt?dt.insertAdjacentElement("afterbegin",Ee):(0,n.Ce)([Ee],Ke.firstElementChild)}wi.length&&(0,n.Ce)(wi,Ke.firstElementChild),xe.itemNavigable&&ct.length&&(0,n.Ce)(ct,Ke.firstElementChild),Y(K,We,ve,0,xe,Ke,Fe.level)}dt&&(0,n.cn)([Ke],[kt.navigable]),xe.itemCreated&&"function"==typeof xe.itemCreated&&xe.itemCreated({dataSource:te,curData:te[Tt],text:We[ve.text],item:Ke,options:xe,fields:ve}),ct=[],st.push(Ke)}}return st}function a(K,te,J,pe,me,_e){var xe=(0,n.l7)({},e,J);return ce(K,o(K,te,J,pe,me,_e),xe.listClass,J)}function c(K,te){if(te&&K)return Array.prototype.slice.call(te).indexOf(K)}function u(K,te,J){if(void 0===J&&(J=new St),"Ascending"===K)J.sortBy(te,"ascending",!0);else if("Descending"===K)J.sortBy(te,"descending",!0);else for(var pe=0;pe<J.queries.length;pe++)"onSortBy"===J.queries[pe].fn&&J.queries.splice(pe,1);return J}function f(K,te){return new Xe(K).executeLocal(te)}function g(K){for(var J=0;J<K.length;J++)if(!(0,n.le)(K[J]))return{typeof:typeof K[J],item:K[J]};return{typeof:null,item:null}}function b(K,te){var J={};(0,n.TS)(J,te),J.class&&((0,n.cn)([K],J.class.split(" ")),delete J.class),(0,n.Y4)(K,J)}function C(K){for(var te={},J=K.attributes,pe=0;pe<J.length;pe++)te[J[pe].nodeName]=J[pe].nodeValue;return te}function j(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function Y(K,te,J,pe,me,_e,xe){var ve=te[J.child]||[],Fe=te[J.hasChildren];if(ve.length&&(Fe=!0,_e.classList.add(kt.hasChild),me.processSubChild)){var ot=a(K,ve,me,++xe);_e.appendChild(ot)}me.expandCollapse&&Fe&&!me.template&&(_e.firstElementChild.classList.add(kt.iconWrapper),("Left"===me.expandIconPosition?n.Ce:n.R3)([K("div",{className:"e-icons "+me.expandIconClass})],_e.querySelector("."+kt.textContent)))}function H(K,te,J,pe,me,_e,xe,ve,Fe,ot){var Tt,We,ct=(0,n.l7)({},e,ot),st=(0,n.l7)({},i,ct.ariaAttributes),Ke=te,dt=te;"string"!=typeof te&&"number"!=typeof te&&"boolean"!=typeof te&&(Tt=te,Ke="boolean"==typeof J[pe.text]||"number"==typeof J[pe.text]?J[pe.text]:J[pe.text]||"",dt=J[pe.value]),We=(0,n.le)(Tt)||(0,n.le)(J[pe.id])||""===J[pe.id]?ve+"-"+Fe:ve;var ti=K("li",{className:(!0===xe?kt.group:kt.li)+" "+((0,n.le)(me)?"":me),id:We,attrs:""!==st.groupItemRole&&""!==st.itemRole?{role:!0===xe?st.groupItemRole:st.itemRole}:{}});return Tt&&J.hasOwnProperty(pe.enabled)&&"false"===J[pe.enabled].toString()&&ti.classList.add(kt.disabled),xe?ti.innerText=Ke:(ti.setAttribute("data-value",(0,n.le)(dt)?"null":dt),ti.setAttribute("role","option"),Tt&&J.hasOwnProperty(pe.htmlAttributes)&&J[pe.htmlAttributes]&&b(ti,J[pe.htmlAttributes]),_e.length&&!ct.itemNavigable&&(0,n.R3)(_e,ti),Tt&&(J[pe.url]||J[pe.urlAttributes]&&J[pe.urlAttributes].href)?ti.appendChild(ne(K,Tt,pe,Ke,_e,ct.itemNavigable)):(_e.length&&ct.itemNavigable&&(0,n.R3)(_e,ti),ti.appendChild(document.createTextNode(Ke)))),ti}function N(K){return{li:"e-"+K+"-item",ul:"e-"+K+"-parent e-ul",group:"e-"+K+"-group-item",icon:"e-"+K+"-icon",text:"e-"+K+"-text",check:"e-"+K+"-check",checked:"e-checked",selected:"e-selected",expanded:"e-expanded",textContent:"e-text-content",hasChild:"e-has-child",level:"e-level",url:"e-"+K+"-url",collapsible:"e-icon-collapsible",disabled:"e-disabled",image:"e-"+K+"-img",iconWrapper:"e-icon-wrapper",anchorWrap:"e-anchor-wrap",navigable:"e-navigable"}}function ne(K,te,J,pe,me,_e){var Fe,xe=zi(te,J),ve={href:xe[J.url]};if(xe.hasOwnProperty(J.urlAttributes)&&xe[J.urlAttributes]&&((0,n.TS)(ve,xe[J.urlAttributes]),ve.href=xe[J.url]?xe[J.url]:xe[J.urlAttributes].href),_e){Fe=K("a",{className:kt.text+" "+kt.url});var ot=K("div",{className:kt.anchorWrap});me&&me.length&&(0,n.R3)(me,ot),ot.appendChild(document.createTextNode(pe)),(0,n.R3)([ot],Fe)}else Fe=K("a",{className:kt.text+" "+kt.url,innerHTML:pe});return b(Fe,ve),Fe}function re(K,te,J,pe,me,_e,xe){var ct,st,Ke,ve=(0,n.l7)({},e,_e),Fe=(0,n.l7)({},i,ve.ariaAttributes),ot=te;"string"!=typeof te&&"number"!=typeof te&&(Ke=te,ot=J[pe.text]||"",ct=(0,n.le)(J._id)?J[pe.id]:J._id,st=!(!te.hasOwnProperty("isHeader")||!te.isHeader));var dt=K("li",{className:(!0===st?kt.group:kt.li)+" "+((0,n.le)(me)?"":me),attrs:""!==Fe.groupItemRole&&""!==Fe.itemRole?{role:!0===st?Fe.groupItemRole:Fe.itemRole}:{}});if((0,n.le)(ct)?dt.setAttribute("data-uid",j()):dt.setAttribute("data-uid",ct),st&&_e&&_e.groupTemplate){var Tt=zd(_e.groupTemplate);xe&&"listview"!==xe.getModuleName()?(We=Tt(te,xe,"groupTemplate",ve.groupTemplateID,!!ve.isStringTemplate,null,dt))&&(0,n.R3)(We,dt):(0,n.R3)(Tt(te,xe,"groupTemplate",ve.groupTemplateID,!!ve.isStringTemplate),dt)}else if(!st&&_e&&_e.template){var We;Tt=zd(_e.template),xe&&"listview"!==xe.getModuleName()?(We=Tt(te,xe,"template",ve.templateID,!!ve.isStringTemplate,null,dt))&&(0,n.R3)(We,dt):(0,n.R3)(Tt(te,xe,"template",ve.templateID,!!ve.isStringTemplate),dt)}else{var ti=K("div",{className:kt.textContent,attrs:""!==Fe.wrapperRole?{role:Fe.wrapperRole}:{}});if(Ke&&(J[pe.url]||J[pe.urlAttributes]&&J[pe.urlAttributes].href))ti.appendChild(ne(K,Ke,pe,ot,null,ve.itemNavigable));else{var as=K("span",{className:kt.text,attrs:""!==Fe.itemText?{role:Fe.itemText}:{}});_e&&_e.enableHtmlSanitizer?as.innerText=n.pJ.sanitize(ot):as.innerHTML=ot,ti.appendChild(as)}dt.appendChild(ti)}return dt}function ce(K,te,J,pe){var me=(0,n.l7)({},e,pe),_e=(0,n.l7)({},i,me.ariaAttributes),xe=K("ul",{className:(kt=N(me.moduleName)).ul+" "+((0,n.le)(J)?"":J),attrs:""!==_e.listRole?{role:_e.listRole}:{}});return(0,n.R3)(te,xe),xe}h.createList=function t(K,te,J,pe,me){var _e=(0,n.l7)({},e,J),xe=(0,n.l7)({},i,_e.ariaAttributes),ve=g(te).typeof;return"string"===ve||"number"===ve?s(K,te,pe,J,me):a(K,te,J,xe.level,pe,me)},h.createListFromArray=s,h.createListItemFromArray=r,h.createListItemFromJson=o,h.createListFromJson=a,h.getSiblingLI=function d(K,te,J){if(kt=N(e.moduleName),K&&K.length){var pe,me,_e=Array.prototype.slice.call(K);for(pe=_e[(me=te?c(te,_e):!0===J?_e.length:-1)+(!0===J?-1:1)];pe&&(!(0,n.pn)(pe)||pe.classList.contains(kt.disabled));)pe=_e[me+=!0===J?-1:1];return pe}},h.indexOf=c,h.groupDataSource=function p(K,te,J){void 0===J&&(J="None");var pe=(0,n.l7)({},h.defaultMappedFields,te),me=(new St).group(pe.groupBy),_e=f(K,me=u(J,"key",me));K=[];for(var xe=0;xe<_e.length;xe++){var ve=_e[xe].items,Fe={};Fe[pe.text]=_e[xe].key,Fe.isHeader=!0;var ct=pe.text;"id"===ct&&(Fe[ct="text"]=_e[xe].key),Fe._id="group-list-item-"+(_e[xe].key?_e[xe].key.toString().trim():"undefined"),Fe.items=ve,K.push(Fe);for(var st=0;st<ve.length;st++)K.push(ve[st])}return K},h.addSorting=u,h.getDataSource=f,h.createJsonFromElement=function v(K,te){var J=(0,n.l7)({},e,te),pe=(0,n.l7)({},h.defaultMappedFields,J.fields),me=K.cloneNode(!0),_e=[];me.classList.add("json-parent");var xe=me.querySelectorAll(".json-parent>li");me.classList.remove("json-parent");for(var ve=0;ve<xe.length;ve++){for(var Fe=xe[ve],ot=Fe.querySelector("a"),ct=Fe.querySelector("ul"),st={},Ke=ot?ot.childNodes:Fe.childNodes,dt=Object.keys(Ke),Tt=0;Tt<Ke.length;Tt++)Ke[Number(dt[Tt])].hasChildNodes()||(st[pe.text]=Ke[Number(dt[Tt])].textContent);var We=C(Fe);We.id?(st[pe.id]=We.id,delete We.id):st[pe.id]=j(),Object.keys(We).length&&(st[pe.htmlAttributes]=We),ot&&(We=C(ot),Object.keys(We).length&&(st[pe.urlAttributes]=We)),ct&&(st[pe.child]=v(ct,te)),_e.push(st)}return _e},h.renderContentTemplate=function T(K,te,J,pe,me,_e){for(var st,xe=K("ul",{className:(kt=N(e.moduleName)).ul,attrs:{role:"presentation"}}),ve=(0,n.l7)({},e,me),Fe=(0,n.l7)({},h.defaultMappedFields,pe),ot=zd(te),ct=[],Ke=j(),dt=0;dt<J.length;dt++){var Tt=zi(J[dt],Fe),We=J[dt],ti=We.isHeader;st="string"==typeof J[dt]||"number"==typeof J[dt]?We:Tt[Fe.value],ve.itemCreating&&"function"==typeof ve.itemCreating&&ve.itemCreating({dataSource:J,curData:We,text:st,options:ve,fields:Fe}),ve.itemCreating&&"function"==typeof ve.itemCreating&&(Tt=zi(J[dt],Fe),st="string"==typeof J[dt]||"number"==typeof J[dt]?We:Tt[Fe.value]);var wi=K("li",{id:Ke+"-"+dt,className:ti?kt.group:kt.li,attrs:{role:"presentation"}});if(ti)wi.innerText="string"==typeof J[dt]||"number"==typeof J[dt]?We:Tt[Fe.text];else{var F=ti?ve.groupTemplateID:ve.templateID;if(ti)_e&&"listview"!==_e.getModuleName()?(U=ot(We,_e,"headerTemplate",F,!!ve.isStringTemplate,null,wi))&&(0,n.R3)(U,wi):(0,n.R3)(ot(We,_e,"headerTemplate",F,!!ve.isStringTemplate),wi);else if(_e&&"listview"!==_e.getModuleName()){var U;(U=ot(We,_e,"template",F,!!ve.isStringTemplate,null,wi))&&(0,n.R3)(U,wi)}else(0,n.R3)(ot(We,_e,"template",F,!!ve.isStringTemplate),wi);wi.setAttribute("data-value",(0,n.le)(st)?"null":st),wi.setAttribute("role","option")}ve.itemCreated&&"function"==typeof ve.itemCreated&&ve.itemCreated({dataSource:J,curData:We,text:st,item:wi,options:ve,fields:Fe}),ct.push(wi)}return(0,n.R3)(ct,xe),xe},h.renderGroupTemplate=function O(K,te,J,pe,me,_e){for(var xe=zd(K),ve=(0,n.l7)({},h.defaultMappedFields,J),Fe=(0,n.l7)({},e,me),ot=ve.groupBy,ct=0,st=pe;ct<st.length;ct++){var Ke=st[ct],dt={};if(dt[""+ot]=Ke.textContent,Ke.innerHTML="",_e&&"listview"!==_e.getModuleName()){var Tt=xe(dt,_e,"groupTemplate",Fe.groupTemplateID,!!Fe.isStringTemplate,null,Ke);Tt&&(0,n.R3)(Tt,Ke)}else(0,n.R3)(xe(dt,_e,"groupTemplate",Fe.groupTemplateID,!!Fe.isStringTemplate),Ke)}return pe},h.generateId=j,h.generateUL=ce,h.generateIcon=function Ye(K,te,J,pe){var me=(0,n.l7)({},e,pe);return kt=N(me.moduleName),("Left"===me.expandIconPosition?n.Ce:n.R3)([K("div",{className:"e-icons "+me.expandIconClass+" "+((0,n.le)(J)?"":J)})],te.querySelector("."+kt.textContent)),te}}(ut||(ut={}));var jx=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),k0=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},En="e-rtl",Dn="e-overlay",jl="e-nav-arrow",Rl="e-nav-right-arrow",Vd="e-nav-left-arrow",go="e-scroll-nav",jf="e-scroll-right-nav",L0="e-scroll-left-nav",O0="e-scroll-device",qd="e-scroll-overlay",Rf="e-scroll-right-overlay",Yf="e-scroll-left-overlay",Wd=function(h){function i(e,t){return h.call(this,e,t)||this}return jx(i,h),i.prototype.preRender=function(){this.browser=n.AR.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=n.AR.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=(0,n.QI)("hscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(En)},i.prototype.render=function(){this.touchModule=new n.Xh(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),n.bi.add(this.scrollEle,"scroll",this.scrollHandler,this),this.isDevice?(this.element.classList.add(O0),this.createOverlay(this.element)):this.createNavIcon(this.element),this.setScrollState()},i.prototype.setScrollState=function(){(0,n.le)(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetWidth,this.customStep=!1):this.customStep=!0},i.prototype.initialize=function(){var e=this.createElement("div",{className:"e-hscroll-content"}),t=this.createElement("div",{className:"e-hscroll-bar"});t.setAttribute("tabindex","-1");for(var s=this.element,o=0,a=[].slice.call(s.children);o<a.length;o++)e.appendChild(a[o]);t.appendChild(e),s.appendChild(t),t.style.overflowX="hidden",this.scrollEle=t,this.scrollItems=e},i.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},i.prototype.getModuleName=function(){return"hScroll"},i.prototype.destroy=function(){var e=this.element;e.style.display="",e.classList.remove("e-hscroll"),e.classList.remove(O0),e.classList.remove(En);var t=(0,n.td)(".e-"+e.id+"_nav."+go,e),s=(0,n.td)("."+qd,e);[].slice.call(s).forEach(function(d){(0,n.og)(d)});for(var r=0,o=[].slice.call(this.scrollItems.children);r<o.length;r++)e.appendChild(o[r]);this.uniqueId&&this.element.removeAttribute("id"),(0,n.og)(this.scrollEle),t.length>0&&((0,n.og)(t[0]),(0,n.le)(t[1])||(0,n.og)(t[1])),n.bi.remove(this.scrollEle,"scroll",this.scrollHandler),this.touchModule.destroy(),this.touchModule=null,h.prototype.destroy.call(this)},i.prototype.disable=function(e){var t=(0,n.td)(".e-scroll-nav:not(."+Dn+")",this.element);e?this.element.classList.add(Dn):this.element.classList.remove(Dn),[].slice.call(t).forEach(function(s){s.setAttribute("tabindex",e?"-1":"0")})},i.prototype.createOverlay=function(e){var t=e.id.concat("_nav"),s=this.createElement("div",{className:qd+" "+Rf}),r="e-"+e.id.concat("_nav "+go+" "+jf),o=this.createElement("div",{id:t.concat("_right"),className:r}),a=this.createElement("div",{className:Rl+" "+jl+" e-icons"});o.appendChild(a);var d=this.createElement("div",{className:qd+" "+Yf});this.ieCheck&&o.classList.add("e-ie-align"),e.appendChild(s),e.appendChild(o),e.insertBefore(d,e.firstChild),this.eventBinding([o])},i.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),s="e-"+e.id.concat("_nav "+go+" "+jf),r={role:"button",id:t.concat("_right"),"aria-label":"Scroll right"},o=this.createElement("div",{className:s,attrs:r});o.setAttribute("aria-disabled","false");var a=this.createElement("div",{className:Rl+" "+jl+" e-icons"}),d="e-"+e.id.concat("_nav "+go+" "+L0),c={role:"button",id:t.concat("_left"),"aria-label":"Scroll left"},p=this.createElement("div",{className:d+" "+Dn,attrs:c});p.setAttribute("aria-disabled","true");var u=this.createElement("div",{className:Vd+" "+jl+" e-icons"});p.appendChild(u),o.appendChild(a),e.appendChild(o),e.insertBefore(p,e.firstChild),this.ieCheck&&(o.classList.add("e-ie-align"),p.classList.add("e-ie-align")),this.eventBinding([o,p])},i.prototype.onKeyPress=function(e){var t=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout(function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)},100))},i.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},i.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach(function(s){new n.Xh(s,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),s.addEventListener("keydown",t.onKeyPress.bind(t)),s.addEventListener("keyup",t.onKeyUp.bind(t)),s.addEventListener("mouseup",t.repeatScroll.bind(t)),s.addEventListener("touchend",t.repeatScroll.bind(t)),s.addEventListener("contextmenu",function(r){r.preventDefault()}),n.bi.add(s,"click",t.clickEventHandler,t)})},i.prototype.repeatScroll=function(){clearInterval(this.timeout)},i.prototype.tabHoldHandler=function(e){var t=this,s=e.originalEvent.target;s=this.contains(s,go)?s.firstElementChild:s,this.timeout=window.setInterval(function(){t.eleScrolling(10,s,!0)},50)},i.prototype.contains=function(e,t){return e.classList.contains(t)},i.prototype.eleScrolling=function(e,t,s){var r=this.element,o=t.classList;o.contains(go)&&(o=t.querySelector("."+jl).classList),this.contains(r,En)&&this.browserCheck&&(e=-e),!this.contains(r,En)||this.browserCheck||this.ieCheck?o.contains(Rl)?this.frameScrollRequest(e,"add",s):this.frameScrollRequest(e,"",s):o.contains(Vd)?this.frameScrollRequest(e,"add",s):this.frameScrollRequest(e,"",s)},i.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},i.prototype.swipeHandler=function(e){var s,t=this.scrollEle;s=e.velocity<=1?e.distanceX/(10*e.velocity):e.distanceX/e.velocity;var r=.5,o=function(){var a=Math.sin(r);a<=0?window.cancelAnimationFrame(a):("Left"===e.swipeDirection?t.scrollLeft+=s*a:"Right"===e.swipeDirection&&(t.scrollLeft-=s*a),r-=.5,window.requestAnimationFrame(o))};o()},i.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollLeft+=e:this.scrollEle.scrollLeft-=e,this.enableRtl&&this.scrollEle.scrollLeft>0&&(this.scrollEle.scrollLeft=0)},i.prototype.frameScrollRequest=function(e,t,s){var r=this;if(s)this.scrollUpdating(e,t);else{this.customStep||[].slice.call((0,n.td)("."+qd,this.element)).forEach(function(d){e-=d.offsetWidth});var a=function(){var d,c;r.contains(r.element,En)&&r.browserCheck?(d=-e,c=-10):(d=e,c=10),d<10?window.cancelAnimationFrame(c):(r.scrollUpdating(c,t),e-=c,window.requestAnimationFrame(a))};a()}},i.prototype.touchHandler=function(e){var t=this.scrollEle,s=e.distanceX;this.ieCheck&&this.contains(this.element,En)&&(s=-s),"Left"===e.scrollDirection?t.scrollLeft=t.scrollLeft+s:"Right"===e.scrollDirection&&(t.scrollLeft=t.scrollLeft-s)},i.prototype.arrowDisabling=function(e,t){if(this.isDevice){var r=((0,n.le)(e)?t:e).querySelector("."+jl);(0,n.le)(e)?(0,n.s1)(r,[Rl],[Vd]):(0,n.s1)(r,[Vd],[Rl])}else e&&t&&(e.classList.add(Dn),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(Dn),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0"));this.repeatScroll()},i.prototype.scrollHandler=function(e){var t=e.target,s=t.offsetWidth,o=this.element.querySelector("."+L0),a=this.element.querySelector("."+jf),d=this.element.querySelector("."+Yf),c=this.element.querySelector("."+Rf),p=t.scrollLeft;if(p<=0&&(p=-p),this.isDevice&&(this.enableRtl&&!(this.browserCheck||this.ieCheck)&&(d=this.element.querySelector("."+Rf),c=this.element.querySelector("."+Yf)),d.style.width=p<40?p+"px":"40px",c.style.width=t.scrollWidth-Math.ceil(s+p)<40?t.scrollWidth-Math.ceil(s+p)+"px":"40px"),0===p)this.arrowDisabling(o,a);else if(Math.ceil(s+p+.1)>=t.scrollWidth)this.arrowDisabling(a,o);else{var u=this.element.querySelector("."+go+"."+Dn);u&&(u.classList.remove(Dn),u.setAttribute("aria-disabled","false"),u.setAttribute("tabindex","0"))}},i.prototype.onPropertyChanged=function(e,t){for(var s=0,r=Object.keys(e);s<r.length;s++)switch(r[s]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(En):this.element.classList.remove(En)}},k0([(0,n.Z9)(null)],i.prototype,"scrollStep",void 0),k0([n.Zl],i)}(n.wA),Hx=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),A0=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},Zd="e-rtl",jn="e-overlay",Yl="e-nav-arrow",Ud="e-nav-up-arrow",Fl="e-nav-down-arrow",yo="e-scroll-nav",I0="e-scroll-up-nav",Ff="e-scroll-down-nav",E0="e-scroll-device",Xd="e-scroll-overlay",D0="e-scroll-up-overlay",j0="e-scroll-down-overlay",da=function(h){function i(e,t){return h.call(this,e,t)||this}return Hx(i,h),i.prototype.preRender=function(){this.browser=n.AR.info.name,this.browserCheck="mozilla"===this.browser,this.isDevice=n.AR.isDevice,this.customStep=!0;var e=this.element;this.ieCheck="edge"===this.browser||"msie"===this.browser,this.initialize(),""===e.id&&(e.id=(0,n.QI)("vscroll"),this.uniqueId=!0),e.style.display="block",this.enableRtl&&e.classList.add(Zd)},i.prototype.render=function(){this.touchModule=new n.Xh(this.element,{scroll:this.touchHandler.bind(this),swipe:this.swipeHandler.bind(this)}),n.bi.add(this.scrollEle,"scroll",this.scrollEventHandler,this),this.isDevice?(this.element.classList.add(E0),this.createOverlayElement(this.element)):this.createNavIcon(this.element),this.setScrollState(),n.bi.add(this.element,"wheel",this.wheelEventHandler,this)},i.prototype.setScrollState=function(){(0,n.le)(this.scrollStep)||this.scrollStep<0?(this.scrollStep=this.scrollEle.offsetHeight,this.customStep=!1):this.customStep=!0},i.prototype.initialize=function(){var e=(0,n.az)("div",{className:"e-vscroll-content"}),t=(0,n.az)("div",{className:"e-vscroll-bar"});t.setAttribute("tabindex","-1");for(var s=this.element,o=0,a=[].slice.call(s.children);o<a.length;o++)e.appendChild(a[o]);t.appendChild(e),s.appendChild(t),t.style.overflow="hidden",this.scrollEle=t,this.scrollItems=e},i.prototype.getPersistData=function(){return this.addOnPersist(["scrollStep"])},i.prototype.getModuleName=function(){return"vScroll"},i.prototype.destroy=function(){var e=this.element;e.style.display="",(0,n.IV)([this.element],["e-vscroll",E0,Zd]);var t=(0,n.td)(".e-"+e.id+"_nav."+yo,e),s=(0,n.td)("."+Xd,e);[].slice.call(s).forEach(function(d){(0,n.og)(d)});for(var r=0,o=[].slice.call(this.scrollItems.children);r<o.length;r++)e.appendChild(o[r]);this.uniqueId&&this.element.removeAttribute("id"),(0,n.og)(this.scrollEle),t.length>0&&((0,n.og)(t[0]),(0,n.le)(t[1])||(0,n.og)(t[1])),n.bi.remove(this.scrollEle,"scroll",this.scrollEventHandler),this.touchModule.destroy(),this.touchModule=null,h.prototype.destroy.call(this)},i.prototype.disable=function(e){var t=(0,n.td)(".e-scroll-nav:not(."+jn+")",this.element);e?this.element.classList.add(jn):this.element.classList.remove(jn),[].slice.call(t).forEach(function(s){s.setAttribute("tabindex",e?"-1":"0")})},i.prototype.createOverlayElement=function(e){var t=e.id.concat("_nav"),s=(0,n.az)("div",{className:Xd+" "+j0}),r="e-"+e.id.concat("_nav "+yo+" "+Ff),o=(0,n.az)("div",{id:t.concat("down"),className:r}),a=(0,n.az)("div",{className:Fl+" "+Yl+" e-icons"});o.appendChild(a);var d=(0,n.az)("div",{className:Xd+" "+D0});this.ieCheck&&o.classList.add("e-ie-align"),e.appendChild(s),e.appendChild(o),e.insertBefore(d,e.firstChild),this.eventBinding([o])},i.prototype.createNavIcon=function(e){var t=e.id.concat("_nav"),s="e-"+e.id.concat("_nav "+yo+" "+Ff),r=(0,n.az)("div",{id:t.concat("_down"),className:s});r.setAttribute("aria-disabled","false");var o=(0,n.az)("div",{className:Fl+" "+Yl+" e-icons"}),a="e-"+e.id.concat("_nav "+yo+" "+I0),d=(0,n.az)("div",{id:t.concat("_up"),className:a+" "+jn});d.setAttribute("aria-disabled","true");var c=(0,n.az)("div",{className:Ud+" "+Yl+" e-icons"});d.appendChild(c),r.appendChild(o),r.setAttribute("tabindex","0"),e.appendChild(r),e.insertBefore(d,e.firstChild),this.ieCheck&&(r.classList.add("e-ie-align"),d.classList.add("e-ie-align")),this.eventBinding([r,d])},i.prototype.onKeyPress=function(e){var t=this;"Enter"===e.key&&(this.keyTimer=window.setTimeout(function(){t.keyTimeout=!0,t.eleScrolling(10,e.target,!0)},100))},i.prototype.onKeyUp=function(e){"Enter"===e.key&&(this.keyTimeout?this.keyTimeout=!1:e.target.click(),clearTimeout(this.keyTimer))},i.prototype.eventBinding=function(e){var t=this;[].slice.call(e).forEach(function(s){new n.Xh(s,{tapHold:t.tabHoldHandler.bind(t),tapHoldThreshold:500}),s.addEventListener("keydown",t.onKeyPress.bind(t)),s.addEventListener("keyup",t.onKeyUp.bind(t)),s.addEventListener("mouseup",t.repeatScroll.bind(t)),s.addEventListener("touchend",t.repeatScroll.bind(t)),s.addEventListener("contextmenu",function(r){r.preventDefault()}),n.bi.add(s,"click",t.clickEventHandler,t)})},i.prototype.repeatScroll=function(){clearInterval(this.timeout)},i.prototype.tabHoldHandler=function(e){var t=this,s=e.originalEvent.target;s=this.contains(s,yo)?s.firstElementChild:s,this.timeout=window.setInterval(function(){t.eleScrolling(10,s,!0)},50)},i.prototype.contains=function(e,t){return e.classList.contains(t)},i.prototype.eleScrolling=function(e,t,s){var r=t.classList;r.contains(yo)&&(r=t.querySelector("."+Yl).classList),r.contains(Fl)?this.frameScrollRequest(e,"add",s):r.contains(Ud)&&this.frameScrollRequest(e,"",s)},i.prototype.clickEventHandler=function(e){this.eleScrolling(this.scrollStep,e.target,!1)},i.prototype.wheelEventHandler=function(e){e.preventDefault(),this.frameScrollRequest(this.scrollStep,e.deltaY>0?"add":"",!1)},i.prototype.swipeHandler=function(e){var s,t=this.scrollEle;s=e.velocity<=1?e.distanceY/(10*e.velocity):e.distanceY/e.velocity;var r=.5,o=function(){var a=Math.sin(r);a<=0?window.cancelAnimationFrame(a):("Up"===e.swipeDirection?t.scrollTop+=s*a:"Down"===e.swipeDirection&&(t.scrollTop-=s*a),r-=.02,window.requestAnimationFrame(o))};o()},i.prototype.scrollUpdating=function(e,t){"add"===t?this.scrollEle.scrollTop+=e:this.scrollEle.scrollTop-=e},i.prototype.frameScrollRequest=function(e,t,s){var r=this;if(s)this.scrollUpdating(e,t);else{this.customStep||[].slice.call((0,n.td)("."+Xd,this.element)).forEach(function(d){e-=d.offsetHeight});var a=function(){e<10?window.cancelAnimationFrame(10):(r.scrollUpdating(10,t),e-=10,window.requestAnimationFrame(a))};a()}},i.prototype.touchHandler=function(e){var t=this.scrollEle,s=e.distanceY;"Up"===e.scrollDirection?t.scrollTop=t.scrollTop+s:"Down"===e.scrollDirection&&(t.scrollTop=t.scrollTop-s)},i.prototype.arrowDisabling=function(e,t){if(this.isDevice){var r=((0,n.le)(e)?t:e).querySelector("."+Yl);(0,n.le)(e)?(0,n.s1)(r,[Fl],[Ud]):(0,n.s1)(r,[Ud],[Fl])}else e.classList.add(jn),e.setAttribute("aria-disabled","true"),e.removeAttribute("tabindex"),t.classList.remove(jn),t.setAttribute("aria-disabled","false"),t.setAttribute("tabindex","0");this.repeatScroll()},i.prototype.scrollEventHandler=function(e){var t=e.target,s=t.offsetHeight,r=this.element.querySelector("."+I0),o=this.element.querySelector("."+Ff),a=this.element.querySelector("."+D0),d=this.element.querySelector("."+j0),c=t.scrollTop;if(c<=0&&(c=-c),this.isDevice&&(a.style.height=c<40?c+"px":"40px",d.style.height=t.scrollHeight-Math.ceil(s+c)<40?t.scrollHeight-Math.ceil(s+c)+"px":"40px"),0===c)this.arrowDisabling(r,o);else if(Math.ceil(s+c+.1)>=t.scrollHeight)this.arrowDisabling(o,r);else{var p=this.element.querySelector("."+yo+"."+jn);p&&(p.classList.remove(jn),p.setAttribute("aria-disabled","false"),p.setAttribute("tabindex","0"))}},i.prototype.onPropertyChanged=function(e,t){for(var s=0,r=Object.keys(e);s<r.length;s++)switch(r[s]){case"scrollStep":this.setScrollState();break;case"enableRtl":e.enableRtl?this.element.classList.add(Zd):this.element.classList.remove(Zd)}},A0([(0,n.Z9)(null)],i.prototype,"scrollStep",void 0),A0([n.Zl],i)}(n.wA),z0=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),Yt=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},zf="e-vertical",Jt="e-toolbar-items",ei="e-toolbar-item",Rr="e-rtl",di="e-separator",sc="e-popup-up-icon",Hl="e-popup-down-icon",V0="e-popup-open",q0="e-template",fs="e-overlay",W0="e-toolbar-text",Vf="e-popup-text",pr="e-overflow-show",rc="e-overflow-hide",_s="e-hor-nav",Z0="e-scroll-nav",U0="e-toolbar-center",ur="e-tbar-pos",qf="e-hscroll-bar",Nl="e-toolbar-pop",Rn="e-toolbar-popup",Bl="e-nav-active",zl="e-ignore",Wf="e-popup-alone",nn="e-hidden",X0="e-toolbar-multirow",J0="e-multirow-pos",Zf="e-multirow-separator",Uf="e-extended-separator",G0="e-extended-toolbar",nc="e-toolbar-extended",Xf="e-tbar-extended",Kx=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return z0(i,h),Yt([(0,n.Z9)("")],i.prototype,"id",void 0),Yt([(0,n.Z9)("")],i.prototype,"text",void 0),Yt([(0,n.Z9)("auto")],i.prototype,"width",void 0),Yt([(0,n.Z9)("")],i.prototype,"cssClass",void 0),Yt([(0,n.Z9)(!1)],i.prototype,"showAlwaysInPopup",void 0),Yt([(0,n.Z9)(!1)],i.prototype,"disabled",void 0),Yt([(0,n.Z9)("")],i.prototype,"prefixIcon",void 0),Yt([(0,n.Z9)("")],i.prototype,"suffixIcon",void 0),Yt([(0,n.Z9)(!0)],i.prototype,"visible",void 0),Yt([(0,n.Z9)("None")],i.prototype,"overflow",void 0),Yt([(0,n.Z9)("")],i.prototype,"template",void 0),Yt([(0,n.Z9)("Button")],i.prototype,"type",void 0),Yt([(0,n.Z9)("Both")],i.prototype,"showTextOn",void 0),Yt([(0,n.Z9)(null)],i.prototype,"htmlAttributes",void 0),Yt([(0,n.Z9)("")],i.prototype,"tooltipText",void 0),Yt([(0,n.Z9)("Left")],i.prototype,"align",void 0),Yt([(0,n.ju)()],i.prototype,"click",void 0),Yt([(0,n.Z9)(-1)],i.prototype,"tabIndex",void 0),i}(n.rt),ws=function(h){function i(e,t){var s=h.call(this,e,t)||this;return s.resizeContext=s.resize.bind(s),s.orientationChangeContext=s.orientationChange.bind(s),s.keyConfigs={moveLeft:"leftarrow",moveRight:"rightarrow",moveUp:"uparrow",moveDown:"downarrow",popupOpen:"enter",popupClose:"escape",tab:"tab",home:"home",end:"end"},s}return z0(i,h),i.prototype.destroy=function(){var e=this;(this.isReact||this.isAngular)&&this.clearTemplate();var t=this.element.querySelectorAll(".e-control.e-btn");for([].slice.call(t).forEach(function(s){!(0,n.le)(s)&&!(0,n.le)(s.ej2_instances)&&!(0,n.le)(s.ej2_instances[0])&&!s.ej2_instances[0].isDestroyed&&s.ej2_instances[0].destroy()}),this.unwireEvents(),this.tempId.forEach(function(s){(0,n.le)(e.element.querySelector(s))||(document.body.appendChild(e.element.querySelector(s)).style.display="none")}),this.destroyItems();this.element.lastElementChild;)this.element.removeChild(this.element.lastElementChild);this.trgtEle&&(this.element.appendChild(this.ctrlTem),this.trgtEle=null,this.ctrlTem=null),this.popObj&&(this.popObj.destroy(),(0,n.og)(this.popObj.element)),this.activeEle&&(this.activeEle=null),this.popObj=null,this.tbarAlign=null,this.tbarItemsCol=[],this.remove(this.element,"e-toolpop"),this.cssClass&&(0,n.IV)([this.element],this.cssClass.split(" ")),this.element.removeAttribute("style"),["aria-disabled","aria-orientation","role"].forEach(function(s){return e.element.removeAttribute(s)}),h.prototype.destroy.call(this)},i.prototype.preRender=function(){var e={enableCollision:this.enableCollision,scrollStep:this.scrollStep};this.trigger("beforeCreate",e),this.enableCollision=e.enableCollision,this.scrollStep=e.scrollStep,this.scrollModule=null,this.popObj=null,this.tempId=[],this.tbarItemsCol=this.items,this.isVertical=!!this.element.classList.contains(zf),this.isExtendedOpen=!1,this.popupPriCount=0,this.enableRtl&&this.add(this.element,Rr)},i.prototype.wireEvents=function(){n.bi.add(this.element,"click",this.clickHandler,this),window.addEventListener("resize",this.resizeContext),window.addEventListener("orientationchange",this.orientationChangeContext),this.allowKeyboard&&this.wireKeyboardEvent()},i.prototype.wireKeyboardEvent=function(){this.keyModule=new n.nv(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigs}),n.bi.add(this.element,"keydown",this.docKeyDown,this),this.updateTabIndex("0")},i.prototype.updateTabIndex=function(e){var t=this.element.querySelector("."+ei+":not(."+fs+" ):not(."+di+" ):not(."+nn+" )");if(!(0,n.le)(t)&&!(0,n.le)(t.firstElementChild)){var s=t.firstElementChild.getAttribute("data-tabindex");s&&"-1"===s&&"INPUT"!==t.firstElementChild.tagName&&t.firstElementChild.setAttribute("tabindex",e)}},i.prototype.unwireKeyboardEvent=function(){this.keyModule&&(n.bi.remove(this.element,"keydown",this.docKeyDown),this.keyModule.destroy(),this.keyModule=null)},i.prototype.docKeyDown=function(e){if("INPUT"!==e.target.tagName){var t=!(0,n.le)(this.popObj)&&(0,n.pn)(this.popObj.element)&&"Extended"!==this.overflowMode;9===e.keyCode&&!0===e.target.classList.contains("e-hor-nav")&&t&&this.popObj.hide({name:"FadeOut",duration:100}),(40===e.keyCode||38===e.keyCode||35===e.keyCode||36===e.keyCode)&&e.preventDefault()}},i.prototype.unwireEvents=function(){n.bi.remove(this.element,"click",this.clickHandler),this.destroyScroll(),this.unwireKeyboardEvent(),window.removeEventListener("resize",this.resizeContext),window.removeEventListener("orientationchange",this.orientationChangeContext),n.bi.remove(document,"scroll",this.docEvent),n.bi.remove(document,"click",this.docEvent)},i.prototype.clearProperty=function(){this.tbarEle=[],this.tbarAlgEle={lefts:[],centers:[],rights:[]}},i.prototype.docEvent=function(e){var t=(0,n.oq)(e.target,".e-popup");this.popObj&&(0,n.pn)(this.popObj.element)&&!t&&"Popup"===this.overflowMode&&this.popObj.hide({name:"FadeOut",duration:100})},i.prototype.destroyScroll=function(){this.scrollModule&&(this.tbarAlign&&this.add(this.scrollModule.element,ur),this.scrollModule.destroy(),this.scrollModule=null)},i.prototype.destroyItems=function(){if(this.element&&[].slice.call(this.element.querySelectorAll("."+ei)).forEach(function(t){(0,n.og)(t)}),this.tbarAlign){var e=this.element.querySelector("."+Jt);[].slice.call(e.children).forEach(function(t){(0,n.og)(t)}),this.tbarAlign=!1,this.remove(e,ur)}this.clearProperty()},i.prototype.destroyMode=function(){this.scrollModule&&(this.remove(this.scrollModule.element,Rr),this.destroyScroll()),this.remove(this.element,Xf),this.remove(this.element,G0);var e=this.element.querySelector(".e-toolbar-multirow");e&&this.remove(e,X0),this.popObj&&this.popupRefresh(this.popObj.element,!0)},i.prototype.add=function(e,t){e.classList.add(t)},i.prototype.remove=function(e,t){e.classList.remove(t)},i.prototype.elementFocus=function(e){var t=e.firstElementChild;t?(t.focus(),this.activeEleSwitch(e)):e.focus()},i.prototype.clstElement=function(e,t){return e&&this.popObj&&(0,n.pn)(this.popObj.element)?this.popObj.element.querySelector("."+ei):this.element===t||e?this.element.querySelector("."+ei+":not(."+fs+" ):not(."+di+" ):not(."+nn+" )"):(0,n.oq)(t,"."+ei)},i.prototype.keyHandling=function(e,t,s,r,o){var u,f,a=this.popObj,d=this.element,c={name:"FadeOut",duration:100},p="moveUp"===t.action?"previous":"next";switch(t.action){case"moveRight":if(this.isVertical)return;d===s?this.elementFocus(e):r||this.eleFocus(e,"next");break;case"moveLeft":if(this.isVertical)return;r||this.eleFocus(e,"previous");break;case"home":case"end":if(e){var v=(0,n.oq)(e,".e-popup"),g=this.element.querySelector("."+nc);"Extended"===this.overflowMode&&g&&g.classList.contains("e-popup-open")&&(v="end"===t.action?g:null),v?(0,n.pn)(this.popObj.element)&&(f=[].slice.call(v.children),u="home"===t.action?this.focusFirstVisibleEle(f):this.focusLastVisibleEle(f)):(f=this.element.querySelectorAll("."+Jt+" ."+ei+":not(."+di+")"),u="home"===t.action?this.focusFirstVisibleEle(f):this.focusLastVisibleEle(f)),u&&this.elementFocus(u)}break;case"moveUp":case"moveDown":if(this.isVertical)this.eleFocus(e,"moveUp"===t.action?"previous":"next");else if(a&&(0,n.oq)(s,".e-popup")){var b=a.element,C=b.firstElementChild;"previous"===p&&C===e?b.lastElementChild.firstChild.focus():"next"===p&&b.lastElementChild===e?C.firstChild.focus():this.eleFocus(e,p)}else"moveDown"===t.action&&a&&(0,n.pn)(a.element)&&this.elementFocus(e);break;case"tab":if(!o&&!r){var T=e.firstElementChild;d===s&&(this.activeEle?this.activeEle.focus():(this.activeEleRemove(T),T.focus()))}break;case"popupClose":a&&"Extended"!==this.overflowMode&&a.hide(c);break;case"popupOpen":if(!r)return;a&&!(0,n.pn)(a.element)?(a.element.style.top=d.offsetHeight+"px",a.show({name:"FadeIn",duration:100})):a.hide(c)}},i.prototype.keyActionHandler=function(e){var t=e.target;if("INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!this.element.classList.contains(fs)){e.preventDefault();var s=t.classList.contains(_s),r=t.classList.contains(Z0),o=this.clstElement(s,t);(o||r)&&this.keyHandling(o,e,t,s,r)}},i.prototype.disable=function(e){var t=this.element;e?t.classList.add(fs):t.classList.remove(fs),this.activeEle&&this.activeEle.setAttribute("tabindex",this.activeEle.getAttribute("data-tabindex")),this.scrollModule&&this.scrollModule.disable(e),this.popObj&&((0,n.pn)(this.popObj.element)&&"Extended"!==this.overflowMode&&this.popObj.hide(),t.querySelector("#"+t.id+"_nav").setAttribute("tabindex",e?"-1":"0"))},i.prototype.eleContains=function(e){return e.classList.contains(di)||e.classList.contains(fs)||e.getAttribute("disabled")||e.classList.contains(nn)||!(0,n.pn)(e)||!e.classList.contains(ei)},i.prototype.focusFirstVisibleEle=function(e){for(var s=0;s<e.length;){var r=e[parseInt(s.toString(),10)];if(!r.classList.contains(nn)&&!r.classList.contains(fs))return r;s++}},i.prototype.focusLastVisibleEle=function(e){for(var s=e.length-1;s>=0;){var r=e[parseInt(s.toString(),10)];if(!r.classList.contains(nn)&&!r.classList.contains(fs))return r;s--}},i.prototype.eleFocus=function(e,t){var s=Object(e)[t+"ElementSibling"];if(s){if(this.eleContains(s))return void this.eleFocus(s,t);this.elementFocus(s)}else if(this.tbarAlign){var o=Object(e.parentElement)[t+"ElementSibling"];if(!(0,n.le)(o)&&0===o.children.length&&(o=Object(o)[t+"ElementSibling"]),!(0,n.le)(o)&&o.children.length>0)if("next"===t){var a=o.querySelector("."+ei);this.eleContains(a)?this.eleFocus(a,t):(a.firstElementChild.focus(),this.activeEleSwitch(a))}else this.eleContains(a=o.lastElementChild)?this.eleFocus(a,t):this.elementFocus(a)}else if(!(0,n.le)(e)){var d=this.element.querySelectorAll("."+Jt+" ."+ei+":not(."+di+"):not(."+fs+"):not(."+nn+")");"next"===t&&d?this.elementFocus(d[0]):"previous"===t&&d&&this.elementFocus(d[d.length-1])}},i.prototype.clickHandler=function(e){var t=this,s=e.target,r=this.element,o=!(0,n.le)((0,n.oq)(s,"."+Nl)),a=s.classList,d=(0,n.oq)(s,"."+_s);d||(d=s),!r.children[0].classList.contains("e-hscroll")&&!r.children[0].classList.contains("e-vscroll")&&a.contains(_s)&&(a=s.querySelector(".e-icons").classList),(a.contains(sc)||a.contains(Hl))&&this.popupClickHandler(r,d,Rr);var c,p=(0,n.oq)(e.target,"."+ei);if(!(0,n.le)(p)&&!p.classList.contains(fs)||d.classList.contains(_s)){p&&(c=this.items[this.tbarEle.indexOf(p)]);var f={originalEvent:e,item:c};c&&!(0,n.le)(c.click)&&this.trigger("items["+this.tbarEle.indexOf(p)+"].click",f),f.cancel||this.trigger("clicked",f,function(v){!(0,n.le)(t.popObj)&&o&&!v.cancel&&"Popup"===t.overflowMode&&v.item&&"Input"!==v.item.type&&t.popObj.hide({name:"FadeOut",duration:100})})}},i.prototype.popupClickHandler=function(e,t,s){var r=this.popObj;(0,n.pn)(r.element)?(t.classList.remove(Bl),r.hide({name:"FadeOut",duration:100})):(e.classList.contains(s)&&(r.enableRtl=!0,r.position={X:"left",Y:"top"}),0===r.offsetX&&!e.classList.contains(s)&&(r.enableRtl=!1,r.position={X:"right",Y:"top"}),r.dataBind(),r.refreshPosition(),r.element.style.top=this.getElementOffsetY()+"px","Extended"===this.overflowMode&&(r.element.style.minHeight="0px"),t.classList.add(Bl),r.show({name:"FadeIn",duration:100}))},i.prototype.render=function(){var e=this;this.initialize(),this.renderControl(),this.wireEvents(),this.renderComplete(),this.isReact&&this.portals&&this.portals.length>0&&this.renderReactTemplates(function(){e.refreshOverflow()})},i.prototype.initialize=function(){var e=(0,n.Ac)(this.width),t=(0,n.Ac)(this.height);("msie"!==n.AR.info.name||"auto"!==this.height||"MultiRow"===this.overflowMode)&&(0,n.V7)(this.element,{height:t}),(0,n.V7)(this.element,{width:e}),(0,n.Y4)(this.element,{role:"toolbar","aria-disabled":"false","aria-orientation":this.isVertical?"vertical":"horizontal"}),this.cssClass&&(0,n.cn)([this.element],this.cssClass.split(" "))},i.prototype.renderControl=function(){var e=this.element;this.trgtEle=e.children.length>0?e.querySelector("div"):null,this.tbarAlgEle={lefts:[],centers:[],rights:[]},this.renderItems(),this.renderLayout()},i.prototype.renderLayout=function(){this.renderOverflowMode(),this.tbarAlign&&this.itemPositioning(),this.popObj&&this.popObj.element.childElementCount>1&&this.checkPopupRefresh(this.element,this.popObj.element)&&this.popupRefresh(this.popObj.element,!1),this.separator()},i.prototype.itemsAlign=function(e,t){var s,r;this.tbarEle||(this.tbarEle=[]);for(var o=0;o<e.length;o++)s=this.renderSubComponent(e[parseInt(o.toString(),10)],o),-1===this.tbarEle.indexOf(s)&&this.tbarEle.push(s),this.tbarAlign||this.tbarItemAlign(e[parseInt(o.toString(),10)],t,o),(r=t.querySelector(".e-toolbar-"+e[parseInt(o.toString(),10)].align.toLowerCase()))?(e[parseInt(o.toString(),10)].showAlwaysInPopup&&"Show"!==e[parseInt(o.toString(),10)].overflow||this.tbarAlgEle[(e[parseInt(o.toString(),10)].align+"s").toLowerCase()].push(s),r.appendChild(s)):t.appendChild(s);this.isReact&&(this.notify("render-react-toolbar-template",this.portals),this.renderReactTemplates())},i.prototype.changeOrientation=function(){var e=this.element;this.isVertical?(e.classList.remove(zf),this.isVertical=!1,("auto"===this.height||"100%"===this.height)&&(e.style.height=this.height),e.setAttribute("aria-orientation","horizontal")):(e.classList.add(zf),this.isVertical=!0,e.setAttribute("aria-orientation","vertical"),(0,n.V7)(this.element,{height:(0,n.Ac)(this.height),width:(0,n.Ac)(this.width)})),this.destroyMode(),this.refreshOverflow()},i.prototype.initScroll=function(e,t){if(!this.scrollModule&&this.checkOverflow(e,t[0])){this.tbarAlign&&this.element.querySelector("."+Jt+" ."+U0).removeAttribute("style"),this.scrollModule=this.isVertical?new da({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]):new Wd({scrollStep:this.scrollStep,enableRtl:this.enableRtl},t[0]),this.cssClass&&(0,n.cn)([t[0]],this.cssClass.split(" "));var s=this.scrollModule.element.querySelector("."+qf+", .e-vscroll-bar");s&&s.removeAttribute("tabindex"),this.remove(this.scrollModule.element,ur),(0,n.V7)(this.element,{overflow:"hidden"})}},i.prototype.itemWidthCal=function(e){var r,t=this,s=0;return[].slice.call((0,n.td)("."+ei,e)).forEach(function(o){(0,n.pn)(o)&&(r=window.getComputedStyle(o),s+=t.isVertical?o.offsetHeight:o.offsetWidth,s+=parseFloat(t.isVertical?r.marginTop:r.marginRight),s+=parseFloat(t.isVertical?r.marginBottom:r.marginLeft))}),s},i.prototype.getScrollCntEle=function(e){return e.querySelector(this.isVertical?".e-vscroll-content":".e-hscroll-content")},i.prototype.checkOverflow=function(e,t){if((0,n.le)(e)||(0,n.le)(t)||!(0,n.pn)(e))return!1;var s=this.isVertical?e.offsetHeight:e.offsetWidth,r=this.isVertical?t.offsetHeight:t.offsetWidth;(this.tbarAlign||this.scrollModule||s===r)&&(r=this.itemWidthCal(this.scrollModule?this.getScrollCntEle(t):t));var o=e.querySelector("."+_s),a=e.querySelector("."+Z0),d=0;return o?d=this.isVertical?o.offsetHeight:o.offsetWidth:a&&(d=this.isVertical?2*a.offsetHeight:2*a.offsetWidth),r>s-d},i.prototype.refreshOverflow=function(){this.resize()},i.prototype.toolbarAlign=function(e){this.tbarAlign&&(this.add(e,ur),this.itemPositioning())},i.prototype.renderOverflowMode=function(){var e=this.element,t=e.querySelector("."+Jt),s=this.popupPriCount>0;if(e&&e.children.length>0)switch(this.offsetWid=e.offsetWidth,this.remove(this.element,"e-toolpop"),"msie"===n.AR.info.name&&"auto"===this.height&&(e.style.height=""),this.overflowMode){case"Scrollable":(0,n.le)(this.scrollModule)&&this.initScroll(e,[].slice.call(e.getElementsByClassName(Jt)));break;case"Popup":this.add(this.element,"e-toolpop"),this.tbarAlign&&this.removePositioning(),(this.checkOverflow(e,t)||s)&&this.setOverflowAttributes(e),this.toolbarAlign(t);break;case"MultiRow":this.add(t,X0),this.checkOverflow(e,t)&&this.tbarAlign&&(this.removePositioning(),this.add(t,J0)),"hidden"===e.style.overflow&&(e.style.overflow=""),("msie"===n.AR.info.name||"auto"!==e.style.height)&&(e.style.height="auto");break;case"Extended":this.add(this.element,G0),(this.checkOverflow(e,t)||s)&&(this.tbarAlign&&this.removePositioning(),this.setOverflowAttributes(e)),this.toolbarAlign(t)}},i.prototype.setOverflowAttributes=function(e){this.createPopupEle(e,[].slice.call((0,n.td)("."+Jt+" ."+ei,e))),(0,n.Y4)(this.element.querySelector("."+_s),{tabindex:"0",role:"button","aria-haspopup":"true","aria-label":"overflow"})},i.prototype.separator=function(){var e=this.element,t=[].slice.call(e.querySelectorAll("."+di)),s=e.querySelector("."+Zf),r=e.querySelector("."+Uf),o="MultiRow"===this.overflowMode?s:r;null!==o&&("MultiRow"===this.overflowMode?o.classList.remove(Zf):"Extended"===this.overflowMode&&o.classList.remove(Uf));for(var a=0;a<=t.length-1;a++)t[parseInt(a.toString(),10)].offsetLeft<30&&0!==t[parseInt(a.toString(),10)].offsetLeft&&("MultiRow"===this.overflowMode?t[parseInt(a.toString(),10)].classList.add(Zf):"Extended"===this.overflowMode&&t[parseInt(a.toString(),10)].classList.add(Uf))},i.prototype.createPopupEle=function(e,t){var s=e.querySelector("."+_s),r=this.isVertical;s||this.createPopupIcon(e),s=e.querySelector("."+_s);var a=(r?e.offsetHeight:e.offsetWidth)-(r?s.offsetHeight:s.offsetWidth);this.element.classList.remove("e-rtl"),(0,n.V7)(this.element,{direction:"initial"}),this.checkPriority(e,t,a,!0),this.enableRtl&&this.element.classList.add("e-rtl"),this.element.style.removeProperty("direction"),this.createPopup()},i.prototype.pushingPoppedEle=function(e,t,s,r,o){var a=e.element,d=[].slice.call((0,n.td)("."+Rn,a.querySelector("."+Jt))),c=(0,n.td)("."+pr,s),p=0,u=0;d.forEach(function(b,C){c=(0,n.td)("."+pr,s),b.classList.contains(pr)&&c.length>0?e.tbResize&&c.length>C?(s.insertBefore(b,c[parseInt(C.toString(),10)]),++u):(s.insertBefore(b,s.children[c.length]),++u):b.classList.contains(pr)||e.tbResize&&b.classList.contains(rc)&&s.children.length>0&&0===c.length?(s.insertBefore(b,s.firstChild),++u):b.classList.contains(rc)?t.push(b):e.tbResize?(s.insertBefore(b,s.childNodes[p+u]),++p):s.appendChild(b),b.classList.contains(di)?(0,n.V7)(b,{display:"",height:o+"px"}):(0,n.V7)(b,{display:"",height:r+"px"})}),t.forEach(function(b){s.appendChild(b)});for(var f=(0,n.td)("."+ei,a.querySelector("."+Jt)),v=f.length-1;v>=0;v--){var g=f[parseInt(v.toString(),10)];if(!g.classList.contains(di)||"Extended"===this.overflowMode)break;(0,n.V7)(g,{display:"none"})}},i.prototype.createPopup=function(){var t,s,e=this.element;"Extended"===this.overflowMode&&(s=e.querySelector("."+di),t="auto"===e.style.height||""===e.style.height?null:s&&s.offsetHeight);var a,r=e.querySelector("."+ei+":not(."+di+"):not(."+Rn+")"),o="auto"===e.style.height||""===e.style.height?null:r&&r.offsetHeight;if((0,n.Ys)("#"+e.id+"_popup."+Nl,e))a=(0,n.Ys)("#"+e.id+"_popup."+Nl,e);else{var c=this.createElement("div",{id:e.id+"_popup",className:Nl+" "+nc}),p=this.createElement("div",{id:e.id+"_popup",className:Nl});a="Extended"===this.overflowMode?c:p}this.pushingPoppedEle(this,[],a,o,t),this.popupInit(e,a)},i.prototype.getElementOffsetY=function(){return"Extended"===this.overflowMode&&"border-box"===window.getComputedStyle(this.element).getPropertyValue("box-sizing")?this.element.clientHeight:this.element.offsetHeight},i.prototype.popupInit=function(e,t){if(this.popObj){var a=this.popObj.element;(0,n.V7)(a,{maxHeight:"",display:"block"}),(0,n.V7)(a,{maxHeight:a.offsetHeight+"px",display:""})}else{e.appendChild(t),this.cssClass&&(0,n.cn)([t],this.cssClass.split(" ")),(0,n.V7)(this.element,{overflow:""});var s=window.getComputedStyle(this.element),r=new xn(null,{relateTo:this.element,offsetY:this.isVertical?0:this.getElementOffsetY(),enableRtl:this.enableRtl,open:this.popupOpen.bind(this),close:this.popupClose.bind(this),collision:{Y:this.enableCollision?"flip":"none"},position:this.enableRtl?{X:"left",Y:"top"}:{X:"right",Y:"top"}});if("Extended"===this.overflowMode&&(r.width=parseFloat(s.width)+2*parseFloat(s.borderRightWidth),r.offsetX=0),r.appendTo(t),n.bi.add(document,"scroll",this.docEvent.bind(this)),n.bi.add(document,"click ",this.docEvent.bind(this)),r.element.style.maxHeight=r.element.offsetHeight+"px",this.isVertical&&(r.element.style.visibility="hidden"),this.isExtendedOpen){var o=this.element.querySelector("."+_s);o.classList.add(Bl),(0,n.s1)(o.firstElementChild,[sc],[Hl]),this.element.querySelector("."+nc).classList.add(V0)}else r.hide();this.popObj=r}},i.prototype.tbarPopupHandler=function(e){"Extended"===this.overflowMode&&(e?this.add(this.element,Xf):this.remove(this.element,Xf))},i.prototype.popupOpen=function(e){var t=this.popObj;this.isVertical||(t.offsetY=this.getElementOffsetY(),t.dataBind());var s=this.popObj.element,r=this.popObj.element.parentElement,o=r.querySelector("."+_s);o.setAttribute("aria-expanded","true"),(0,n.V7)(t.element,{height:"auto",maxHeight:""}),t.element.style.maxHeight=t.element.offsetHeight+"px","Extended"===this.overflowMode&&(t.element.style.minHeight="");var a=s.offsetTop+s.offsetHeight+Hi(r).top,d=o.firstElementChild;o.classList.add(Bl),(0,n.s1)(d,[sc],[Hl]),this.tbarPopupHandler(!0);var c=(0,n.le)(window.scrollY)?0:window.scrollY;if(!this.isVertical&&window.innerHeight+c<a&&this.element.offsetTop<s.offsetHeight){var p=s.offsetHeight-(a-window.innerHeight-c+5);t.height=p+"px";for(var u=0;u<=s.childElementCount;u++){var f=s.children[parseInt(u.toString(),10)];if(f.offsetTop+f.offsetHeight>p){p=f.offsetTop;break}}(0,n.V7)(t.element,{maxHeight:p+"px"})}else if(this.isVertical){var v=this.element.getBoundingClientRect();(0,n.V7)(t.element,{maxHeight:v.top+this.element.offsetHeight+"px",bottom:0,visibility:""})}if(t){var g=s.getBoundingClientRect();g.right>document.documentElement.clientWidth&&g.width>r.getBoundingClientRect().width&&(t.collision={Y:"none"},t.dataBind()),t.refreshPosition()}},i.prototype.popupClose=function(e){var s=this.element.querySelector("."+_s);s.setAttribute("aria-expanded","false");var r=s.firstElementChild;s.classList.remove(Bl),(0,n.s1)(r,[Hl],[sc]),this.tbarPopupHandler(!1)},i.prototype.checkPriority=function(e,t,s,r){for(var c,o=this.popupPriCount>0,d=s,u=0,f=0,v=0,g=function(N,ne){var re=!1;return ne.forEach(function(ce){N.classList.contains(ce)&&(re=!0)}),re},b=t.length-1;b>=0;b--){var C=void 0,T=window.getComputedStyle(t[parseInt(b.toString(),10)]);this.isVertical?(C=parseFloat(T.marginTop),C+=parseFloat(T.marginBottom)):(C=parseFloat(T.marginRight),C+=parseFloat(T.marginLeft));var O=t[parseInt(b.toString(),10)]===this.tbarEle[0];O&&(this.tbarEleMrgn=C),c=this.isVertical?t[parseInt(b.toString(),10)].offsetHeight:t[parseInt(b.toString(),10)].offsetWidth;var j=O?c+C:c;if(g(t[parseInt(b.toString(),10)],[Wf])&&o&&(t[parseInt(b.toString(),10)].classList.add(Rn),(0,n.V7)(t[parseInt(b.toString(),10)],this.isVertical?{display:"none",minHeight:j+"px"}:{display:"none",minWidth:j+"px"}),v++),this.isVertical?t[parseInt(b.toString(),10)].offsetTop+t[parseInt(b.toString(),10)].offsetHeight+C>s:t[parseInt(b.toString(),10)].offsetLeft+t[parseInt(b.toString(),10)].offsetWidth+C>s){if(t[parseInt(b.toString(),10)].classList.contains(di)){if("Extended"===this.overflowMode)g(Y=t[parseInt(b.toString(),10)],[di,zl])&&(t[parseInt(b.toString(),10)].classList.add(Rn),v++),f++;else if("Popup"===this.overflowMode){var Y;u>0&&f===v&&g(Y=t[b+f+(u-1)],[di,zl])&&(0,n.V7)(Y,{display:"none"}),u++,f=0,v=0}}else f++;t[parseInt(b.toString(),10)].classList.contains(pr)&&r||g(t[parseInt(b.toString(),10)],[di,zl])?s-=(this.isVertical?t[parseInt(b.toString(),10)].offsetHeight:t[parseInt(b.toString(),10)].offsetWidth)+C:(t[parseInt(b.toString(),10)].classList.add(Rn),(0,n.V7)(t[parseInt(b.toString(),10)],this.isVertical?{display:"none",minHeight:j+"px"}:{display:"none",minWidth:j+"px"}),v++)}}if(r){var H=(0,n.td)("."+ei+":not(."+Rn+")",this.element);this.checkPriority(e,H,d,!1)}},i.prototype.createPopupIcon=function(e){var t=e.id.concat("_nav"),s="e-"+e.id.concat("_nav e-hor-nav"),r=this.createElement("div",{id:t,className:s="Extended"===this.overflowMode?s+" e-expended-nav":s});("msie"===n.AR.info.name||"edge"===n.AR.info.name)&&r.classList.add("e-ie-align");var o=this.createElement("div",{className:Hl+" e-icons"});r.appendChild(o),r.setAttribute("tabindex","0"),r.setAttribute("role","button"),e.appendChild(r)},i.prototype.tbarPriRef=function(e,t,s,r,o,a,d,c,p){var u=c,v="."+ei+":not(."+di+"):not(."+pr+")",g=(0,n.td)("."+Rn+":not(."+pr+")",this.popObj.element).length,b=function(Y,H){return Y.classList.contains(H)};if(0===(0,n.td)(v,e).length){var C=e.children[t-(t-s)-1],T=!(0,n.le)(C)&&b(C,zl);if(!(0,n.le)(C)&&b(C,di)&&!(0,n.pn)(C)||T){C.style.display="unset";var O=C.offsetWidth+2*parseFloat(window.getComputedStyle(C).marginRight),j=C.previousElementSibling;a+O<d||o?(e.insertBefore(r,e.children[t+u-(t-s)]),(0,n.le)(j)||(j.style.display="")):((0,n.V7)(r,p),j.classList.contains(di)&&(j.style.display="none")),C.style.display=""}else e.insertBefore(r,e.children[t+u-(t-s)])}else e.insertBefore(r,e.children[t+u-g])},i.prototype.popupRefresh=function(e,t){var s=this,r=this.element,o=this.isVertical,a=r.querySelector("."+Jt),d=r.querySelector("."+_s);if(!(0,n.le)(d)){var c;a.removeAttribute("style"),e.style.display="block",c=o?r.offsetHeight-(d.offsetHeight+a.offsetHeight):r.offsetWidth-(d.offsetWidth+a.offsetWidth);var p=0;[].slice.call(e.children).forEach(function(u){p+=s.popupEleWidth(u),(0,n.V7)(u,{position:""})}),c+(o?d.offsetHeight:d.offsetWidth)>p&&0===this.popupPriCount&&(t=!0),this.popupEleRefresh(c,e,t),e.style.display="",0===e.children.length&&d&&this.popObj&&((0,n.og)(d),d=null,this.popObj.destroy(),(0,n.og)(this.popObj.element),this.popObj=null)}},i.prototype.ignoreEleFetch=function(e,t){var s=[].slice.call(t.querySelectorAll("."+zl)),r=[],o=0;return s.length>0?(s.forEach(function(a){r.push([].slice.call(t.children).indexOf(a))}),r.forEach(function(a){a<=e&&o++}),o):0},i.prototype.checkPopupRefresh=function(e,t){t.style.display="block";var s=this.popupEleWidth(t.firstElementChild);t.firstElementChild.style.removeProperty("Position");var r=e.offsetWidth-e.querySelector("."+_s).offsetWidth,o=e.querySelector("."+Jt).offsetWidth;return t.style.removeProperty("display"),r>s+o},i.prototype.popupEleWidth=function(e){e.style.position="absolute";var t=this.isVertical?e.offsetHeight:e.offsetWidth,s=e.querySelector(".e-tbar-btn-text");if(e.classList.contains("e-tbtn-align")||e.classList.contains(Vf)){var r=e.children[0];!(0,n.le)(s)&&e.classList.contains(Vf)?s.style.display="none":!(0,n.le)(s)&&e.classList.contains(W0)&&(s.style.display="block"),r.style.minWidth="0%",t=parseFloat(this.isVertical?e.style.minHeight:e.style.minWidth),r.style.minWidth="",r.style.minHeight="",(0,n.le)(s)||(s.style.display="")}return t},i.prototype.popupEleRefresh=function(e,t,s){for(var a,d,r=this.popupPriCount>0,o=this.tbarEle,c=this.element.querySelector("."+Jt),p=0,u=function(O){if(O.classList.contains(Wf)&&r&&!s)return"continue";var j=f.popupEleWidth(O);if(O===f.tbarEle[0]&&(j+=f.tbarEleMrgn),O.style.position="",!(j<e||s))return"break";var Y={minWidth:O.style.minWidth,height:O.style.height,minHeight:O.style.minHeight};if((0,n.V7)(O,{minWidth:"",height:"",minHeight:""}),O.classList.contains(rc)||O.classList.remove(Rn),d=f.tbarEle.indexOf(O),f.tbarAlign){var H=f.items[parseInt(d.toString(),10)].align;d=f.tbarAlgEle[(H+"s").toLowerCase()].indexOf(O),o=f.tbarAlgEle[(H+"s").toLowerCase()],c=f.element.querySelector("."+Jt+" .e-toolbar-"+H.toLowerCase())}var N=0;"Extended"!==f.overflowMode&&o.slice(0,d).forEach(function(ne){(ne.classList.contains(pr)||ne.classList.contains(di))&&(ne.classList.contains(di)&&(ne.style.display="",e-=ne.offsetWidth),N++)}),p=f.ignoreEleFetch(d,c),O.classList.contains(pr)?(f.tbarPriRef(c,d,N,O,s,j,e,p,Y),e-=O.offsetWidth):0===d?(c.insertBefore(O,c.firstChild),e-=O.offsetWidth):(a=(0,n.td)("."+pr,f.popObj.element).length,c.insertBefore(O,c.children[d+p-a]),e-=O.offsetWidth),O.style.height=""},f=this,v=0,g=[].slice.call(t.children);v<g.length&&"break"!==u(g[v]);v++);this.checkOverflow(this.element,this.element.getElementsByClassName(Jt)[0])&&!s&&this.renderOverflowMode()},i.prototype.removePositioning=function(){var e=this.element.querySelector("."+Jt);if(!(0,n.le)(e)&&e.classList.contains(ur)){this.remove(e,ur);var t=[].slice.call(e.childNodes);t[1].removeAttribute("style"),t[2].removeAttribute("style")}},i.prototype.refreshPositioning=function(){var e=this.element.querySelector("."+Jt);this.add(e,ur),this.itemPositioning()},i.prototype.itemPositioning=function(){var t,e=this.element.querySelector("."+Jt);if(!(0,n.le)(e)&&e.classList.contains(ur)){var r,s=this.element.querySelector("."+_s);r=[].slice.call(this.scrollModule?e.querySelector("."+(this.isVertical?"e-vscroll-content":"e-hscroll-content")).children:e.childNodes),t=this.isVertical?r[0].offsetHeight+r[2].offsetHeight:r[0].offsetWidth+r[2].offsetWidth;var a=this.isVertical?this.element.offsetHeight:this.element.offsetWidth;if(s){a-=this.isVertical?s.offsetHeight:s.offsetWidth;var d=(this.isVertical?s.offsetHeight:s.offsetWidth)+"px";r[2].removeAttribute("style"),this.isVertical?this.enableRtl?r[2].style.top=d:r[2].style.bottom=d:this.enableRtl?r[2].style.left=d:r[2].style.right=d}if(!(a<=t)){var c=(a-t-(this.isVertical?r[1].offsetHeight:r[1].offsetWidth))/2;r[1].removeAttribute("style");var p=(this.isVertical?r[0].offsetHeight:r[0].offsetWidth)+c+"px";this.isVertical?this.enableRtl?r[1].style.marginBottom=p:r[1].style.marginTop=p:this.enableRtl?r[1].style.marginRight=p:r[1].style.marginLeft=p}}},i.prototype.tbarItemAlign=function(e,t,s){var r=this;if(!e.showAlwaysInPopup||"Show"===e.overflow){var o=[];if(o.push(this.createElement("div",{className:"e-toolbar-left"})),o.push(this.createElement("div",{className:U0})),o.push(this.createElement("div",{className:"e-toolbar-right"})),0===s&&"Left"!==e.align)o.forEach(function(c){t.appendChild(c)}),this.tbarAlign=!0,this.add(t,ur);else if("Left"!==e.align){var d=o[0];[].slice.call(t.childNodes).forEach(function(c){r.tbarAlgEle.lefts.push(c),d.appendChild(c)}),t.appendChild(d),t.appendChild(o[1]),t.appendChild(o[2]),this.tbarAlign=!0,this.add(t,ur)}}},i.prototype.ctrlTemplate=function(){var e=this;this.ctrlTem=this.trgtEle.cloneNode(!0),this.add(this.trgtEle,Jt),this.tbarEle=[],[].slice.call(this.trgtEle.children).forEach(function(s){"DIV"===s.tagName&&(e.tbarEle.push(s),(0,n.le)(s.firstElementChild)||s.firstElementChild.setAttribute("aria-disabled","false"),e.add(s,ei))})},i.prototype.renderItems=function(){var e=this.element,t=this.items;if(null!=this.trgtEle)this.ctrlTemplate();else if(e&&t.length>0){var s=void 0;e&&e.children.length>0&&(s=e.querySelector("."+Jt)),s||(s=this.createElement("div",{className:Jt})),this.itemsAlign(t,s),e.appendChild(s)}},i.prototype.setAttr=function(e,t){for(var r,s=Object.keys(e),o=0;o<s.length;o++)"class"===(r=s[parseInt(o.toString(),10)])?this.add(t,e[""+r]):t.setAttribute(r,e[""+r])},i.prototype.enableItems=function(e,t){var o,s=e,r=s.length;(0,n.le)(t)&&(t=!0);var a=function(u,f){u?(f.classList.remove(fs),(0,n.le)(f.firstElementChild)||f.firstElementChild.setAttribute("aria-disabled","false")):(f.classList.add(fs),(0,n.le)(f.firstElementChild)||f.firstElementChild.setAttribute("aria-disabled","true"))};if(!(0,n.le)(r)&&r>=1){for(var d=0,c=[].slice.call(s);d<r;d++){var p=c[parseInt(d.toString(),10)];if("number"==typeof p){if(o=this.getElementByIndex(p),(0,n.le)(o))return;s[parseInt(d.toString(),10)]=o}else o=p;a(t,o)}t?(0,n.IV)(s,fs):(0,n.cn)(s,fs)}else{if("number"==typeof s){if(o=this.getElementByIndex(s),(0,n.le)(o))return}else o=e;a(t,o)}},i.prototype.getElementByIndex=function(e){return this.tbarEle[parseInt(e.toString(),10)]?this.tbarEle[parseInt(e.toString(),10)]:null},i.prototype.addItems=function(e,t){var s;this.extendedOpen();var r=this.element.querySelector("."+Jt);if((0,n.le)(r))this.itemsRerender(e);else{var o,a="Left";(0,n.le)(t)&&(t=0),e.forEach(function(v){!(0,n.le)(v.align)&&"Left"!==v.align&&"Left"===a&&(a=v.align)});for(var d=0,c=e;d<c.length;d++){var p=c[d];if((0,n.le)(p.type)&&(p.type="Button"),s=(0,n.td)("."+ei,this.element),p.align=a,o=this.renderSubComponent(p,t),this.tbarEle.length>=t&&s.length>=0){(0,n.le)(this.scrollModule)&&this.destroyMode();var u="L"===p.align[0]?0:"C"===p.align[0]?1:2,f=void 0;this.tbarAlign||"Left"===a?this.tbarAlign?((f=(0,n.oq)(s[0],"."+Jt).children[parseInt(u.toString(),10)]).insertBefore(o,f.children[parseInt(t.toString(),10)]),this.tbarAlgEle[(p.align+"s").toLowerCase()].splice(t,0,o),this.refreshPositioning()):0===s.length?(s=(0,n.td)("."+Jt,this.element))[0].appendChild(o):s[0].parentNode.insertBefore(o,s[parseInt(t.toString(),10)]):(this.tbarItemAlign(p,r,1),this.tbarAlign=!0,(f=(0,n.oq)(s[0],"."+Jt).children[parseInt(u.toString(),10)]).appendChild(o),this.tbarAlgEle[(p.align+"s").toLowerCase()].push(o),this.refreshPositioning()),this.items.splice(t,0,p),p.template&&this.tbarEle.splice(this.tbarEle.length-1,1),this.tbarEle.splice(t,0,o),t++,this.offsetWid=r.offsetWidth}}r.style.width="",this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()}},i.prototype.removeItems=function(e){var s,t=e,r=[].slice.call((0,n.td)("."+ei,this.element));if("number"==typeof t)s=parseInt(e.toString(),10),this.removeItemByIndex(s,r);else if(t&&t.length>1)for(var o=0,a=[].slice.call(t);o<a.length;o++)s=this.tbarEle.indexOf(a[o]),this.removeItemByIndex(s,r),r=(0,n.td)("."+ei,this.element);else s=r.indexOf(t&&t.length&&1===t.length?t[0]:e),this.removeItemByIndex(s,r);this.resize()},i.prototype.removeItemByIndex=function(e,t){if(this.tbarEle[parseInt(e.toString(),10)]&&t[parseInt(e.toString(),10)]){var s=this.tbarEle.indexOf(t[parseInt(e.toString(),10)]);if(this.tbarAlign){var r=this.tbarAlgEle[(this.items[parseInt(s.toString(),10)].align+"s").toLowerCase()].indexOf(this.tbarEle[parseInt(s.toString(),10)]);this.tbarAlgEle[(this.items[parseInt(s.toString(),10)].align+"s").toLowerCase()].splice(parseInt(r.toString(),10),1)}this.isReact&&this.clearToolbarTemplate(t[parseInt(e.toString(),10)]);var o=t[parseInt(e.toString(),10)].querySelector(".e-control.e-btn");!(0,n.le)(o)&&!(0,n.le)(o.ej2_instances[0])&&!o.ej2_instances[0].isDestroyed&&o.ej2_instances[0].destroy(),(0,n.og)(t[parseInt(e.toString(),10)]),this.items.splice(s,1),this.tbarEle.splice(s,1)}},i.prototype.templateRender=function(e,t,s,r){var d,a=e;if("object"==typeof e&&(d="function"==typeof a.appendTo),"string"!=typeof e&&d)"Input"===s.type&&((f=this.createElement("input")).id=s.id?s.id:(0,n.QI)("tbr-ipt"),t.appendChild(f),a.appendTo(f));else{var p,c=void 0,u=new RegExp(/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i);p="string"==typeof e?e.trim():e;try{if("object"!=typeof e||(0,n.le)(e.tagName))if("string"==typeof e&&u.test(p))t.innerHTML=p;else if(document.querySelectorAll(p).length){var f,v=(f=document.querySelector(p)).outerHTML.trim();t.appendChild(f),f.style.display="",(0,n.le)(v)||this.tempId.push(p)}else c=(0,n.MY)(p);else t.appendChild(e)}catch{c=(0,n.MY)(p)}var g=void 0;(0,n.le)(c)||(g=c({},this,"template",this.element.id+r+"_template",this.isStringTemplate,void 0,void 0,this.root)),!(0,n.le)(g)&&g.length>0&&[].slice.call(g).forEach(function(T){(0,n.le)(T.tagName)||(T.style.display=""),t.appendChild(T)})}this.add(t,q0);var C=t.firstElementChild;(0,n.le)(C)||(C.setAttribute("tabindex",(0,n.le)(C.getAttribute("tabIndex"))?"-1":this.getDataTabindex(C)),C.setAttribute("data-tabindex",(0,n.le)(C.getAttribute("tabIndex"))?"-1":this.getDataTabindex(C))),this.tbarEle.push(t)},i.prototype.buttonRendering=function(e,t){var s=this.createElement("button",{className:"e-tbar-btn"});s.setAttribute("type","button");var o,a,r=e.text;s.id=e.id?e.id:(0,n.QI)("e-tbr-btn");var d=this.createElement("span",{className:"e-tbar-btn-text"});r?(d.innerHTML=this.enableHtmlSanitizer?n.pJ.sanitize(r):r,s.appendChild(d),s.classList.add("e-tbtn-txt")):this.add(t,"e-tbtn-align"),(e.prefixIcon||e.suffixIcon)&&(e.prefixIcon&&e.suffixIcon||e.prefixIcon?(o=e.prefixIcon+" e-icons",a="Left"):(o=e.suffixIcon+" e-icons",a="Right"));var c=new Fi({iconCss:o,iconPosition:a});return c.createElement=this.createElement,c.appendTo(s),e.width&&(0,n.V7)(s,{width:(0,n.Ac)(e.width)}),s},i.prototype.renderSubComponent=function(e,t){var s,r=this.createElement("div",{className:ei}),o=this.createElement("div",{innerHTML:this.enableHtmlSanitizer&&!(0,n.le)(e.tooltipText)?n.pJ.sanitize(e.tooltipText):e.tooltipText});if(this.tbarEle||(this.tbarEle=[]),e.htmlAttributes&&this.setAttr(e.htmlAttributes,r),e.tooltipText&&r.setAttribute("title",o.textContent),e.cssClass&&(r.className=r.className+" "+e.cssClass),e.template)this.templateRender(e.template,r,e,t);else switch(e.type){case"Button":(s=this.buttonRendering(e,r)).setAttribute("tabindex",(0,n.le)(e.tabIndex)?"-1":e.tabIndex.toString()),s.setAttribute("data-tabindex",(0,n.le)(e.tabIndex)?"-1":e.tabIndex.toString()),s.setAttribute("aria-label",e.text||e.tooltipText),s.setAttribute("aria-disabled","false"),r.appendChild(s),r.addEventListener("click",this.itemClick.bind(this));break;case"Separator":this.add(r,di)}if(e.showTextOn){var a=e.showTextOn;"Toolbar"===a?(this.add(r,W0),this.add(r,"e-tbtn-align")):"Overflow"===a&&this.add(r,Vf)}if(e.overflow){var d=e.overflow;"Show"===d?this.add(r,pr):"Hide"===d&&(r.classList.contains(di)||this.add(r,rc))}return"Show"!==e.overflow&&e.showAlwaysInPopup&&!r.classList.contains(di)&&(this.add(r,Wf),this.popupPriCount++),e.disabled&&this.add(r,fs),!1===e.visible&&this.add(r,nn),r},i.prototype.getDataTabindex=function(e){return(0,n.le)(e.getAttribute("data-tabindex"))?"-1":e.getAttribute("data-tabindex")},i.prototype.itemClick=function(e){this.activeEleSwitch(e.currentTarget)},i.prototype.activeEleSwitch=function(e){this.activeEleRemove(e.firstElementChild),this.activeEle.focus()},i.prototype.activeEleRemove=function(e){if((0,n.le)(this.activeEle)||this.activeEle.setAttribute("tabindex",this.getDataTabindex(this.activeEle)),this.activeEle=e,"-1"===this.getDataTabindex(this.activeEle))if((0,n.le)(this.trgtEle)&&!e.parentElement.classList.contains(q0))this.updateTabIndex("-1"),e.removeAttribute("tabindex");else{var t=parseInt(this.getDataTabindex(this.activeEle))+1;this.activeEle.setAttribute("tabindex",t.toString())}},i.prototype.getPersistData=function(){return this.addOnPersist([])},i.prototype.getModuleName=function(){return"toolbar"},i.prototype.itemsRerender=function(e){this.items=this.tbarItemsCol,(this.isReact||this.isAngular)&&this.clearTemplate(),this.destroyMode(),this.destroyItems(),this.items=e,this.tbarItemsCol=this.items,this.renderItems(),this.renderOverflowMode(),this.isReact&&this.renderReactTemplates()},i.prototype.resize=function(){var e=this.element;this.tbResize=!0,this.tbarAlign&&this.itemPositioning(),this.popObj&&"Popup"===this.overflowMode&&this.popObj.hide();var t=this.checkOverflow(e,e.getElementsByClassName(Jt)[0]);if(!t){this.destroyScroll();var s=e.querySelector("."+Jt);(0,n.le)(s)||(this.remove(s,J0),this.tbarAlign&&this.add(s,ur))}if(!t||!this.scrollModule||this.offsetWid!==e.offsetWidth){if((this.offsetWid>e.offsetWidth||t)&&this.renderOverflowMode(),this.popObj){if("Extended"===this.overflowMode){var r=window.getComputedStyle(this.element);this.popObj.width=parseFloat(r.width)+2*parseFloat(r.borderRightWidth)}this.tbarAlign&&this.removePositioning(),this.popupRefresh(this.popObj.element,!1),this.tbarAlign&&this.refreshPositioning()}this.element.querySelector("."+qf)&&(this.scrollStep=this.element.querySelector("."+qf).offsetWidth),this.offsetWid=e.offsetWidth,this.tbResize=!1,this.separator()}},i.prototype.orientationChange=function(){var e=this;setTimeout(function(){e.resize()},500)},i.prototype.extendedOpen=function(){var e=this.element.querySelector("."+nc);"Extended"===this.overflowMode&&e&&(this.isExtendedOpen=e.classList.contains(V0))},i.prototype.updateHideEleTabIndex=function(e,t,s,r,o){s&&(r=o.indexOf(e));for(var a=o[++r];a;){if(!this.eleContains(a)){var c=a.firstElementChild.getAttribute("data-tabindex");t&&"-1"===c?a.firstElementChild.setAttribute("tabindex","0"):c!==a.firstElementChild.getAttribute("tabindex")&&a.firstElementChild.setAttribute("tabindex",c);break}a=o[++r]}},i.prototype.clearToolbarTemplate=function(e){if(this.registeredTemplate&&this.registeredTemplate.template)for(var t=this.registeredTemplate,s=0;s<t.template.length;s++){var r=t.template[parseInt(s.toString(),10)].rootNodes[0],o=(0,n.oq)(r,"."+ei);if(!(0,n.le)(o)&&o===e){this.clearTemplate(["template"],[t.template[parseInt(s.toString(),10)]]);break}}else if(this.portals&&this.portals.length>0){var a=this.portals;for(s=0;s<a.length;s++){var d=a[parseInt(s.toString(),10)];if(o=(0,n.oq)(d.containerInfo,"."+ei),!(0,n.le)(o)&&o===e){this.clearTemplate(["template"],s);break}}}},i.prototype.onPropertyChanged=function(e,t){var s=this.element;this.extendedOpen();for(var o=0,a=Object.keys(e);o<a.length;o++)switch(a[o]){case"items":if(e.items instanceof Array&&t.items instanceof Array)this.itemsRerender(e.items);else for(var c=Object.keys(e.items),p=0;p<c.length;p++){var u=parseInt(Object.keys(e.items)[parseInt(p.toString(),10)],10),f=Object.keys(e.items[parseInt(u.toString(),10)])[0],v=Object(e.items[parseInt(u.toString(),10)])[""+f];if(this.tbarAlign||"align"===f){this.refresh(),this.trigger("created");break}var b="overflow"===f&&0!==this.popupPriCount;("showAlwaysInPopup"===f&&!v||this.items[parseInt(u.toString(),10)].showAlwaysInPopup&&b)&&--this.popupPriCount,(0,n.le)(this.scrollModule)&&this.destroyMode();var C=[].slice.call((0,n.td)("."+Jt+" ."+ei,s));this.isReact&&this.items[parseInt(u.toString(),10)].template&&this.clearToolbarTemplate(C[parseInt(u.toString(),10)]),(0,n.og)(C[parseInt(u.toString(),10)]),this.tbarEle.splice(u,1),this.addItems([this.items[parseInt(u.toString(),10)]],u),this.items.splice(u,1),this.items[parseInt(u.toString(),10)].template&&this.tbarEle.splice(this.items.length,1)}break;case"width":(0,n.V7)(s,{width:(0,n.Ac)(e.width)}),this.refreshOverflow();break;case"height":(0,n.V7)(this.element,{height:(0,n.Ac)(e.height)});break;case"overflowMode":this.destroyMode(),this.renderOverflowMode(),this.enableRtl&&this.add(s,Rr),this.refreshOverflow();break;case"enableRtl":e.enableRtl?this.add(s,Rr):this.remove(s,Rr),(0,n.le)(this.scrollModule)||(e.enableRtl?this.add(this.scrollModule.element,Rr):this.remove(this.scrollModule.element,Rr)),(0,n.le)(this.popObj)||(e.enableRtl?this.add(this.popObj.element,Rr):this.remove(this.popObj.element,Rr)),this.tbarAlign&&this.itemPositioning();break;case"scrollStep":this.scrollModule&&(this.scrollModule.scrollStep=this.scrollStep);break;case"enableCollision":this.popObj&&(this.popObj.collision={Y:this.enableCollision?"flip":"none"});break;case"cssClass":t.cssClass&&(0,n.IV)([this.element],t.cssClass.split(" ")),e.cssClass&&(0,n.cn)([this.element],e.cssClass.split(" "));break;case"allowKeyboard":this.unwireKeyboardEvent(),e.allowKeyboard&&this.wireKeyboardEvent()}},i.prototype.hideItem=function(e,t){var o,s="object"==typeof e,r=e;if(s||!(0,n.le)(r)){var a=[].slice.call((0,n.td)("."+ei,this.element));s?o=e:this.tbarEle[parseInt(r.toString(),10)]&&(o=[].slice.call((0,n.td)("."+ei,this.element))[parseInt(r.toString(),10)]),o&&(t?(o.classList.add(nn),o.classList.contains(di)||((0,n.le)(o.firstElementChild.getAttribute("tabindex"))||"-1"!==o.firstElementChild.getAttribute("tabindex"))&&this.updateHideEleTabIndex(o,t,s,r,a)):(o.classList.remove(nn),o.classList.contains(di)||this.updateHideEleTabIndex(o,t,s,r,a)),this.refreshOverflow())}},Yt([(0,n.FE)([],Kx)],i.prototype,"items",void 0),Yt([(0,n.Z9)("auto")],i.prototype,"width",void 0),Yt([(0,n.Z9)("auto")],i.prototype,"height",void 0),Yt([(0,n.Z9)("")],i.prototype,"cssClass",void 0),Yt([(0,n.Z9)("Scrollable")],i.prototype,"overflowMode",void 0),Yt([(0,n.Z9)()],i.prototype,"scrollStep",void 0),Yt([(0,n.Z9)(!0)],i.prototype,"enableCollision",void 0),Yt([(0,n.Z9)(!0)],i.prototype,"enableHtmlSanitizer",void 0),Yt([(0,n.Z9)(!0)],i.prototype,"allowKeyboard",void 0),Yt([(0,n.ju)()],i.prototype,"clicked",void 0),Yt([(0,n.ju)()],i.prototype,"created",void 0),Yt([(0,n.ju)()],i.prototype,"destroyed",void 0),Yt([(0,n.ju)()],i.prototype,"beforeCreate",void 0),Yt([n.Zl],i)}(n.wA),GC=function(){function h(i){this.croppedDegree=0,this.cropDestPoints={startX:0,startY:0,width:0,height:0},this.tempFlipPanPoint={x:0,y:0},this.isPreventScaling=!1,this.isInitCrop=!1,this.isTransformCrop=!1,this.parent=i,this.addEventListener()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("crop",this.cropping,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("crop",this.cropping),this.parent.off("destroyed",this.destroy)},h.prototype.cropping=function(i){switch(this.updateCropPvtVar(),i.prop){case"cropImg":this.cropImg(i.value.isRotateCrop);break;case"cropCircle":this.cropCircle(i.value.context,i.value.isSave,i.value.isFlip);break;case"setCurrSelPoints":this.setCurrSelPoints(i.value.isSetDimension);break;case"updateRotatePan":this.updateRotatePan();break;case"crop":this.crop(i.value.obj);break;case"calcRatio":this.calcRatio(i.value.obj,i.value.dimension);break;case"isObjInImage":this.isObjInImage(i.value.obj,i.value.object);break;case"getCurrFlipState":this.getCurrFlipState(i.value.panObj);break;case"getPreviousCropCurrentObj":i.value.obj.prevObj=this.prevCropCurrObj;break;case"setPreviousCropCurrentObj":this.prevCropCurrObj=i.value.obj;break;case"setCropDestPoints":this.cropDestPoints=i.value.point;break;case"getTempFlipPanPoint":i.value.obj.point=this.tempFlipPanPoint;break;case"setTempFlipPanPoint":(0,n.le)(i.value.isAdd)?this.tempFlipPanPoint=i.value.point:(this.tempFlipPanPoint.x+=i.value.point.x,this.tempFlipPanPoint.y+=i.value.point.y);break;case"getPreventScaling":i.value.obj.bool=this.isPreventScaling;break;case"adjustStraightenForShapes":this.adjustStraightenForShapes(i.value.type,i.value.isInitialRotated);break;case"resizeWrapper":this.resizeWrapper();break;case"setTransformCrop":this.isTransformCrop=i.value.bool;break;case"setInitCrop":this.isInitCrop=i.value.bool;break;case"reset":this.reset()}},h.prototype.getModuleName=function(){return"crop"},h.prototype.updateCropPvtVar=function(){var i=this.parent;i.lowerCanvas&&(this.lowerContext=i.lowerCanvas.getContext("2d")),i.upperCanvas&&(this.upperContext=i.upperCanvas.getContext("2d"))},h.prototype.reset=function(){this.prevCropCurrObj=null,this.croppedDegree=0,this.cropDestPoints={startX:0,startY:0,width:0,height:0},this.tempFlipPanPoint={x:0,y:0},this.isPreventScaling=!1,this.isInitCrop=!1,this.isTransformCrop=!1},h.prototype.cropImg=function(i){for(var e=this.parent,t=(0,n.le)(i),s=e.element.querySelector("#"+e.element.id+"_nonaspectratio"),r=e.activeObj.activePoint,o=e.img,a=!1,d=0,c=e.rotateFlipColl.length;d<c;d++){var p=e.rotateFlipColl[d];(90===p||-90===p)&&(a=!0)}if(e.notify("draw",{prop:"setImageEdited",onPropertyChange:!1}),(t||s)&&(this.croppedDegree=e.transform.degree),t&&0!==e.transform.degree||a)this.updateCropObj(),e.notify("transform",{prop:"setCurrDestinationPoint",onPropertyChange:!1,value:{point:{startX:o.destLeft,startY:o.destTop,width:o.destWidth,height:o.destHeight}}}),this.rotateCrop();else if(t&&""!==e.transform.currFlipState)this.updateCropObj(),e.notify("transform",{prop:"setCurrDestinationPoint",onPropertyChange:!1,value:{point:{startX:o.destLeft,startY:o.destTop,width:o.destWidth,height:o.destHeight}}}),this.flipCrop();else{this.adjustStraightenForShapes("initial",!1),e.notify("draw",{prop:"setTempZoomFactor",onPropertyChange:!1,value:{tempZoomFactor:e.transform.zoomFactor}});var f=this.calcRatio();!t&&i||(this.updateCropObj(),e.notify("draw",{prop:"resetPanPoints",onPropertyChange:!1}),e.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),e.notify("transform",{prop:"setCurrDestinationPoint",onPropertyChange:!1,value:{point:{startX:o.destLeft,startY:o.destTop,width:o.destWidth,height:o.destHeight}}}),e.currSelectionPoint=(0,n.l7)({},e.activeObj,{},!0),this.cropDestPoints={startX:o.destLeft,startY:o.destTop,width:o.destWidth,height:o.destHeight});var v={width:0,height:0};e.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:r.width*f.width,height:r.height*f.height,obj:v,isImgShape:null}});var g=v;this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),e.img={srcLeft:r.startX*f.width-o.destLeft*f.width,srcTop:r.startY*f.height-o.destTop*f.height,srcWidth:r.width*f.width,srcHeight:r.height*f.height,destLeft:(e.lowerCanvas.clientWidth-g.width)/2,destTop:(e.lowerCanvas.clientHeight-g.height+1)/2,destWidth:g.width,destHeight:g.height};var b=this.lowerContext.filter;e.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.lowerContext.filter="none";var C=(0,n.l7)({},e.activeObj,{},!0);this.cropObjColl(),e.transform.straighten=0,e.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}});var T=(0,n.l7)([],e.objColl,[],!0);for(d=0,c=T.length;d<c;d++)this.isObjInImage(T[d])&&(e.notify("shape",{prop:"apply",onPropertyChange:!1,value:{shape:T[d].shape,obj:T[d],canvas:null}}),e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}));e.activeObj=C,this.cropFreehandDrawColl(),e.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),e.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),e.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}}),e.currSelectionPoint&&"crop-circle"===e.currSelectionPoint.shape?this.cropCircle(this.lowerContext):e.isCircleCrop=!1,this.lowerContext.filter=b,e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),e.currObjType.isCustomCrop=!1,e.pan(!1),e.transform.defaultZoomFactor=0}},h.prototype.adjustStraightenForShapes=function(i,e){for(var t=this.parent,s={x:t.img.destLeft+t.img.destWidth/2,y:t.img.destTop+t.img.destHeight/2},r=0,o=t.objColl;r<o.length;r++){var a=o[r];if(-1!==["rectangle","ellipse","text","image"].indexOf(a.shape)&&(e||0!==a.rotatedAngle)){var d=a.activePoint,c=d.startX,p=d.startY,u=d.width,f=d.height,v="initial"===i?a.rotatedAngle:-a.rotatedAngle,g=c+u/2-s.x,b=p+f/2-s.y,C=Math.cos(v),T=Math.sin(v),Y=C*g-T*b+s.x-c-u/2,H=T*g+C*b+s.y-p-f/2;a.activePoint.startX+=Y,a.activePoint.startY+=H,a.activePoint.endX+=Y,a.activePoint.endY+=H}}},h.prototype.updateCropObj=function(){this.parent.afterCropActions=[];var i={currObj:{}};this.parent.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:i}});var e=i.currObj;e.straighten=this.parent.transform.straighten,this.parent.cropObj=(0,n.l7)({},e,{},!0)},h.prototype.rotateCrop=function(){var i=this.parent,e=this.getCurrFlipState(),t=i.activeObj.shape||"";i.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),i.currSelectionPoint=(0,n.l7)({},i.activeObj,{},!0),i.objColl.push(i.activeObj),i.activeObj=(0,n.l7)({},i.objColl[i.objColl.length-1],{},!0);var s=(0,n.l7)({},i.objColl[i.objColl.length-1],{},!0),r=(0,n.l7)({},i.currSelectionPoint,{},!0),o={bool:null};i.notify("transform",{prop:"getPreventSelect",onPropertyChange:!1,value:{obj:o}}),i.notify("transform",{prop:"setPreventSelect",onPropertyChange:!1,value:{bool:!0}});var a=(0,n.l7)([],i.rotateFlipColl,[],!0);this.panToSelRangle(!0),s=(0,n.l7)({},i.objColl[i.objColl.length-1],{},!0),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:s}}),i.objColl.pop(),i.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),i.objColl.push(i.activeObj);var d=i.transform.straighten;0!==d&&(i.transform.straighten=0,i.straightenBaseImageCanvas(),i.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:!1}})),this.resetZoom();var c=(0,n.l7)([],i.afterCropActions,[],!0);this.revertTransform("initial",a),0!==d&&(i.transform.straighten="horizontal"===e||"vertical"===e?-d:d,i.straightenBaseImageCanvas(),i.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:!1}}),i.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}})),s=(0,n.l7)({},i.objColl[i.objColl.length-1],{},!0),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:s}}),i.objColl.pop(),i.transform.degree=0;var p={isIntersect:null};i.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),i.notify("draw",{prop:"isLinesIntersect",onPropertyChange:!1,value:{obj:p}});for(var u=0;0!==d&&p.isIntersect&&50!=++u;)i.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:.025,zoomPoint:null},isResize:null}),i.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),i.notify("draw",{prop:"isLinesIntersect",onPropertyChange:!1,value:{obj:p}});this.cropImg(!0),this.revertTransform("reverse",a),i.afterCropActions=c,i.currSelectionPoint=r,i.notify("transform",{prop:"setPreventSelect",onPropertyChange:!1,value:{bool:o.bool}}),i.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),i.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}}),"crop-circle"===t&&this.cropCircle(this.lowerContext),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.notify("draw",{prop:"resetPanPoints",onPropertyChange:!1})},h.prototype.revertTransform=function(i,e){var t=this.parent,s={isRotate:!1};if("initial"===i)for(var r=e.length-1;r>=0;r--)switch(o=e[r]){case 90:t.notify("transform",{prop:"rotate",value:{degree:-90,obj:s}});break;case-90:t.notify("transform",{prop:"rotate",value:{degree:90,obj:s}});break;default:t.notify("transform",{prop:"flipImage",value:{direction:t.toPascalCase(o.toString())}})}else{this.updateFlipState(),r=0;for(var a=e.length;r<a;r++){var o;switch(o=e[r]){case 90:t.notify("transform",{prop:"rotate",value:{degree:90,obj:s}});break;case-90:t.notify("transform",{prop:"rotate",value:{degree:-90,obj:s}});break;default:t.notify("transform",{prop:"flipImage",value:{direction:t.toPascalCase(o.toString())}})}}}},h.prototype.updateFlipState=function(){for(var i=this.parent,e=i.objColl,t=0,s=e.length;t<s;t++)e[t].shapeFlip="";var r=i.pointColl;for(t=0;t<i.freehandCounter;t++)r[t].shapeFlip=""},h.prototype.resetZoom=function(){var i=this.parent;if(i.transform.zoomFactor>0){var e=i.transform.zoomFactor,t=i.isUndoRedo;i.setProperties({zoomSettings:{zoomFactor:10*e}},!0),i.notify("transform",{prop:"setPreviousZoomValue",onPropertyChange:!1,value:{previousZoomValue:i.zoomSettings.zoomFactor}});for(var s=0;s<10*e;s++)i.isUndoRedo=!0,i.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-.1,zoomPoint:null},isResize:null});i.isUndoRedo=t,i.notify("draw",{prop:"resetPanPoints",onPropertyChange:!1})}},h.prototype.flipCrop=function(){var i=this.parent;i.notify("transform",{prop:"setReverseFlip",onPropertyChange:!1,value:{isReverseFlip:!0}}),i.panPoint.totalPannedPoint.x+=this.tempFlipPanPoint.x,i.panPoint.totalPannedPoint.y+=this.tempFlipPanPoint.y;var e=i.transform.currFlipState,t={flipColl:null};i.notify("transform",{prop:"getFlipColl",onPropertyChange:!1,value:{obj:t}});var s=t.flipColl;if(i.notify("transform",{prop:"setFlipColl",onPropertyChange:!1,value:{flipColl:[]}}),i.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),i.objColl.push(i.activeObj),0===i.transform.degree){var r=-i.cropObj.totalPannedPoint.x,o=-i.cropObj.totalPannedPoint.y;i.img.destLeft+=r,i.img.destTop+=o,i.notify("transform",{prop:"drawPannImage",value:{point:{x:r,y:o}}}),i.activeObj=(0,n.l7)({},i.objColl[i.objColl.length-1],{},!0),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:i.activeObj}}),i.objColl.pop(),i.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),i.objColl.push(i.activeObj)}this.resetZoom(),i.currSelectionPoint=(0,n.l7)({},i.objColl[i.objColl.length-1],{},!0),this.lowerContext.clearRect(0,0,i.lowerCanvas.width,i.lowerCanvas.height),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height);var a=this.lowerContext.filter;i.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.updateFlipState(),i.notify("shape",{prop:"redrawObj",onPropertyChange:!1,value:{degree:this.getCurrFlipState()}}),i.notify("freehand-draw",{prop:"flipFHDColl",onPropertyChange:!1,value:{value:this.getCurrFlipState()}}),i.activeObj=(0,n.l7)({},i.objColl[i.objColl.length-1],{},!0),i.objColl.pop(),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),this.cropImg(!0),i.notify("transform",{prop:"setReverseRotate",onPropertyChange:!1,value:{bool:!0}}),this.lowerContext.setTransform(1,0,0,1,0,0),i.notify("draw",{prop:"setDestPoints",onPropertyChange:!1}),i.notify("draw",{prop:"currTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,context:null,isPreventCircleCrop:null}}),i.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.lowerContext.filter=a,i.notify("draw",{prop:"setRotateZoom",onPropertyChange:!1,value:{isRotateZoom:!1}}),i.notify("draw",{prop:"currTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:null,context:null,isPreventCircleCrop:null}}),i.transform.currFlipState=e,i.notify("transform",{prop:"setFlipColl",onPropertyChange:!1,value:{flipColl:s}}),this.lowerContext.filter="none",this.updateFlipState(),i.notify("shape",{prop:"redrawObj",onPropertyChange:!1,value:{degree:this.getCurrFlipState()}}),i.notify("freehand-draw",{prop:"flipFHDColl",onPropertyChange:!1,value:{value:this.getCurrFlipState()}}),i.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.lowerContext.filter=a,(i.currSelectionPoint&&"crop-circle"===i.currSelectionPoint.shape||i.isCircleCrop)&&this.cropCircle(this.lowerContext),i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),i.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),i.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.notify("transform",{prop:"setReverseFlip",onPropertyChange:!1,value:{isReverseFlip:!1}}),i.notify("draw",{prop:"resetPanPoints",onPropertyChange:!1}),this.tempFlipPanPoint={x:0,y:0}},h.prototype.cropObjColl=function(){var e,t,s,i=this.parent;if(i.objColl.length>0)for(var r=0,o=i.objColl.length;r<o;r++){var a=i.activeObj.activePoint,d=a.startX,c=a.startY,p=a.width,u=a.height;t=(s=i.objColl[r]).shape,s.imageRatio={startX:((e=s.activePoint).startX-d)/p,startY:(e.startY-c)/u,endX:(e.endX-d)/p,endY:(e.endY-c)/u,width:p/e.width,height:u/e.height};var f=void 0,v=void 0;switch(t){case"text":v=0===(f=0===s.shapeDegree?i.transform.degree:i.transform.degree-s.shapeDegree)||180===Math.abs(f)?e.width:e.height,s.textSettings.fontRatio=v/s.textSettings.fontSize;break;case"line":case"arrow":this.cropPointCollection(r),"arrow"===t&&i.notify("shape",{prop:"updateArrowRatio",onPropertyChange:!1,value:{obj:s}});break;case"path":this.cropPointCollection(r)}}},h.prototype.cropPointCollection=function(i){var s,r,o,a,e=this.parent,d=e.activeObj.activePoint,c=e.img;"path"===e.objColl[i].shape?(s=d.startX,r=d.startY,o=d.width,a=d.height):(s=c.destLeft,r=c.destTop,o=c.destWidth,a=c.destHeight);for(var g=e.objColl[i].pointColl,b=0,C=g.length;b<C;b++)g[b].ratioX=(g[b].x-s)/o,g[b].ratioY=(g[b].y-r)/a},h.prototype.cropFreehandDrawColl=function(){for(var i=this.parent,e=i.activeObj.activePoint,t=e.startX,s=e.startY,r=e.width,o=e.height,a=0;a<i.freehandCounter;a++){i.points=(0,n.l7)([],i.pointColl[a].points,[]),i.notify("freehand-draw",{prop:"setPointCounter",onPropertyChange:!1,value:{value:0}});for(var d=i.points.length,c=0;c<d;c++)i.points[c].ratioX=(i.points[c].x-t)/r,i.points[c].ratioY=(i.points[c].y-s)/o}i.notify("freehand-draw",{prop:"updateCropPtsForSel",onPropertyChange:!1})},h.prototype.resetAnnotations=function(){var i=this.parent;i.objColl=[],i.pointColl=[],i.freehandCounter=0,i.notify("freehand-draw",{prop:"resetStraightenPoint"})},h.prototype.setCurrSelPoints=function(i){var e=this.parent;e.allowDownScale=!1;var t=this.cropDestPoints,s=this.lowerContext.filter,r=e.isCropTab;e.img={srcLeft:0,srcTop:0,srcWidth:e.baseImgCanvas.width,srcHeight:e.baseImgCanvas.height,destLeft:t.startX,destTop:t.startY,destWidth:t.width,destHeight:t.height};var o=e.img,a=e.currSelectionPoint;this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),i&&e.notify("draw",{prop:"setDestPoints",onPropertyChange:!1}),e.notify("draw",{prop:"currTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,context:null,isPreventCircleCrop:null}}),0===this.croppedDegree&&0===e.transform.degree&&a&&"crop-circle"!==a.shape&&"crop-square"!==a.shape&&(o.destLeft=t.startX,o.destTop=t.startY,o.destWidth=t.width,o.destHeight=t.height),0===e.transform.degree&&(o.destLeft+=e.panPoint.totalPannedInternalPoint.x,o.destTop+=e.panPoint.totalPannedInternalPoint.y),e.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.lowerContext.filter=s,e.notify("draw",{prop:"currTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:null,context:null,isPreventCircleCrop:!0}});var d=(0,n.l7)([],e.objColl,null,!0),c=(0,n.l7)([],e.pointColl,null,!0),p={straightenPoint:null};if(e.notify("freehand-draw",{prop:"getStraightenPoint",onPropertyChange:!1,value:{obj:p}}),this.resetAnnotations(),(0,n.le)(e.activeObj.shape)&&e.cropObj.activeObj.shape&&(e.activeObj=(0,n.l7)({},e.cropObj.activeObj,null,!0)),this.panToSelRangle(),e.isCropTab=r,e.objColl=d,e.pointColl=c,e.freehandCounter=e.pointColl.length,p.straightenPoint.x&&p.straightenPoint.y&&e.notify("freehand-draw",{prop:"setStraightenPoint",onPropertyChange:!1,value:{x:p.straightenPoint.x,y:p.straightenPoint.y,ratioX:p.straightenPoint.ratioX,ratioY:p.straightenPoint.ratioY}}),e.cropObj.activeObj.shape){var u={startX:o.destLeft,startY:o.destTop,width:o.destWidth,height:o.destHeight};if(a&&a.activePoint){var f=a.activePoint,g=f.startY,b=f.width,C=f.height;o.destLeft=f.startX,o.destTop=g,o.destWidth=b,o.destHeight=C}e.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),e.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),o.destLeft=u.startX,o.destTop=u.startY,o.destWidth=u.width,o.destHeight=u.height,e.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1}),d=(0,n.l7)([],e.objColl,null,!0),c=(0,n.l7)([],e.pointColl,null,!0),e.notify("freehand-draw",{prop:"getStraightenPoint",onPropertyChange:!1,value:{obj:p}}),this.resetAnnotations();var T={selPointColl:null};e.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:T}});var O=T.selPointColl;e.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:[]}}}),e.cropObj.filter=this.lowerContext.filter;var j=(0,n.l7)({},e.currSelectionPoint,null,!0);e.notify("draw",{prop:"setCurrentObj",onPropertyChange:!1,value:{obj:null}}),e.activeObj=(0,n.l7)({},j,null,!0);var Y=(0,n.l7)({},e.activeObj,null,!0);if(e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),e.currSelectionPoint=null,e.isCircleCrop=!1,0!==e.transform.degree&&((0,n.le)(e.activeObj.shape)&&e.cropObj.activeObj.shape&&(e.activeObj=(0,n.l7)({},e.cropObj.activeObj,null,!0)),e.notify("transform",{prop:"drawPannedImage",value:{xDiff:0,yDiff:0}}),e.panPoint.currentPannedPoint={x:0,y:0}),e.objColl=d,e.pointColl=c,e.freehandCounter=e.pointColl.length,p.straightenPoint.x&&p.straightenPoint.y&&e.notify("freehand-draw",{prop:"setStraightenPoint",onPropertyChange:!1,value:{x:p.straightenPoint.x,y:p.straightenPoint.y,ratioX:p.straightenPoint.ratioX,ratioY:p.straightenPoint.ratioY}}),e.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:O}}}),e.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),e.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),this.adjustStraightenForShapes("reverse",!1),e.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1,value:{isPreventApply:!0}}),e.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),e.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),0===e.transform.degree?e.notify("transform",{prop:"drawPannImage",onPropertyChange:!1,value:{point:{x:0,y:0}}}):((0,n.le)(e.activeObj.shape)&&e.cropObj.activeObj.shape&&(e.activeObj=(0,n.l7)({},e.cropObj.activeObj,null,!0)),e.notify("transform",{prop:"drawPannedImage",value:{xDiff:0,yDiff:0}}),e.panPoint.currentPannedPoint={x:0,y:0}),e.activeObj=Y,e.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),e.notify("transform",{prop:"setTempPanMove",onPropertyChange:!1,value:{point:null}}),this.isInitCrop||0!==e.transform.degree||""===e.cropObj.currFlipState||0===e.cropObj.cropZoom)this.isInitCrop=!1;else{this.isInitCrop=!0;var H={activeObj:null};e.notify("draw",{prop:"getStraightenActObj",onPropertyChange:!1,value:{obj:H}}),e.notify("draw",{prop:"performCancel",value:{isContextualToolbar:null}}),e.notify("draw",{prop:"setStraightenActObj",onPropertyChange:!1,value:{activeObj:H.activeObj}}),e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"croptransform",isApplyBtn:!1,isCropping:null,isZooming:null,cType:null}})}}else{this.adjustStraightenForShapes("reverse",!0),e.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1,value:{isPreventApply:!0}});var N=this.lowerContext.filter;this.lowerContext.filter="none",e.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),e.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),this.lowerContext.filter=N,e.currSelectionPoint=null}document.querySelector(".e-ie-straighten-value-span")&&(document.querySelector(".e-ie-straighten-value-span").innerHTML=e.transform.straighten.toString()+"&#176")},h.prototype.panToSelRangle=function(i){var e=this.parent,t=e.cropObj.totalPannedClientPoint,s=0!==e.transform.degree?i?-t.x:t.x:0,r=0!==e.transform.degree?i?-t.y:t.y:0;0!==e.transform.degree&&(e.panPoint.currentPannedPoint={x:s,y:r},e.notify("transform",{prop:"drawPannedImage",value:{xDiff:s,yDiff:r}}),e.panPoint.currentPannedPoint={x:0,y:0})},h.prototype.cropCircle=function(i,e,t){var s=this.parent,r=s.img,o=r.destLeft,a=r.destTop,d=r.destWidth,c=r.destHeight;t&&""!==s.transform.currFlipState&&s.notify("draw",{prop:"setTransform",onPropertyChange:!1,value:{context:i,value:s.transform.currFlipState,isReverse:null}});var p=i.filter;i.filter="none",i.globalCompositeOperation="destination-in",i.beginPath();var u=(0,n.le)(e)?o+d/2:i.canvas.width/2,f=(0,n.le)(e)?a+c/2:i.canvas.height/2;i.arc(u,f,e?i.canvas.width/2:d/2,0,2*Math.PI),i.closePath(),i.fill(),i.restore(),i.globalCompositeOperation="source-over",s.currObjType.isActiveObj=s.isCircleCrop=!0,i.filter=p,t&&""!==s.transform.currFlipState&&s.notify("draw",{prop:"setTransform",onPropertyChange:!1,value:{context:i,value:s.transform.currFlipState,isReverse:null}})},h.prototype.getCurrCropState=function(i,e){var t=this.parent,s="",r=[],o={flipColl:null};if(t.notify("transform",{prop:"getFlipColl",onPropertyChange:!1,value:{obj:o}}),"initial"===i)if(180===Math.abs(t.transform.degree))s=o.flipColl.length>1?this.getCurrFlipState():t.transform.currFlipState;else{for(var a=0,d=t.rotateFlipColl.length;a<d;a++)"number"==typeof t.rotateFlipColl[a]?r.push("number"):"string"==typeof t.rotateFlipColl[a]&&r.push("string");r.length>1&&"string"===r[r.length-1]&&"number"===r[r.length-2]?"horizontal"===t.transform.currFlipState?s="vertical":"vertical"===t.transform.currFlipState&&(s="horizontal"):r.length>1&&"number"===r[r.length-1]&&"string"===r[r.length-2]&&(s=o.flipColl.length>1?this.getCurrFlipState():t.transform.currFlipState)}else s=this.getCurrFlipState(),(e||!this.isInitialRotate())&&(-90===t.transform.degree||-270===t.transform.degree)&&("horizontal"===s?s="vertical":"vertical"===s&&(s="horizontal"));return""===s&&(s=o.flipColl.length>1?this.getCurrFlipState():t.transform.currFlipState),s},h.prototype.isInitialRotate=function(){var i=!1;return this.parent.rotateFlipColl.length>0&&"number"==typeof this.parent.rotateFlipColl[0]&&(i=!0),i},h.prototype.updateRotatePan=function(){var i=this.parent;if(!(0,n.le)(i.panPoint.currentPannedPoint)){var e,t=i.transform.degree,s=i.panPoint.currentPannedPoint,r=s.x,o=s.y;e=i.rotateFlipColl.length>0&&"number"==typeof i.rotateFlipColl[0]&&t<0?this.getCurrCropState("reverse",!0):this.getCurrFlipState(),t%90==0&&t%180!=0?90===t||-90===t&&("horizontal"===e||"vertical"===e)||-270===t&&(""===e||"verticalHorizontal"===e||"horizontalVertical"===e)?("horizontal"===e||""===e?i.img.destLeft+=o:i.img.destLeft-=o,""===e||"vertical"===e?i.img.destTop-=r:i.img.destTop+=r):(270===t||-270===t&&("horizontal"===e||"vertical"===e)||-90===t&&(""===e||"verticalHorizontal"===e||"horizontalVertical"===e))&&(""===e||"horizontal"===e?i.img.destLeft-=o:i.img.destLeft+=o,""===e||"vertical"===e?i.img.destTop+=r:i.img.destTop-=r):(180===t||-180===t)&&(""===e||"vertical"===e?i.img.destLeft-=r:i.img.destLeft+=r,""===e||"horizontal"===e?i.img.destTop-=o:i.img.destTop+=o)}},h.prototype.crop=function(i){var e=this,t=this.parent,s=t.activeObj.activePoint,r=s.startX,o=s.startY,a=s.endX,d=s.endY;if(!t.disabled&&t.isImageLoaded){var c={isCropToolbar:t.isCropToolbar};t.currObjType.isUndoAction&&!c.isCropToolbar&&t.notify("undo-redo",{prop:"refreshUrc",value:{bool:null}});var p={cancel:!1,startPoint:{x:r,y:o},endPoint:{x:a,y:d},preventScaling:!1};!c.isCropToolbar&&(0,n.xr)()&&t.events&&!0===t.events.cropping.hasDelegate?"resize-toolbar"===t.currentToolbar?(t.dotNetRef.invokeMethodAsync("CropEventAsync","OnCrop",p,null),this.cropEvent(p,i,c)):t.dotNetRef.invokeMethodAsync("CropEventAsync","OnCrop",p,null).then(function(u){e.cropEvent(u,i,c)}):(c.isCropToolbar||t.trigger("cropping",p),this.cropEvent(p,i,c))}},h.prototype.cropEvent=function(i,e,t){var r,s=this.parent;if(!i.cancel&&(r=s.activeObj.shape?s.activeObj.shape.split("-"):[],!s.disabled&&s.activeObj.horTopLine&&(s.currObjType.isCustomCrop||r.length>0&&"crop"===r[0]))){e.isCrop=!0;var o=(0,n.l7)({},s.cropObj,{},!0),a=(0,n.l7)({},this.prevCropCurrObj,{},!0);this.isPreventScaling=!!i.preventScaling,this.cropImg(),s.notify("freehand-draw",{prop:"resetStraightenPoint"}),s.isCropTab=!1,s.transform.zoomFactor=0,s.setProperties({zoomSettings:{zoomFactor:1}},!0),s.notify("transform",{prop:"setPreviousZoomValue",onPropertyChange:!1,value:{previousZoomValue:s.zoomSettings.zoomFactor}}),n.AR.isDevice||this.updateUndoRedoColl(a,o,t),s.notify("transform",{prop:"setCropDimension",onPropertyChange:!1,value:{width:s.cropObj.destPoints.width,height:s.cropObj.destPoints.height}});var d=s.element.querySelector("#"+s.element.id+"_aspectratio"),c=s.element.querySelector("#"+s.element.id+"_nonaspectratio");s.notify("draw",{prop:"render-image",value:{isMouseWheel:!1}}),!(0,n.xr)()&&!t.isCropToolbar&&(0,n.le)(d)&&(0,n.le)(c)?s.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:!1,isCropping:!1,isZooming:null,cType:null}}):t.isCropToolbar||"resize-toolbar"!==s.currentToolbar&&s.updateToolbar(s.element,"imageLoaded"),this.resizeWrapper(),n.AR.isDevice&&this.updateUndoRedoColl(a,o,t),i={startPoint:i.startPoint,endPoint:i.endPoint},!t.isCropToolbar&&(0,n.xr)()&&s.events&&!0===s.events.cropped.hasDelegate&&s.dotNetRef.invokeMethodAsync("CropEventAsync","Cropped",null,i)}},h.prototype.updateUndoRedoColl=function(i,e,t){var s=this.parent;i.currSelectionPoint=(0,n.l7)({},s.prevCurrSelectionPoint,{},!0),s.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"crop",previousObj:i,previousObjColl:i.objColl,previousPointColl:i.pointColl,previousSelPointColl:i.selPointColl,previousCropObj:e,previousText:null,currentText:null,previousFilter:null,isCircleCrop:s.isCircleCrop}}),t.isCropToolbar||s.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}})},h.prototype.resizeWrapper=function(){var i=this.parent;if(n.AR.isDevice&&!(0,n.xr)()){var e=i.element,t=e.querySelector("#"+e.id+"_contextualToolbarArea");""===t.style.position&&!this.isTransformCrop&&(t.style.position="absolute",i.isStraightening=!1,i.update(),i.notify("filter",{prop:"setAdjustmentValue",value:{adjustmentValue:i.canvasFilter}}))}else if(n.AR.isDevice&&(0,n.xr)()&&!this.isTransformCrop){i.isStraightening=!1,i.update();var s=i.element.querySelector("#"+i.element.id+"_canvasWrapper");s&&(s.style.height=parseInt(s.style.height)+2+"px"),i.notify("filter",{prop:"setAdjustmentValue",value:{adjustmentValue:i.canvasFilter}})}},h.prototype.calcRatio=function(i,e){var t=this.parent,s=t.transform.degree,r=t.img,o=r.destWidth,a=r.destHeight,d=e||t.baseImgCanvas,c=d.width,p=d.height,u=0===s||s%180==0?c/o:p/o,f=0===s||s%180==0?p/a:c/a;return i&&(i.width=u,i.height=f),{width:u,height:f}},h.prototype.isObjInImage=function(i,e){var s=this.parent.img,r=s.destLeft,o=s.destTop,a=s.destWidth,d=s.destHeight,c=i.activePoint,p=c.startX,u=c.endX,f=c.startY,v=c.endY,g=p>=r&&u<=r+a||p<=r&&u>=r||p<=r+a&&u>=r+a||f>=o&&v<=o+d||f<=o&&v>=o||f<=o+d&&v>=o+d;return e&&(e.isInside=g),g},h.prototype.getCurrFlipState=function(i){var e=this.parent,t={panRegion:""},s={collection:e.rotateFlipColl};e.notify("shape",{prop:"alignRotateFlipColl",onPropertyChange:!1,value:{collection:e.rotateFlipColl,isRotateFlipCollection:!0,obj:s}}),e.rotateFlipColl=s.collection;for(var r=0,o=e.rotateFlipColl.length;r<o;r++)e.notify("transform",{prop:"setCurrPanRegion",onPropertyChange:!1,value:{region:t.panRegion,type:e.rotateFlipColl[r],obj:t}});return i&&(i.panRegion=t.panRegion),t.panRegion},h}(),QC=function(){function h(i){this.isInitialLoading=!1,this.fileName="",this.isErrorImage=!1,this.isShapeTextInserted=!1,this.isRotateZoom=!1,this.tempStrokeSettings={strokeColor:"#fff",fillColor:"",strokeWidth:null},this.tempTextSettings={text:"Enter Text",fontFamily:"",fontSize:null,fontRatio:null,bold:!1,italic:!1,underline:!1},this.tempAdjValue="",this.tempFilter="",this.tempUndoRedoStep=0,this.tempFreehandCounter=0,this.tempCurrFhdIndex=0,this.tempZoomFactor=null,this.isCancelAction=!1,this.rotatedFlipCropSel=!1,this.zoomCrop={width:0,height:0},this.isImageEdited=!1,this.isFileChanged=!1,this.isNewPath=!1,this.isResizeSelect=!1,this.arrowDimension={bar:{width:10,height:32,ratioX:null,ratioY:null},arrow:{width:24,height:24,ratioX:null,ratioY:null},arrowSolid:{width:32,height:32,ratioX:null,ratioY:null},circle:{width:10,height:10,ratioX:null,ratioY:null},square:{width:20,height:20,ratioX:null,ratioY:null}},this.origDim={width:0,height:0},this.isImageApply=!1,this.imgCanvasPoints=[],this.isCropSelect=!1,this.isDownScale=!1,this.preventStraightening=!1,this.parent=i,this.addEventListener()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("draw",this.draw,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("draw",this.draw),this.parent.off("destroyed",this.destroy)},h.prototype.draw=function(i){switch(this.updatePrivateVariables(),i.prop){case"drawObject":this.drawObject(i.value.canvas,i.value.obj,i.value.isCropRatio,i.value.points,i.value.isPreventDrag,i.value.saveContext,i.value.isPreventSelection);break;case"updateActiveObject":this.updateActiveObject(i.value.actPoint,i.value.obj,i.value.isMouseMove,i.value.x,i.value.y);break;case"clearOuterCanvas":this.clearOuterCanvas(i.value.context);break;case"setDestPoints":this.setDestPoints();break;case"updateCurrTransState":this.updateCurrTransState(i.value.type,i.value.isPreventDestination,i.value.isRotatePan);break;case"currTransState":this.currTransState(i.value.type,i.value.isPreventDestination,i.value.context,i.value.isPreventCircleCrop);break;case"setTransform":this.setTransform(i.value.context,i.value.value,i.value.isReverse);break;case"render-image":this.renderImage(i.value.isMouseWheel,i.value.isPreventClearRect,i.value.isFrame,i.value.isStraighten);break;case"draw-image-to-canvas":this.drawImgToCanvas(i.value.dimension);break;case"update-canvas":this.updateCanvas();break;case"performCancel":this.performCancel(i.value.isContextualToolbar,i.value.isUndoRedo);break;case"updateFlipPan":this.updateFlipPan(i.value.tempSelectionObj);break;case"select":this.select(i.value.type,i.value.startX,i.value.startY,i.value.width,i.value.height);break;case"callUpdateCurrTransState":this.callUpdateCurrTransState();break;case"resetPanPoints":this.resetPanPoints();break;case"setClientTransDim":this.setClientTransDim(i.value.isPreventDimension);break;case"redrawImgWithObj":this.redrawImgWithObj();break;case"setCurrentObj":this.setCurrentObj(i.value.obj,i.value.isUndoRedo);break;case"performPointZoom":this.performPointZoom(i.value.x,i.value.y,i.value.type,i.value.isResize);break;case"open":this.open(i.value.data);break;case"isInitialLoading":this.isInitialLoading=i.value.isInitialLoading;break;case"isInitialLoaded":this.getInitialLoaded(i.value.object);break;case"fileSelect":this.fileSelect(i.value.inputElement,i.value.args);break;case"getFileName":i.value.obj.fileName=this.fileName,i.value.obj.fileType=this.fileType;break;case"getErrorImage":i.value.obj.isErrorImage=this.isErrorImage;break;case"getInitialZoomValue":i.value.obj.initialZoomValue=this.initZoomValue;break;case"setShapeTextInsert":this.isShapeTextInserted=i.value.bool;break;case"resetCurrentSelectionPoint":this.currSelPoint=null;break;case"setRotateZoom":this.isRotateZoom=i.value.isRotateZoom;break;case"setTempStrokeSettings":this.tempStrokeSettings=i.value.tempStrokeSettings;break;case"setTempTextSettings":this.tempTextSettings=i.value.tempTextSettings;break;case"setTempAdjustmentValue":this.tempAdjValue=i.value.tempAdjustmentValue;break;case"getTempAdjustmentValue":i.value.obj.value=this.tempAdjValue;break;case"setTempFilter":this.tempFilter=i.value.tempFilter;break;case"setTempUndoRedoStep":this.tempUndoRedoStep=i.value.tempUndoRedoStep;break;case"setTempFreehandCounter":this.tempFreehandCounter=i.value.tempFreehandCounter;break;case"setTempCurrentFreehandDrawIndex":this.tempCurrFhdIndex=i.value.tempCurrentFreehandDrawIndex;break;case"setTempZoomFactor":this.tempZoomFactor=i.value.tempZoomFactor;break;case"setCancelAction":this.isCancelAction=i.value.bool;break;case"getRotatedFlipCropSelection":i.value.bool.isSelected=this.rotatedFlipCropSel;break;case"getPrevActObj":i.value.obj.prevActObj=this.prevActObj;break;case"setPrevActObj":this.prevActObj=i.value.prevActObj;break;case"setZoomCropWidth":this.zoomCrop.width=i.value.width,this.zoomCrop.height=i.value.height;break;case"setImageEdited":this.isImageEdited=!0;break;case"reset":this.reset();break;case"dlgBtnClick":this.dlgBtnClick();break;case"dlgCloseBtnClick":this.dlgCloseBtnClick();break;case"setNewPath":this.isNewPath=i.value.bool;break;case"getNewPath":i.value.obj.isNewPath=this.isNewPath;break;case"getArrowDimension":i.value.obj.arrowDimension=this.arrowDimension;break;case"setArrowDimension":this.arrowDimension=i.value.arrowDimension;break;case"moveToSelectionRange":this.moveToSelectionRange(i.value.type,i.value.activeObj);break;case"setResizeSelect":this.isResizeSelect=i.value.bool;break;case"applyFrame":this.applyFrame(i.value.ctx,i.value.frame,i.value.preventImg);break;case"drawImage":this.drawImage();break;case"downScaleImgCanvas":this.downScaleImgCanvas(i.value.ctx,i.value.isImgAnnotation,i.value.isHFlip,i.value.isVFlip);break;case"downScale":this.downScale(i.value.canvas,i.value.width,i.value.height);break;case"resetFrameZoom":this.resetFrameZoom(i.value.isOk);break;case"triggerFrameChange":i.value.obj.frameChangeEventArgs=this.triggerFrameChange(i.value.prevFrameSettings);break;case"setImageApply":this.isImageApply=i.value.bool;break;case"zoomToSel":this.zoomToSel(i.value.activeObj,i.value.isToolbar);break;case"getStraightenActObj":i.value.obj.activeObj=this.straightenActObj;break;case"setStraightenActObj":this.straightenActObj=i.value.activeObj;break;case"updateImgCanvasPoints":this.updateImgCanvasPoints();break;case"isLinesIntersect":i.value.obj.isIntersect=this.isLinesIntersect(i.value.obj);break;case"getImageCanvasPoints":i.value.obj.points=this.imgCanvasPoints;break;case"setDestForStraighten":this.setDestForStraighten();break;case"setTempDestForStraighten":this.tempStraightenDestPoints=(0,n.l7)({},this.straightenDestPoints,{},!0);break;case"getStraightenInitZoom":i.value.obj.zoomFactor=this.straightenInitZoom;break;case"setStraightenInitZoom":this.straightenInitZoom=i.value.zoomFactor;break;case"isPointsInsideImg":i.value.obj.bool="inside"!==this.checkPointPosition(i.value.x,i.value.y,this.imgCanvasPoints[0].x,this.imgCanvasPoints[0].y,this.imgCanvasPoints[1].x,this.imgCanvasPoints[1].y,this.imgCanvasPoints[2].x,this.imgCanvasPoints[2].y,this.imgCanvasPoints[3].x,this.imgCanvasPoints[3].y);break;case"setIsCropSelect":this.isCropSelect=i.value.bool;break;case"updateCropSelection":this.updateCropSelection();break;case"updateCropSelObj":this.updateCropSelObj();break;case"redrawDownScale":this.redrawDownScale();break;case"updateFinetune":this.updateFinetune();break;case"isSelOutsideImg":i.value.obj.bool=this.isSelOutsideImg();break;case"resetStraightenDestPoints":this.straightenDestPoints=null;break;case"checkPointPosition":i.value.obj.position=this.checkPointPosition(i.value.obj.x,i.value.obj.y,i.value.obj.x1,i.value.obj.y1,i.value.obj.x2,i.value.obj.y2,i.value.obj.x3,i.value.obj.y3,i.value.obj.x4,i.value.obj.y4)}},h.prototype.getModuleName=function(){return"draw"},h.prototype.updatePrivateVariables=function(){var i=this.parent;i.lowerCanvas&&(this.lowerContext=i.lowerCanvas.getContext("2d")),i.upperCanvas&&(this.upperContext=i.upperCanvas.getContext("2d")),(0,n.le)(this.tempZoomFactor)&&(this.tempZoomFactor=i.transform.zoomFactor),""===this.tempTextSettings.fontFamily&&(this.tempTextSettings.fontFamily=i.fontFamily.default)},h.prototype.reset=function(){this.isInitialLoading=this.isErrorImage=this.isNewPath=this.isResizeSelect=!1,this.isShapeTextInserted=!1,this.isImageApply=!1,this.initZoomValue=null,this.tempFilter="",this.origDim={width:0,height:0},this.currSelPoint=null,this.isRotateZoom=!1,this.tempAdjValue="",this.tempStrokeSettings={strokeColor:"#fff",fillColor:"",strokeWidth:null},this.tempTextSettings={text:"Enter Text",fontFamily:this.parent.fontFamily.default,fontSize:null,fontRatio:null,bold:!1,italic:!1,underline:!1},this.tempUndoRedoStep=this.tempFreehandCounter=this.tempCurrFhdIndex=0,this.tempZoomFactor=null,this.isCancelAction=!1,this.rotatedFlipCropSel=!1,this.prevActObj=null,this.tempStraightenDestPoints=null,this.arrowDimension={bar:{width:10,height:32,ratioX:null,ratioY:null},arrow:{width:24,height:24,ratioX:null,ratioY:null},arrowSolid:{width:32,height:32,ratioX:null,ratioY:null},circle:{width:10,height:10,ratioX:null,ratioY:null},square:{width:20,height:20,ratioX:null,ratioY:null}},this.straightenActObj=null,this.imgCanvasPoints=[],this.straightenInitZoom=null,this.straightenDestPoints=null,this.isCropSelect=this.isDownScale=this.preventStraightening=!1},h.prototype.redrawDownScale=function(){var i=this.parent;if(i.transform.zoomFactor&&i.transform.zoomFactor<0){var e=(0,n.l7)({},i.activeObj,{},!0);i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.isDownScale=!0,this.renderImage(),this.isDownScale=!1,e.shape&&this.drawObject("duplicate",e)}},h.prototype.updateFinetune=function(){var i=this.parent;if(i.transform.zoomFactor&&i.transform.zoomFactor<0){var e=this.lowerContext.filter;this.lowerContext.filter="none",i.notify("draw",{prop:"redrawDownScale"});var t=i.inMemoryCanvas.getContext("2d"),s=this.lowerContext,r=s.getImageData(0,0,s.canvas.width,s.canvas.height);i.inMemoryCanvas.width=r.width,i.inMemoryCanvas.height=r.height,t.putImageData(r,0,0),this.lowerContext.filter=e,i.notify("draw",{prop:"redrawDownScale"})}},h.prototype.drawImage=function(){this.applyFrame(this.lowerContext,this.parent.frameObj.type)},h.prototype.drawObject=function(i,e,t,s,r,o,a){var u,d=this.parent,c=d.activeObj,p=d.activeObj.activePoint;if(this.upperContext.clearRect(0,0,d.upperCanvas.width,d.upperCanvas.height),"original"===(i=i.toLowerCase())?u=this.lowerContext:"duplicate"===i?u=this.upperContext:o&&(u=o),!r&&c.shape&&this.setDragLimit(),d.currObjType.shape&&"crop"===d.currObjType.shape.split("-")[0].toLowerCase()&&t&&this.drawCropRatio(),p=d.activeObj.activePoint,(0,n.le)((c=d.activeObj).strokeSettings)){var v={strokeSettings:{}};d.notify("shape",{prop:"getStrokeSettings",onPropertyChange:!1,value:{obj:v}}),c.strokeSettings=v.strokeSettings}if((0,n.le)(c.strokeSettings.strokeWidth)&&(c.strokeSettings.strokeWidth=2),e&&(d.activeObj=(0,n.l7)({},e,{},!0)),s&&(p.startX=s.startX,p.startY=s.startY,p.endX=s.endX,p.endY=s.endY,p.width=s.width,p.height=s.height),this.updateActiveObject(),c=d.activeObj,!(0,n.le)((p=d.activeObj.activePoint).startX)||!(0,n.le)(p.startY)){if(d.currObjType.isText){var g={keyHistory:""};d.notify("shape",{prop:"getKeyHistory",onPropertyChange:!1,value:{obj:g}}),c.keyHistory=g.keyHistory}var b=!1;"original"!==i&&(c.shape&&"crop"===c.shape.split("-")[0]&&(b=!0),b&&(s?(p.startX=s.startX,p.startY=s.startY,p.endX=s.endX,p.endY=s.endY,p.width=s.width,p.height=s.height):p=c.activePoint,this.upperContext.fillStyle="rgb(0, 0, 0, 0.25)",this.upperContext.fillRect(0,0,d.lowerCanvas.width,d.lowerCanvas.height),this.upperContext.clearRect(p.startX,p.startY,p.width,p.height)),(0,n.le)(a)&&(u===this.lowerContext||u===this.upperContext)&&(this.rotateContext("initial",u),this.drawOuterSelection(u),this.rotateContext("reverse",u))),d.currObjType.isActiveObj=!0;var C={keyHistory:""};d.notify("shape",{prop:"getKeyHistory",onPropertyChange:!1,value:{obj:C}}),this.drawShapeObj(i,e?e.shape:""!==C.keyHistory&&d.currObjType.isText?"text":c.shape?c.shape:void 0,o,a),"duplicate"===i&&b&&"crop-circle"!==c.shape&&"none"!==d.frameObj.type&&(this.applyFrame(this.upperContext,d.frameObj.type),this.drawCornerCircles(this.upperContext))}},h.prototype.rotateContext=function(i,e){var t=this.parent,s=t.activeObj,r=s.shape,o=s.rotatedAngle,a=t.img,f=t.activeObj.activePoint;if("line"!==r&&"arrow"!==r){var O,j,T="initial"===i?o:-o;0!==t.transform.straighten||t.isCropTab?(O=a.destLeft+a.destWidth/2,j=a.destTop+a.destHeight/2):(O=f.startX+f.width/2,j=f.startY+f.height/2),e.translate(O,j),e.rotate(T),e.translate(-O,-j)}},h.prototype.setDragLimit=function(){var i=this.parent,e=i.activeObj.activePoint,t=i.activeObj,s=t.shape;if(e&&"image"!==s&&"line"!==s&&0===t.rotatedAngle){var o=i.img,a=o.destLeft,d=o.destTop,c=o.destWidth,p=o.destHeight;e.startX<a?(e.startX=a,e.endX=Math.min(e.startX+e.width,a+c)):e.endX>a+c&&(e.endX=a+c,e.startX=Math.max(e.endX-e.width,a)),e.startY<d?e.startY=d:e.endY>d+p&&(e.endY=d+p,e.startY=Math.max(e.endY-e.height,d)),i.activeObj=this.updateWidthHeight(i.activeObj)}},h.prototype.drawCropRatio=function(){var t,s,r,o,i=this.parent,e=i.activeObj.activePoint,a=i.lowerCanvas.clientWidth,d=i.lowerCanvas.clientHeight+1,c=i.img,p=c.destLeft,u=c.destTop,f=c.destWidth,v=c.destHeight;if(i.transform.zoomFactor>0&&this.currSelPoint){var g=(0,n.l7)({},i.activeObj,{},!0);this.drawCustomSelection("crop-custom",null,null,null,null),0!==i.transform.straighten&&(e=i.activeObj.activePoint),i.transform.degree%90==0&&i.transform.degree%180!=0?o=r=e.width<e.height?e.width:e.height:(r=p+p+f<=a?e.width:0===i.transform.straighten?a-p:e.width,o=u+u+v<=d?e.height:0===i.transform.straighten?d-u:e.height),i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),i.activeObj=g,i.currObjType.shape=g.shape,this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.currObjType.isCustomCrop=!1}else r=f,o=v,p<0&&(r+=p),u<0&&(o+=u),p+f>i.lowerCanvas.width&&(r-=p+f-i.lowerCanvas.width),u+v>i.lowerCanvas.height&&(o-=u+v-i.lowerCanvas.height);switch(i.currObjType.shape.toLowerCase()){case"crop-square":case"crop-circle":i.notify("selection",{prop:"setDragDirection",onPropertyChange:!1,value:{width:r,height:o}}),i.lowerCanvas.width<(e=i.activeObj.activePoint).endX-e.startX&&(e.startX=7.5,e.endX=i.lowerCanvas.width-7.5),i.lowerCanvas.height<e.endY-e.startY&&(e.startY=7.5,e.endY=i.lowerCanvas.height-7.5),r===f&&o===v&&(e.startX+=p,e.startY+=u,e.endX+=p,e.endY+=u),i.lowerCanvas.width>i.lowerCanvas.height?(e.height=e.endY-e.startY,e.width=e.height,e.endX=e.startX+e.width):(e.width=e.endX-e.startX,e.height=e.width,e.endY=e.startY+e.height);break;case"crop-3:2":t=3,s=2;break;case"crop-4:3":t=4,s=3;break;case"crop-5:4":t=5,s=4;break;case"crop-7:5":t=7,s=5;break;case"crop-16:9":t=16,s=9;break;case"crop-2:3":t=2,s=3;break;case"crop-3:4":t=3,s=4;break;case"crop-4:5":t=4,s=5;break;case"crop-5:7":t=5,s=7;break;case"crop-9:16":t=9,s=16}void 0!==t&&void 0!==s&&(i.notify("selection",{prop:"calcShapeRatio",onPropertyChange:!1,value:{x:t,y:s,imgWidth:r,imgHeight:o}}),r===f&&o===v&&this.updatePoints(),e=i.activeObj.activePoint),e.startX<p&&(e.startX+=b=p-e.startX+7.5,e.endX+=b),e.startY<u&&(e.startY+=b=u-e.startY+7.5,e.endY+=b),i.activeObj=this.updateWidthHeight(i.activeObj),this.adjToCenter(),this.enlargeToImg(),0!==i.transform.straighten&&(this.adjToStraighten(),this.updateActiveObject(i.activeObj.activePoint,i.activeObj));var C={isIntersect:null,arr:null},T=0;if(e=i.activeObj.activePoint,0!==i.transform.straighten)for(;this.isLinesIntersect(C)&&T<100;){var b;T++,e.startX+=b=1*e.width/100,e.endX-=b,e.startY+=b=1*e.height/100,e.endY-=b,e.width=e.endX-e.startX,e.height=e.endY-e.startY,this.updateActiveObject(e,i.activeObj)}this.straightenInitZoom=i.transform.zoomFactor,this.straightenActObj=(0,n.l7)({},i.activeObj,{},!0),i.notify("draw",{prop:"resetStraightenDestPoints"}),i.notify("draw",{prop:"setDestForStraighten"})},h.prototype.adjToCenter=function(){var i=this.parent,e=i.activeObj.activePoint,t=i.img,s=t.destLeft,r=t.destTop,o=t.destWidth,a=t.destHeight,d=i.lowerCanvas.width/2-(e.endX-e.width/2),c=i.lowerCanvas.height/2-(e.endY-e.height/2);if(e.startX+=d,e.endX+=d,e.startY+=c,e.endY+=c,e.startX<(s>=7.5?s:7.5)?(e.startX+=p=(s>=7.5?s:0)-e.startX,e.endX+=p):e.endX>s+o&&(e.startX-=p=e.endX-(s+o),e.endX-=p),e.startY<(r>=7.5?r:7.5))e.startY+=p=(r>=7.5?r:0)-e.startY,e.endY+=p;else if(e.endY>r+a){var p;e.startY-=p=e.endY-(r+a),e.endY-=p}},h.prototype.enlargeToImg=function(){var i=this.parent;if(0!==i.transform.straighten&&i.transform.degree%90==0&&i.transform.degree%180!=0)for(var e=i.activeObj.activePoint,t=(0,n.l7)({},e,{},!0),s=0;;){s++;var r=5*e.width/100;e.startX-=r,e.endX+=r,e.startY-=r=5*e.height/100,e.endY+=r,e.width=e.endX-e.startX,e.height=e.endY-e.startY,this.updateActiveObject(e,i.activeObj);var o={isIntersect:null,arr:null};if(this.updateImgCanvasPoints(),this.isLinesIntersect(o),o.arr[0]||o.arr[1]||o.arr[2]||o.arr[3]||e.startX<7.5||e.startY<7.5||100===s){(e=(0,n.l7)({},t,{},!0)).startX+=r=1*e.width/100,e.endX-=r,e.startY+=r=1*e.height/100,e.endY-=r,e.width=e.endX-e.startX,e.height=e.endY-e.startY,this.updateActiveObject(e,i.activeObj);break}t=(0,n.l7)({},e,{},!0)}},h.prototype.updateActiveObject=function(i,e,t,s,r){var o=this.parent;i=i||(0,n.l7)({},o.activeObj.activePoint,{},!0),e=e||(0,n.l7)({},o.activeObj,{},!0),i.width=i.endX-i.startX,i.height=i.endY-i.startY;var a=i.startX,d=i.startY,c=i.endX,p=i.endY,v=i.width/2,g=i.height/2,b=7.5;e.horTopLine={startX:a+(s=s||0),startY:d-(r=r||0),endX:c+s,endY:p+r},e.horBottomLine={startX:a-s,startY:p-r,endX:c-s,endY:p+r},e.verLeftLine={startX:a+s,startY:d-r,endX:a-r,endY:p-r},e.verRightLine={startX:c+s,startY:d+r,endX:c-s,endY:p+r},e.topLeftCircle={startX:a,startY:d,radius:e.horTopLine.endX?b:0},e.topCenterCircle={startX:a+v,startY:d,radius:e.horTopLine.endX?b:0},e.topRightCircle={startX:c,startY:d,radius:e.horTopLine.endX?b:0},e.centerLeftCircle={startX:a,startY:d+g,radius:e.horTopLine.endX?b:0},e.centerRightCircle={startX:c,startY:d+g,radius:e.horTopLine.endX?b:0},e.bottomLeftCircle={startX:a,startY:p,radius:e.horTopLine.endX?b:0},e.bottomCenterCircle={startX:a+v,startY:p,radius:e.horTopLine.endX?b:0},e.bottomRightCircle={startX:c,startY:p,radius:e.horTopLine.endX?b:0},0===e.rotatedAngle&&(e.rotationCirclePoint={x:e.bottomCenterCircle.startX,y:e.bottomCenterCircle.startY+25},e.rotationCirclePoint.ratioX=(e.rotationCirclePoint.x-o.img.destLeft)/o.img.destWidth,e.rotationCirclePoint.ratioY=(e.rotationCirclePoint.y-o.img.destTop)/o.img.destHeight),e.activePoint=i,(0,n.le)(t)&&(o.activeObj=(0,n.l7)({},e,{},!0))},h.prototype.drawOuterSelection=function(i,e){var t,s=this.parent,r=s.activeObj.activePoint,o=s.activeObj;i.lineWidth=.5;var d,a=(0,n.l7)({},o,{},!0);if(o.shape&&(t=o.shape.split("-")),(t&&"crop"===t[0]||void 0===o.shape)&&!e&&(this.upperContext.fillStyle="rgb(0, 0, 0, 0.25)",this.upperContext.fillRect(0,0,s.lowerCanvas.width,s.lowerCanvas.height),this.upperContext.clearRect(r.startX,r.startY,r.width,r.height)),i.strokeStyle=s.themeColl[s.theme].primaryColor,i.fillStyle=s.themeColl[s.theme].secondaryColor,(d=0===a.shapeDegree?s.transform.degree:s.transform.degree-a.shapeDegree)<0&&(d=360+d),"arrow"===o.shape||"line"===o.shape)i.beginPath(),i.moveTo(r.startX,r.startY),i.lineTo(r.endX,r.endY),i.stroke();else if("path"===o.shape){i.beginPath();var c=(0,n.l7)({},s.activeObj,{},!0);if(c.pointColl[0]&&(i.moveTo(c.pointColl[0].x,c.pointColl[0].y),c.pointColl.length>1))for(var p=1,u=c.pointColl.length;p<u;p++)r.endX=c.pointColl[p].x,r.endY=c.pointColl[p].y,i.lineTo(r.endX,r.endY);var f={shape:null};s.notify("selection",{prop:"getCurrentDrawingShape",value:{obj:f}}),"path"===f.shape&&(s.activeObj=o=c),i.lineTo(r.endX,r.endY),i.stroke()}else this.drawCornerCircles(i);if(s.selectionSettings.showCircle&&(void 0===t||"crop"!==t[0])){var v=i.strokeStyle,g=i.fillStyle;i.strokeStyle=s.selectionSettings.strokeColor,i.fillStyle=s.selectionSettings.fillColor,"text"===o.shape?(i.lineWidth*=2,i.beginPath(),this.drawRotationArcLine(i),i.lineTo(o.rotationCirclePoint.x,o.rotationCirclePoint.y),i.stroke(),i.fill(),i.closePath(),i.beginPath(),i.moveTo(o.rotationCirclePoint.x,o.rotationCirclePoint.y),i.arc(o.rotationCirclePoint.x,o.rotationCirclePoint.y,o.bottomCenterCircle.radius,0,2*Math.PI),i.stroke(),i.fill(),i.closePath(),i.lineWidth/=2):this.drawCenterCircles(i),i.strokeStyle=v,i.fillStyle=g}a.rotationCircleLine=o.rotationCircleLine,s.activeObj=(0,n.l7)({},a,{},!0)},h.prototype.drawArrowHead=function(i,e){switch(e?this.parent.activeObj.start:this.parent.activeObj.end){case"arrowSolid":this.arrowSolid(i,!!e);break;case"arrow":this.arrow(i,!!e);break;case"circleSolid":this.arrowCircleSolid(i,!!e);break;case"circle":this.arrowCircle(i,!!e);break;case"bar":this.arrowBar(i,!!e);break;case"square":case"squareSolid":e?this.arrowSquareStart(i):this.arrowSquareEnd(i)}},h.prototype.drawShapeObj=function(i,e,t,s){var v,r=this.parent,o=r.activeObj.activePoint,a=r.activeObj,d=a.strokeSettings,c=d.strokeColor,p=d.fillColor,u=d.strokeWidth;r.currObjType.shape=void 0!==e?e:r.currObjType.shape,"original"===i.toLowerCase()?v=this.lowerContext:"duplicate"===i.toLowerCase()?v=this.upperContext:t&&(v=t);var g=r.currObjType.shape.toLowerCase();-1!==["rectangle","ellipse","line","arrow","path","image"].indexOf(g)&&(a.shape=r.currObjType.shape),v.strokeStyle=c,v.fillStyle="text"===e||"freehanddraw"===e?c:p;var C=o.width/3,T=o.height/3,O=o.endX-o.startX,j=o.endY-o.startY;this.rotateContext("initial",v);var Y,N,H=v.fillStyle;switch(r.currObjType.shape.toLowerCase()){case"rectangle":this.drawSquareLines(v),(0,n.le)(s)&&v===this.upperContext&&this.drawOuterSelection(v);break;case"ellipse":O=Math.abs(O),j=Math.abs(j),v.beginPath(),v.ellipse(o.startX+O/2,o.startY+j/2,O/2,j/2,0,0,2*Math.PI,!1),""!==p&&(v.fillStyle=p,v.fill()),v.ellipse(o.startX+O/2,o.startY+j/2,Math.abs(O/2-u),Math.abs(j/2-u),0,0,2*Math.PI,!1),v.fillStyle=c,v.fill("evenodd"),v.closePath(),(0,n.le)(s)&&v===this.upperContext&&this.drawOuterSelection(v);break;case"crop-circle":v===this.lowerContext&&(v=this.upperContext),this.shapeCircle(v,O,j);break;case"line":this.shapeLine(v,o.startX,o.startY,o.endX,o.endY),(0,n.le)(s)&&v===this.upperContext&&this.drawOuterSelection(v);break;case"arrow":(Y=0===a.shapeDegree?r.transform.degree:r.transform.degree-a.shapeDegree)<0&&(Y=360+Y),v.fillStyle=v.strokeStyle,(0,n.le)(a.triangleDirection)&&(a.triangleDirection="right"),(0,n.le)(a.start)&&(a.start="none"),(0,n.le)(a.end)&&(a.end="arrowSolid"),this.drawArrowHead(v,!0),this.drawArrowHead(v,!1),"none"===a.end&&this.shapeLine(v,o.startX,o.startY,o.endX,o.endY),v.fillStyle=H,(0,n.le)(s)&&v===this.upperContext&&this.drawOuterSelection(v);break;case"path":if((N=(0,n.l7)({},r.activeObj,{},!0)).pointColl.length>1){var ne={shape:null};if(r.notify("selection",{prop:"getCurrentDrawingShape",value:{obj:ne}}),"path"===ne.shape)for(var re={x:0,y:0},ce=0,Ye=N.pointColl.length;ce<Ye;ce++)(0,n.le)(N.pointColl[ce+1])?(re.x=N.activePoint.endX,re.y=N.activePoint.endY):(re.x=N.pointColl[ce+1].x,re.y=N.pointColl[ce+1].y),o.startX=N.pointColl[ce].x,o.startY=N.pointColl[ce].y,o.endX=re.x,o.endY=re.y,r.activeObj=this.updateWidthHeight(r.activeObj),this.shapeLine(v,o.startX,o.startY,o.endX,o.endY);else for(ce=1,Ye=N.pointColl.length;ce<Ye;ce++)o.startX=N.pointColl[ce-1].x,o.startY=N.pointColl[ce-1].y,o.endX=N.pointColl[ce].x,o.endY=N.pointColl[ce].y,r.activeObj=this.updateWidthHeight(r.activeObj),this.shapeLine(v,o.startX,o.startY,o.endX,o.endY);r.activeObj=a=N}else this.shapeLine(v,o.startX,o.startY,o.endX,o.endY);v===this.upperContext&&this.drawOuterSelection(v);break;case"text":this.shapeText(v);break;case"image":this.shapeImage(v),(0,n.le)(s)&&v===this.upperContext&&this.drawOuterSelection(v);break;case"crop-square":case"crop-3:4":case"crop-4:3":case"crop-6:9":case"crop-9:6":case"crop-9:16":case"crop-16:9":v===this.lowerContext&&(v=this.upperContext),this.drawSelection(C,T),r.currObjType.shape="";break;default:this.drawSelection(C,T)}this.rotateContext("reverse",v)},h.prototype.updatePoints=function(){var i=this.parent,e=i.activeObj.activePoint,t=i.img,s=t.destLeft,r=t.destTop;e.startX+=s,e.startY+=r,e.endX+=s,e.endY+=r,i.activeObj=this.updateWidthHeight(i.activeObj)},h.prototype.updateWidthHeight=function(i){var e=i.activePoint,s=e.startY,o=e.endY;return i.activePoint.width=e.endX-e.startX,i.activePoint.height=o-s,i},h.prototype.drawCornerCircles=function(i){var e=this.parent,t=e.activeObj;if(i.beginPath(),i.rect(t.activePoint.startX,t.activePoint.startY,t.activePoint.width,t.activePoint.height),i.stroke(),i.closePath(),e.selectionSettings.showCircle){var s=i.strokeStyle,r=i.fillStyle;i.strokeStyle=e.selectionSettings.strokeColor,i.fillStyle=e.selectionSettings.fillColor,i.lineWidth*=2,i.beginPath(),i.moveTo(t.topLeftCircle.startX,t.topLeftCircle.startY),i.arc(t.topLeftCircle.startX,t.topLeftCircle.startY,t.topLeftCircle.radius,0,2*Math.PI),i.moveTo(t.topRightCircle.startX,t.topRightCircle.startY),i.arc(t.topRightCircle.startX,t.topRightCircle.startY,t.topRightCircle.radius,0,2*Math.PI),i.moveTo(t.bottomLeftCircle.startX,t.bottomLeftCircle.startY),i.arc(t.bottomLeftCircle.startX,t.bottomLeftCircle.startY,t.bottomLeftCircle.radius,0,2*Math.PI),i.moveTo(t.bottomRightCircle.startX,t.bottomRightCircle.startY),i.arc(t.bottomRightCircle.startX,t.bottomRightCircle.startY,t.bottomRightCircle.radius,0,2*Math.PI),i.stroke(),i.fill(),i.closePath(),i.lineWidth/=2,i.strokeStyle=s,i.fillStyle=r}},h.prototype.drawCenterCircles=function(i){var e=this.parent,t=e.activeObj.activePoint,s=e.activeObj;if(i.lineWidth*=2,i.beginPath(),"arrow"===s.shape||"line"===s.shape)i.moveTo(t.startX,t.startY),i.arc(t.startX,t.startY,s.topCenterCircle.radius,0,2*Math.PI),i.moveTo(t.endX,t.endY),i.arc(t.endX,t.endY,s.bottomCenterCircle.radius,0,2*Math.PI);else if("path"===s.shape){var r=(0,n.l7)({},e.activeObj,{},!0);if(r.pointColl.length>1)for(var o=1,a=r.pointColl.length;o<a;o++)t.startX=r.pointColl[o-1].x,t.startY=r.pointColl[o-1].y,t.endX=r.pointColl[o].x,t.endY=r.pointColl[o].y,i.moveTo(t.startX,t.startY),i.arc(t.startX,t.startY,s.topCenterCircle.radius,0,2*Math.PI),i.moveTo(t.endX,t.endY),i.arc(t.endX,t.endY,s.bottomCenterCircle.radius,0,2*Math.PI);var d={shape:null};e.notify("selection",{prop:"getCurrentDrawingShape",value:{obj:d}}),"path"===d.shape&&(e.activeObj=s=r),i.moveTo(t.startX,t.startY),i.arc(t.startX,t.startY,s.topCenterCircle.radius,0,2*Math.PI),i.moveTo(t.endX,t.endY),i.arc(t.endX,t.endY,s.bottomCenterCircle.radius,0,2*Math.PI)}else this.drawRotationArcLine(i),i.lineTo(s.rotationCirclePoint.x,s.rotationCirclePoint.y);i.stroke(),i.fill(),i.closePath(),"arrow"!==s.shape&&"line"!==s.shape&&"path"!==s.shape&&(i.beginPath(),i.moveTo(s.rotationCirclePoint.x,s.rotationCirclePoint.y),i.arc(s.rotationCirclePoint.x,s.rotationCirclePoint.y,s.bottomCenterCircle.radius,0,2*Math.PI),i.stroke(),i.fill(),i.closePath()),i.lineWidth/=2},h.prototype.drawRotationArcLine=function(i){var e=this.parent,t=e.activeObj;(0,n.le)(t.rotationCircleLine)&&(t.rotationCircleLine=22.5);var s,r=!1,o=!1;if((s=0===t.shapeDegree?e.transform.degree:e.transform.degree-t.shapeDegree)<0&&(s=360+s),t.flipObjColl)for(var a=0,d=t.flipObjColl.length;a<d;a++){var c=t.flipObjColl[a].toLowerCase();"horizontal"===c?r=!0:"vertical"===c&&(o=!0)}switch(s){case 0:case 360:o?(t.rotationCirclePoint={x:t.topCenterCircle.startX,y:t.topCenterCircle.startY-t.rotationCircleLine},i.moveTo(t.rotationCirclePoint.x,t.rotationCirclePoint.y+t.rotationCircleLine)):(t.rotationCirclePoint={x:t.bottomCenterCircle.startX,y:t.bottomCenterCircle.startY+t.rotationCircleLine},i.moveTo(t.rotationCirclePoint.x,t.rotationCirclePoint.y-t.rotationCircleLine));break;case 90:case-270:r?(t.rotationCirclePoint={x:t.centerRightCircle.startX+t.rotationCircleLine,y:t.centerLeftCircle.startY},i.moveTo(t.rotationCirclePoint.x-t.rotationCircleLine,t.rotationCirclePoint.y)):(t.rotationCirclePoint={x:t.centerLeftCircle.startX-t.rotationCircleLine,y:t.centerLeftCircle.startY},i.moveTo(t.rotationCirclePoint.x+t.rotationCircleLine,t.rotationCirclePoint.y));break;case 180:case-180:o?(t.rotationCirclePoint={x:t.bottomCenterCircle.startX,y:t.bottomCenterCircle.startY+t.rotationCircleLine},i.moveTo(t.rotationCirclePoint.x,t.rotationCirclePoint.y-t.rotationCircleLine)):(t.rotationCirclePoint={x:t.topCenterCircle.startX,y:t.topCenterCircle.startY-t.rotationCircleLine},i.moveTo(t.rotationCirclePoint.x,t.rotationCirclePoint.y+t.rotationCircleLine));break;case 270:case-90:r?(t.rotationCirclePoint={x:t.centerLeftCircle.startX-t.rotationCircleLine,y:t.centerLeftCircle.startY},i.moveTo(t.rotationCirclePoint.x+t.rotationCircleLine,t.rotationCirclePoint.y)):(t.rotationCirclePoint={x:t.centerRightCircle.startX+t.rotationCircleLine,y:t.centerLeftCircle.startY},i.moveTo(t.rotationCirclePoint.x-t.rotationCircleLine,t.rotationCirclePoint.y))}},h.prototype.drawSquareLines=function(i){var e,s=this.parent.activeObj,r=s.activePoint,o=r.startX,a=r.startY,d=r.width,c=r.height,p=s.strokeSettings,u=p.fillColor,f=p.strokeColor,v=p.strokeWidth;s.shape&&(e=s.shape.split("-")),i.strokeStyle="crop"===e[0]?"#fff":f,i.beginPath(),i.rect(o,a,d,c),""!==u&&(i.fillStyle=u,i.fill()),i.rect(o+v,a+v,d-2*v,c-2*v),i.fillStyle=f,i.fill("evenodd"),i.closePath()},h.prototype.drawSelection=function(i,e){var t=this.parent,s=t.activeObj,r=s.activePoint,o=r.startX,a=r.startY,d=r.endX,c=r.endY;this.upperContext.strokeStyle=t.themeColl[t.theme].primaryColor,this.upperContext.beginPath(),s.horTopInnerLine={startX:o,startY:a+e,endX:d,endY:c+e},s.horBottomInnerLine={startX:o,startY:a+2*e,endX:d,endY:c+2*e},s.verLeftInnerLine={startX:o+i,startY:a,endX:o+i,endY:c},s.verRightInnerLine={startX:o+2*i,startY:a,endX:o+2*i,endY:c},this.upperContext.moveTo(s.horTopInnerLine.startX,s.horTopInnerLine.startY),this.upperContext.lineTo(s.horTopInnerLine.endX,s.horTopInnerLine.startY),this.upperContext.moveTo(s.horBottomInnerLine.startX,s.horBottomInnerLine.startY),this.upperContext.lineTo(s.horBottomInnerLine.endX,s.horBottomInnerLine.startY),this.upperContext.moveTo(s.verLeftInnerLine.startX,s.verLeftInnerLine.startY),this.upperContext.lineTo(s.verLeftInnerLine.endX,s.verLeftInnerLine.endY),this.upperContext.moveTo(s.verRightInnerLine.startX,s.verRightInnerLine.startY),this.upperContext.lineTo(s.verRightInnerLine.endX,s.verRightInnerLine.endY),this.upperContext.stroke(),this.upperContext.closePath()},h.prototype.shapeCircle=function(i,e,t){var s=this.parent,r=s.activeObj.activePoint,o=r.startX,a=r.startY,d=r.endX,c=r.endY,p=r.width;i.strokeStyle=s.themeColl[s.theme].primaryColor,i.clearRect(0,0,s.lowerCanvas.width,s.lowerCanvas.height),i.fillStyle="rgb(0, 0, 0, 0.25)",i.fillRect(0,0,s.lowerCanvas.width,s.lowerCanvas.height);var u=i.lineWidth;i.lineWidth=2,i.beginPath(),i.ellipse(s.activeObj.horTopLine.startX+e/2,s.activeObj.horTopLine.startY+t/2,e/2,t/2,0,0,2*Math.PI,!1),i.stroke(),i.closePath(),i.save(),i.beginPath(),i.arc((d-o)/2+o,(c-a)/2+a,p/2,0,2*Math.PI),i.closePath(),i.clip(),i.clearRect(0,0,s.lowerCanvas.width,s.lowerCanvas.height),i.restore(),i.lineWidth=u,this.drawOuterSelection(i,!0),s.currObjType.shape=""},h.prototype.shapeLine=function(i,e,t,s,r){var o=i.lineWidth;i.lineWidth=this.parent.activeObj.strokeSettings.strokeWidth,i.beginPath(),i.moveTo(e,t),i.lineTo(s,r),i.stroke(),i.lineWidth=o},h.prototype.manipulateSaveCtx=function(i,e,t){if(i!==this.lowerContext&&i!==this.upperContext){var s={width:0,height:0};this.parent.notify("crop",{prop:"calcRatio",onPropertyChange:!1,value:{obj:s,dimension:{width:i.canvas.width,height:i.canvas.height}}}),e&&(e*=s.width),t&&(t*=s.height)}return{x:e,y:t}},h.prototype.arrow=function(i,e){var s=this.parent.activeObj,r=s.activePoint,o=r.startX,a=r.startY,d=r.endX,c=r.endY,p=s.strokeSettings.strokeWidth;i.lineWidth=p;var u=this.arrowDimension.arrow.width,f=this.arrowDimension.arrow.height,v=this.manipulateSaveCtx(i,u,f);u=v.x+p,f=v.y+p,this.dx=d-o,this.dy=c-a,i.fillStyle=s.strokeSettings.strokeColor;var g=Math.atan2(this.dy,this.dx),b="arrow"===s.start,T="circle"===s.end||"square"===s.end;((e&&"left"===s.triangleDirection||"right"===s.triangleDirection)&&(b&&"none"===s.end||b&&!T)||!e&&("arrow"===s.end&&"none"===s.start||!b&&!T))&&this.shapeLine(i,o,a,d,c),e&&"left"===s.triangleDirection||!e&&"right"===s.triangleDirection?(i.translate(d,c),i.rotate(g),this.shapeLine(i,0,0,-u,f/2),this.shapeLine(i,0,0,-u,-f/2),i.rotate(-g),i.translate(-d,-c)):(e&&"right"===s.triangleDirection||!e&&"left"===s.triangleDirection)&&(i.translate(o,a),i.rotate(g),this.shapeLine(i,0,0,u,f/2),this.shapeLine(i,0,0,u,-f/2),i.rotate(-g),i.translate(-o,-a))},h.prototype.arrowSolid=function(i,e){var s=this.parent.activeObj,r=s.strokeSettings.strokeWidth,o=s.activePoint,a=o.startX,d=o.startY,c=o.endX,p=o.endY,u=this.arrowDimension.arrowSolid.width,f=this.arrowDimension.arrowSolid.height,v=this.manipulateSaveCtx(i,u,f);u=v.x+r,f=v.y+r,this.dx=c-a,this.dy=p-d;var g=Math.atan2(this.dy,this.dx),b="arrowSolid"===s.start,T="circle"===s.end||"square"===s.end;(e&&b&&"none"===s.end||b&&!T||!e&&("arrowSolid"===s.end&&"none"===s.start||!b&&!T))&&this.shapeLine(i,a,d,c,p),e&&"left"===s.triangleDirection||!e&&"right"===s.triangleDirection?(i.translate(c,p),i.rotate(g),i.beginPath(),i.moveTo(r,0),i.lineTo(f/2-u,f/2),i.lineTo(f/2-u,-f/2),i.closePath(),i.fill(),i.rotate(-g),i.translate(-c,-p),s.rotatedAngle=g):(e&&"right"===s.triangleDirection||!e&&"left"===s.triangleDirection)&&(i.translate(a,d),i.rotate(g),i.beginPath(),i.moveTo(0-r,0),i.lineTo(u-f/2,f/2),i.lineTo(u-f/2,-f/2),i.closePath(),i.fill(),i.rotate(-g),i.translate(-a,-d),s.rotatedAngle=g)},h.prototype.arrowSquareStart=function(i){var t=this.parent.activeObj,s=t.strokeSettings.strokeWidth,r=t.activePoint,o=r.startX,a=r.startY,d=r.endX,c=r.endY,p="square"===t.start;(p&&"none"===t.end||p&&!("circle"===t.end)&&"square"!==t.start||"squareSolid"===t.start&&"circleSolid"===t.end)&&this.shapeLine(i,o,a,d,c),i.lineWidth=s,i.beginPath(),i.fillStyle=t.strokeSettings.strokeColor;var g=this.arrowDimension.square.width,b=this.arrowDimension.square.height,C=this.manipulateSaveCtx(i,g,b);g=C.x+s,b=C.y+s,this.dx=d-o,this.dy=c-a;var T=Math.atan2(this.dy,this.dx);"left"===t.triangleDirection?(i.translate(d,c),i.rotate(T),"squareSolid"===t.start&&i.fillRect(b/2-g,-b/2,g,b),i.strokeRect(b/2-g,-b/2,g,b),i.rotate(-T),i.translate(-d,-c),this.squareStartIntersectX1=d-b/2*Math.cos(T),this.squareStartIntersectY1=c-b/2*Math.sin(T),"square"===t.start&&"square"!==t.end&&"circle"!==t.end?this.shapeLine(i,o,a,this.squareStartIntersectX1,this.squareStartIntersectY1):"square"===t.start&&"circle"===t.end?this.shapeLine(i,this.endCircleIntersectX1,this.endCircleIntersectY1,this.squareStartIntersectX1,this.squareStartIntersectY1):"squareSolid"===t.start&&"squareSolid"===t.end&&this.shapeLine(i,o,a,d,c)):"right"===t.triangleDirection&&(i.lineWidth=s,i.fillStyle=t.strokeSettings.strokeColor,"squareSolid"===t.start&&"squareSolid"===t.end&&this.shapeLine(i,o,a,d,c),i.translate(o,a),i.rotate(T),"squareSolid"===t.start&&i.fillRect(b/2-g,-b/2,g,b),i.strokeRect(b/2-g,-b/2,g,b),i.rotate(-T),i.translate(-o,-a),t.rotatedAngle=T,this.squareStartIntersectX1=o+b/2*Math.cos(T),this.squareStartIntersectY1=a+b/2*Math.sin(T),"square"===t.start&&"square"!==t.end&&"circle"!==t.end&&this.shapeLine(i,d,c,this.squareStartIntersectX1,this.squareStartIntersectY1),"square"===t.start&&"circle"===t.end&&this.shapeLine(i,this.endCircleIntersectX1,this.endCircleIntersectY1,this.squareStartIntersectX1,this.squareStartIntersectY1))},h.prototype.arrowSquareEnd=function(i){var t=this.parent.activeObj,s=t.activePoint,r=s.startX,o=s.startY,a=s.endX,d=s.endY,c=t.strokeSettings.strokeWidth,p=this.arrowDimension.square.width,u=this.arrowDimension.square.height,f=this.manipulateSaveCtx(i,p,u);p=f.x+c,u=f.y+c,this.dx=a-r,this.dy=d-o;var v=Math.atan2(this.dy,this.dx);i.lineWidth=c,"right"===t.triangleDirection?(i.fillStyle=t.strokeSettings.strokeColor,"squareSolid"===t.end&&"none"===t.start&&this.shapeLine(i,r,o,a,d),i.translate(a,d),i.rotate(v),"squareSolid"===t.end&&i.fillRect(u/2-p,-u/2,p,u),i.strokeRect(u/2-p,-u/2,p,u),i.rotate(-v),i.translate(-a,-d),t.rotatedAngle=v,this.squareEndIntersectX1=a-u/2*Math.cos(v),this.squareEndIntersectY1=d-u/2*Math.sin(v),"square"===t.end&&"square"!==t.start&&"circle"!==t.start?this.shapeLine(i,r,o,this.squareEndIntersectX1,this.squareEndIntersectY1):"circle"===t.start&&"square"===t.end?this.shapeLine(i,this.squareEndIntersectX1,this.squareEndIntersectY1,this.startCircleIntersectX1,this.startCircleIntersectY1):"square"===t.start&&"square"===t.end&&this.shapeLine(i,this.squareEndIntersectX1,this.squareEndIntersectY1,this.squareStartIntersectX1,this.squareStartIntersectY1)):"left"===t.triangleDirection&&(i.translate(r,o),i.rotate(v),"squareSolid"===t.end&&i.fillRect(u/2-p,-u/2,p,u),i.strokeRect(u/2-p,-u/2,p,u),i.rotate(-v),i.translate(-r,-o),t.rotatedAngle=v,this.squareEndIntersectX1=r+u/2*Math.cos(v),this.squareEndIntersectY1=o+u/2*Math.sin(v),"square"===t.end&&"square"!==t.start&&"circle"!==t.start?this.shapeLine(i,a,d,this.squareEndIntersectX1,this.squareEndIntersectY1):"circle"===t.start&&"square"===t.end?this.shapeLine(i,this.squareEndIntersectX1,this.squareEndIntersectY1,this.startCircleIntersectX1,this.startCircleIntersectY1):"square"===t.start&&"square"===t.end&&this.shapeLine(i,this.squareEndIntersectX1,this.squareEndIntersectY1,this.squareStartIntersectX1,this.squareStartIntersectY1))},h.prototype.arrowCircle=function(i,e){var t=this.parent,s=t.activeObj,r=s.activePoint,o=r.startX,a=r.startY,d=r.endX,c=r.endY,p=s.strokeSettings.strokeWidth;if(e&&"left"===s.triangleDirection||!e&&"right"===s.triangleDirection){if(i.lineWidth=p,u=this.manipulateSaveCtx(i,u=this.arrowDimension.circle.width,null).x+p,i.beginPath(),i.arc(d,c,u,0,2*Math.PI),i.stroke(),i.closePath(),this.dx=d-o,this.dy=c-a,(C=(g=2*(this.dx*(o-d)+this.dy*(a-c)))*g-4*(v=this.dx*this.dx+this.dy*this.dy)*((o-d)*(o-d)+(a-c)*(a-c)-u*u))>=0){i.fillStyle=s.strokeSettings.strokeColor;var T=(-g-Math.sqrt(C))/(2*v),O=o+this.dx*T,j=a+this.dy*T;e?(this.startCircleIntersectX1=O,this.startCircleIntersectY1=j,i.beginPath(),i.fill(),i.beginPath(),"circle"===s.start&&"circle"===s.end?this.shapeLine(i,this.startCircleIntersectX1,this.startCircleIntersectY1,this.endCircleIntersectX1,this.endCircleIntersectY1):"circle"===s.start&&"circle"!==s.end&&"square"!==s.end&&this.shapeLine(i,o,a,this.startCircleIntersectX1,this.startCircleIntersectY1),i.stroke(),i.closePath()):(this.endCircleIntersectX1=O,this.endCircleIntersectY1=j,"circle"===s.end&&"circle"!==s.start&&"square"!==s.start&&this.shapeLine(i,o,a,this.endCircleIntersectX1,this.endCircleIntersectY1))}var Y=Math.atan2(this.dy,this.dx);t.activeObj.rotatedAngle=Y}else if(e&&"right"===s.triangleDirection||!e&&"left"===s.triangleDirection){var u,v,g,C;i.lineWidth=p,u=this.manipulateSaveCtx(i,u=this.arrowDimension.circle.width,null).x+p,i.beginPath(),i.arc(o,a,u,0,2*Math.PI),i.stroke(),i.closePath(),this.dx=o-d,this.dy=a-c,(C=(g=2*(this.dx*(d-o)+this.dy*(c-a)))*g-4*(v=this.dx*this.dx+this.dy*this.dy)*((d-o)*(d-o)+(c-a)*(c-a)-u*u))>=0&&(i.fillStyle=s.strokeSettings.strokeColor,T=(-g-Math.sqrt(C))/(2*v),O=d+this.dx*T,j=c+this.dy*T,e?(this.startCircleIntersectX1=O,this.startCircleIntersectY1=j,"circle"===s.start&&"circle"===s.end?this.shapeLine(i,this.endCircleIntersectX1,this.endCircleIntersectY1,this.startCircleIntersectX1,this.startCircleIntersectY1):"circle"===s.start&&"circle"!==s.end&&"square"!==s.end&&this.shapeLine(i,d,c,this.startCircleIntersectX1,this.startCircleIntersectY1)):(this.endCircleIntersectX1=O,this.endCircleIntersectY1=j,i.beginPath(),i.fill(),i.beginPath(),"circle"===s.end&&"circle"!==s.start&&"square"!==s.start&&this.shapeLine(i,d,c,this.endCircleIntersectX1,this.endCircleIntersectY1))),Y=Math.atan2(this.dy,this.dx),t.activeObj.rotatedAngle=Y}},h.prototype.arrowCircleSolid=function(i,e){var s=this.parent.activeObj,r=s.activePoint,o=r.startX,a=r.startY,d=r.endX,c=r.endY,p="circleSolid"===s.start,u=s.strokeSettings.strokeWidth;if(e&&"left"===s.triangleDirection||!e&&"right"===s.triangleDirection)i.lineWidth=u,i.beginPath(),i.fillStyle=s.strokeSettings.strokeColor,(e&&p&&"none"===s.end||p&&"circle"!==s.end&&"square"!==s.end||!e&&"circleSolid"===s.end&&"none"===s.start)&&this.shapeLine(i,o,a,d,c),f=this.manipulateSaveCtx(i,f=this.arrowDimension.circle.width,null).x+u,this.dx=d-o,this.dy=c-a,i.save(),i.beginPath(),i.arc(d,c,f,0,2*Math.PI),i.stroke(),i.fill(),i.closePath(),s.rotatedAngle=Math.atan2(this.dy,this.dx);else if(e&&"right"===s.triangleDirection||!e&&"left"===s.triangleDirection){var f;i.lineWidth=u,i.beginPath(),i.fillStyle=s.strokeSettings.strokeColor,(e&&p&&"none"===s.end||p&&"circle"!==s.end&&"square"!==s.end||!e&&"circleSolid"===s.end&&"none"===s.start)&&this.shapeLine(i,o,a,d,c),f=this.manipulateSaveCtx(i,f=this.arrowDimension.circle.width,null).x+u,this.dx=d-o,this.dy=c-a,i.save(),i.beginPath(),i.arc(o,a,f,0,2*Math.PI),i.stroke(),i.fill(),i.closePath(),s.rotatedAngle=Math.atan2(this.dy,this.dx)}},h.prototype.arrowBar=function(i,e){var t=this.parent,s=t.activeObj,r=s.activePoint,o=r.startX,a=r.startY,d=r.endX,c=r.endY,p=s.strokeSettings.strokeWidth;if(e&&"left"===s.triangleDirection||!e&&"right"===s.triangleDirection){i.lineWidth=p,i.beginPath(),i.fillStyle=s.strokeSettings.strokeColor,(e&&"bar"===s.start&&"none"===s.end||"bar"===s.start&&"circle"!==s.end&&"square"!==s.end||!e&&("bar"===s.end&&"none"===s.start||"bar"===s.end&&"circle"!==s.start&&"square"!==s.start))&&this.shapeLine(i,o,a,d,c),u=(v=this.manipulateSaveCtx(i,u=this.arrowDimension.bar.width,f=this.arrowDimension.bar.height)).x+p,f=v.y+p,this.dx=d-o,this.dy=c-a;var g=Math.atan2(this.dy,this.dx);i.translate(d,c),i.rotate(g),i.fillRect(f/4-u,-f/2,u,f),i.rotate(-g),i.translate(-d,-c),s.rotatedAngle=g}else if(e&&"right"===s.triangleDirection||!e&&"left"===s.triangleDirection){var u,f,v;i.lineWidth=p,i.beginPath(),i.fillStyle=s.strokeSettings.strokeColor,(e&&"bar"===s.start&&"none"===s.end||"bar"===s.start&&"circle"!==s.end&&"square"!==s.end||!e&&"bar"===s.end&&"none"===s.start)&&this.shapeLine(i,o,a,d,c),u=(v=this.manipulateSaveCtx(i,u=this.arrowDimension.bar.width,f=this.arrowDimension.bar.height)).x+p,f=v.y+p,this.dx=d-o,this.dy=c-a,g=Math.atan2(this.dy,this.dx),i.translate(o,a),i.rotate(g),i.fillRect(f/4-u,-f/2,u,f),i.rotate(-g),i.translate(-o,-a),t.activeObj.rotatedAngle=g}},h.prototype.shapeImage=function(i){var e=this.parent,t=e.activeObj,s=t.activePoint,r=s.startX,o=s.startY,a=s.width,d=s.height,c=t.imageCanvas.getContext("2d");if(i===this.lowerContext&&this.isImageApply){var p={width:0,height:0};e.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:t.imageElement.width,height:t.imageElement.height,obj:p,isImgShape:null}}),(a<p.width/5||d<p.height/5)&&(c.clearRect(0,0,t.imageCanvas.width,t.imageCanvas.height),e.notify("selection",{prop:"applyTransformToImg",onPropertyChange:!1,value:{ctx:c}}),e.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),e.notify("selection",{prop:"setImageClarity",onPropertyChange:!1,value:{bool:!1}}),this.isImageApply=!1)}var u={startX:0,startY:0,width:0,height:0};u.width=a,u.height=d,4===t.flipObjColl.length&&(t.flipObjColl=[],t.shapeFlip=""),u.startX=(a-u.width)/2+r,u.startY=(d-u.height)/2+o;var f=i.globalAlpha;i.globalAlpha=t.opacity,t.rotateFlipColl&&t.rotateFlipColl.length>0?this.rotateImage(i):i.drawImage(t.imageCanvas,u.startX,u.startY,u.width,u.height),i.globalAlpha=f,e.currObjType.isText=!1},h.prototype.shapeText=function(i){var e=this.parent,t=i.filter,s=e.activeObj,r=s.activePoint,o=r.startX,a=r.startY,d=r.width,c=r.height,p=s.keyHistory.split("\n"),u=s.textSettings,f=u.fontFamily,v=u.bold,g=u.italic,b=s.textSettings.fontSize,T=((b+.25*b)*p.length-b*p.length)/p.length;i.filter="none";for(var O=0;O<p.length;O++){var j=p[O],Y=(O+1)*b*.85+O*T;-360===e.transform.degree&&(e.transform.degree=0),0===e.transform.degree||180===e.transform.degree?b>c&&(b=s.textSettings.fontSize=c-.1*c):b>d&&(b=s.textSettings.fontSize=d-.1*d),i.strokeStyle=s.strokeSettings.strokeColor,i.fillStyle=s.strokeSettings.strokeColor;var H="";v&&(H="bold "),g&&(H="italic "),v&&g&&(H="italic bold "),i.font=H+b+"px "+f,4===s.flipObjColl.length&&(s.flipObjColl=[],s.shapeFlip=""),s.rotateFlipColl&&s.rotateFlipColl.length>0?this.rotateText(i):i.fillText(j,o+.1*b,a+Y)}i.filter=t,e.currObjType.isText=!1},h.prototype.updateActPoint=function(i,e){var t=this.parent,s=t.activeObj,r=s.activePoint;return"horizontal"===i.toLowerCase()?r.startX<=e.canvas.width/2?(r.startX=e.canvas.width/2+(e.canvas.width/2-r.endX),r.endX=r.startX+r.width,this.updateActiveObject(r,s),t.activeObj=s):r.startX>=e.canvas.width/2&&(r.startX=e.canvas.width-r.endX,r.endX=r.startX+r.width,this.updateActiveObject(r,s),t.activeObj=s):"vertical"===i.toLowerCase()&&(r.startY<=e.canvas.height/2?(r.startY=e.canvas.height/2+(e.canvas.height/2-r.endY),r.endY=r.startY+r.height,this.updateActiveObject(r,s),t.activeObj=s):r.startY>=e.canvas.height/2&&(r.startY=e.canvas.height-r.endY,r.endY=r.startY+r.height,this.updateActiveObject(r,s),t.activeObj=s)),r},h.prototype.rotateImage=function(i){var t,e=this.parent,s=e.activeObj,r=(0,n.l7)({},e.activeObj,null,!0);-450===(t=0===s.shapeDegree?e.transform.degree:e.transform.degree-s.shapeDegree)&&(t=-90),t<0&&(t=360+t);var o={startX:0,startY:0,width:0,height:0};o.width=t%90==0&&t%180!=0?s.activePoint.height:s.activePoint.width,o.height=t%90==0&&t%180!=0?s.activePoint.width:s.activePoint.height,o.startX=s.activePoint.startX,o.startY=s.activePoint.startY;var c,a=o.startX,d=o.startY,p=[];i.save();for(var u=0,f=s.rotateFlipColl.length;u<f;u++){var v=s.rotateFlipColl[u];p.push(v),"number"==typeof v?(-450===(c=0===s.shapeDegree?v:v-s.shapeDegree)&&(c=-90),c<0&&(c=360+c),o.width=c%90==0&&c%180!=0?s.activePoint.height:s.activePoint.width,o.height=c%90==0&&c%180!=0?s.activePoint.width:s.activePoint.height,i.translate(i.canvas.width/2,i.canvas.height/2),i.rotate(Math.PI/180*v),i.translate(-i.canvas.height/2,-i.canvas.width/2),c%90==0&&c%270!=0||0===c?(d=i.canvas.width-(s.activePoint.startX+s.activePoint.width),d+=(s.activePoint.width-o.height)/2,a=o.startY):c%270==0&&(a=i.canvas.height-(s.activePoint.startY+s.activePoint.height),a+=(s.activePoint.height-o.width)/2,d=o.startX),o.startX=a,o.startY=d,s.activePoint.startX=a,s.activePoint.startY=d,s.activePoint.endX=s.activePoint.startX+o.width,s.activePoint.endY=s.activePoint.startY+o.height,s=this.updateWidthHeight(s)):("horizontal"===v&&t%90==0&&t%180!=0?v="vertical":"vertical"===v&&t%90==0&&t%180!=0&&(v="horizontal"),"horizontal"===v?(i.translate(i.canvas.width,0),i.scale(-1,1),s.activePoint=this.updateActPoint("horizontal",i)):"vertical"===v&&(i.translate(0,i.canvas.height),i.scale(1,-1),s.activePoint=this.updateActPoint("vertical",i)),o.startX=s.activePoint.startX,o.startY=s.activePoint.startY),o.startX=s.activePoint.startX,o.startY=s.activePoint.startY,a=o.startX,d=o.startY}0!==s.rotatedAngle&&e.notify("shape",{prop:"setPointCollForShapeRotation",onPropertyChange:!1,value:{obj:s}}),i.drawImage(s.imageCanvas,o.startX,o.startY,o.width,o.height),i.restore(),e.activeObj=r,(360===e.transform.degree||-360===e.transform.degree)&&(e.transform.degree=0)},h.prototype.rotateText=function(i){var t,e=this.parent,s=e.activeObj,r=(0,n.l7)({},e.activeObj,null,!0),o=e.activeObj.activePoint;-450===(t=0===s.shapeDegree?e.transform.degree:e.transform.degree-s.shapeDegree)&&(t=-90),t<0&&(t=360+t);var a={startX:0,startY:0,width:0,height:0};a.width=t%90==0&&t%180!=0?o.height:o.width,a.height=t%90==0&&t%180!=0?o.width:o.height,a.startX=o.startX,a.startY=o.startY;var p,d=a.startX,c=a.startY,u=[];i.save();for(var f=0,v=s.rotateFlipColl.length;f<v;f++){var g=s.rotateFlipColl[f];u.push(g),"number"==typeof g?(-450===(p=0===s.shapeDegree?g:g-s.shapeDegree)&&(p=-90),p<0&&(p=360+p),a.width=p%90==0&&p%180!=0?o.height:o.width,a.height=p%90==0&&p%180!=0?o.width:o.height,i.translate(i.canvas.width/2,i.canvas.height/2),i.rotate(Math.PI/180*g),i.translate(-i.canvas.height/2,-i.canvas.width/2),p%90==0&&p%270!=0||0===p?(c=i.canvas.width-o.endX,d=o.startY):p%270==0&&(d=i.canvas.height-o.endY,c=o.startX),a.startX=d,a.startY=c,o.startX=d,o.startY=c,o.endX=o.startX+a.width,o.endY=o.startY+a.height,s=this.updateWidthHeight(s)):("horizontal"===g&&t%90==0&&t%180!=0?g="vertical":"vertical"===g&&t%90==0&&t%180!=0&&(g="horizontal"),"horizontal"===g?(i.translate(i.canvas.width,0),i.scale(-1,1)):"vertical"===g&&(i.translate(0,i.canvas.height),i.scale(1,-1)),s.activePoint=o=this.updateActPoint(g,i),a.startX=o.startX,a.startY=o.startY),a.startX=o.startX,a.startY=o.startY,d=a.startX,c=a.startY}0!==s.rotatedAngle&&e.notify("shape",{prop:"setPointCollForShapeRotation",onPropertyChange:!1,value:{obj:s}}),this.textFlipDegree(i,d,c+=.4*s.textSettings.fontSize),i.restore(),e.activeObj=r,(360===e.transform.degree||-360===e.transform.degree)&&(e.transform.degree=0)},h.prototype.textFlipDegree=function(i,e,t){for(var r=this.parent.activeObj,o=r.keyHistory.split("\n"),a=r.textSettings.fontSize,c=.85*a+(a*o.length-a*o.length)/o.length,p=0,u=o.length;p<u;p++)p>0&&(1===p&&(c-=.85*a),c+=a+.15*a),i.fillText(o[p],e+.15*a,t+c+(p>0?.25*a:.35*-a))},h.prototype.clearOuterCanvas=function(i){var e=this.parent,t=e.img,s=t.destLeft,r=t.destTop,o=t.destWidth,a=t.destHeight,c=r>0?r:0;i.clearRect(0,0,s>0?s:0,e.lowerCanvas.height),i.clearRect(s+o,0,e.lowerCanvas.width-(s+o),e.lowerCanvas.height),i.clearRect(0,0,e.lowerCanvas.width,c),i.clearRect(0,r+a,e.lowerCanvas.width,e.lowerCanvas.height-(r+a)),""!==e.transform.currFlipState&&(e.img.destLeft=s,e.img.destTop=r)},h.prototype.setDestPoints=function(){var i,o,e=this.parent,t=e.transform,s=t.degree,r=t.zoomFactor;s%90==0&&s%180!=0?(e.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:e.img.srcHeight,height:e.img.srcWidth,obj:o={width:0,height:0},isImgShape:null}}),i=o,this.isRotateZoom&&(i.width+=i.width*r,i.height+=i.height*r,e.img.destWidth=i.height,e.img.destHeight=i.width),e.img.destLeft=(e.lowerCanvas.clientWidth-i.height)/2,e.img.destTop=(e.lowerCanvas.clientHeight-i.width)/2,e.img.destWidth=i.height,e.img.destHeight=i.width):(e.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:e.img.srcWidth,height:e.img.srcHeight,obj:o={width:0,height:0},isImgShape:null}}),i=o,this.isRotateZoom&&(i.width+=i.width*r,i.height+=i.height*r,e.img.destWidth=i.width,e.img.destHeight=i.height),e.img.destLeft=(e.lowerCanvas.clientWidth-i.width)/2,e.img.destTop=0===s?(e.lowerCanvas.clientHeight-i.height+1)/2:(e.lowerCanvas.clientHeight-i.height)/2,e.img.destWidth=i.width,e.img.destHeight=i.height)},h.prototype.updateCurrTransState=function(i,e,t,s){var r=this.parent,o=r.img.destLeft,a=r.img.destTop;"initial"===i&&(this.lowerContext.setTransform(1,0,0,1,0,0),(0,n.le)(e)&&this.setDestPoints()),r.isCircleCrop||r.currSelectionPoint&&"crop-circle"===r.currSelectionPoint.shape?(this.currTransState(i,!0,null,t),0===r.transform.degree&&""===r.transform.currFlipState&&0===r.transform.straighten&&(0,n.le)(s)&&(r.img.destLeft=o,r.img.destTop=a),t&&(r.img.destLeft+=r.panPoint.totalPannedClientPoint.x,r.img.destTop+=r.panPoint.totalPannedClientPoint.y),r.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),t&&(r.img.destLeft-=r.panPoint.totalPannedClientPoint.x,r.img.destTop-=r.panPoint.totalPannedClientPoint.y)):(this.currTransState(i,null,null,t),0===r.transform.degree&&""===r.transform.currFlipState&&0===r.transform.straighten&&(0,n.le)(s)&&(r.img.destLeft=o,r.img.destTop=a))},h.prototype.currTransState=function(i,e,t,s){var r=this.parent;t=t||this.lowerContext,"initial"===i?this.setTransformColl(t,i):"reverse"===i&&(this.setTransformColl(t,i),this.setClientTransDim(e),(r.isCircleCrop||r.currSelectionPoint&&"crop-circle"===r.currSelectionPoint.shape&&(0,n.le)(s))&&(s&&(r.img.destLeft+=r.panPoint.totalPannedClientPoint.x,r.img.destTop+=r.panPoint.totalPannedClientPoint.y),r.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),s&&(r.img.destLeft-=r.panPoint.totalPannedClientPoint.x,r.img.destTop-=r.panPoint.totalPannedClientPoint.y)))},h.prototype.setTransformColl=function(i,e){var t=this.parent;if("initial"===e)for(var s=0,r=t.rotateFlipColl.length;s<r;s++)this.setTransform(i,t.rotateFlipColl[s]);else if("reverse"===e)for(s=t.rotateFlipColl.length-1;s>=0;s--)this.setTransform(i,t.rotateFlipColl[s],!0)},h.prototype.setTransform=function(i,e,t){var s=this.parent;switch(t&&90===e?e=-90:t&&-90===e&&(e=90),"horizontal"===e&&s.transform.degree%90==0&&s.transform.degree%180!=0?e="vertical":"vertical"===e&&s.transform.degree%90==0&&s.transform.degree%180!=0&&(e="horizontal"),s.notify("transform",{prop:"setReverseRotate",onPropertyChange:!1,value:{bool:!0}}),s.notify("transform",{prop:"setReverseFlip",onPropertyChange:!1,value:{isReverseFlip:!0}}),(0,n.le)(t)&&i.clearRect(0,0,i.canvas.width,i.canvas.height),e){case 90:case-90:i.translate(i.canvas.width/2,i.canvas.height/2),i.rotate(Math.PI/180*e),i.translate(-i.canvas.width/2,-i.canvas.height/2);break;case"horizontal":i.translate(i.canvas.width,0),i.scale(-1,1);break;case"vertical":i.translate(0,i.canvas.height),i.scale(1,-1)}s.notify("transform",{prop:"setReverseRotate",onPropertyChange:!1,value:{bool:!1}}),s.notify("transform",{prop:"setReverseFlip",onPropertyChange:!1,value:{isReverseFlip:!1}})},h.prototype.drawImgToCanvas=function(i){var e=this.parent;this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),e.img.destWidth=i.width,e.img.destHeight=i.height,this.isInitialLoading&&(e.notify("filter",{prop:"initFilter",onPropertyChange:!1}),this.isInitialLoading=!1);var t=this.lowerContext.filter;this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),this.drawImage(),(e.currSelectionPoint&&"crop-circle"===e.currSelectionPoint.shape||e.isCircleCrop)&&e.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),this.lowerContext.filter=t},h.prototype.renderImage=function(i,e,t,s){var r=this.parent;r.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:null}}),(0,n.le)(e)&&(this.upperContext.clearRect(0,0,r.lowerCanvas.width,r.lowerCanvas.height),this.lowerContext.clearRect(0,0,r.lowerCanvas.width,r.lowerCanvas.height)),i?this.setTransformColl(this.lowerContext,"initial"):(0!==r.transform.zoomFactor&&(this.isRotateZoom=!0),this.updateCurrTransState("initial",null,null,s)),r.notify("transform",{prop:"setDestPointsForFlipState",onPropertyChange:!1}),this.drawImage(),r.notify("transform",{prop:"setDestPointsForFlipState",onPropertyChange:!1}),i?this.setTransformColl(this.lowerContext,"reverse"):(this.updateCurrTransState("reverse",null,null,s),this.isRotateZoom=!1),t?(r.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),r.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}})):(r.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),r.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}})),this.clearOuterCanvas(this.lowerContext),(r.isCircleCrop||r.currSelectionPoint&&"crop-circle"===r.currSelectionPoint.shape)&&r.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}})},h.prototype.imageOnLoad=function(i){var e=this,t=this.parent,s=this;t.baseImg.src=i,t.baseImg.onload=function(){t.notify("filter",{prop:"update-finetunes",onPropertyChange:!1}),s.lowerContext.drawImage(t.baseImg,0,0,s.parent.lowerCanvas.width,s.parent.lowerCanvas.height),Ji(t.element),t.element.style.opacity="1",s.updateBaseImgCanvas();var r={fileName:e.fileName,fileType:e.fileType,isValidImage:!0};s.updateCanvas(),t.currObjType.isUndoZoom&&(t.currObjType.isUndoZoom=!1,s.parent.lowerCanvas.style.display="block"),t.isUndoRedo=e.isErrorImage=!1,(0,n.xr)()?(t.updateToolbar(t.element,"imageLoaded","initial"),n.AR.isDevice&&(t.element.querySelector(".e-bottom-toolbar-area").style.display="block",t.element.querySelector(".e-canvas-wrapper").style.height=t.element.offsetHeight-2*t.toolbarHeight-1+"px")):n.AR.isDevice?(t.notify("toolbar",{prop:"destroy-top-toolbar",onPropertyChange:!1}),t.notify("toolbar",{prop:"destroy-bottom-toolbar",onPropertyChange:!1}),t.notify("toolbar",{prop:"init-main-toolbar",onPropertyChange:!1,value:{isApplyBtn:!1,isDevice:n.AR.isDevice,isOkBtn:null,isResize:null,isFrame:null,isMainToolbar:!0}}),t.notify("toolbar",{prop:"create-bottom-toolbar",onPropertyChange:!1})):(t.notify("toolbar",{prop:"destroy-top-toolbar",onPropertyChange:!1}),t.notify("toolbar",{prop:"init-main-toolbar",onPropertyChange:!1,value:{isApplyBtn:!1,isDevice:!1,isOkBtn:null}})),t.isImageLoaded&&"0.5"!==t.element.style.opacity&&((0,n.xr)()&&t.events&&!0===t.events.fileOpened.hasDelegate?t.dotNetRef.invokeMethodAsync("FileOpenEventAsync","FileOpened",r):t.trigger("fileOpened",r))},t.baseImg.onerror=function(){Ji(t.element),s.isErrorImage=!0,s.errorLoading()}},h.prototype.errorLoading=function(){var i=this.parent,e={fileName:null,fileType:null,isValidImage:!1};(0,n.xr)()&&i.events&&!0===i.events.fileOpened.hasDelegate?i.dotNetRef.invokeMethodAsync("FileOpenEventAsync","FileOpened",e):i.trigger("fileOpened",e)},h.prototype.updateBaseImgCanvas=function(){var i=this.parent;i.baseImgCanvas.width=i.baseImg.width,i.baseImgCanvas.height=i.baseImg.height,i.baseImgCanvas.getContext("2d").drawImage(i.baseImg,0,0)},h.prototype.updateCanvas=function(){var i=this.parent;i.img.srcWidth=i.baseImgCanvas.width,i.img.srcHeight=i.baseImgCanvas.height;var e={width:0,height:0};i.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:i.img.srcWidth,height:i.img.srcHeight,obj:e,isImgShape:null}});var t=e;i.img.destLeft=(i.lowerCanvas.clientWidth-t.width)/2,i.img.destTop=(i.lowerCanvas.clientHeight-t.height+1)/2,this.drawImgToCanvas(t),this.origDim.width=i.img.destWidth,this.origDim.height=i.img.destHeight,this.zoomCrop.width=i.img.destWidth,this.zoomCrop.height=i.img.destHeight,i.notify("transform",{prop:"setCropDimension",onPropertyChange:!1,value:{width:i.img.destWidth,height:i.img.destHeight}}),i.notify("crop",{prop:"setCropDestPoints",onPropertyChange:!1,value:{point:{startX:i.img.destLeft,startY:i.img.destTop,width:i.img.destWidth,height:i.img.destHeight}}});var r=this.lowerContext.filter;this.lowerContext.filter="none",i.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),i.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.lowerContext.filter=r,i.img.destWidth>0&&i.img.destHeight>0&&(i.isImageLoaded=!0),i.isUndoRedo&&""!==i.transform.currFlipState&&i.notify("transform",{prop:"flipImage",onPropertyChange:!1,value:{direction:i.toPascalCase(i.transform.currFlipState)}}),i.disabled&&i.element.setAttribute("class","e-disabled"),(1!==i.zoomSettings.zoomFactor||i.zoomSettings.zoomPoint)&&i.zoom(i.zoomSettings.zoomFactor,i.zoomSettings.zoomPoint),(0,n.le)(this.initZoomValue)&&(this.initZoomValue=i.zoomSettings.zoomFactor),this.isImageEdited=!1},h.prototype.resetFrameZoom=function(i){var e=this.parent;if(!(0,n.le)(e.tempFrameZoomLevel)){var t=e.tempFrameZoomLevel;e.tempFrameZoomLevel=null,e.notify("transform",{prop:"resetZoom",onPropertyChange:!1}),e.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:t,zoomPoint:null,isResize:!0}});var s=e.cancelCropSelection;i&&s&&(s.previousObj.frameObj=(0,n.l7)({},e.frameObj,null,!0),s.currentObj.frameObj=(0,n.l7)({},e.frameObj,null,!0),s.previousObj.frame=s.currentObj.frame=e.frameObj.type),this.updateCropSelObj(),e.cancelCropSelection=null}},h.prototype.performCancel=function(i,e){var t=this.parent,s_bool=t.isStraightening;i=i||!1;var r={bool:!1};if(t.allowDownScale=!0,t.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:r}}),(0,n.le)(e)&&JSON.stringify(t.frameObj)!==JSON.stringify(t.tempFrameObj)&&((0,n.l7)(t.frameObj,t.tempFrameObj),this.renderImage(null,null,!0)),this.resetFrameZoom(!1),r.bool)t.notify("freehand-draw",{prop:"cancelFhd",onPropertyChange:!1}),(0,n.xr)()?t.updateToolbar(t.element,"destroyQuickAccessToolbar"):t.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1}),t.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"cancel"}});else if("block"===t.textArea.style.display||"inline-block"===t.textArea.style.display)t.textArea.style.display="none",t.textArea.value="",t.textArea.style.transform="",this.prevActObj?(t.activeObj=this.prevActObj,this.prevActObj=null):(t.activeObj.strokeSettings=this.tempStrokeSettings,t.activeObj.textSettings=this.tempTextSettings),t.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"cancel"}}),this.isShapeTextInserted&&t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),t.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:!0}}),(0,n.xr)()?t.updateToolbar(t.element,"imageLoaded"):t.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1}),t.notify("selection",{prop:"setTempActObj",onPropertyChange:!1,value:{obj:t.activeObj}});else if(!(0,n.xr)()&&(!n.AR.isDevice||n.AR.isDevice&&!s_bool)&&document.querySelector("#"+t.element.id+"_sliderWrapper")||(0,n.xr)()&&!t.element.querySelector(".e-ie-contextual-slider").classList.contains("e-hidden")||t.currObjType.isFiltered){this.lowerContext.filter=this.tempAdjValue,t.canvasFilter=this.tempAdjValue,t.notify("filter",{prop:"setAdjustmentValue",onPropertyChange:!1,value:{adjustmentValue:this.tempAdjValue}}),t.initialAdjustmentValue=this.tempAdjValue,this.lowerContext.filter.split(" ").length>1&&"1"===this.lowerContext.filter.split(" ")[0].split("(")[1].split(")")[0]&&t.notify("filter",{prop:"setBrightnessAdjusted",onPropertyChange:!1,value:{isBrightnessAdjusted:!1}}),t.currentFilter=this.tempFilter,t.notify("filter",{prop:"setBevelFilter",onPropertyChange:!1,value:{bevelFilter:this.lowerContext.filter}}),this.lowerContext.clearRect(0,0,t.lowerCanvas.width,t.lowerCanvas.height),this.redrawImgWithObj(),t.currObjType.isFiltered=!1;var o={tempAdjustmentLevel:null};t.notify("filter",{prop:"getTempAdjustmentLevel",onPropertyChange:!1,value:{obj:o}}),t.notify("filter",{prop:"setAdjustmentLevel",onPropertyChange:!1,value:{adjustmentLevel:(0,n.l7)({},o.tempAdjustmentLevel,{},!0)}}),t.notify("undo-redo",{prop:"setUndoRedoStep",onPropertyChange:!1,value:{step:this.tempUndoRedoStep}}),t.upperCanvas.style.cursor=t.cursor="default",t.currObjType.isCustomCrop=!1,this.tempStrokeSettings={strokeColor:"#fff",fillColor:"",strokeWidth:null},this.clearOuterCanvas(this.lowerContext),(t.currSelectionPoint&&"crop-circle"===t.currSelectionPoint.shape||t.isCircleCrop)&&t.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}});var a={type:"main",isApplyBtn:null,isCropping:null,isZooming:null};(0,n.xr)()?(t.updateToolbar(t.element,"imageLoaded"),t.activeObj.shape&&"image"===t.activeObj.shape&&t.updateToolbar(t.element,"destroyQuickAccessToolbar")):(t.element.querySelector(".e-contextual-toolbar-wrapper").classList.add("e-hide"),t.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:a}),t.activeObj.shape&&"image"===t.activeObj.shape&&t.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1})),t.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"cancel"}}),t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height)}else i&&(!n.AR.isDevice||n.AR.isDevice&&!s_bool)?(a={type:"main",isApplyBtn:null,isCropping:null,isZooming:null},(0,n.xr)()?t.updateToolbar(t.element,"imageLoaded"):t.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:a})):(this.cancelItems(),t.transform.zoomFactor>0?(t.togglePan=!0,t.notify("selection",{prop:"setDragCanvas",value:{bool:!0}})):(t.togglePan=!1,t.notify("selection",{prop:"setDragCanvas",value:{bool:!1}})));this.isShapeTextInserted=!1,this.isNewPath=!1,(0,n.xr)()||(t.notify("toolbar",{prop:"refresh-dropdown-btn",value:{isDisabled:!1}}),t.notify("toolbar",{prop:"setCurrentToolbar",value:{type:"main"}}))},h.prototype.cancelItems=function(){var o,i=this.parent,e=!1,t=i.element.id,s=i.element.querySelector("#"+t+"_aspectratio"),r=i.element.querySelector("#"+t+"_nonaspectratio");if(void 0!==i.activeObj.shape&&(o=i.activeObj.shape.split("-")),(void 0===o&&i.currObjType.isCustomCrop||void 0!==o&&"crop"===o[0])&&(e=!0),e&&i.isCropTab&&(i.isCropTab=!1,i.transform.zoomFactor=i.transform.defaultZoomFactor),i.isResize&&(s||r||"resize-toolbar"===i.currentToolbar)){var d={width:null,height:null};i.notify("selection",{prop:"getNumTextValue",onPropertyChange:!1,value:{obj:d}});var c={x:d.width,y:d.height},p=i.element.querySelector("#"+i.element.id+"_aspectratio"),u=i.element.querySelector(".e-ie-toolbar-aspect-ratio-btn");if(c&&c.x&&c.y&&!(0,n.le)(i.aspectWidth))if(p||u&&!u.classList.contains("e-hidden"))i.notify("transform",{prop:"resizeImage",value:{width:i.aspectWidth,height:i.aspectHeight}});else{var f=i.currObjType.isUndoAction;i.currObjType.isUndoAction=!1,i.notify("transform",{prop:"resizeCrop",value:{width:i.aspectWidth,height:i.aspectHeight}}),i.currObjType.isUndoAction=f}var v={prevCropObj:i.prevCropObj},g={prevObj:i.prevObj};if(i.notify("toolbar",{prop:"getPrevCropObj",onPropertyChange:!1,value:{obj:v}}),i.notify("toolbar",{prop:"getPrevObj",onPropertyChange:!1,value:{obj:g}}),v.prevCropObj&&g.prevObj){i.objColl=[],i.pointColl=[],i.freehandCounter=0,i.cropObj=(0,n.l7)({},v.prevCropObj,{},!0),this.setCurrentObj(g.prevObj),i.objColl=g.prevObj.objColl,i.pointColl=g.prevObj.pointColl,i.freehandCounter=i.pointColl.length,i.transform.straighten=0,i.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}});var b=i.currSelectionPoint?(0,n.l7)({},i.currSelectionPoint,{},!0):null;i.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-i.transform.zoomFactor,zoomPoint:null,isResize:!0}}),i.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:g.prevObj.defaultZoom,zoomPoint:null,isResize:!0}}),i.currSelectionPoint=b,g.prevObj.zoomFactor&&i.setProperties({zoomSettings:{zoomFactor:g.prevObj.zoomFactor}},!0),i.notify("transform",{prop:"setPreviousZoomValue",onPropertyChange:!1,value:{previousZoomValue:i.zoomSettings.zoomFactor}})}i.isResize=!1,i.notify("transform",{prop:"setResizedImgAngle",onPropertyChange:!1,value:{angle:null}});var C=i.isCropTab;i.isCropTab=!1,this.updateCropSelObj(),i.isCropTab=C}switch(!0){case i.togglePen:this.cancelPen();break;case"text"===i.activeObj.shape:this.cancelText(e);break;case-1!==["rectangle","ellipse","line","arrow","path","image"].indexOf(i.activeObj.shape):this.cancelShape();break;case e:this.cancelSelection();break;default:i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"cancel"}})}i.notify("selection",{prop:"setCurrentDrawingShape",onPropertyChange:!1,value:{value:""}}),i.upperCanvas.style.cursor=i.cursor="default",i.currObjType.isCustomCrop=!1,this.tempStrokeSettings={strokeColor:"#fff",fillColor:"",strokeWidth:null},(0,n.xr)()?i.updateToolbar(i.element,"imageLoaded"):i.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:null,isCropping:!1,isZooming:null}})},h.prototype.cancelPen=function(){var i=this.parent;this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.togglePen=!1,i.upperCanvas.style.cursor=i.cursor="default";var e=(0,n.l7)([],i.pointColl,[],!0);i.pointColl={};for(var t=0;t<this.tempFreehandCounter;t++)i.pointColl[t]=e[t];i.freehandCounter=this.tempFreehandCounter,i.notify("freehand-draw",{prop:"setCurrentFreehandDrawIndex",value:{value:this.tempCurrFhdIndex}}),i.activeObj.strokeSettings=this.tempStrokeSettings,i.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:i.activeObj.strokeSettings,strokeColor:null,fillColor:null,strokeWidth:null}}),i.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"cancel"}}),i.notify("selection",{prop:"setFreehandDrawCustomized",value:{isFreehandDrawCustomized:!1}})},h.prototype.cancelText=function(i){var e=this.parent;if(e.notify("shape",{prop:"setTextSettings",onPropertyChange:!1,value:{textSettings:this.tempTextSettings,fontFamily:null,fontSize:null}}),e.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:this.tempStrokeSettings,strokeColor:null,fillColor:null,strokeWidth:null}}),(0,n.le)(e.activeObj.currIndex))e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height);else{var t={appliedUndoRedoColl:[]};e.notify("undo-redo",{prop:"getAppliedUndoRedoColl",value:{obj:t}});var r=t.appliedUndoRedoColl[t.appliedUndoRedoColl.length-1];this.prevActObj&&r&&r.currentObjColl.length&&r.currentObjColl[r.currentObjColl.length-1].currIndex===this.prevActObj.currIndex?(e.activeObj=this.prevActObj,this.prevActObj=null):(e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height)),e.activeObj.shape&&"Enter Text"===e.activeObj.keyHistory?(e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),e.notify("shape",{prop:"draw-shape-text"}),e.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"cancel"}}),e.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:!0}})):e.activeObj.shape&&(e.notify("shape",{prop:"redraw-text"}),e.notify("selection",{prop:"redrawShape",onPropertyChange:!1,value:{obj:e.activeObj}}),!i&&void 0!==e.activeObj.topLeftCircle&&e.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:!0}}),e.clearSelection())}(0,n.xr)()?e.updateToolbar(e.element,"destroyQuickAccessToolbar"):e.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1}),this.tempTextSettings={text:"Enter Text",fontFamily:e.fontFamily.default,fontSize:null,fontRatio:null,bold:!1,italic:!1,underline:!1}},h.prototype.cancelShape=function(){var i=this.parent;if(i.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:this.tempStrokeSettings,strokeColor:null,fillColor:null,strokeWidth:null}}),(0,n.le)(i.activeObj.currIndex))i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height);else if(this.isNewPath)i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),this.renderImage();else{var e={appliedUndoRedoColl:[]};i.notify("undo-redo",{prop:"getAppliedUndoRedoColl",value:{obj:e}});for(var t=void 0,s=0,r=e.appliedUndoRedoColl.length;s<r;s++)for(var o=e.appliedUndoRedoColl[s].currentObjColl,a=0,d=o.length;a<d;a++)if(this.prevActObj&&this.prevActObj.currIndex&&o[a].currIndex===this.prevActObj.currIndex){t=o[0];break}this.prevActObj&&t?(i.activeObj=this.prevActObj,this.prevActObj=null,i.notify("selection",{prop:"redrawShape",onPropertyChange:!1,value:{obj:i.activeObj}}),i.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"cancel"}}),i.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:!0}})):(i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height))}i.currObjType.isDragging=!1,(0,n.xr)()?i.updateToolbar(i.element,"destroyQuickAccessToolbar"):i.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1})},h.prototype.cancelSelection=function(){var i=this.parent;i.cancelCropSelection&&(i.transform.straighten=i.tempStraighten,i.straightenBaseImageCanvas(),i.notify("freehand-draw",{prop:"resetStraightenPoint"}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:!1}}),i.notify("draw",{prop:"setStraightenActObj",value:{activeObj:i.activeObj}}),i.notify("crop",{prop:"resizeWrapper"}),this.updateCropSelObj(),this.tempStraightenDestPoints&&JSON.stringify(this.tempStraightenDestPoints)!==JSON.stringify(this.straightenDestPoints)&&(this.straightenDestPoints=(0,n.l7)({},this.tempStraightenDestPoints,{},!0)))},h.prototype.updateCropSelObj=function(){var i=this.parent;i.cancelCropSelection&&(i.cropObj=(0,n.l7)({},i.cancelCropSelection.previousCropObj,{},!0),i.afterCropActions=i.cancelCropSelection.previousObj.afterCropActions,i.notify("undo-redo",{prop:"undoDefault",onPropertyChange:!1,value:{obj:i.cancelCropSelection}}),i.currSelectionPoint=(0,n.l7)({},i.cancelCropSelection.previousCropObj.activeObj,!0),i.currSelectionPoint&&(0,n.le)(i.currSelectionPoint.shape)&&(i.currSelectionPoint=null),this.clearOuterCanvas(this.lowerContext),(i.isCircleCrop||i.currSelectionPoint&&"crop-circle"===i.currSelectionPoint.shape)&&i.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}))},h.prototype.updateCropSelection=function(){var i=this.parent,e={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:e}});var t=e.currObj;t.objColl=(0,n.l7)([],i.objColl,[],!0),t.pointColl=(0,n.l7)([],i.pointColl,[],!0),t.afterCropActions=(0,n.l7)([],i.afterCropActions,[],!0);var s={selPointColl:null};i.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:s}}),t.selPointColl=(0,n.l7)([],s.selPointColl,[],!0),i.cancelCropSelection={operation:"cropTransform",previousObj:t,currentObj:t,previousObjColl:t.objColl,currentObjColl:t.objColl,previousPointColl:t.pointColl,currentPointColl:t.pointColl,previousSelPointColl:t.selPointColl,currentSelPointColl:t.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),currentCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,filter:null,isCircleCrop:i.isCircleCrop}},h.prototype.updateFlipPan=function(i){var e=this.parent;if(""!==e.transform.currFlipState){var t=this.lowerContext.filter;e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),e.notify("transform",{prop:"rotatedFlip",onPropertyChange:!1}),this.lowerContext.filter="none",e.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),this.lowerContext.filter=t,this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),i&&this.drawObject("duplicate",i)}},h.prototype.select=function(i,e,t,s,r){var o=this.parent;if(i=i.toLowerCase(),!o.disabled&&o.isImageLoaded){o.allowDownScale=!1;var a={currObj:{}};o.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}});var d=a.currObj;d.objColl=(0,n.l7)([],o.objColl,[],!0),d.pointColl=(0,n.l7)([],o.pointColl,[],!0),d.afterCropActions=o.afterCropActions;var c={selPointColl:null};o.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:c}}),d.selPointColl=(0,n.l7)([],c.selPointColl,[],!0),o.notify("crop",{prop:"setPreviousCropCurrentObj",onPropertyChange:!1,value:{obj:d}}),o.transform.zoomFactor>0&&o.activeObj.shape&&"crop"===o.activeObj.shape.split("-")[0]&&(0,n.le)(this.currSelPoint)&&(this.currSelPoint=(0,n.l7)({},o.activeObj,{},!0));var p=!1,u=void 0;void 0!==o.activeObj.shape&&(u=o.activeObj.shape.split("-")),(void 0===u&&o.currObjType.isCustomCrop||void 0!==u&&"crop"===u[0])&&(p=!0);var f={currObj:{}};o.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:f}});var v=f.currObj;if(v.objColl=(0,n.l7)([],o.objColl,[],!0),v.pointColl=(0,n.l7)([],o.pointColl,[],!0),v.afterCropActions=(0,n.l7)([],o.afterCropActions,[],!0),o.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}}),o.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),o.notify("shape",{prop:"setKeyHistory",onPropertyChange:!1,value:{keyHistory:""}}),this.upperContext.clearRect(0,0,o.upperCanvas.width,o.upperCanvas.height),o.upperCanvas.style.display="block",o.currSelectionPoint||0!==o.transform.defaultZoomFactor||0!==o.transform.degree&&0!==o.panPoint.totalPannedInternalPoint.x&&0!==o.panPoint.totalPannedInternalPoint.y&&!p){if(o.isCircleCrop=!1,0!==o.transform.defaultZoomFactor&&!this.isResizeSelect){var g=o.isCropTab;o.isCropTab=!1,o.notify("transform",{prop:"resetZoom",onPropertyChange:!1}),o.isCropTab=g,this.resetPanPoints()}o.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1}),o.isCropTab=!0,o.isCircleCrop=!1,this.isResizeSelect||o.notify("crop",{prop:"setCurrSelPoints",onPropertyChange:!1,value:{isSetDimension:!0}}),o.transform.zoomFactor=o.transform.cropZoomFactor,(0,n.le)(o.cropObj.activeObj.shape)&&(o.currObjType.shape="crop-"+i,this.drawNewSelection(i,e,t,s,r))}else this.isCropSelect?this.isCropSelect=!1:(o.notify("crop",{prop:"adjustStraightenForShapes",onPropertyChange:!1,value:{type:"reverse",isInitialRotated:!0}}),o.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1}),this.renderImage()),"custom"===i&&(o.currObjType.shape=""),this.drawNewSelection(i,e,t,s,r)}},h.prototype.drawNewSelection=function(i,e,t,s,r){var a,o=this.parent,d="crop-"+i.toLowerCase();"crop-custom"===d?(""===o.currObjType.shape||"crop-custom"===o.currObjType.shape)&&(this.drawCustomSelection("crop-custom",e,t,s,r),this.adjToStraighten(),this.updateSelectionInsert(),o.isStraightening&&(this.straightenActObj=(0,n.l7)({},o.activeObj,{},!0),this.straightenInitZoom=o.transform.zoomFactor)):"crop-canvas"===d?(o.upperCanvas.style.display="block",o.notify("selection",{prop:"setDragCanvas",value:{bool:!0}})):(o.currObjType.isCustomCrop=!1,o.currObjType.shape=d,s&&r?a={startX:e,startY:t,endX:e+s,endY:t+r,width:s,height:r}:s&&"crop-circle"===d&&(a={startX:e,startY:t,endX:e+s,endY:t+s,width:s,height:s}),o.activeObj.shape=d,this.updateSelectionInsert(a))},h.prototype.updateSelectionInsert=function(i){var e=this,t=this.parent,s=t.activeObj.activePoint,r={shapeSettingsObj:{}};t.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:r}});var o={type:t.getSelectionType(r.shapeSettingsObj.type),startX:r.shapeSettingsObj.startX,startY:r.shapeSettingsObj.startY,width:r.shapeSettingsObj.width,height:r.shapeSettingsObj.height},a={action:"insert",previousSelectionSettings:o,currentSelectionSettings:o};(0,n.xr)()&&t.events&&!0===t.events.onSelectionResizeStart.hasDelegate?t.dotNetRef.invokeMethodAsync("SelectionEventAsync","OnSelectionResizeStart",a).then(function(d){t.notify("shape",{prop:"updSelChangeEventArgs",onPropertyChange:!1,value:{selectionSettings:d.currentSelectionSettings}}),"Custom"===d.currentSelectionSettings.type?e.drawObject("duplicate",t.activeObj,null,null,!0):((0!==s.startX||0!==s.startY||0!==s.width||0!==s.height)&&(i={startX:s.startX,startY:s.startY,endX:s.endX,endY:s.endY,width:s.width,height:s.height}),e.drawObject("duplicate",null,!0,i))}):(t.trigger("selectionChanging",a),t.notify("shape",{prop:"updSelChangeEventArgs",onPropertyChange:!1,value:{selectionSettings:a.currentSelectionSettings}}),"Custom"===a.currentSelectionSettings.type?this.drawObject("duplicate",t.activeObj,null,null,!0):((0!==s.startX||0!==s.startY||0!==s.width||0!==s.height)&&(i={startX:s.startX,startY:s.startY,endX:s.endX,endY:s.endY,width:s.width,height:s.height}),this.drawObject("duplicate",null,!0,i)))},h.prototype.drawCustomSelection=function(i,e,t,s,r){var o=this.parent,a=o.activeObj.activePoint;if(o.currObjType.isCustomCrop=!0,this.upperContext.clearRect(0,0,o.upperCanvas.width,o.upperCanvas.height),o.currObjType.shape=o.activeObj.shape=i.toLowerCase(),(0,n.le)(e)||(0,n.le)(t)||(0,n.le)(s)||(0,n.le)(r)){if((0,n.le)(o.transform.zoomFactor)||0===o.transform.zoomFactor){var d=o.img,c=d.destLeft,p=d.destTop,u=d.destWidth,f=d.destHeight,v=o.lowerCanvas.width,g=o.lowerCanvas.height,b=a;c>=0&&p>=0?(b.startX=c,b.startY=p,b.endX=c+u,b.endY=p+f):c>=0?(b.startX=c,b.startY=7.5,b.endX=c+u,b.endY=g-15):p>=0?(b.startX=7.5,b.startY=p,b.endX=v-15,b.endY=p+f):(b.startX=7.5,b.startY=7.5,b.endX=v-15,b.endY=g-15)}else{var C=o.img,T=C.destLeft,O=C.destTop,j=C.destWidth,Y=C.destHeight,H=o.lowerCanvas.width,N=o.lowerCanvas.height,ne=a;ne.startX=Math.max(T>0?T:7.5,T),ne.startY=Math.max(O>0?O:7.5,O),ne.endX=Math.min(T+j+15<H?T+j-15:H-15,T+j),ne.endY=Math.min(O+Y+15<N?O+Y-15:N-15,O+Y)}var re=o.img,ce=re.destLeft,Ye=re.destTop,K=re.destWidth,te=re.destHeight,J=o.lowerCanvas.clientWidth,pe=o.lowerCanvas.clientHeight,me=a;if(me.startX=Math.max(me.startX,ce),me.startY=Math.max(me.startY,Ye),me.endX=Math.min(me.endX,ce+K),me.endY=Math.min(me.endY,Ye+te),o.transform.straighten>0?(this.imgCanvasPoints[0].x>me.startX&&(me.startX=this.imgCanvasPoints[0].x),this.imgCanvasPoints[0].y>me.startY&&(me.startY=this.imgCanvasPoints[0].y),this.imgCanvasPoints[2].x<me.endX&&(me.endX=this.imgCanvasPoints[2].x),this.imgCanvasPoints[2].y<me.endY&&(me.endY=this.imgCanvasPoints[2].x)):o.transform.straighten<0&&(this.imgCanvasPoints[3].x>me.startX&&(me.startX=this.imgCanvasPoints[3].x),this.imgCanvasPoints[3].y<me.startY&&(me.startY=this.imgCanvasPoints[3].y),this.imgCanvasPoints[1].x<me.endX&&(me.endX=this.imgCanvasPoints[1].x),this.imgCanvasPoints[1].y>me.endY&&(me.endY=this.imgCanvasPoints[1].x)),me.startX===ce&&ce+K>J&&(me.endX=J-15),me.startY===Ye&&Ye+te>pe&&(me.endY=pe-15),o.activeObj.activePoint.startX>o.activeObj.activePoint.endX){var _e=o.activeObj.activePoint.startX;o.activeObj.activePoint.startX=o.activeObj.activePoint.endX,o.activeObj.activePoint.endX=_e}o.activeObj.activePoint.startY>o.activeObj.activePoint.endY&&(_e=o.activeObj.activePoint.startY,o.activeObj.activePoint.startY=o.activeObj.activePoint.endY,o.activeObj.activePoint.endY=_e),o.activeObj=this.updateWidthHeight(o.activeObj),this.updateActiveObject(a,o.activeObj),this.adjActObj()}else a.startX=e,a.startY=t,a.endX=e+s,a.endY=t+r,a.width=s,a.height=r;this.updateSelectionInsert()},h.prototype.adjToStraighten=function(){var i=this.parent;if(0!==i.transform.straighten&&i.isStraightening){var e=i.activeObj.activePoint;e.startX+=7.5,e.startY+=7.5,e.endX-=7.5,e.endY-=7.5,i.activeObj=this.updateWidthHeight(i.activeObj)}},h.prototype.adjActObj=function(){var i=this.parent;if(0!==i.transform.straighten)for(var e=i.activeObj.activePoint,t=(0,n.l7)({},e,{},!0),s=0;;){s++;var r={isIntersect:null,arr:null};if(i.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),i.notify("draw",{prop:"isLinesIntersect",onPropertyChange:!1,value:{obj:r}}),r.arr[0]||r.arr[1]||r.arr[2]||r.arr[3]||100===s){e=(0,n.l7)({},t,{},!0);break}t=(0,n.l7)({},e,{},!0),e.startX-=5,e.endX+=5,e.width=e.endX-e.startX,this.updateActiveObject(e,i.activeObj)}},h.prototype.callUpdateCurrTransState=function(){var i=this.parent,e=(0,n.l7)([],i.objColl,[],!0),t=(0,n.l7)({},i.activeObj,{},!0);i.objColl=[],i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.isRotateZoom=!0,this.updateCurrTransState("initial"),this.lowerContext.clearRect(0,0,i.lowerCanvas.width,i.lowerCanvas.height),0===i.transform.degree&&i.rotateFlipColl.length>0&&(i.img.destLeft+=i.panPoint.totalPannedPoint.x,i.img.destTop+=i.panPoint.totalPannedPoint.y),i.img.destLeft+=i.panPoint.totalPannedInternalPoint.x,i.img.destTop+=i.panPoint.totalPannedInternalPoint.y;var s=this.lowerContext.filter;0===i.transform.degree&&i.notify("transform",{prop:"setDestPointsForFlipState",onPropertyChange:!1}),this.drawImage(),this.updateCurrTransState("reverse"),0===i.transform.degree&&i.rotateFlipColl.length>0&&(i.img.destLeft+=i.panPoint.totalPannedPoint.x,i.img.destTop+=i.panPoint.totalPannedPoint.y),this.isRotateZoom=!1,i.objColl=e;var r=i.togglePen;i.togglePen=!1,this.lowerContext.filter="none",i.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),i.img.destLeft+=i.panPoint.totalPannedInternalPoint.x,i.img.destTop+=i.panPoint.totalPannedInternalPoint.y,i.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),i.img.destLeft-=i.panPoint.totalPannedInternalPoint.x,i.img.destTop-=i.panPoint.totalPannedInternalPoint.y,i.togglePen=r,this.lowerContext.filter=s,i.activeObj=t},h.prototype.resetPanPoints=function(){this.parent.panPoint.totalPannedPoint={x:0,y:0},this.parent.panPoint.totalPannedClientPoint={x:0,y:0},this.parent.panPoint.totalPannedInternalPoint={x:0,y:0}},h.prototype.setClientTransDim=function(i){var e=this.parent;if(e.transform.degree%90==0&&e.transform.degree%180!=0){e.img.destLeft=(e.lowerCanvas.clientWidth-e.img.destHeight)/2,e.img.destTop=(e.lowerCanvas.clientHeight-e.img.destWidth+1)/2;var t=e.img.destWidth;e.img.destWidth=e.img.destHeight,e.img.destHeight=t}else(0,n.le)(i)&&(e.img.destLeft=(e.lowerCanvas.clientWidth-e.img.destWidth)/2,e.img.destTop=(e.lowerCanvas.clientHeight-e.img.destHeight+1)/2)},h.prototype.redrawImgWithObj=function(){var i=this.parent;if(this.lowerContext.filter=i.canvasFilter,0!==i.rotateFlipColl.length){var t=(0,n.l7)({},i.panPoint.totalPannedInternalPoint,{},!0),s={startX:i.img.destLeft,startY:i.img.destTop,width:i.img.destWidth,height:i.img.destHeight};this.callUpdateCurrTransState(),i.panPoint.totalPannedInternalPoint=t,i.img.destLeft=s.startX,i.img.destTop=s.startY,i.img.destWidth=s.width,i.img.destHeight=s.height}else this.callUpdateCurrTransState();i.isCircleCrop&&i.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}})},h.prototype.setCurrentObj=function(i,e){var t=this.parent,s=!!i;s||(t.cropObj.aspectWidth=t.aspectWidth,t.cropObj.aspectHeight=t.aspectHeight,t.cropObj.frame=t.frameObj.type),t.transform.cropZoomFactor=(i=i||t.cropObj).cropZoom,t.transform.defaultZoomFactor=i.defaultZoom,this.straightenInitZoom=i.straightenZoom,t.transform.zoomFactor=s?i.activeObj.shape&&"crop"===i.activeObj.shape.split("-")[0]?i.cropZoom:i.defaultZoom:i.cropZoom,t.setProperties({zoomSettings:{zoomFactor:i.zoomFactor}},!0),t.notify("transform",{prop:"setPreviousZoomValue",onPropertyChange:!1,value:{previousZoomValue:i.previousZoomValue}}),t.panPoint.totalPannedPoint=(0,n.l7)({},i.totalPannedPoint,{},!0),t.panPoint.totalPannedClientPoint=(0,n.l7)({},i.totalPannedClientPoint,{},!0),t.panPoint.totalPannedInternalPoint=(0,n.l7)({},i.totalPannedInternalPoint,{},!0);var r=(0,n.l7)({},i.tempFlipPanPoint,{},!0);t.notify("crop",{prop:"setTempFlipPanPoint",onPropertyChange:!1,value:{point:r}}),t.rotateFlipColl=(0,n.l7)([],i.rotateFlipColl,[],!0),t.transform.degree=i.degree,t.frameObj.type=i.frame,t.transform.currFlipState=i.currFlipState,t.notify("filter",{prop:"setAdjustmentLevel",onPropertyChange:!1,value:{adjustmentLevel:i.adjustmentLevel}}),t.notify("filter",{prop:"setTempAdjVal"}),t.currentFilter=i.currentFilter,t.notify("filter",{prop:"setTempFilVal"}),(t.transform.straighten!==i.straighten||e)&&(t.transform.straighten=i.straighten,t.straightenBaseImageCanvas()),t.img={destLeft:i.destPoints.startX,destTop:i.destPoints.startY,destWidth:i.destPoints.width,destHeight:i.destPoints.height,srcLeft:i.srcPoints.startX,srcTop:i.srcPoints.startY,srcWidth:i.srcPoints.width,srcHeight:i.srcPoints.height},t.aspectWidth=i.aspectWidth,t.aspectHeight=i.aspectHeight,i.afterCropActions&&(t.afterCropActions=i.afterCropActions),this.lowerContext.filter=i.filter,t.notify("filter",{prop:"setBrightnessAdjusted",onPropertyChange:!1,value:{isBrightnessAdjusted:i.isBrightAdjust}});var a,o=t.isCircleCrop;(0,n.le)(t.currSelectionPoint)?a=null:(a=(0,n.l7)({},t.currSelectionPoint,{},!0),t.currSelectionPoint=null),t.isCircleCrop=!1,this.drawCropSelectionImage(i,!1),0!==t.transform.degree&&(t.notify("transform",""===t.transform.currFlipState?{prop:"rotatePan",onPropertyChange:!1,value:{isCropSelection:null,isDefaultZoom:null}}:{prop:"drawPannedImage",value:{xDiff:0,yDiff:0}}),t.img.destLeft=i.destPoints.startX,t.img.destTop=i.destPoints.startY,t.panPoint.totalPannedClientPoint=(0,n.l7)({},i.totalPannedClientPoint,{},!0),t.panPoint.totalPannedInternalPoint=(0,n.l7)({},i.totalPannedInternalPoint,{},!0)),t.activeObj=(0,n.l7)({},i.activeObj,{},!0),this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),0!==t.activeObj.activePoint.width&&0!==t.activeObj.activePoint.height&&this.drawObject("duplicate",null,null,null,!0);var d=(0,n.l7)({},i.activeObj,{},!0),c=!1;if(t.afterCropActions.length>0){var p={collection:t.afterCropActions};t.notify("shape",{prop:"alignRotateFlipColl",onPropertyChange:!1,value:{collection:t.afterCropActions,isRotateFlipCollection:null,obj:p}}),t.afterCropActions=p.collection}var u=(0,n.l7)([],t.afterCropActions,[],!0);if(!s&&u.length>0){c=!0;for(var f=0,v=u.length;f<v;f++)("horizontalflip"===u[f]||"verticalflip"===u[f])&&(t.activeObj=(0,n.l7)({},a,{},!0),this.rotatedFlipCropSel=!0),t.notify("transform",{prop:"updateTransform",onPropertyChange:!1,value:{text:u[f]}});d=(0,n.l7)({},t.activeObj,{},!0),this.resetPanPoints(),t.activeObj=d,this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),0!==t.activeObj.activePoint.width&&0!==t.activeObj.activePoint.height&&this.drawObject("duplicate",null,null,null,!0),i.degree!==t.transform.degree&&(t.transform.cropZoomFactor=null,t.transform.zoomFactor=0),t.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1}),this.rotatedFlipCropSel&&(this.rotatedFlipCropSel=!1)}t.afterCropActions=u,!this.isCancelAction&&!c&&(t.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1}),t.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),t.img.destLeft=i.destPoints.startX,t.img.destTop=i.destPoints.startY),t.activeObj=d,t.isCircleCrop=o,(0,n.le)(a)?t.currSelectionPoint=null:(t.currSelectionPoint=(0,n.l7)({},a,{},!0),t.currSelectionPoint&&(0,n.le)(t.currSelectionPoint.shape)&&(t.currSelectionPoint=null))},h.prototype.drawCropSelectionImage=function(i,e){var t=this.parent,s=this.lowerContext.filter;t.clearContext(this.lowerContext),t.clearContext(this.upperContext),this.lowerContext.setTransform(1,0,0,1,0,0),e?this.updateCurrTransState("initial"):this.setTransformColl(this.lowerContext,"initial"),t.notify("transform",{prop:"setDestPointsForFlipState",onPropertyChange:!1}),this.drawImage(),e?this.updateCurrTransState("reverse"):this.setTransformColl(this.lowerContext,"reverse"),t.img.destLeft=t.cropObj.destPoints.startX,t.img.destTop=t.cropObj.destPoints.startY;var r=(0,n.l7)({},i.activeObj,{},!0);if(this.lowerContext.filter="none",this.isCancelAction)t.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),t.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}});else if(t.img={destLeft:i.destPoints.startX,destTop:i.destPoints.startY,destWidth:i.destPoints.width,destHeight:i.destPoints.height,srcLeft:i.srcPoints.startX,srcTop:i.srcPoints.startY,srcWidth:i.srcPoints.width,srcHeight:i.srcPoints.height},0!==i.activeObj.activePoint.width&&0!==i.activeObj.activePoint.height){var o={startX:t.img.destLeft,startY:t.img.destTop,width:t.img.destWidth,height:t.img.destHeight};t.img.destLeft=i.activeObj.activePoint.startX,t.img.destTop=i.activeObj.activePoint.startY,t.img.destWidth=i.activeObj.activePoint.width,t.img.destHeight=i.activeObj.activePoint.height,t.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),t.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),t.img.destLeft=o.startX,t.img.destTop=o.startY,t.img.destWidth=o.width,t.img.destHeight=o.height}t.activeObj=r,this.lowerContext.filter=s},h.prototype.performPointZoom=function(i,e,t,s,r){var o=this.parent,a=o.img,f=(i-a.destLeft)/a.destWidth,v=(e-a.destTop)/a.destHeight,g=o.isUndoRedo;o.isUndoRedo=!0,o.setProperties({zoomSettings:{zoomPoint:{x:i,y:e}}},!0),o.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:r||("zoomIn"===t?.1:-.1),zoomPoint:null,isResize:s}}),o.isUndoRedo=g,this.panToPoint(i,e,f,v)},h.prototype.panToPoint=function(i,e,t,s){var r=this.parent;if(r.transform.zoomFactor>0){var o=r.img.destLeft,a=r.img.destTop,d=(0,n.l7)({},r.activeObj,{},!0);if(0===r.transform.degree)r.img.destLeft=i-t*r.img.destWidth,r.img.destTop=e-s*r.img.destHeight,this.drawZoomPanImage(r.img.destLeft-o,r.img.destTop-a);else{var c=r.isCropTab;r.isCropTab=!0;var p=(0,n.l7)([],r.objColl,[],!0),u=(0,n.l7)([],r.pointColl,[],!0),f={straightenPoint:null};r.notify("freehand-draw",{prop:"getStraightenPoint",onPropertyChange:!1,value:{obj:f}}),r.objColl=[],r.pointColl=[],r.freehandCounter=0,r.notify("freehand-draw",{prop:"setStraightenPoint",onPropertyChange:!1,value:{x:null,y:null,ratioX:null,ratioY:null}});var v={selPointColl:null};r.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:v}});var g=v.selPointColl;r.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:[]}}}),r.panPoint.currentPannedPoint={x:i-t*r.img.destWidth-o,y:e-s*r.img.destHeight-a},r.notify("transform",{prop:"rotatePan",onPropertyChange:!1,value:{isCropSelection:null,isDefaultZoom:null}}),r.isCropTab=c,r.objColl=p,r.pointColl=u,r.freehandCounter=r.pointColl.length,f.straightenPoint.x&&f.straightenPoint.y&&r.notify("freehand-draw",{prop:"setStraightenPoint",onPropertyChange:!1,value:{x:f.straightenPoint.x,y:f.straightenPoint.y,ratioX:f.straightenPoint.ratioX,ratioY:f.straightenPoint.ratioY}}),r.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:g}}}),r.notify("shape",{prop:"panObjColl",onPropertyChange:!1,value:{xDiff:r.panPoint.currentPannedPoint.x,yDiff:r.panPoint.currentPannedPoint.y,panRegion:""}}),r.notify("freehand-draw",{prop:"panFHDColl",onPropertyChange:!1,value:{xDiff:r.panPoint.currentPannedPoint.x,yDiff:r.panPoint.currentPannedPoint.y,panRegion:""}})}this.adjustPanning(d),r.activeObj=d,0!==r.activeObj.activePoint.width&&0!==r.activeObj.activePoint.height&&this.drawObject("duplicate",null,null,null,!0)}},h.prototype.adjustPanning=function(i){var e=this.parent,t=i.activePoint,s=t.startX,r=t.startY,o=t.width,a=t.height;if(0!==o&&0!==a){var d=e.img,c=d.destLeft,p=d.destTop,u=d.destWidth,f=d.destHeight,v={x:0,y:0};if(c>s?v.x=c-s:c+u<s+o&&(v.x=c+u-(s+o)),p>r?v.y=p-r:p+f<r+a&&(v.y=p+f-(r+a)),0===e.transform.degree)e.img.destLeft-=v.x,e.img.destTop-=v.y,this.drawZoomPanImage(e.img.destLeft-c,e.img.destTop-p);else{var g=e.isCropTab;e.isCropTab=!0;var b=(0,n.l7)([],e.objColl,[],!0),C=(0,n.l7)([],e.pointColl,[],!0);e.objColl=[],e.pointColl=[],e.freehandCounter=0;var T={selPointColl:null};e.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:T}});var O=T.selPointColl;e.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:[]}}}),e.img.destLeft-=v.x,e.img.destTop-=v.y,e.panPoint.currentPannedPoint={x:e.img.destLeft-c,y:e.img.destTop-p},e.notify("transform",{prop:"rotatePan",onPropertyChange:!1,value:{isCropSelection:null,isDefaultZoom:null}}),e.isCropTab=g,e.objColl=b,e.pointColl=C,e.freehandCounter=e.pointColl.length,e.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:O}}}),e.notify("shape",{prop:"panObjColl",onPropertyChange:!1,value:{xDiff:e.panPoint.currentPannedPoint.x,yDiff:e.panPoint.currentPannedPoint.y,panRegion:""}}),e.notify("freehand-draw",{prop:"panFHDColl",onPropertyChange:!1,value:{xDiff:e.panPoint.currentPannedPoint.x,yDiff:e.panPoint.currentPannedPoint.y,panRegion:""}})}}},h.prototype.panToSel=function(){var i=this.parent,e=(0,n.l7)({},i.activeObj,{},!0),s=e.activePoint,r=s.startX,o=s.startY,a=s.width,d=s.height,c={straightenPoint:null};if(i.notify("freehand-draw",{prop:"getStraightenPoint",onPropertyChange:!1,value:{obj:c}}),c.straightenPoint.x&&c.straightenPoint.y){var p=r+a/2-c.straightenPoint.x,u=o+d/2-c.straightenPoint.y;0===i.transform.degree?(i.img.destLeft+=p,i.img.destTop+=u,i.notify("transform",{prop:"drawPannImage",value:{point:{x:p,y:u}}})):(i.panPoint.currentPannedPoint={x:p,y:u},i.notify("transform",{prop:"drawPannedImage",value:{xDiff:p,yDiff:u}}),i.panPoint.currentPannedPoint={x:0,y:0},i.notify("transform",{prop:"setTempPanMove",value:{point:null}})),i.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:e}});var f=i.img,v=f.destLeft,g=f.destTop,b=f.destWidth,C=f.destHeight,T=this.imgCanvasPoints;T.forEach(function(Y){Y.x=Y.ratioX*b+v,Y.y=Y.ratioY*C+g}),this.imgCanvasPoints=T;var O=0;if(!(0,n.xr)()&&3===i.transform.straighten&&!this.preventStraightening||(0,n.xr)()&&5===i.transform.straighten&&!this.preventStraightening){this.preventStraightening=!0;var j=i.prevStraightenedDegree;i.prevStraightenedDegree=i.transform.straighten,i.setStraighten(0),(0,n.xr)()?i.setStraighten(5):i.setStraighten(3),i.prevStraightenedDegree=j,this.preventStraightening=!1}for(;this.isLinesIntersect()&&0!==i.transform.straighten&&360!==i.transform.straighten&&O<100;)O++,this.performPointZoom(i.activeObj.activePoint.startX+i.activeObj.activePoint.width/2,i.activeObj.activePoint.startY+i.activeObj.activePoint.height/2,"zoomIn",!1,.025),this.updateImgCanvasPoints()}},h.prototype.drawZoomPanImage=function(i,e){var t=this.parent;t.notify("shape",{prop:"panObjColl",onPropertyChange:!1,value:{xDiff:i,yDiff:e,panRegion:""}}),t.notify("freehand-draw",{prop:"panFHDColl",onPropertyChange:!1,value:{xDiff:i,yDiff:e,panRegion:""}}),this.renderImage(!0);var s={width:0,height:0};t.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:t.img.srcWidth,height:t.img.srcHeight,obj:s,isImgShape:null}});var r=s;r.width+=r.width*t.transform.zoomFactor,r.height+=r.height*t.transform.zoomFactor,t.panPoint.totalPannedPoint.x+=i,t.panPoint.totalPannedPoint.y+=e,t.notify("crop",{prop:"setTempFlipPanPoint",onPropertyChange:!1,value:{point:{x:0,y:0}}})},h.prototype.openNewImage=function(){var i=this.parent,e=i.element.id,t=i.inMemoryCanvas.getContext("2d");us(i.element),i.element.style.opacity="0.5";var s=document.querySelector("#"+e+"_currPos");s&&(s.style.display="none");var r={defToolbarItems:null};if((0,n.xr)())i.element.querySelector("#"+e+"_toolbarArea")&&(i.toolbarHeight=i.element.querySelector("#"+e+"_toolbarArea").clientHeight);else if(i.notify("toolbar",{prop:"getDefToolbarItems",value:{obj:r}}),0===r.defToolbarItems.length&&(0,n.le)(document.getElementById(e+"_toolbar"))&&i.element.querySelector("#"+e+"_toolbarArea")){var o=i.element.querySelector("#"+e+"_toolbarArea").clientHeight;i.notify("toolbar",{prop:"setToolbarHeight",value:{height:o}})}if(i.reset(),i.update(),i.transform.degree=0,i.transform.zoomFactor=0,i.isImageLoaded=!1,i.currSelectionPoint=null,"string"==typeof this.openURL){var d=this.openURL.split(".");if(d.length>1?(d=d[d.length-2].split("/"),this.fileName=d[d.length-1]):this.fileName="ImageEditor",this.fileType=this.getFileExtensionFromURL(this.openURL),this.fileType){this.fileType=i.toPascalCase(this.fileType);var c=this.fileType.toLowerCase();("jpg"===c||"jpeg"===c)&&(this.fileType="Jpeg",c="jpeg"),"jpeg"!==c&&"png"!==c&&"svg"!==c&&(this.fileType=null)}this.imageOnLoad(this.openURL)}else this.fileName="ImageEditor",this.fileType=null,i.lowerCanvas=document.querySelector("#"+e+"_lowerCanvas"),i.upperCanvas=document.querySelector("#"+e+"_upperCanvas"),this.lowerContext=i.lowerCanvas.getContext("2d"),this.upperContext=i.upperCanvas.getContext("2d"),i.clearContext(this.lowerContext),i.clearContext(this.upperContext),i.clearContext(t),i.inMemoryCanvas.width=this.openURL.width,i.inMemoryCanvas.height=this.openURL.height,t.putImageData(this.openURL,0,0),i.baseImg.src=i.inMemoryCanvas.toDataURL()},h.prototype.dlgBtnClick=function(){this.parent.export(),this.applyDialogOption()},h.prototype.dlgCloseBtnClick=function(){this.applyDialogOption()},h.prototype.applyDialogOption=function(){var i=this.parent;this.isFileChanged?(i.isImageLoaded=this.isFileChanged=!1,i.reset(),this.checkToolbarTemplate(this.inputElem,this.openURL)):(this.reset(),this.openNewImage()),(0,n.xr)()||(0,n.Xr)(document.getElementById(i.element.id+"_dialog"),"dialog").destroy(),this.isImageEdited=!1},h.prototype.showDialogPopup=function(){var i=this.parent,e={key:"ConfirmDialogHeader"};i.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:e}});var t={key:"ConfirmDialogContent"};i.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:t}});var s={key:"Yes"};i.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:s}});var r={key:"No"};i.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:r}}),i.element.querySelector("#"+i.element.id+"_dialog").style.display="block",new Ju({header:e.value,closeOnEscape:!0,content:"<span>"+t.value+"</span>",target:document.getElementById("target"),width:"285px",isModal:!0,animationSettings:{effect:"Zoom"},close:this.dlgCloseBtnClick.bind(this),buttons:[{click:this.dlgCloseBtnClick.bind(this),buttonModel:{content:r.value,iconCss:"e-icons e-close"}},{click:this.dlgBtnClick.bind(this),buttonModel:{content:s.value,isPrimary:!0,iconCss:"e-icons e-check"}}]}).appendTo("#"+i.element.id+"_dialog")},h.prototype.restoreOldImage=function(){this.parent.isImageLoaded?(this.reset(),this.openNewImage()):this.openNewImage()},h.prototype.open=function(i){document.getElementById(this.parent.element.id+"_dropArea").style.display="none",this.parent.disabled||(this.openURL=i,this.restoreOldImage())},h.prototype.getInitialLoaded=function(i){i.isInitialLoaded=this.isInitialLoading},h.prototype.getFileExtensionFromURL=function(i){var e=i.lastIndexOf(".");return-1!==e?i.slice(e+1).toLowerCase():-1!==i.indexOf("base64")?i.slice(i.indexOf("/")+1,i.indexOf(";")).toLowerCase():null},h.prototype.fileSelect=function(i,e){var t=this.parent;if(document.getElementById(t.element.id+"_dropArea").style.display="none",!t.disabled){var s=void 0,r=void 0;e.target?r=s=e.target.files[0]:s=r=e.filesData[0].rawFile;var o=void 0;if(r.name){var a=r.name.split(".");o=a[a.length-1].toLowerCase()}if(o&&-1===["jpg","jpeg","png","svg"].indexOf(o))return void this.errorLoading();if(us(t.element),t.element.style.opacity="0.5",this.inputElem=i,o=r.name&&r.name.split(".")[1]){var d=t.toPascalCase(o);this.fileType="JPG"===d||"Jpg"===d?"Jpeg":d}else this.fileType=null;var p=window.URL.createObjectURL(s);this.openURL=p,t.isImageLoaded&&!t.isChangesSaved&&(this.isImageEdited||t.pointColl.length>0||t.objColl.length>0)?(this.isFileChanged=!0,(0,n.xr)()?t.dotNetRef.invokeMethodAsync("UpdateDialog",!0):this.showDialogPopup()):this.checkToolbarTemplate(i,p)}},h.prototype.checkToolbarTemplate=function(i,e){var t=this.parent;(0,n.le)(t.toolbarTemplate)&&(t.reset(),t.update()),this.fileName=i.value.split("\\")[i.value.split("\\").length-1],this.fileName=this.fileName.split(".")[0],this.imageOnLoad(e.toString()),i.value=""},h.prototype.moveToSelectionRange=function(i,e){var t=this.parent;if(t.activeObj.shape){for(var s=!1,r=0,o=t.rotateFlipColl.length;r<o;r++){var a=t.rotateFlipColl[r];if(90===a||-90===a){s=!0;break}}if(s){if(0===t.transform.degree)return;var d=t.transform.zoomFactor;t.objColl.push(t.activeObj),t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1});var c=t.objColl[t.objColl.length-1];if("rotateleft"===i||"rotateright"===i)if(t.transform.degree%90==0&&t.transform.degree%180!=0)if(c.activePoint.width<e.activePoint.height)for(r=2;r<t.zoomSettings.maxZoomFactor;r++){if(c.activePoint.width>=e.activePoint.height||this.isSelectionBiggerThanCanvas(c)||this.isSelectionOutsideCanvas(c)){(0,n.le)(d)||t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-.1,zoomPoint:null},isResize:null});break}t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:d+=.1,zoomPoint:null},isResize:null})}else for(r=2;r<t.zoomSettings.maxZoomFactor;r++){if(c.activePoint.width>=e.activePoint.height||this.isSelectionBiggerThanCanvas(c)||this.isSelectionOutsideCanvas(c)){(0,n.le)(d)||t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:.1,zoomPoint:null,isResize:null}});break}t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:d-=.1,zoomPoint:null},isResize:null})}else if(c.activePoint.height<e.activePoint.width)for(r=2;r<t.zoomSettings.maxZoomFactor;r++){if(c.activePoint.height>=e.activePoint.width||this.isSelectionBiggerThanCanvas(c)||this.isSelectionOutsideCanvas(c)){(0,n.le)(d)||t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-.1,zoomPoint:null},isResize:null});break}t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:d+=.1,zoomPoint:null},isResize:null})}else for(r=2;r<t.zoomSettings.maxZoomFactor;r++){if(c.activePoint.height>=e.activePoint.width||this.isSelectionBiggerThanCanvas(c)||this.isSelectionOutsideCanvas(c)){(0,n.le)(d)||t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:.1,zoomPoint:null},isResize:null});break}t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:d-=.1,zoomPoint:null},isResize:null})}var p=t.lowerCanvas.clientWidth/2-(c.activePoint.startX+c.activePoint.width/2),u=(t.lowerCanvas.clientHeight+1)/2-(c.activePoint.startY+c.activePoint.height/2);(0,n.le)(t.activeObj.shape)&&(t.activeObj=(0,n.l7)({},e,{},!0)),0===t.transform.degree?(t.img.destLeft+=p,t.img.destTop+=u,t.notify("transform",{prop:"drawPannImage",value:{point:{x:p,y:u}}})):(t.panPoint.currentPannedPoint={x:p,y:u},t.notify("transform",{prop:"drawPannedImage",value:{xDiff:p,yDiff:u}}),t.panPoint.currentPannedPoint={x:0,y:0}),t.notify("transform",{prop:"setTempPanMove",onPropertyChange:!1,value:{point:null}}),t.activeObj=(0,n.l7)({},t.objColl[t.objColl.length-1]),t.objColl.pop(),t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:t.activeObj}})}}},h.prototype.isSelectionBiggerThanCanvas=function(i){var e=!1,s=i.activePoint,c=this.parent.img,p=c.destLeft,u=c.destTop;return(s.startX<=p||s.startY<=u||s.endX>=p+c.destWidth||s.endY>=u+c.destHeight)&&(e=!0),e},h.prototype.isSelectionOutsideCanvas=function(i){var e=!1,t=this.parent;return(i.activePoint.height<t.lowerCanvas.height-t.toolbarHeight||i.activePoint.width<t.lowerCanvas.width)&&(e=!0),e},h.prototype.downScaleImgCanvas=function(i,e,t,s){var r=this.parent,o=e?r.activeObj.imageCanvas:r.baseImgCanvas,a=e?r.activeObj.imageElement:r.baseImg,d=e?r.activeObj.activePoint.width:r.img.destWidth,c=e?r.activeObj.activePoint.height:r.img.destHeight,p={width:0,height:0};if(r.notify("transform",r.transform.degree%90==0&&r.transform.degree%180!=0?{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:a.height,height:a.width,obj:p,isImgShape:e}}:{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:a.width,height:a.height,obj:p,isImgShape:e}}),e||r.allowDownScale&&!r.isCropTab&&!r.isCropToolbar&&0!==a.width&&0!==a.height&&.75*p.width>d&&.75*p.height>c){var u=r.createElement("canvas",{id:r.element.id+"_downScaleCanvas",attrs:{name:"canvasImage"}});u.width=e?a.width:r.img.srcWidth,u.height=e?a.height:r.img.srcHeight,e?u.getContext("2d").drawImage(a,0,0,u.width,u.height):u.getContext("2d").drawImage(o,r.img.srcLeft,r.img.srcTop,r.img.srcWidth,r.img.srcHeight,0,0,u.width,u.height),(e||this.isDownScale)&&this.downScale(u,d,c,e),e?(i.canvas.width=u.width,i.canvas.height=u.height,t&&s?(i.translate(r.activeObj.imageCanvas.width,0),i.scale(-1,1),i.translate(0,r.activeObj.imageCanvas.height),i.scale(1,-1)):t?((0,n.le)(r.activeObj.isHorImageFlip)||!r.activeObj.isHorImageFlip?(r.activeObj.isHorImageFlip=!0,i.translate(r.activeObj.imageCanvas.width,0),i.scale(-1,1)):r.activeObj.isHorImageFlip&&(r.activeObj.isHorImageFlip=!1),r.activeObj.isVerImageFlip&&(i.translate(0,r.activeObj.imageCanvas.height),i.scale(1,-1))):s&&((0,n.le)(r.activeObj.isVerImageFlip)||!r.activeObj.isVerImageFlip?(r.activeObj.isVerImageFlip=!0,i.translate(0,r.activeObj.imageCanvas.height),i.scale(1,-1)):r.activeObj.isVerImageFlip&&(r.activeObj.isVerImageFlip=!1),r.activeObj.isHorImageFlip&&(i.translate(r.activeObj.imageCanvas.width,0),i.scale(-1,1))),i.drawImage(u,0,0),i.setTransform(1,0,0,1,0,0)):r.isFinetuning?(i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r.inMemoryCanvas,0,0),i.restore()):i.drawImage(u,0,0,u.width,u.height,r.img.destLeft,r.img.destTop,u.width,u.height)}else((0,n.le)(e)||!e)&&0!==r.baseImgCanvas.width&&0!==r.baseImgCanvas.height&&i.drawImage(r.baseImgCanvas,r.img.srcLeft,r.img.srcTop,r.img.srcWidth,r.img.srcHeight,r.img.destLeft,r.img.destTop,r.img.destWidth,r.img.destHeight)},h.prototype.downScale=function(i,e,t,s){var r=this.parent;if(!s||!r.isStraightening){for(var o=i.width,a=i.height,d=o/(e=Math.round(e)),c=a/(t=Math.round(t)),p=Math.ceil(d/2),u=Math.ceil(c/2),f=i.getContext("2d"),v=f.getImageData(0,0,o,a),g=f.createImageData(e,t),b=v.data,C=g.data,T=0;T<t;T++)for(var O=0;O<e;O++){for(var j=4*(O+T*e),Y=0,H=0,N=0,ne=0,re=0,ce=0,Ye=0,K=(T+.5)*c,te=Math.floor(T*c),J=Math.ceil((T+1)*c),pe=te;pe<J;pe++)for(var me=Math.abs(K-(pe+.5))/u,_e=(O+.5)*d,xe=me*me,ve=Math.floor(O*d),Fe=Math.ceil((O+1)*d),ot=ve;ot<Fe;ot++){var ct=Math.abs(_e-(ot+.5))/p,st=Math.sqrt(xe+ct*ct);if(!(st>=1)){var Ke=4*(ot+pe*o);Ye+=(Y=2*st*st*st-3*st*st+1)*b[Ke+3],N+=Y,ne+=(Y=Y*b[Ke+3]/250)*b[Ke],re+=Y*b[Ke+1],ce+=Y*b[Ke+2],H+=Y}}C[j]=ne/H,C[j+1]=re/H,C[j+2]=ce/H,C[j+3]=Ye/N}i.width=s?r.activeObj.activePoint.width:r.lowerCanvas.width,i.height=s?r.activeObj.activePoint.height:r.lowerCanvas.height,f.putImageData(g,0,0)}},h.prototype.drawImgToCtx=function(i,e){i.canvas.id!==this.parent.element.id+"_tempCanvas"&&i!==this.upperContext&&(0,n.le)(e)&&this.downScaleImgCanvas(i,null,null,null)},h.prototype.getFrameColor=function(i,e,t){var r=this.parent.frameObj.color;if(i.gradientColor){var o=e.createLinearGradient(t.startX,t.startY,t.startX+t.width,t.startY+t.height);o.addColorStop(0,i.color),o.addColorStop(1,i.gradientColor),r=o}else r=i.color;return r},h.prototype.applyFrame=function(i,e,t){var s=this.parent;s.frameObj.type=e;var r,o={width:1,height:1},a={startX:s.img.destLeft-i.lineWidth,startY:s.img.destTop-i.lineWidth,width:s.img.destWidth+2*i.lineWidth,height:s.img.destHeight+2*i.lineWidth},d={type:s.frameObj.type,color:s.frameObj.color,size:s.frameObj.size,inset:s.frameObj.inset,offset:s.frameObj.offset/2,radius:s.frameObj.radius,amount:s.frameObj.amount,border:s.frameObj.border,gradientColor:s.frameObj.gradientColor},c=s.transform.zoomFactor;if(i.canvas.id===s.element.id+"_tempCanvas"){var f={width:0,height:0};s.notify("crop",{prop:"calcRatio",onPropertyChange:!1,value:{obj:f,dimension:{width:i.canvas.width,height:i.canvas.height}}}),d.size*=((o=f).width+o.height)/2,d.inset*=(o.width+o.height)/2,d.offset*=(o.width+o.height)/2,d.radius*=(o.width+o.height)/2,a={startX:0,startY:0,width:i.canvas.width,height:i.canvas.height},s.notify("export",{prop:"updateSaveContext",onPropertyChange:!1,value:{context:i}})}else i===this.upperContext&&s.activeObj.shape?a={startX:s.activeObj.activePoint.startX-i.lineWidth,startY:s.activeObj.activePoint.startY-i.lineWidth,width:s.activeObj.activePoint.width+2*i.lineWidth,height:s.activeObj.activePoint.height+2*i.lineWidth}:(0,n.le)(t)&&i.clearRect(0,0,i.canvas.width,i.canvas.height);var v=(o.width+o.height)/2*40,g=(o.width+o.height)/2*50;if(i!==this.upperContext&&(d.size+=d.size*c,d.inset+=d.inset*c,d.offset+=d.offset*c,d.radius+=d.radius*c,v+=v*c,g+=g*c),i!==this.upperContext||!s.activeObj.shape||!("mat"===e&&(a.width-2*d.size<0||a.height-2*d.size<0)||"bevel"===e&&(a.width-2*d.size<40||a.height-2*d.size<40)||"inset"===e&&(a.startX+a.width-d.offset-(a.startX+d.offset)<0||a.startY+a.height-d.offset-(a.startY+d.offset)<0)||"hook"===e&&(a.width-2*d.size<50||a.height-2*d.size<50))){var b={bevelFilter:i.filter},C=i.filter;if(s.currSelectionPoint&&"crop-circle"===s.currSelectionPoint.shape||s.isCircleCrop||i===this.lowerContext&&s.isCropTab)this.drawImgToCtx(i,t);else{switch(e){case"none":this.drawImgToCtx(i,t);break;case"mat":for(this.drawImgToCtx(i,t);(a.width-2*d.size<0||a.height-2*d.size<0)&&d.size>0;)d.size-=20;i.filter="none",i.fillStyle=this.getFrameColor(d,i,a),i.beginPath(),i.rect(a.startX,a.startY,a.width,a.height),i.rect(a.startX+d.size,a.startY+d.size,a.width-2*d.size,a.height-2*d.size),i.fill("evenodd"),i.closePath();break;case"bevel":for(i.filter="none",i.fillStyle=this.getFrameColor(d,i,a),i.beginPath(),i.fillRect(a.startX,a.startY,a.width,a.height),i.closePath(),a.startX+=d.size,a.startY+=d.size,a.width-=2*d.size,a.height-=2*d.size;(a.width-2*d.size<40||a.height-2*d.size<40)&&d.size>0;)a.startX-=d.size,a.startY-=d.size,a.width+=2*d.size,a.height+=2*d.size,d.size-=20,a.startX+=d.size,a.startY+=d.size,a.width-=2*d.size,a.height-=2*d.size;i.fillStyle=this.getFrameColor(d,i,a),i.save(),i.beginPath(),i.moveTo(a.startX+v,a.startY),i.lineTo(a.startX+a.width-v,a.startY),i.quadraticCurveTo(a.startX+a.width,a.startY,a.startX+a.width,a.startY+v),i.lineTo(a.startX+a.width,a.startY+a.height-v),i.quadraticCurveTo(a.startX+a.width,a.startY+a.height,a.startX+a.width-v,a.startY+a.height),i.lineTo(a.startX+v,a.startY+a.height),i.quadraticCurveTo(a.startX,a.startY+a.height,a.startX,a.startY+a.height-v),i.lineTo(a.startX,a.startY+v),i.quadraticCurveTo(a.startX,a.startY,a.startX+v,a.startY),i.closePath(),i.clip(),i.filter="none"===C?s.canvasFilter:C,i.canvas.id===s.element.id+"_tempCanvas"?(t=null,i.filter="none",i.drawImage(s.inMemoryCanvas,0,0),i.filter="none"===C?s.canvasFilter:C):(i.clearRect(0,0,i.canvas.width,i.canvas.height),t?(t=null,0!==s.transform.zoomFactor&&(this.isRotateZoom=!0),s.notify("filter",{prop:"getBevelFilter",onPropertyChange:!1,value:{obj:b}}),i.filter=b.bevelFilter,this.updateCurrTransState("initial"),this.drawImgToCtx(i,t),this.updateCurrTransState("reverse"),this.isRotateZoom=!1,s.frameObj.type="none",i.filter="none",s.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),s.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:i,points:null}}),s.frameObj.type="bevel",i.filter="none"===C?s.canvasFilter:C):(s.notify("filter",{prop:"getBevelFilter",onPropertyChange:!1,value:{obj:b}}),i.filter=b.bevelFilter,this.drawImgToCtx(i,t))),i.restore();break;case"line":this.drawImgToCtx(i,t),r=i.lineWidth,i.lineWidth=d.size/10;for(var T=0;T<s.frameObj.amount;T++)T>0&&(a.startX+=d.offset,a.startY+=d.offset,a.width-=2*d.offset,a.height-=2*d.offset),a.startY+a.height-d.inset-d.radius>=a.startY+d.inset+d.radius&&a.startX+a.width-d.inset-d.radius>=a.startX+d.inset+d.radius&&a.startX+d.inset+d.radius<=a.startX+a.width-d.inset-d.radius&&a.startY+d.inset+d.radius<=a.startY+a.height-d.inset-d.radius&&(i.filter="none",i.strokeStyle=this.getFrameColor(d,i,a),"dashed"===d.border?i.setLineDash([2.5*i.lineWidth,1.5*i.lineWidth]):"dotted"===d.border&&i.setLineDash([i.lineWidth,i.lineWidth]),i.beginPath(),i.moveTo(a.startX+d.inset+d.radius,a.startY+d.inset),i.lineTo(a.startX+a.width-d.inset-d.radius,a.startY+d.inset),i.arcTo(a.startX+a.width-d.inset,a.startY+d.inset,a.startX+a.width-d.inset,a.startY+d.inset+d.radius,d.radius),i.lineTo(a.startX+a.width-d.inset,a.startY+a.height-d.inset-d.radius),i.arcTo(a.startX+a.width-d.inset,a.startY+a.height-d.inset,a.startX+a.width-d.inset-d.radius,a.startY+a.height-d.inset,d.radius),i.lineTo(a.startX+d.inset+d.radius,a.startY+a.height-d.inset),i.arcTo(a.startX+d.inset,a.startY+a.height-d.inset,a.startX+d.inset,a.startY+a.height-d.inset-d.radius,d.radius),i.lineTo(a.startX+d.inset,a.startY+d.inset+d.radius),i.arcTo(a.startX+d.inset,a.startY+d.inset,a.startX+d.inset+d.radius,a.startY+d.inset,d.radius),i.closePath(),i.stroke(),i.setLineDash([]));i.lineWidth=r;break;case"inset":this.drawImgToCtx(i,t),i.filter="none",i.strokeStyle=this.getFrameColor(d,i,a),r=i.lineWidth,i.lineWidth=d.size/10,i.beginPath(),i.moveTo(a.startX+d.offset,a.startY+d.inset),i.lineTo(a.startX+a.width-d.offset,a.startY+d.inset),i.moveTo(a.startX+a.width-d.inset,a.startY+d.offset),i.lineTo(a.startX+a.width-d.inset,a.startY+a.height-d.offset),i.moveTo(a.startX+a.width-d.offset,a.startY+a.height-d.inset),i.lineTo(a.startX+d.offset,a.startY+a.height-d.inset),i.moveTo(a.startX+d.inset,a.startY+a.height-d.offset),i.lineTo(a.startX+d.inset,a.startY+d.offset),i.stroke(),i.closePath(),i.lineWidth=r;break;case"hook":this.drawImgToCtx(i,t),i.filter="none",i.strokeStyle=this.getFrameColor(d,i,a),r=i.lineWidth,i.lineWidth=d.size/10,i.beginPath(),i.moveTo(a.startX+d.inset+g,a.startY+d.inset),i.lineTo(a.startX+d.inset,a.startY+d.inset),i.lineTo(a.startX+d.inset,a.startY+d.inset+g),i.moveTo(a.startX+a.width-d.inset-g,a.startY+d.inset),i.lineTo(a.startX+a.width-d.inset,a.startY+d.inset),i.lineTo(a.startX+a.width-d.inset,a.startY+d.inset+g),i.moveTo(a.startX+a.width-d.inset-g,a.startY+a.height-d.inset),i.lineTo(a.startX+a.width-d.inset,a.startY+a.height-d.inset),i.lineTo(a.startX+a.width-d.inset,a.startY+a.height-d.inset-g),i.moveTo(a.startX+d.inset+g,a.startY+a.height-d.inset),i.lineTo(a.startX+d.inset,a.startY+a.height-d.inset),i.lineTo(a.startX+d.inset,a.startY+a.height-d.inset-g),i.stroke(),i.lineWidth=r}(s.isCircleCrop||s.currSelectionPoint&&"crop-circle"===s.currSelectionPoint.shape)&&s.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:i,isSave:i.canvas.id===s.element.id+"_tempCanvas"||null,isFlip:null}}),i.filter=C}}},h.prototype.triggerFrameChange=function(i){var e=this,t=this.parent,r={cancel:!1,previousFrameSetting:i,currentFrameSetting:{type:t.toPascalCase(t.frameObj.type),color:t.frameObj.color,gradientColor:t.frameObj.gradientColor,size:t.frameObj.size,inset:t.frameObj.inset,offset:t.frameObj.offset,borderRadius:t.frameObj.radius,frameLineStyle:t.toPascalCase(t.frameObj.border),lineCount:t.frameObj.amount}};return(0,n.xr)()?t.events&&!0===t.events.frameChanging.hasDelegate?t.dotNetRef.invokeMethodAsync("OnFrameChangingAsync","FrameChanging",r,null).then(function(o){if(!o.cancel){e.setFrameObj(o.currentFrameSetting);var a={currObj:{}};if(t.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}}),t.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:a.currObj,previousObjColl:a.currObj.objColl,previousPointColl:a.currObj.pointColl,previousSelPointColl:a.currObj.selPointColl,previousCropObj:(0,n.l7)({},t.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),t.element.querySelector(".e-ie-toolbar-e-frame-color")&&(t.element.querySelector(".e-ie-toolbar-e-frame-color"+t.DDBPREVIEW).style.background=t.frameObj.color),t.element.querySelector(".e-ie-toolbar-e-frame-gradient")){var p=document.querySelector(".e-dropdown-popup.e-frame-gradient-dd-btn");p&&p.querySelector(".e-nocolor-item").classList.remove("e-selected"),t.element.querySelector(".e-ie-toolbar-e-frame-gradient"+t.DDBPREVIEW).classList.remove("e-nocolor-item"),""===t.frameObj.gradientColor?t.element.querySelector(".e-ie-toolbar-e-frame-gradient"+t.DDBPREVIEW).classList.add("e-nocolor-item"):t.element.querySelector(".e-ie-toolbar-e-frame-gradient"+t.DDBPREVIEW).style.background=t.frameObj.gradientColor}t.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),t.curFrameObjEvent={currentFrameSetting:o.currentFrameSetting},t.isFrameBtnClick=!0}}):r.cancel||this.setFrameObj(r.currentFrameSetting):(t.trigger("frameChange",r),r.cancel||this.setFrameObj(r.currentFrameSetting)),r},h.prototype.setFrameObj=function(i){var e=this.parent;e.frameObj.type=i.type.toLowerCase(),e.frameObj.color=i.color,e.frameObj.gradientColor=i.gradientColor,e.frameObj.size=i.size,e.frameObj.inset=i.inset,e.frameObj.offset=i.offset,e.frameObj.radius=i.borderRadius,e.frameObj.border=i.frameLineStyle.toLowerCase(),e.frameObj.amount=i.lineCount},h.prototype.zoomToSel=function(i,e){var t=this.parent;if(this.straightenActObj&&JSON.stringify(this.straightenActObj.activePoint)===JSON.stringify(i.activePoint))if(t.activeObj=(0,n.l7)({},this.straightenActObj,null,!0),0===t.transform.straighten){var s=t.img.destWidth,r=t.img.destHeight;for(t.transform.straighten=360;;){if((0,n.le)(this.straightenInitZoom)||!(Math.round(t.transform.zoomFactor*Math.pow(10,3))/Math.pow(10,3)>Math.round(this.straightenInitZoom*Math.pow(10,3))/Math.pow(10,3))){this.performDummyZoom();break}if(this.setZoomPan("out"),s===t.img.destWidth&&r===t.img.destHeight){this.performDummyZoom();break}0===t.transform.degree&&(t.transform.zoomFactor-=.025,t.transform.cropZoomFactor-=.025)}t.transform.straighten=0,t.img={destLeft:t.img.destLeft,destTop:t.img.destTop,destWidth:t.img.destWidth,destHeight:t.img.destHeight,srcLeft:t.img.srcLeft,srcTop:t.img.srcTop,srcWidth:t.img.srcWidth,srcHeight:t.img.srcHeight}}else(0,n.le)(this.straightenInitZoom)&&(this.straightenInitZoom=t.transform.zoomFactor),this.straightenInitZoom-t.transform.zoomFactor>0?t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-(this.straightenInitZoom-t.transform.zoomFactor),zoomPoint:null,isResize:!0}}):this.straightenInitZoom-t.transform.zoomFactor<0&&t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:this.straightenInitZoom-t.transform.zoomFactor,zoomPoint:null,isResize:!0}}),t.activeObj=(0,n.l7)({},i,null,!0),t.transform.zoomFactor+=.001,this.calcStraightenedPoints(e);else this.straightenActObj=(0,n.l7)({},i,null,!0),t.activeObj=(0,n.l7)({},this.straightenActObj,null,!0),this.straightenInitZoom=t.transform.zoomFactor,this.calcStraightenedPoints(e)},h.prototype.isDestPointSmall=function(){var i=this.parent,e=i.img,t={startX:e.destLeft,startY:e.destTop,width:e.destWidth,height:e.destHeight};i.notify("shape",{prop:"straightenShapes",onPropertyChange:!1});var s=!1;return this.straightenDestPoints.destWidth&&this.straightenDestPoints.destHeight&&(e.destWidth<this.straightenDestPoints.destWidth||e.destHeight<this.straightenDestPoints.destHeight)&&(s=!0),e.destLeft=t.startX,e.destTop=t.startY,e.destWidth=t.width,e.destHeight=t.height,i.img=e,s},h.prototype.calcStraightenedPoints=function(i){var e=this.parent,t=e.img.destWidth,s=e.img.destHeight;(0,n.le)(e.transform.zoomFactor)&&(e.transform.zoomFactor+=.025),this.updateImgCanvasPoints();for(var r=function(){if(!(o.isLinesIntersect()||o.isSelOutsideImg()||i&&o.isDestPointSmall()))return o.performDummyZoom(),"break";if(e.activeObj=(0,n.l7)({},o.straightenActObj,null,!0),o.setZoomPan("in"),t===e.img.destWidth&&s===e.img.destHeight)return o.performDummyZoom(),"break";0===e.transform.degree&&(e.transform.zoomFactor+=.025,e.transform.cropZoomFactor+=.025);var d=o.imgCanvasPoints,c=e.img.destLeft,p=e.img.destTop,u=e.img.destWidth,f=e.img.destHeight;d.forEach(function(v){v.x=v.ratioX*u+c,v.y=v.ratioY*f+p}),o.imgCanvasPoints=d},o=this;"break"!==r(););},h.prototype.performDummyZoom=function(){var i=this.parent;i.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:.025,zoomPoint:null,isResize:!0}}),i.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-.025,zoomPoint:null,isResize:!0}});var e=10*i.transform.zoomFactor;e<1&&(e=1+e/10),i.setProperties({zoomSettings:{zoomFactor:e}},!0),i.notify("transform",{prop:"setPreviousZoomValue",onPropertyChange:!1,value:{previousZoomValue:e}}),this.panToSel()},h.prototype.setZoomPan=function(i){var e=this.parent,t={maxDimension:null};0===e.transform.degree?(e.notify("transform",{prop:"cropZoom",onPropertyChange:!1,value:{value:"in"===i?.025:-.025,selectionObj:e.activeObj,obj:t}}),e.img.destWidth=t.maxDimension.width,e.img.destHeight=t.maxDimension.height):(e.transform.zoomFactor+="in"===i?.025:-.025,e.transform.cropZoomFactor+="in"===i?.025:-.025,this.updateCurrTransState("initial"),this.isRotateZoom=!0,this.setDestPoints(),this.isRotateZoom=!1,this.updateCurrTransState("reverse"))},h.prototype.updateImgCanvasPoints=function(){var i=this.parent,e=this.getImagePoints(),t={width:0,height:0},s=i.baseImgCanvas.width,r=i.baseImgCanvas.height;i.notify("crop",{prop:"calcRatio",onPropertyChange:!1,value:{obj:t,dimension:{width:s,height:r}}}),s=i.transform.degree%90==0&&i.transform.degree%180!=0?t.height:t.width,r=i.transform.degree%90==0&&i.transform.degree%180!=0?t.width:t.height;var a,d,c,p,u=i.img,f=u.destLeft,v=u.destTop,g=u.destWidth,b=u.destHeight;i.transform.straighten>0?(a={x:f+e[0].x/s,y:v},d={x:f+g,y:v+e[1].y/r},c={x:f+g-e[0].x/s,y:v+b},p={x:f,y:v+b-e[1].y/r}):(a={x:f,y:v+e[0].y/r},d={x:f+e[1].x/s,y:v},c={x:f+g,y:v+b-e[0].y/r},p={x:f+g-e[1].x/s,y:v+b}),a.ratioX=(a.x-f)/g,a.ratioY=(a.y-v)/b,d.ratioX=(d.x-f)/g,d.ratioY=(d.y-v)/b,c.ratioX=(c.x-f)/g,c.ratioY=(c.y-v)/b,p.ratioX=(p.x-f)/g,p.ratioY=(p.y-v)/b,this.imgCanvasPoints=[a,d,c,p]},h.prototype.isLinesIntersect=function(i){var t=this.parent.activeObj.activePoint,s=this.imgCanvasPoints,r=this.doIntersect({x:t.startX,y:t.startY},{x:t.endX,y:t.startY},s[0],s[1]),o=this.doIntersect({x:t.endX,y:t.startY},{x:t.endX,y:t.endY},s[1],s[2]),a=this.doIntersect({x:t.startX,y:t.endY},{x:t.endX,y:t.endY},s[2],s[3]),d=this.doIntersect({x:t.startX,y:t.startY},{x:t.startX,y:t.endY},s[3],s[0]),c=this.isInsideRect(s[0]),p=this.isInsideRect(s[1]),u=this.isInsideRect(s[2]),f=this.isInsideRect(s[3]);return i&&(i.arr=[r,o,a,d]),r||o||a||d||c||p||u||f||s[0].x>t.startX&&s[1].x<t.endX&&s[2].x<t.endX&&s[3].x>t.startX&&s[0].y<t.startY&&s[1].y<t.startY&&s[2].y>t.endY&&s[3].y>t.endY||s[0].x<t.startX&&s[1].x>t.endX&&s[2].x>t.endX&&s[3].x<t.startX&&s[0].y>t.startY&&s[1].y>t.startY&&s[2].y<t.endY&&s[3].y<t.endY},h.prototype.isSelOutsideImg=function(){var e=this.imgCanvasPoints,t=this.parent.activeObj.activePoint;return"inside"!==this.checkPointPosition(t.startX,t.startY,e[0].x,e[0].y,e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y)||"inside"!==this.checkPointPosition(t.endX,t.startY,e[0].x,e[0].y,e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y)||"inside"!==this.checkPointPosition(t.startX,t.endY,e[0].x,e[0].y,e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y)||"inside"!==this.checkPointPosition(t.endX,t.endY,e[0].x,e[0].y,e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y)},h.prototype.calcTriangleArea=function(i,e,t,s,r,o){return Math.abs((i*(s-o)+t*(o-e)+r*(e-s))/2)},h.prototype.checkPointPosition=function(i,e,t,s,r,o,a,d,c,p){var u=this.calcTriangleArea(i,e,t,s,c,p),f=this.calcTriangleArea(i,e,c,p,a,d),v=this.calcTriangleArea(i,e,a,d,r,o),g=this.calcTriangleArea(i,e,r,o,t,s),b=this.calcTriangleArea(t,s,r,o,a,d)+this.calcTriangleArea(a,d,c,p,t,s);return u+f+v+g>b?"outside":u+f+v+g!==b||0!==u&&0!==f&&0!==v&&0!==g?"inside":"on"},h.prototype.getImagePoints=function(){var i=[],e=this.parent,t=e.transform.degree,s=e.baseImg.width,r=e.baseImg.height,o={dim:null,width:r,height:s,angle:e.transform.straighten};o.dim=e.getRotatedCanvasDim(o.width,o.height,o.angle);var c=t%90==0&&t%180!=0?r:s,p=t%90==0&&t%180!=0?s:r,u=(t%90==0&&t%180!=0?o.dim.width:e.baseImgCanvas.width)/2,f=(t%90==0&&t%180!=0?o.dim.height:e.baseImgCanvas.height)/2,v=u-c/2,g=f-p/2,b=u+c/2,C=f+p/2,T_x=u,T_y=f,O=e.transform.straighten*(Math.PI/180),j={x:Math.cos(O)*(v-T_x)-Math.sin(O)*(g-T_y)+T_x,y:Math.sin(O)*(v-T_x)+Math.cos(O)*(g-T_y)+T_y},Y={x:Math.cos(O)*(b-T_x)-Math.sin(O)*(g-T_y)+T_x,y:Math.sin(O)*(b-T_x)+Math.cos(O)*(g-T_y)+T_y},H={x:Math.cos(O)*(b-T_x)-Math.sin(O)*(C-T_y)+T_x,y:Math.sin(O)*(b-T_x)+Math.cos(O)*(C-T_y)+T_y},N={x:Math.cos(O)*(v-T_x)-Math.sin(O)*(C-T_y)+T_x,y:Math.sin(O)*(v-T_x)+Math.cos(O)*(C-T_y)+T_y};return i.push(j),i.push(Y),i.push(H),i.push(N),i},h.prototype.doIntersect=function(i,e,t,s){var r=this.initiation(i,e,t),o=this.initiation(i,e,s),a=this.initiation(t,s,i),d=this.initiation(t,s,e);return!!(r!==o&&a!==d||0===r&&this.onSegment(i,t,e)||0===o&&this.onSegment(i,s,e)||0===a&&this.onSegment(t,i,s)||0===d&&this.onSegment(t,e,s))},h.prototype.initiation=function(i,e,t){var s=(e.y-i.y)*(t.x-e.x)-(e.x-i.x)*(t.y-e.y);return 0===s?0:s>0?1:2},h.prototype.onSegment=function(i,e,t){return e.x<=Math.max(i.x,t.x)&&e.x>=Math.min(i.x,t.x)&&e.y<=Math.max(i.y,t.y)&&e.y>=Math.min(i.y,t.y)},h.prototype.isInsideRect=function(i){var t=this.parent.activeObj.activePoint,s=!1;return i.x>=t.startX&&i.x<=t.endX&&i.y>=t.startY&&i.y<=t.endY&&(s=!0),s},h.prototype.setDestForStraighten=function(){var i=this.parent;if((0,n.le)(this.straightenDestPoints)){var e=i.img,t=e.destLeft,s=e.destTop,r=e.destWidth,o=e.destHeight;i.notify("shape",{prop:"straightenShapes",onPropertyChange:!1}),this.straightenDestPoints=(0,n.l7)({},i.img,{},!0),i.img.destLeft=t,i.img.destTop=s,i.img.destWidth=r,i.img.destHeight=o}},h}(),$C=function(){function h(i){this.parent=i,this.addEventListener()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("export",this.export,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("export",this.export),this.parent.off("destroyed",this.destroy)},h.prototype.export=function(i){if((0,n.xr)()){var e={shape:""};this.parent.notify("selection",{prop:"getCurrentDrawingShape",onPropertyChange:!1,value:{obj:e}}),""!==e.shape&&(this.parent.notify("selection",{prop:"setCurrentDrawingShape",onPropertyChange:!1,value:{value:""}}),this.parent.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}))}else this.parent.notify("toolbar",{prop:"refreshShapeDrawing",onPropertyChange:!1});switch(this.updatePvtVar(),i.prop){case"export":this.exportImg(i.value.type,i.value.fileName);break;case"exportToCanvas":this.exportToCanvas(i.value.object);break;case"drawAnnotation":this.drawAnnotation(i.value.context,i.value.ratio);break;case"updateSaveContext":this.updateSaveContext(i.value.context)}},h.prototype.getModuleName=function(){return"export"},h.prototype.updatePvtVar=function(){var i=this.parent;i.lowerCanvas&&(this.lowerContext=i.lowerCanvas.getContext("2d"))},h.prototype.exportImg=function(i,e){var t=this,s=this.parent,r={fileName:""};s.notify("draw",{prop:"getFileName",onPropertyChange:!1,value:{obj:r}});var o=r.fileName;if(!s.disabled&&s.isImageLoaded){var a={bool:!1};s.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:a}}),a.bool&&s.notify("freehand-draw",{prop:"applyFhd",onPropertyChange:!1}),s.togglePen&&(s.currObjType.isZoomed=!0,s.notify("shape",{prop:"apply",onPropertyChange:!1,value:{shape:null,obj:null,canvas:null}})),("block"===s.textArea.style.display||"inline-block"===s.textArea.style.display)&&s.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}}),s.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:null}}),this.lowerContext.filter=this.parent.canvasFilter,i=i||"Png",s.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}});var c={cancel:!1,fileName:e||o,fileType:i};(0,n.xr)()&&s.events&&!0===s.events.saving.hasDelegate?s.dotNetRef.invokeMethodAsync("BeforeSaveEventAsync","BeforeSave",c).then(function(p){t.beforeSaveEvent(p,i,e,o)}):(s.trigger("beforeSave",c),this.beforeSaveEvent(c,i,e,o))}},h.prototype.beforeSaveEvent=function(i,e,t,s){var r=this.parent;if(!i.cancel){r.currObjType.isSave=!0,t=i.fileName?i.fileName:t;var o=e.toLowerCase();t=t||s,"svg"===o?this.toSVGImg(t):this.toBlobFn(t,o),r.trigger("saved",{fileName:t||s,fileType:e}),(0,n.xr)()||r.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1}),r.lowerCanvas.style.left=r.upperCanvas.style.left="",r.lowerCanvas.style.top=r.upperCanvas.style.top="",r.lowerCanvas.style.maxWidth=r.upperCanvas.style.maxWidth="",r.lowerCanvas.style.maxHeight=r.upperCanvas.style.maxHeight=""}},h.prototype.toSVGImg=function(i){var e=this.parent;us(e.element),e.element.style.opacity="0.5";var t=this.exportToCanvas(),s=t.toDataURL();Ji(e.element),e.element.style.opacity="1";var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("width",t.style.maxWidth),r.setAttribute("height",t.style.maxHeight);var a=document.createElementNS("http://www.w3.org/2000/svg","image");a.setAttributeNS(null,"height",t.height.toString()),a.setAttributeNS(null,"width",t.width.toString()),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),r.appendChild(a);var v="data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+t.width+'" height="'+t.height+'">'+r.innerHTML+"</svg>");return null===i?v:(this.downloadImg(v,i+".svg"),null)},h.prototype.toBlobFn=function(i,e){var t=this,s=this.parent;us(s.element),s.element.style.opacity="0.5",this.exportToCanvas().toBlob(function(o){var a=URL.createObjectURL(o);t.downloadImg(a,i+"."+e),Ji(s.element),s.element.style.opacity="1"},"image/png")},h.prototype.exportToCanvas=function(i){var t,s,e=this.parent,r=(0,n.l7)({},e.cropObj,{},!0),o={currObj:{}};e.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:o}});var a=o.currObj;a.objColl=(0,n.l7)([],e.objColl,[],!0),a.pointColl=(0,n.l7)([],e.pointColl,[],!0),a.afterCropActions=(0,n.l7)([],e.afterCropActions,[],!0);var d={selPointColl:null};e.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:d}}),this.parent.aspectWidth?(e.notify("undo-redo",{prop:"setPreventUR",value:{bool:!0}}),(0,n.xr)()?e.performResizeClick():e.notify("toolbar",{prop:"resizeClick",value:{bool:!1}}),e.currentToolbar="resize-toolbar",e.okBtn(),e.transform.degree%90==0&&e.transform.degree%180!=0?(t=this.parent.aspectHeight,s=this.parent.aspectWidth):(t=this.parent.aspectWidth,s=this.parent.aspectHeight),e.notify("undo-redo",{prop:"setPreventUR",value:{bool:!1}})):e.currSelectionPoint?(t=e.img.srcWidth,s=e.img.srcHeight):(t=e.baseImgCanvas.width,s=e.baseImgCanvas.height);var c={width:0,height:0};e.notify("crop",{prop:"calcRatio",onPropertyChange:!1,value:{obj:c,dimension:{width:t,height:s}}});var p=c,u=this.lowerContext.filter;if("none"!==this.lowerContext.filter){var f=this.lowerContext.filter.split(" "),v=parseFloat(f[5].split("(")[1]);f[5]="blur("+(v*=(p.width+p.height)/2)+"px)",this.lowerContext.filter=f.join(" ")}var g=e.createElement("canvas",{id:e.element.id+"_tempCanvas",attrs:{name:"canvasImage"}}),b=g.getContext("2d");g.width=t,g.height=s;var C={width:0,height:0};e.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:t,height:s,obj:C}});var T=C;g.style.maxWidth=T.width+"px",g.style.maxHeight=T.height+"px";var O=this.lowerContext.filter;return b.filter=this.lowerContext.filter,this.downScaleImgCanvas(b,t,s),this.lowerContext.filter=O,(0!==e.transform.degree||""!==e.transform.currFlipState||0!==e.transform.straighten)&&(this.updateSaveContext(b),this.exportTransformedImage(b)),this.drawAnnotation(b,p),e.isCircleCrop&&e.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:b,isSave:!0,isFlip:null}}),this.updateFrame(b,!0),this.lowerContext.filter=u,e.canvasFilter=u,i&&(i.canvas=g),e.aspectWidth&&(e.objColl=[],e.pointColl=[],e.freehandCounter=0,e.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:[]}}}),e.notify("draw",{prop:"setCurrentObj",onPropertyChange:!1,value:{obj:a}}),a.selPointColl=(0,n.l7)([],d.selPointColl,[],!0),e.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:a.selPointColl}}}),e.cropObj=r,e.objColl=(0,n.l7)([],a.objColl,[],!0),e.pointColl=(0,n.l7)([],a.pointColl,[],!0),e.freehandCounter=e.pointColl.length,e.transform.straighten=0,this.lowerContext.filter="none",e.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),e.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.lowerContext.filter=a.filter,e.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),(e.isCircleCrop||e.currSelectionPoint&&"crop-circle"===e.currSelectionPoint.shape)&&e.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}})),g},h.prototype.drawAnnotation=function(i,e){var t=this.parent;if(t.objColl.length>0){var s=i.filter;i.filter="none";for(var r=(0,n.l7)([],t.objColl,[],!0),o=0,a=t.objColl.length;o<a;o++){var d=t.objColl[o],c=d.activePoint;if(c.startX-=t.img.destLeft,c.startY-=t.img.destTop,c.endX-=t.img.destLeft,c.endY-=t.img.destTop,c.width=c.endX-c.startX,c.height=c.endY-c.startY,c.startX*=e.width,c.startY*=e.height,c.endX*=e.width,c.endY*=e.height,c.width=c.endX-c.startX,c.height=c.endY-c.startY,d.strokeSettings.strokeWidth*=(e.width+e.height)/2,"text"===d.shape)d.textSettings.fontSize*=(e.width+e.height)/2;else if("path"===d.shape)for(var p=0;p<d.pointColl.length;p++)d.pointColl[p].x=(d.pointColl[p].x-t.img.destLeft)*e.width,d.pointColl[p].y=(d.pointColl[p].y-t.img.destTop)*e.height;else"image"===d.shape&&(t.activeObj=(0,n.l7)({},t.objColl[o],{},!0),t.notify("selection",{prop:"upgradeImageQuality",onPropertyChange:!1}),t.objColl[o]=(0,n.l7)({},t.activeObj,{},!0));t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"saveContext",obj:t.objColl[o],isCropRatio:null,points:null,isPreventDrag:!0,saveContext:i,isPreventSelection:null}})}i.filter=s,t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),t.objColl=r}if(t.freehandCounter>0){var u={penStrokeWidth:null};t.notify("freehand-draw",{prop:"getPenStrokeWidth",onPropertyChange:!1,value:{obj:u}});for(var f=(0,n.l7)({},t.pointColl,{},!0),v=0;v<t.freehandCounter;v++)for(t.points=(0,n.l7)([],t.pointColl[v].points,[]),t.notify("freehand-draw",{prop:"setPointCounter",onPropertyChange:!1,value:{value:0}}),a=t.points.length,t.pointColl[v].strokeWidth*=(e.width+e.height)/2,p=0;p<a;p++)t.points[p].x=(t.points[p].x-t.img.destLeft)*e.width,t.points[p].y=(t.points[p].y-t.img.destTop)*e.height;t.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:i,points:null}}),t.pointColl=f,t.notify("freehand-draw",{prop:"setPenStrokeWidth",onPropertyChange:!1,value:{value:u.penStrokeWidth}})}},h.prototype.downScaleImgCanvas=function(i,e,t){var s=this.parent,r=s.baseImgCanvas,o=s.baseImg,a={width:0,height:0};if(s.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:o.width,height:o.height,obj:a,isImgShape:null}}),a.width>e&&a.height>t){var d=s.createElement("canvas",{id:s.element.id+"_downScaleCanvas",attrs:{name:"canvasImage"}});d.width=this.parent.img.srcWidth,d.height=this.parent.img.srcHeight,d.getContext("2d").drawImage(r,s.img.srcLeft,s.img.srcTop,s.img.srcWidth,s.img.srcHeight,0,0,d.width,d.height),s.notify("draw",{prop:"downScale",value:{canvas:d,width:e,height:t}}),i.drawImage(d,0,0)}else i.drawImage(s.baseImgCanvas,s.img.srcLeft,s.img.srcTop,s.img.srcWidth,s.img.srcHeight,0,0,e,t)},h.prototype.updateFrame=function(i,e){if("none"!==this.parent.frameObj.type){var t=i.filter;i.filter="none",this.parent.notify("draw",{prop:"applyFrame",value:{ctx:i,frame:this.parent.frameObj.type,preventImg:e}}),i.filter=t}},h.prototype.downloadImg=function(i,e){var t=document.createElement("a");t.href=i,t.target="_parent",t.download=e,(document.body||document.documentElement).appendChild(t),t.click(),t.parentNode.removeChild(t)},h.prototype.exportTransformedImage=function(i){var e=this.parent,t=e.transform.degree;if(e.rotateFlipColl.length>0)for(var s=0,r=e.rotateFlipColl.length;s<r;s++){var o=e.rotateFlipColl[s];"number"==typeof o?this.exportRotate(i,o):"horizontal"===o?this.exportFlip(i,!0,!1):"vertical"===o&&this.exportFlip(i,!1,!0)}e.transform.degree=t},h.prototype.exportRotate=function(i,e){var t=this.parent;i.clearRect(0,0,i.canvas.width,i.canvas.height),this.setMaxDim(t.transform.degree,i.canvas),i.translate(i.canvas.width/2,i.canvas.height/2),i.rotate(Math.PI/180*e),i.drawImage(t.inMemoryCanvas,-i.canvas.height/2,-i.canvas.width/2,i.canvas.height,i.canvas.width),this.updateSaveContext(i)},h.prototype.exportFlip=function(i,e,t){i.clearRect(0,0,i.canvas.width,i.canvas.height),e&&(i.translate(i.canvas.width,0),i.scale(-1,1)),t&&(i.translate(0,i.canvas.height),i.scale(1,-1)),i.drawImage(this.parent.inMemoryCanvas,0,0),this.updateSaveContext(i)},h.prototype.updateSaveContext=function(i){var e=this.parent.inMemoryCanvas.getContext("2d");i.setTransform(1,0,0,1,0,0);var t=i.getImageData(0,0,i.canvas.width,i.canvas.height);this.parent.inMemoryCanvas.width=t.width,this.parent.inMemoryCanvas.height=t.height,e.putImageData(t,0,0)},h.prototype.setMaxDim=function(i,e){var t,s;i%90==0&&i%180!=0?(0,n.le)(this.parent.currSelectionPoint)?(t=this.parent.baseImgCanvas.height,s=this.parent.baseImgCanvas.width):(t=this.parent.img.srcHeight,s=this.parent.img.srcWidth):(i%180==0||0===i)&&((0,n.le)(this.parent.currSelectionPoint)?(t=this.parent.baseImgCanvas.width,s=this.parent.baseImgCanvas.height):(t=this.parent.img.srcWidth,s=this.parent.img.srcHeight)),(0,n.le)(this.parent.aspectWidth)||(t=this.parent.aspectWidth,s=this.parent.aspectHeight),e.width=t,e.height=s;var r={width:0,height:0};this.parent.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:t,height:s,obj:r,isImgShape:null}});var o=r;e.style.maxWidth=o.width+"px",e.style.maxHeight=o.height+"px"},h}(),KC=function(){function h(i){this.adjustmentLevel={brightness:0,contrast:0,hue:0,opacity:100,saturation:0,blur:0,exposure:0,transparency:100,sharpen:!1,bw:!1},this.tempAdjustmentLevel={brightness:0,contrast:0,hue:0,opacity:100,saturation:0,blur:0,exposure:0,transparency:100,sharpen:!1,bw:!1},this.adjustmentValue="",this.isBrightnessAdjusted=!1,this.bevelFilter="none",this.tempAdjVal={brightness:0,contrast:0,hue:0,opacity:100,saturation:0,blur:0,exposure:0,transparency:100,sharpen:!1,bw:!1},this.tempFilVal="",this.parent=i,this.addEventListener()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("filter",this.filter,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("filter",this.filter),this.parent.off("destroyed",this.destroy)},h.prototype.filter=function(i){switch(this.updatePrivateVariables(),i.prop){case"finetuneImage":this.finetuneImage(i.value.option,i.value.value);break;case"applyImageFilter":this.setFilter(i.value.option);break;case"update-finetunes":this.updateFinetunes();break;case"set-adjustment":this.setAdjustment(i.value.operation);break;case"update-filter":this.updateFilter(i.value.operation,i.value.filter);break;case"initFilter":this.initFilter();break;case"setCurrAdjValue":this.setCurrAdjValue(i.value.type,i.value.value);break;case"updateAdj":this.updateAdj(i.value.type,i.value.value,i.value.isPreview,i.value.ctx);break;case"getCurrentObj":this.getCurrentObj(i.value.object);break;case"getAdjustmentLevel":this.adjustmentLevel.transparency=(0,n.le)(this.parent.activeObj.opacity)?100:100*this.parent.activeObj.opacity,i.value.obj.adjustmentLevel=this.adjustmentLevel;break;case"setAdjustmentLevel":this.adjustmentLevel=i.value.adjustmentLevel;break;case"getTempAdjustmentLevel":i.value.obj.tempAdjustmentLevel=this.tempAdjustmentLevel;break;case"setTempAdjustmentLevel":this.tempAdjustmentLevel=i.value.tempAdjustmentLevel;break;case"setAdjustmentValue":this.adjustmentValue=i.value.adjustmentValue;break;case"getBrightnessAdjusted":i.value.obj.isBrightnessAdjusted=this.isBrightnessAdjusted;break;case"setBrightnessAdjusted":this.isBrightnessAdjusted=i.value.isBrightnessAdjusted,this.parent.currentFilter.split("_")&&"cold"===this.parent.currentFilter.split("_")[1]&&(this.isBrightnessAdjusted=!1);break;case"getBevelFilter":i.value.obj.bevelFilter=this.bevelFilter;break;case"setBevelFilter":this.bevelFilter=i.value.bevelFilter;break;case"setTempAdjVal":this.tempAdjVal=(0,n.l7)({},this.adjustmentLevel,{},!0);break;case"setTempFilVal":this.tempFilVal=this.parent.currentFilter;break;case"reset":this.reset()}},h.prototype.updatePrivateVariables=function(){var i=this.parent;i.lowerCanvas&&(this.lowerContext=i.lowerCanvas.getContext("2d"))},h.prototype.getModuleName=function(){return"filter"},h.prototype.reset=function(){this.adjustmentLevel={brightness:0,contrast:0,hue:0,opacity:100,saturation:0,blur:0,exposure:0,transparency:100,sharpen:!1,bw:!1},this.tempAdjustmentLevel={brightness:0,contrast:0,hue:0,opacity:100,saturation:0,blur:0,exposure:0,transparency:100,sharpen:!1,bw:!1},this.adjustmentValue=this.parent.getDefaultFilter(),this.isBrightnessAdjusted=!1,this.bevelFilter="none",this.tempFilVal="",this.tempAdjVal={brightness:0,contrast:0,hue:0,opacity:100,saturation:0,blur:0,exposure:0,transparency:100,sharpen:!1,bw:!1}},h.prototype.updateFinetunes=function(){var i=this,e=this.parent,t=e.finetuneSettings;t&&(["brightness","contrast","hue","saturation","exposure","opacity","blur"].forEach(function(r){t[r]&&(i.adjustmentLevel[r]=t[r].defaultValue,i.tempAdjustmentLevel[r]=t[r].defaultValue)}),e.notify("draw",{prop:"isInitialLoading",onPropertyChange:!1,value:{isInitialLoading:!0}}))},h.prototype.initFilter=function(){this.setFilterAdj("brightness",this.adjustmentLevel.brightness),this.setFilterAdj("contrast",this.adjustmentLevel.contrast),this.setFilterAdj("hue",this.adjustmentLevel.hue),this.setFilterAdj("saturation",this.adjustmentLevel.saturation),this.setFilterAdj("exposure",this.adjustmentLevel.exposure),this.setFilterAdj("opacity",this.adjustmentLevel.opacity),this.setFilterAdj("blur",this.adjustmentLevel.blur)},h.prototype.updateAdj=function(i,e,t,s){var r=this.parent;this.lowerContext.clearRect(0,0,r.lowerCanvas.width,r.lowerCanvas.height);var u,f,v,g,b,o=this.lowerContext.filter.split(" "),a=[],d=this.getFilterValue(this.adjustmentLevel.brightness);if(-1===["brightness","contrast","hue","saturation","exposure","opacity","blur"].indexOf(i)&&(0,n.le)(t)&&(this.adjustmentLevel.sharpen||this.adjustmentLevel.bw)){r.isUndoRedo=!0;var p=this.lowerContext.filter;this.lowerContext.filter="none",r.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),r.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),this.lowerContext.filter=p,r.isUndoRedo=!1}switch(i){case"brightness":e=this.getFilterValue(this.adjustmentLevel.exposure)+.005*e,o[0]="brightness("+e+")",o[4]=0!==this.adjustmentLevel.brightness?"opacity("+(e=this.adjustmentLevel.opacity/100-.3*this.adjustmentLevel.opacity/100)+")":"opacity("+(e=this.adjustmentLevel.opacity/100)+")",this.adjustmentValue=o.join(" ");break;case"contrast":o[1]="contrast("+e+"%)",this.adjustmentValue=o.join(" ");break;case"hue":o[2]="hue-rotate("+e+"deg)",this.adjustmentValue=o.join(" ");break;case"saturation":o[3]="saturate("+e+"%)",this.adjustmentValue=o.join(" ");break;case"opacity":1!==parseFloat(o[0].split("(")[1])&&(e-=.2),e<0&&(e=0),o[4]="opacity("+e+")",this.adjustmentValue=o.join(" ");break;case"blur":o[5]="blur("+e+"px)",this.adjustmentValue=o.join(" ");break;case"exposure":e>1?(e-=1,e+=d):e<1&&(e=d-(e=1-e)),o[0]="brightness("+e+")",this.adjustmentValue=o.join(" ");break;case"chrome":u=this.getSaturationFilterValue(this.adjustmentLevel.saturation),o[3]="saturate("+(e=(u*=100)+.4*u)+"%)",a=this.adjustmentValue.split(" "),o[0]=a[0],o[1]=a[1],o[2]=a[2],o[4]=a[4],o[5]=a[5],o[6]="sepia(0%)",o[7]="grayscale(0%)",o[8]="invert(0%)";break;case"cold":f=this.getFilterValue(this.adjustmentLevel.brightness),e=.9*(f*=100),o[0]="brightness("+(e*=.01)+")",g=this.getFilterValue(this.adjustmentLevel.contrast),o[1]="contrast("+(e=(g*=100)+.5*g)+"%)",b=this.getSaturationFilterValue(this.adjustmentLevel.saturation),o[3]="saturate("+(e=b*=100)+"%)",a=this.adjustmentValue.split(" "),o[2]=a[2],o[4]=a[4],o[5]=a[5],o[6]="sepia(0%)",o[7]="grayscale(0%)",o[8]="invert(0%)";break;case"warm":v=this.getSaturationFilterValue(this.adjustmentLevel.saturation),o[3]="saturate("+(e=(v*=100)+.4*v)+"%)",o[6]="sepia(25%)",a=this.adjustmentValue.split(" "),o[0]=a[0],o[1]=a[1],o[2]=a[2],o[4]=a[4],o[5]=a[5],o[7]="grayscale(0%)",o[8]="invert(0%)";break;case"grayscale":o[7]="grayscale(100%)",a=this.adjustmentValue.split(" "),o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[4]=a[4],o[5]=a[5],o[6]="sepia(0%)",o[8]="invert(0%)";break;case"sepia":o[6]="sepia(100%)",a=this.adjustmentValue.split(" "),o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[4]=a[4],o[5]=a[5],o[7]="grayscale(0%)",o[8]="invert(0%)";break;case"invert":o[8]="invert(100%)",a=this.adjustmentValue.split(" "),o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[4]=a[4],o[5]=a[5],o[6]="sepia(0%)",o[7]="grayscale(0%)"}if("sharpen"!==i&&"blackandwhite"!==i){(0,n.le)(t)&&("default"===i&&(o=this.getDefaultCurrentFilter(o)),this.lowerContext.filter=o.join(" ")),o=this.setTempFilterValue(d,t,o,i),r.notify("draw",{prop:"setRotateZoom",onPropertyChange:!1,value:{isRotateZoom:!0}}),r.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,isRotatePan:null}});var C=void 0;"bevel"===r.frameObj.type&&(this.bevelFilter=C=this.lowerContext.filter),0===r.transform.degree&&r.rotateFlipColl.length>0&&(r.img.destLeft+=r.panPoint.totalPannedPoint.x,r.img.destTop+=r.panPoint.totalPannedPoint.y),r.img.destLeft+=r.panPoint.totalPannedInternalPoint.x,r.img.destTop+=r.panPoint.totalPannedInternalPoint.y,0===r.transform.degree&&r.notify("transform",{prop:"setDestPointsForFlipState",onPropertyChange:!1}),r.notify("draw",{prop:"drawImage",onPropertyChange:!1}),r.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:null,isRotatePan:null}}),r.notify("draw",{prop:"setRotateZoom",onPropertyChange:!1,value:{isRotateZoom:!1}}),0===r.transform.degree&&r.rotateFlipColl.length>0&&(r.img.destLeft+=r.panPoint.totalPannedPoint.x,r.img.destTop+=r.panPoint.totalPannedPoint.y),o=this.setTempFilterValue(d,t,o,i),(0,n.le)(t)&&(this.lowerContext.filter=o.join(" ")),r.initialAdjustmentValue=o.join(" "),C=this.lowerContext.filter,this.lowerContext.filter="brightness(1) contrast(100%) hue-rotate(0deg) saturate(100%) opacity(1) blur(0px) sepia(0%) grayscale(0%) invert(0%)",this.bevelFilter=C,r.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),r.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),this.lowerContext.filter=C,r.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),(r.currSelectionPoint&&"crop-circle"===r.currSelectionPoint.shape||r.isCircleCrop)&&r.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),this.isBrightnessAdjusted=1!==d}var T=o.join(" ");s&&(s.filter=T)},h.prototype.setTempFilterValue=function(i,e,t,s){if(e)if("default"===s)t=this.getDefaultCurrentFilter(t);else if(1!==i){var r=this.lowerContext.filter.split(" ");r[4]=t[4],this.lowerContext.filter=r.join(" ")}return t},h.prototype.getDefaultCurrentFilter=function(i){var e=this.adjustmentValue.split(" ");return[e[0],e[1],e[2],e[3],e[4],e[5],"sepia(0%)","grayscale(0%)","invert(0%)"]},h.prototype.getFilterValue=function(i){return 0===i?1:1+.5*i/100},h.prototype.getSaturationFilterValue=function(i){return 0===i?1:1+i/100},h.prototype.setFilterAdj=function(i,e){var t=this.parent;switch(t.notify("freehand-draw",{prop:"apply-pen-draw",onPropertyChange:!1}),this.adjustmentLevel[""+i]=e,i){case"contrast":case"exposure":e=this.getFilterValue(e),"contrast"===i&&(e*=100);break;case"hue":e*=3;break;case"saturation":e=100*this.getSaturationFilterValue(e);break;case"opacity":e<10&&(e+=1),e/=100;break;case"blur":0!==e&&(e/=20,e+=.5)}var s=(0,n.l7)({},t.cropObj,{},!0),r=this.getCurrentObj();r.objColl=(0,n.l7)([],t.objColl,[],!0),r.pointColl=(0,n.l7)([],t.pointColl,[],!0),r.afterCropActions=(0,n.l7)([],t.afterCropActions,[],!0);var o={selPointColl:null};t.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:o}}),r.selPointColl=(0,n.l7)([],o.selPointColl,[],!0),this.updateAdj(i,e),t.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:i,previousObj:r,previousObjColl:r.objColl,previousPointColl:r.pointColl,previousSelPointColl:r.selPointColl,previousCropObj:s,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}})},h.prototype.setFilter=function(i){var e=this.parent;i=i.toLowerCase(),e.notify("freehand-draw",{prop:"apply-pen-draw",onPropertyChange:!1});var s=this.parent.currentFilter,r=(0,n.l7)({},e.cropObj,{},!0),o=this.getCurrentObj();o.objColl=(0,n.l7)([],e.objColl,[],!0),o.pointColl=(0,n.l7)([],e.pointColl,[],!0),o.afterCropActions=(0,n.l7)([],e.afterCropActions,[],!0);var a={selPointColl:null};e.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:a}}),o.selPointColl=(0,n.l7)([],a.selPointColl,[],!0),this.updateAdj(i,null),e.notify("draw",{prop:"setImageEdited",onPropertyChange:!1}),e.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:i,previousObj:o,previousObjColl:o.objColl,previousPointColl:o.pointColl,previousSelPointColl:o.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:s,isCircleCrop:null}})},h.prototype.setAdjustment=function(i){var t,s,e=this.lowerContext.filter.split(" ");switch(i){case"brightness":s=e[0].split("("),t=parseFloat(s[1].split(")")[0]),this.adjustmentLevel.brightness=this.setFilterValue(t);break;case"contrast":s=e[1].split("("),t=parseFloat(s[1].split(")")[0]),this.adjustmentLevel.contrast=this.setFilterValue(t/=100);break;case"hue":s=e[2].split("("),t=parseFloat(s[1].split(")")[0]),this.adjustmentLevel.hue=t/=3;break;case"saturation":s=e[3].split("("),t=parseFloat(s[1].split(")")[0]),this.adjustmentLevel.saturation=this.setSaturationFilterValue(t/=100);break;case"opacity":s=e[4].split("("),.45===(t=parseFloat(s[1].split(")")[0]))?t=40:.4===t?t=30:.35===t?t=20:.3===t?t=10:.25===t?t=0:t*=100,this.adjustmentLevel.opacity=t;break;case"blur":s=e[5].split("("),t=parseFloat(s[1].split(")")[0]),this.adjustmentLevel.blur=t*=20;break;case"exposure":s=e[0].split("("),t=parseFloat(s[1].split(")")[0]),this.adjustmentLevel.exposure=this.setFilterValue(t)}},h.prototype.setFilterValue=function(i){return Math.round(1===i?0:100*(i-1)/.5)},h.prototype.setSaturationFilterValue=function(i){return Math.round(1===i?0:100*(i-1))},h.prototype.updateFilter=function(i,e){var t=this.parent;if(-1!==["default","chrome","cold","warm","grayscale","blackandwhite","sepia","invert","sharpen"].indexOf(i)){var r=t.element.querySelector(".e-contextual-toolbar-wrapper .e-toolbar-item.e-selected");r&&r.classList.remove("e-selected");var o=document.getElementById(t.element.id+"_"+i+"Canvas");o&&o.parentElement.classList.add("e-selected"),this.parent.currentFilter=e||t.element.id+"_"+i}},h.prototype.finetuneImage=function(i,e){var t=this.parent;if(!t.disabled&&t.isImageLoaded){switch(i.toLowerCase()){case"brightness":this.setFilterAdj("brightness",e);break;case"contrast":this.setFilterAdj("contrast",e);break;case"hue":this.setFilterAdj("hue",e);break;case"saturation":this.setFilterAdj("saturation",e);break;case"opacity":this.setFilterAdj("opacity",e);break;case"blur":this.setFilterAdj("blur",e);break;case"exposure":this.setFilterAdj("exposure",e)}this.parent.canvasFilter=this.lowerContext.filter,t.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}})}},h.prototype.setCurrAdjValue=function(i,e){var t=this.parent;switch(this.parent.notify("draw",{prop:"setImageEdited",onPropertyChange:!1}),i){case"brightness":this.setFilterAdj("brightness",e);break;case"contrast":this.setFilterAdj("contrast",e);break;case"hue":this.setFilterAdj("hue",e);break;case"saturation":this.setFilterAdj("saturation",e);break;case"opacity":this.setFilterAdj("opacity",e);break;case"blur":this.setFilterAdj("blur",e);break;case"exposure":this.setFilterAdj("exposure",e)}t.isFinetuneBtnClick=!0,t.curFinetuneObjEvent={finetune:t.toPascalCase(i),value:e}},h.prototype.getCurrentObj=function(i){var e=this.parent,t={point:null};e.notify("crop",{prop:"getTempFlipPanPoint",value:{obj:t}});var s={previousZoomValue:null};e.notify("transform",{prop:"getPreviousZoomValue",value:{obj:s}});var r={zoomFactor:null};e.notify("draw",{prop:"getStraightenInitZoom",value:{obj:r}});var o={cropZoom:0,defaultZoom:0,totalPannedPoint:{x:0,y:0},totalPannedClientPoint:{x:0,y:0},totalPannedInternalPoint:{x:0,y:0},tempFlipPanPoint:{x:0,y:0},activeObj:{},rotateFlipColl:[],degree:0,currFlipState:"",zoomFactor:0,previousZoomValue:0,straighten:0,destPoints:{startX:0,startY:0,width:0,height:0},frame:"none",srcPoints:{startX:0,startY:0,width:0,height:0},filter:"",isBrightAdjust:this.isBrightnessAdjusted,aspectWidth:null,aspectHeight:null,straightenZoom:0,adjustmentLevel:(0,n.l7)({},this.tempAdjVal,{},!0),currentFilter:this.tempFilVal};return o.cropZoom=e.transform.cropZoomFactor,o.defaultZoom=e.transform.defaultZoomFactor,o.zoomFactor=e.zoomSettings.zoomFactor,o.previousZoomValue=s.previousZoomValue,o.straightenZoom=r.zoomFactor,o.totalPannedPoint=(0,n.l7)({},e.panPoint.totalPannedPoint,{},!0),o.totalPannedClientPoint=(0,n.l7)({},e.panPoint.totalPannedClientPoint,{},!0),o.totalPannedInternalPoint=(0,n.l7)({},e.panPoint.totalPannedInternalPoint,{},!0),o.tempFlipPanPoint=(0,n.l7)({},t.point,{},!0),o.activeObj=(0,n.l7)({},e.activeObj,{},!0),o.rotateFlipColl=(0,n.l7)([],e.rotateFlipColl,[],!0),o.degree=e.transform.degree,o.straighten=e.cropObj.straighten,o.currFlipState=e.transform.currFlipState,o.destPoints={startX:e.img.destLeft,startY:e.img.destTop,endX:0,endY:0,width:e.img.destWidth,height:e.img.destHeight},o.srcPoints={startX:e.img.srcLeft,startY:e.img.srcTop,endX:0,endY:0,width:e.img.srcWidth,height:e.img.srcHeight},o.filter=this.lowerContext.filter,o.aspectWidth=e.aspectWidth,o.aspectHeight=e.aspectHeight,o.frame=e.frameObj.type,o.frameObj=(0,n.l7)({},e.frameObj),i&&(i.currObj=o),o},h}(),e_=function(){function h(i){this.fhdObj={lastWidth:0,lastVelocity:0,time:0,pointX:0,pointY:0},this.isFreehandDrawing=!1,this.freehandDownPoint={x:0,y:0},this.isFreehandPointMoved=!1,this.pointCounter=0,this.selPointColl={},this.currFHDIdx=0,this.selPoints=[],this.dummyPoints=[],this.tempFHDStyles={strokeColor:null,fillColor:null,strokeWidth:null},this.straightenPoint={x:null,y:null,ratioX:null,ratioY:null},this.straightenPointAngle=0,this.parent=i,this.addEventListener()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("freehand-draw",this.draw,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("freehand-draw",this.draw),this.parent.off("destroyed",this.destroy)},h.prototype.draw=function(i){switch(this.updateFhdPvtVar(),i.prop){case"hoverFhd":this.hoverFhd(i.value.strokeColor,i.value.strokeWidth);break;case"freehandDownHandler":this.freehandDownHandler(i.value.e,i.value.canvas);break;case"freehandUpHandler":this.freehandUpHandler(i.value.e,i.value.canvas,i.value.context);break;case"handle-freehand-draw":var e=parseInt(i.value.id.split("_")[1],10)-1;this.isFHDIdx(e)&&this.deleteFhd(e,!0);break;case"freehandRedraw":this.freehandRedraw(i.value.context,i.value.points);break;case"deleteFhd":e=parseInt(i.value.id.split("_")[1],10)-1,this.deleteFhd(e,!0);break;case"selectFhd":e=null,i.value.id&&(e=parseInt(i.value.id.split("_")[1],10)-1),this.selectFhd(e);break;case"applyFhd":this.applyFhd();break;case"cancelFhd":this.cancelFhd();break;case"updateFHDCurPts":this.updateFHDCurPts();break;case"rotateFhdColl":this.rotateFhdColl();break;case"flipFHDColl":this.flipFHDColl(i.value.value);break;case"panFHDColl":this.panFHDColl(i.value.xDiff,i.value.yDiff,i.value.panRegion);break;case"updateFHDColl":i.value&&i.value.isPreventApply?this.updateFHDColl(i.value.isPreventApply):this.updateFHDColl();break;case"zoomFHDColl":this.zoomFHDColl(i.value.isPreventApply);break;case"apply-pen-draw":this.applyPenDraw();break;case"freeHandDraw":this.freeHandDraw(i.value.value);break;case"isFHDIdx":this.isFHDIdx(i.value.index,i.value.obj);break;case"getSqPtFD":this.getSqPtFD(i.value.idx,i.value.obj);break;case"getSelPointColl":i.value.obj.selPointColl=(0,n.l7)([],this.selPointColl);break;case"setSelPointColl":this.selPointColl=(0,n.l7)([],i.value.obj.selPointColl);break;case"setFreehandDrawHoveredIndex":this.fhdHovIdx=i.value.index;break;case"getFreehandDrawHoveredIndex":i.value.obj.index=this.fhdHovIdx;break;case"setPointCounter":this.pointCounter=i.value.value;break;case"getPenStrokeWidth":i.value.obj.penStrokeWidth=this.penStrokeWidth;break;case"setPenStrokeWidth":this.penStrokeWidth=i.value.value;break;case"getCurrentFreehandDrawIndex":i.value.obj.currentFreehandDrawIndex=this.currFHDIdx;break;case"setCurrentFreehandDrawIndex":this.currFHDIdx=i.value.value;break;case"updateCropPtsForSel":this.updateCropPtsForSel();break;case"getFreehandDrawSelectedId":i.value.obj.freehandDrawSelectedId=this.fhdSelID;break;case"resetFreehandDrawSelectedId":this.fhdSelID=null;break;case"getTempFreeHandDrawEditingStyles":i.value.obj.tempFreeHandDrawEditingStyles=this.tempFHDStyles;break;case"setFreehandSelectedIndex":this.fhdSelIdx=i.value.index;break;case"getFreehandSelectedIndex":i.value.obj.freehandSelectedIndex=this.fhdSelIdx;break;case"setCenterSelPoints":this.setCenterSelPoints();break;case"getStraightenPoint":i.value.obj.straightenPoint=(0,n.l7)({},this.straightenPoint,{},!0);break;case"setStraightenPoint":this.straightenPoint.x=i.value.x,this.straightenPoint.y=i.value.y,i.value.ratioX&&i.value.ratioY&&(this.straightenPoint.ratioX=i.value.ratioX,this.straightenPoint.ratioY=i.value.ratioY);break;case"resetStraightenPoint":this.straightenPoint={x:null,y:null,ratioX:null,ratioY:null},this.prevStraightenObj=null,this.straightenPointAngle=0;break;case"getStraightenPointAngle":i.value.obj.angle=this.straightenPointAngle;break;case"reset":this.reset()}},h.prototype.updateFhdPvtVar=function(){var i=this.parent;i.lowerCanvas&&(this.lowerContext=i.lowerCanvas.getContext("2d")),i.upperCanvas&&(this.upperContext=i.upperCanvas.getContext("2d"))},h.prototype.reset=function(){this.fhdObj={lastWidth:0,lastVelocity:0,time:0,pointX:0,pointY:0},this.isFreehandDrawing=this.isFreehandPointMoved=!1,this.selPoints=[],this.dummyPoints=[],this.freehandDownPoint={x:0,y:0},this.selPointColl={},this.straightenPointAngle=0,this.fhdHovIdx=null,this.pointCounter=0,this.fhdSelID=null,this.penStrokeWidth=void 0,this.currFHDIdx=0,this.fhdSelIdx=null,this.tempFHDStyles={strokeColor:null,fillColor:null,strokeWidth:null},this.straightenPoint={x:null,y:null,ratioX:null,ratioY:null},this.prevStraightenObj=null},h.prototype.getModuleName=function(){return"freehand-draw"},h.prototype.hoverFhd=function(i,e){var r,t=this.parent,s=this.upperContext;t.points=(0,n.l7)([],t.pointColl[r=this.fhdHovIdx>-1?this.fhdHovIdx:this.fhdSelIdx].points),this.pointCounter=0;var a,d,c,p,u,f,o=t.points.length;s.fillStyle=i||t.pointColl[r].strokeColor,s.strokeStyle=s.fillStyle,u=f=this.penStrokeWidth=e||t.pointColl[r].strokeWidth,1===o&&(a=d=c=p=t.points[0],this.startDraw(s,a,d,c,p,u,f));for(var v=0;v<o-3;v++)t.points[v+1]&&t.points[v+2]&&t.points[v+2]&&(a=this.calcCurveCP(t.points[v+0],t.points[v+1],t.points[v+2]).controlPoint2,d=this.calcCurveCP(t.points[v+1],t.points[v+2],t.points[v+3]).controlPoint1,this.startDraw(s,a,d,c=0===v?t.points[v]:t.points[v+1],p=t.points[v+2],u,f));s.closePath();var g=this.getSqPtFD(r),b=s.lineWidth;s.lineWidth=2,s.strokeStyle=t.themeColl[t.theme].primaryColor,s.beginPath(),s.rect(g.startX,g.startY,g.width,g.height),s.stroke(),s.closePath(),s.lineWidth=b},h.prototype.freehandDownHandler=function(i,e){var t=this.parent;t.lowerCanvas=document.querySelector("#"+t.element.id+"_lowerCanvas"),this.lowerContext=t.lowerCanvas.getContext("2d"),t.upperCanvas=document.querySelector("#"+t.element.id+"_upperCanvas"),this.upperContext=t.upperCanvas.getContext("2d"),this.fhdObj.time=(new Date).getTime(),this.isFreehandDrawing=!0,this.freehandDownPoint="mousedown"===i.type?{x:i.clientX,y:i.clientY}:{x:i.touches[0].clientX,y:i.touches[0].clientY},this.isFreehandPointMoved=!1,n.bi.add(e,"mousemove touchmove",this.freehandMoveHandler,this);var s={id:"pen_"+(this.currFHDIdx+1),type:Un.FreehandDraw,startX:this.freehandDownPoint.x,startY:this.freehandDownPoint.y,strokeColor:t.activeObj.strokeSettings.strokeColor,strokeWidth:this.penStrokeWidth,points:null};this.triggerShapeChanging({cancel:!1,action:"draw-start",previousShapeSettings:s,currentShapeSettings:s})},h.prototype.freehandUpHandler=function(i,e,t){var s=e.getBoundingClientRect(),r=this.parent;n.bi.remove(e,"mousemove touchmove",this.freehandMoveHandler),0===r.points.length&&("mouseup"===i.type?this.processPoint(i.clientX-s.left,i.clientY-s.top,!0,t):"touchend"===i.type&&i.changedTouches?this.processPoint(i.changedTouches[0].clientX-s.left,i.changedTouches[0].clientY-s.top,!0,t):this.isFreehandPointMoved||this.processPoint(this.freehandDownPoint.x-s.left,this.freehandDownPoint.y-s.top,!0,t)),t.closePath();var o=(0,n.l7)({},r.cropObj,{},!0),a={currObj:{}};r.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}});var d=a.currObj;d.objColl=(0,n.l7)([],r.objColl,[],!0),d.pointColl=(0,n.l7)([],r.pointColl,[],!0),d.afterCropActions=(0,n.l7)([],r.afterCropActions,[],!0);var c={selPointColl:null};r.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:c}}),d.selPointColl=(0,n.l7)([],c.selPointColl,[],!0);var p=r.freehandCounter;r.pointColl[p]={points:(0,n.l7)([],r.points),strokeColor:r.activeObj.strokeSettings.strokeColor,strokeWidth:this.penStrokeWidth,flipState:r.transform.currFlipState,id:"pen_"+(this.currFHDIdx+1)},r.points=[],this.dummyPoints=[],this.selPointColl[p]={points:(0,n.l7)([],this.selPoints)},this.selPoints=[],this.pointCounter=0,r.freehandCounter++,this.isFreehandDrawing=!1,r.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"freehand-draw",previousObj:d,previousObjColl:d.objColl,previousPointColl:d.pointColl,previousSelPointColl:d.selPointColl,previousCropObj:o,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}});var u={id:"pen_"+(this.currFHDIdx+1),type:Un.FreehandDraw,startX:this.freehandDownPoint.x,startY:this.freehandDownPoint.y,strokeColor:r.activeObj.strokeSettings.strokeColor,strokeWidth:this.penStrokeWidth,points:r.pointColl[this.currFHDIdx].points};this.triggerShapeChanging({cancel:!1,action:"draw-end",previousShapeSettings:u,currentShapeSettings:u}),this.currFHDIdx++},h.prototype.freehandMoveHandler=function(i){this.isFreehandPointMoved=!0;var t,s,e=this.parent.upperCanvas.getBoundingClientRect();"mousemove"===i.type?(t=i.clientX-e.left,s=i.clientY-e.top):(t=i.touches[0].clientX-e.left,s=i.touches[0].clientY-e.top),this.isFreehandDrawing&&(this.upperContext.fillStyle=this.parent.activeObj.strokeSettings.strokeColor,this.processPoint(t,s,!1,this.upperContext))},h.prototype.processPoint=function(i,e,t,s){var d,c,p,u,r=this.parent,o=this.point(i,e,(new Date).getTime()),a=!!(o=r.points.length>0&&r.points[r.points.length-1])&&this.distanceTo(o)<=5;if(this.selPoints.push({x:i,y:e,ratioX:(i-r.img.destLeft)/r.img.destWidth,ratioY:(e-r.img.destTop)/r.img.destHeight,time:this.fhdObj.time}),!o||!o||!a||t){if(this.fhdObj.time=(new Date).getTime(),r.points.push({x:i,y:e,ratioX:(i-r.img.destLeft)/r.img.destWidth,ratioY:(e-r.img.destTop)/r.img.destHeight,time:this.fhdObj.time}),this.dummyPoints.push({x:i,y:e,ratioX:(i-r.img.destLeft)/r.img.destWidth,ratioY:(e-r.img.destTop)/r.img.destHeight,time:this.fhdObj.time}),this.dummyPoints.length>2){3===this.dummyPoints.length&&this.dummyPoints.unshift(this.dummyPoints[0]);var v=this.dummyPoints[1],g=this.dummyPoints[2],b=this.dummyPoints[3];d=this.calcCurveCP(this.dummyPoints[0],v,g).controlPoint2,c=this.calcCurveCP(v,g,b).controlPoint1,p=this.dummyPoints[1],u=this.dummyPoints[2];var C=.5,T=5;(0,n.le)(this.penStrokeWidth)||(C=T=this.penStrokeWidth),this.startDraw(s,d,c,p,u,C,T),this.pointCounter++,this.dummyPoints.shift()}t&&(d=c=p=u={x:i,y:e,time:(new Date).getTime()},C=.5,T=5,(0,n.le)(this.penStrokeWidth)||(C=T=this.penStrokeWidth),this.startDraw(s,d,c,p,u,C,T))}},h.prototype.calcCurveCP=function(i,e,t){e||(e=i),t||(t=e);var s=i.x-e.x,r=i.y-e.y,o=e.x-t.x,a=e.y-t.y,d_x=(i.x+e.x)/2,d_y=(i.y+e.y)/2,c_x=(e.x+t.x)/2,c_y=(e.y+t.y)/2,p=Math.sqrt(s*s+r*r),u=Math.sqrt(o*o+a*a),g=u/(p+u),C=e.x-(c_x+(d_x-c_x)*g),T=e.y-(c_y+(d_y-c_y)*g);return{controlPoint1:this.point(d_x+C,d_y+T,0),controlPoint2:this.point(c_x+C,c_y+T,0)}},h.prototype.point=function(i,e,t){return this.fhdObj.pointX=i,this.fhdObj.pointY=e,{x:this.fhdObj.pointX,y:this.fhdObj.pointY,time:t}},h.prototype.startDraw=function(i,e,t,s,r,o,a){var d;d=.7*(d=this.pointVelocity(s))+(1-.7)*this.fhdObj.lastVelocity;var c=Math.max(a/1.7,o);this.drawCurve(this.fhdObj.time,c,i,e,t,s,r,a),this.fhdObj.lastVelocity=d,this.fhdObj.time=c},h.prototype.pointVelocity=function(i){return this.fhdObj.time!==i.time?this.distanceTo(i)/(this.fhdObj.time-i.time):0},h.prototype.distanceTo=function(i){return Math.sqrt(Math.pow(this.fhdObj.pointX-i.x,2)+Math.pow(this.fhdObj.pointY-i.y,2))},h.prototype.drawCurve=function(i,e,t,s,r,o,a,d){var c,p,u,f,v,g,b,C,T,O,j=e-i,Y=this.bezierLength(s,r,o,a),H=2*Math.ceil(Y);for(t.beginPath(),p=0;p<H;p++)T=(C=(b=(g=1-(u=p/H))*g)*g)*o.x,T+=3*b*u*s.x,T+=3*g*(f=u*u)*r.x,T+=(v=f*u)*a.x,O=C*o.y,O+=3*b*u*s.y,O+=3*g*f*r.y,O+=v*a.y,c=Math.min(i+v*j,d),this.drawArc(T,O,c,t);t.closePath(),t.fill()},h.prototype.bezierLength=function(i,e,t,s){var a,d,c,p,u,f,v,g,o=0;for(a=0;a<=10;a++)c=this.bezierPoint(d=a/10,t.x,i.x,e.x,s.x),p=this.bezierPoint(d,t.y,i.y,e.y,s.y),a>0&&(v=c-u,g=p-f,o+=Math.sqrt(v*v+g*g)),u=c,f=p;return o},h.prototype.bezierPoint=function(i,e,t,s,r){return e*(1-i)*(1-i)*(1-i)+3*t*(1-i)*(1-i)*i+3*s*(1-i)*i*i+r*i*i*i},h.prototype.drawArc=function(i,e,t,s){var r=this.parent.img;(i>r.destLeft&&e>r.destTop&&i<r.destLeft+r.destWidth&&e<r.destTop+r.destHeight||s!==this.lowerContext&&s!==this.upperContext)&&(s.moveTo(i,e),s.arc(i,e,t,0,2*Math.PI,!1))},h.prototype.freehandRedraw=function(i,e){var t=this.parent,s=i.filter;if(i.filter="none",e&&(t.pointColl[t.freehandCounter]={points:e,strokeColor:t.activeObj.strokeSettings.strokeColor,strokeWidth:this.penStrokeWidth,flipState:t.transform.currFlipState},t.freehandCounter++),t.freehandCounter>0){for(var r=0;r<t.freehandCounter;r++){t.points=(0,n.l7)([],t.pointColl[r].points),this.pointCounter=0;var o=t.points.length,a=void 0,d=void 0,c=void 0,p=void 0,u=void 0,f=void 0;o>0&&(i.fillStyle=t.pointColl[r].strokeColor,u=f=this.penStrokeWidth=t.pointColl[r].strokeWidth),1===o&&(a=d=c=p=t.points[0],this.startDraw(i,a,d,c,p,u,f));for(var v=0;v<o-3;v++)t.points[v+1]&&t.points[v+2]&&t.points[v+2]&&(a=this.calcCurveCP(t.points[v+0],t.points[v+1],t.points[v+2]).controlPoint2,d=this.calcCurveCP(t.points[v+1],t.points[v+2],t.points[v+3]).controlPoint1,this.startDraw(i,a,d,c=0===v?t.points[v]:t.points[v+1],p=t.points[v+2],u,f));i.closePath()}i===this.lowerContext&&(t.notify("draw",{prop:"applyFrame",value:{ctx:this.lowerContext,frame:t.frameObj.type,preventImg:!0}}),this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height))}i.filter=s},h.prototype.getSqPtFD=function(i,e){var t={startX:0,startY:0,endX:0,endY:0,width:0,height:0},s=(0,n.l7)([],this.selPointColl[i].points,[]);this.parent.points=(0,n.l7)([],this.parent.pointColl[i].points),this.pointCounter=0;for(var r=s.length,o=0;o<r;o++)0===t.startX&&0===t.startY&&0===t.endX&&0===t.endY?(t.startX=s[o].x,t.startY=s[o].y,t.endX=s[o].x,t.endY=s[o].y):(t.startX=Math.min(t.startX,s[o].x),t.startY=Math.min(t.startY,s[o].y),t.endX=Math.max(t.endX,s[o].x),t.endY=Math.max(t.endY,s[o].y));return t.startX-=this.penStrokeWidth,t.startY-=this.penStrokeWidth,t.endX+=this.penStrokeWidth,t.endY+=this.penStrokeWidth,t.width=t.endX-t.startX,t.height=t.endY-t.startY,e&&(e.activePoint=t),t},h.prototype.applyPenDraw=function(){var i=this.parent;"freehanddraw"===i.currObjType.shape&&(i.notify("shape",{prop:"apply",onPropertyChange:!1,value:{shape:null,obj:null,canvas:null}}),i.upperCanvas.style.cursor=i.cursor="default",i.currObjType.shape=""),i.notify("shape",{prop:"clearActObj"})},h.prototype.applyFhd=function(){var i=this.parent,e=i.pointColl[this.fhdSelIdx];"#42a5f5"===e.strokeColor&&(e.strokeColor=this.tempFHDStyles.strokeColor),(0,n.xr)()||i.notify("toolbar",{prop:"setSelectedFreehandColor",value:{color:"#42a5f5"}}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),this.lowerContext.clearRect(0,0,i.lowerCanvas.width,i.lowerCanvas.height),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),(0,n.xr)()||i.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1}),e&&(e.isSelected=!1),i.notify("selection",{prop:"resetFreehandDrawVariables"}),this.fhdHovIdx=this.fhdSelIdx=null},h.prototype.cancelFhd=function(){var i=this.parent,e=i.pointColl[this.fhdSelIdx];(0,n.xr)()||i.notify("toolbar",{prop:"setSelectedFreehandColor",value:{color:"#42a5f5"}}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),this.lowerContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),this.pointCounter=0,e&&(e.strokeColor=this.tempFHDStyles.strokeColor,e.strokeWidth=this.tempFHDStyles.strokeWidth,e.isSelected=!1),this.fhdHovIdx=this.fhdSelIdx=this.fhdSelID=null,i.notify("selection",{prop:"resetFreehandDrawVariables"}),i.activeObj.strokeSettings.strokeColor=this.tempFHDStyles.strokeColor,i.activeObj.strokeSettings.strokeWidth=this.penStrokeWidth=this.tempFHDStyles.strokeWidth,this.tempFHDStyles={strokeColor:null,strokeWidth:null,fillColor:null},i.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),(0,n.xr)()?i.updateToolbar(i.element,"imageLoaded"):i.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1})},h.prototype.selectFhd=function(i){var e=this.parent;if(e.notify("selection",{prop:"setFreehandDrawEditing",onPropertyChange:!1,value:{bool:!0}}),i||0===i){if(!this.isFHDIdx(i))return;this.fhdSelIdx=this.fhdHovIdx=i,this.hoverFhd(),e.upperCanvas.style.cursor=e.cursor="pointer"}this.fhdSelIdx=this.fhdHovIdx;var t=e.pointColl[this.fhdSelIdx];t.isSelected=!0,this.fhdSelID=t.id,"#42a5f5"!==t.strokeColor&&(e.activeObj.strokeSettings.strokeColor=this.tempFHDStyles.strokeColor=t.strokeColor),e.activeObj.strokeSettings.strokeWidth=this.tempFHDStyles.strokeWidth=e.pointColl[this.fhdHovIdx].strokeWidth;var s={bool:!1};if(e.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:s}}),s.bool){var r={id:"pen_"+(this.fhdSelIdx+1),type:Un.FreehandDraw,startX:t.points[0].x,startY:t.points[0].y,strokeColor:t.strokeColor,strokeWidth:t.strokeWidth,points:t.points,opacity:t.opacity};this.triggerShapeChanging({cancel:!1,action:"select",previousShapeSettings:r,currentShapeSettings:r})}else e.okBtn();(0,n.xr)()&&e.getShapeValue("pen")},h.prototype.deleteFhd=function(i,e){var t=this.parent;if(this.isFHDIdx(i)){this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height);var s=(0,n.l7)({},t.pointColl,{},!0),r=(0,n.l7)({},this.selPointColl,{},!0);t.pointColl={},this.selPointColl={};var o=0;if((0,n.le)(e))for(var a=0;a<t.freehandCounter;a++)a!==i&&(t.pointColl[o]=s[a],this.selPointColl[o]=r[a],o++);else for(a=0;a<t.freehandCounter;a++)parseInt(s[a].id.split("_")[1],10)-1!==i&&(t.pointColl[o]=s[a],this.selPointColl[o]=r[a],o++);t.freehandCounter-=1,this.fhdHovIdx=this.fhdSelIdx=null,t.notify("selection",{prop:"resetFreehandDrawVariables"}),t.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),(0,n.xr)()||t.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1})}},h.prototype.zoomX=function(i){return i*this.parent.img.destWidth+this.parent.img.destLeft},h.prototype.zoomY=function(i){return i*this.parent.img.destHeight+this.parent.img.destTop},h.prototype.zoomFHDColl=function(i){var e=this.parent,t={startX:e.img.destLeft,startY:e.img.destTop,width:e.img.destWidth,height:e.img.destHeight};e.notify("shape",{prop:"straightenShapes",onPropertyChange:!1});for(var s=0;s<e.freehandCounter;s++){e.points=(0,n.l7)([],e.pointColl[s].points,[]),this.pointCounter=0;for(var r=e.points.length,o=0;o<r;o++){var a=e.points[o];a.x=this.zoomX(a.ratioX),a.y=this.zoomY(a.ratioY)}}this.updateFHDCurPts(),this.straightenPoint.x&&this.straightenPoint.y&&(this.straightenPoint.x=this.zoomX(this.straightenPoint.ratioX),this.straightenPoint.y=this.zoomY(this.straightenPoint.ratioY)),0!==e.transform.straighten&&e.notify("shape",{prop:"straightenFHD",onPropertyChange:!1}),e.img.destLeft=t.startX,e.img.destTop=t.startY,e.img.destWidth=t.width,e.img.destHeight=t.height,(0,n.le)(i)&&this.freehandRedraw(this.lowerContext,null)},h.prototype.updateFHDCurPts=function(){for(var i=this.parent,e=0;e<i.freehandCounter;e++)if(this.selPointColl[e]){this.selPoints=(0,n.l7)([],this.selPointColl[e].points,[]),this.pointCounter=0;for(var t=this.selPoints.length,s=0;s<t;s++){var r=this.selPoints[s];r.x=this.zoomX(r.ratioX),r.y=this.zoomY(r.ratioY)}}},h.prototype.rotateFhdColl=function(){for(var i=this.parent,e=i.img,t=e.destLeft,s=e.destTop,r=e.destWidth,o=e.destHeight,a=0;a<i.freehandCounter;a++){i.points=(0,n.l7)([],i.pointColl[a].points,[]),this.pointCounter=0;for(var d=i.points.length,c=0;c<d;c++)(p=i.points[c]).y=s+o*p.ratioX,p.x=t+r-r*p.ratioY,p.ratioX=(p.x-t)/r,p.ratioY=(p.y-s)/o}for(a=0;a<i.freehandCounter;a++)if(this.selPointColl[a])for(this.selPoints=(0,n.l7)([],this.selPointColl[a].points,[]),this.pointCounter=0,d=this.selPoints.length,c=0;c<d;c++){var p;(p=this.selPoints[c]).y=s+o*p.ratioX,p.x=t+r-r*p.ratioY,p.ratioX=(p.x-t)/r,p.ratioY=(p.y-s)/o}this.updateFHDCurPts()},h.prototype.flipFHDColl=function(i){var e=i.toLowerCase();if("horizontal"===e)this.pointsHorizontalFlip();else if("vertical"===e)this.pointsVerticalFlip();else{this.pointsHorizontalFlip();for(var t=0;t<this.parent.freehandCounter;t++)this.parent.pointColl[t].shapeFlip="";this.pointsVerticalFlip()}},h.prototype.pointsHorizontalFlip=function(){for(var i=this.parent,e=i.img,t=e.destLeft,s=e.destTop,r=e.destWidth,o=e.destHeight,a=0;a<i.freehandCounter;a++)if(i.pointColl[a].shapeFlip!==i.transform.currFlipState){i.points=(0,n.l7)([],i.pointColl[a].points,[]),this.pointCounter=0;for(var d=i.points.length,c=0;c<d;c++)(p=i.points[c]).x<=t+r/2?p.x=t+r-(p.x-t):p.x>=t+r/2&&(p.x=t+(t+r-p.x)),p.ratioX=(p.x-t)/r,p.ratioY=(p.y-s)/o;i.pointColl[a].shapeFlip=i.transform.currFlipState}for(a=0;a<i.freehandCounter;a++)if(this.selPointColl[a]&&this.selPointColl[a].shapeFlip!==i.transform.currFlipState)for(this.selPoints=(0,n.l7)([],this.selPointColl[a].points,[]),this.pointCounter=0,d=this.selPoints.length,c=0;c<d;c++){var p;(p=this.selPoints[c]).x<=t+r/2?p.x=t+r-(p.x-t):p.x>=t+r/2&&(p.x=t+(t+r-p.x)),p.ratioX=(p.x-t)/r,p.ratioY=(p.y-s)/o}this.updateFHDCurPts()},h.prototype.pointsVerticalFlip=function(){for(var i=this.parent,e=i.img,t=e.destLeft,s=e.destTop,r=e.destWidth,o=e.destHeight,a=0;a<i.freehandCounter;a++)if(i.pointColl[a].shapeFlip!==i.transform.currFlipState){i.points=(0,n.l7)([],i.pointColl[a].points,[]),this.pointCounter=0;for(var d=i.points.length,c=0;c<d;c++)(p=i.points[c]).y<=s+o/2?p.y=s+o-(p.y-s):p.y>=s+o/2&&(p.y=s+(s+o-p.y)),p.ratioX=(p.x-t)/r,p.ratioY=(p.y-s)/o;i.pointColl[a].shapeFlip=i.transform.currFlipState}for(a=0;a<i.freehandCounter;a++)if(this.selPointColl[a]&&this.selPointColl[a].shapeFlip!==i.transform.currFlipState)for(this.selPoints=(0,n.l7)([],this.selPointColl[a].points,[]),this.pointCounter=0,d=this.selPoints.length,c=0;c<d;c++){var p;(p=this.selPoints[c]).y<=s+o/2?p.y=s+o-(p.y-s):p.y>=s+o/2&&(p.y=s+(s+o-p.y)),p.ratioX=(p.x-t)/r,p.ratioY=(p.y-s)/o}this.updateFHDCurPts()},h.prototype.updateFHDColl=function(i){var e=this.parent,t={startX:e.img.destLeft,startY:e.img.destTop,width:e.img.destWidth,height:e.img.destHeight};e.notify("shape",{prop:"straightenShapes",onPropertyChange:!1});for(var s=e.img,r=s.destLeft,o=s.destTop,a=s.destWidth,d=s.destHeight,c=0,p=e.objColl.length;c<p;c++){var u=e.objColl[c];if("line"===u.shape||"arrow"===u.shape)e.notify("shape",{prop:"straightenShapePoints",value:{obj:u,isReverse:!0}});else if("path"===u.shape){var f=e.transform.straighten;e.transform.straighten=-e.transform.straighten,e.notify("shape",{prop:"straightenPath",onPropertyChange:!1,value:{obj:u}}),e.transform.straighten=f}if(u.imageRatio={startX:(u.activePoint.startX-r)/a,startY:(u.activePoint.startY-o)/d,endX:(u.activePoint.endX-r)/a,endY:(u.activePoint.endY-o)/d,width:a/u.activePoint.width,height:d/u.activePoint.height},"path"===u.shape)for(var v=0,g=u.pointColl.length;v<g;v++)u.pointColl[v].ratioX=(u.pointColl[v].x-r)/a,u.pointColl[v].ratioY=(u.pointColl[v].y-o)/d;e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1})}e.freehandCounter>0&&0!==e.transform.straighten&&(f=e.transform.straighten,e.transform.straighten=-e.transform.straighten,e.notify("shape",{prop:"straightenFHD",onPropertyChange:!1}),e.transform.straighten=f);for(var b=0;b<e.freehandCounter;b++){e.points=(0,n.l7)([],e.pointColl[b].points,[]),this.pointCounter=0;for(var C=e.points.length,T=0;T<C;T++)(O=e.points[T]).ratioX=(O.x-r)/a,O.ratioY=(O.y-o)/d}for(b=0;b<e.freehandCounter;b++)if(this.selPointColl[b])for(this.selPoints=(0,n.l7)([],this.selPointColl[b].points,[]),this.pointCounter=0,C=this.selPoints.length,T=0;T<C;T++){var O;(O=this.selPoints[T]).ratioX=(O.x-r)/a,O.ratioY=(O.y-o)/d}this.straightenPoint.x&&this.straightenPoint.y&&(this.straightenPoint.ratioX=(this.straightenPoint.x-r)/a,this.straightenPoint.ratioY=(this.straightenPoint.y-o)/d),e.img.destLeft=t.startX,e.img.destTop=t.startY,e.img.destWidth=t.width,e.img.destHeight=t.height,e.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:i}}),e.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:i}})},h.prototype.panFHDColl=function(i,e,t){for(var s=this.parent,r=0;r<s.freehandCounter;r++){s.points=(0,n.l7)([],s.pointColl[r].points,[]),this.pointCounter=0;for(var o=s.points.length,a=0;a<o;a++){var d=s.points[a];""===t||"vertical"===t?d.x+=i:d.x-=i,""===t||"horizontal"===t?d.y+=e:d.y-=e}}for(r=0;r<s.freehandCounter;r++)if(this.selPointColl[r])for(this.selPoints=(0,n.l7)([],this.selPointColl[r].points,[]),this.pointCounter=0,o=this.selPoints.length,a=0;a<o;a++)d=this.selPoints[a],""===t||"vertical"===t?d.x+=i:d.x-=i,""===t||"horizontal"===t?d.y+=e:d.y-=e;this.straightenPoint.x&&this.straightenPoint.y&&(""===t||"vertical"===t?this.straightenPoint.x+=i:this.straightenPoint.x-=i,""===t||"horizontal"===t?this.straightenPoint.y+=e:this.straightenPoint.y-=e),this.freehandRedraw(this.lowerContext,null)},h.prototype.freeHandDraw=function(i){var e=this.parent;if(i){if(e.points=[],this.dummyPoints=[],e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),e.togglePen=!0,e.upperCanvas.style.cursor=e.cursor="crosshair",e.upperCanvas.style.display="block",(0,n.le)(e.activeObj.strokeSettings)){var t={strokeSettings:{}};e.notify("shape",{prop:"getStrokeSettings",onPropertyChange:!1,value:{obj:t}}),e.activeObj.strokeSettings=t.strokeSettings}(0,n.le)(e.activeObj.strokeSettings.strokeWidth)&&(e.activeObj.strokeSettings.strokeWidth=2),(0,n.xr)()?e.updateToolbar(e.element,"pen"):e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"pen",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}})}else e.upperCanvas.style.cursor=e.cursor="default",e.notify("shape",{prop:"apply",onPropertyChange:!1,value:{shape:null,obj:null,canvas:null}}),(0,n.xr)()?e.updateToolbar(e.element,"imageLoaded"):(e.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1}),e.notify("toolbar",{prop:"setCurrentToolbar",value:{type:"main"}})),e.notify("selection",{prop:"setFreehandDrawCustomized",value:{isFreehandDrawCustomized:!1}})},h.prototype.isFHDIdx=function(i,e){for(var t=!1,s=0;s<this.parent.freehandCounter;s++)if(this.parent.pointColl[s].id&&parseInt(this.parent.pointColl[s].id.split("_")[1],10)-1===i){t=!0;break}return e&&(e.isIndex=t),t},h.prototype.updateCropPtsForSel=function(){for(var i=this.parent,e=i.activeObj.activePoint,t=0;t<i.freehandCounter;t++){var s={selPointColl:(0,n.l7)([],this.selPointColl)};if(s.selPointColl[t]){this.selPoints=(0,n.l7)([],s.selPointColl[t].points,[]),this.pointCounter=0;for(var r=this.selPoints.length,o=0;o<r;o++){var a=this.selPoints[o];a.ratioX=(a.x-e.startX)/e.width,a.ratioY=(a.y-e.startY)/e.height}}}},h.prototype.triggerShapeChanging=function(i){var e=this,t=this.parent,s=t.pointColl[this.fhdSelIdx];(0,n.xr)()&&t.events&&!0===t.events.shapeChanging.hasDelegate?t.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShape",i,null).then(function(r){if(e.penStrokeWidth=r.currentShapeSettings.strokeWidth,t.activeObj.strokeSettings.strokeColor!==r.currentShapeSettings.strokeColor){t.activeObj.strokeSettings.strokeColor=r.currentShapeSettings.strokeColor;var o=t.element.querySelector(".e-ie-toolbar-e-pen-color .e-dropdownbtn-preview");o&&(o.style.background=r.currentShapeSettings.strokeColor)}e.fhdSelID&&(s.strokeColor=r.currentShapeSettings.strokeColor,s.strokeWidth=r.currentShapeSettings.strokeWidth,s.points=r.currentShapeSettings.points,s.opacity=r.currentShapeSettings.opacity),"select"===r.action&&(e.freehandRedraw(e.upperContext),t.updateToolbar(t.element,"imageLoaded"),t.updateToolbar(t.element,"pen"))}):(t.trigger("shapeChanging",i),this.penStrokeWidth=i.currentShapeSettings.strokeWidth,t.activeObj.strokeSettings.strokeColor!==i.currentShapeSettings.strokeColor&&(t.activeObj.strokeSettings.strokeColor=i.currentShapeSettings.strokeColor,t.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1})),this.fhdSelID&&(s.strokeColor=i.currentShapeSettings.strokeColor,s.strokeWidth=i.currentShapeSettings.strokeWidth,s.points=i.currentShapeSettings.points,s.opacity=i.currentShapeSettings.opacity),"select"===i.action&&(this.freehandRedraw(this.upperContext),t.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"pen",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}})))},h.prototype.setCenterSelPoints=function(){var i=this.parent,e={startX:i.img.destLeft,startY:i.img.destTop,width:i.img.destWidth,height:i.img.destHeight};i.notify("shape",{prop:"straightenShapes",onPropertyChange:!1});var t=i.img,s=t.destLeft,r=t.destTop,o=t.destWidth,a=t.destHeight,d=i.activeObj.activePoint;((0,n.le)(this.prevStraightenObj)||JSON.stringify(this.prevStraightenObj.activePoint)!==JSON.stringify(d))&&(this.straightenPoint={x:d.startX+d.width/2,y:d.startY+d.height/2,ratioX:(d.startX+d.width/2-s)/o,ratioY:(d.startY+d.height/2-r)/a},this.prevStraightenObj=(0,n.l7)({},i.activeObj,{},!0),this.straightenPointAngle=i.transform.straighten),i.img.destLeft=e.startX,i.img.destTop=e.startY,i.img.destWidth=e.width,i.img.destHeight=e.height},h}(),t_=function(){function h(i){this.diffPoint={x:0,y:0},this.oldPoint={},this.isTouch=!1,this.isObjSelected=!1,this.isFhdPoint=!1,this.dragPoint={startX:0,startY:0,endX:0,endY:0},this.isShapeInserted=!1,this.tempActiveObj={activePoint:{startX:0,startY:0,endX:0,endY:0,width:0,height:0},flipObjColl:[],triangle:[],triangleRatio:[]},this.isFirstMove=!1,this.startTouches=[],this.tempTouches=[],this.currMousePoint={x:0,y:0},this.cursorTargetId="",this.isPreventDragging=!1,this.dragElement="",this.textRow=1,this.mouseDownPoint={x:0,y:0},this.previousPoint={x:0,y:0},this.zoomType="Toolbar",this.isInitialTextEdited=!1,this.dragCanvas=!1,this.isFhdCustomized=!1,this.touchEndPoint={},this.isFhdEditing=!1,this.currentDrawingShape="",this.initialPrevObj={},this.touchTime=0,this.resizedElement="",this.isImageClarity=!0,this.isPinching=!1,this.isSliding=!1,this.mouseDown="",this.isSliderActive=!1,this.parent=i,this.addEventListener()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("selection",this.selection,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("selection",this.selection),this.parent.off("destroyed",this.destroy)},h.prototype.selection=function(i){var e=this.parent;switch(this.updatePrivateVariables(),i.prop){case"mouse-up":this.selMouseUpEvent();break;case"setCursor":this.setCursor(i.value.x,i.value.y);break;case"updateActivePoint":this.updateActivePoint(i.value.x,i.value.y,i.value.isCropSelection);break;case"updateCursorStyles":this.updateCursorStyles(i.value.x,i.value.y,i.value.type);break;case"setTextSelection":this.setTextSelection(i.value.width,i.value.height);break;case"setActivePoint":this.setActivePoint(i.value.startX,i.value.startY);break;case"clearSelection":this.clearSelection();break;case"calcShapeRatio":this.calcShapeRatio(i.value.x,i.value.y,i.value.imgWidth,i.value.imgHeight);break;case"applyCurrShape":this.applyCurrShape(i.value.isShapeClick);break;case"tab":this.performTabAction();break;case"setDragDirection":this.setDragDirection(i.value.width,i.value.height);break;case"clearUpperCanvas":this.isTouch&&setTimeout(function(){e.upperCanvas.getContext("2d").clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height)},550);break;case"resetFreehandDrawVariables":this.isFhdEditing=this.isFhdPoint=!1;break;case"isShapeInserted":this.isShapeInserted=i.value.bool;break;case"redrawShape":this.redrawShape(i.value.obj);break;case"setTextBoxStylesToActObj":this.setTextBoxStylesToActObj();break;case"mouseDownEventHandler":this.mouseDownEventHandler(i.value.e);break;case"mouseMoveEventHandler":this.mouseMoveEventHandler(i.value.e);break;case"mouseUpEventHandler":this.mouseUpEventHandler(i.value.e);break;case"canvasMouseDownHandler":this.canvasMouseDownHandler(i.value.e);break;case"canvasMouseMoveHandler":this.canvasMouseMoveHandler(i.value.e);break;case"canvasMouseUpHandler":this.canvasMouseUpHandler(i.value.e);break;case"touchStartHandler":this.touchStartHandler(i.value.e);break;case"keyDownEventHandler":this.keyDownEventHandler(i.value.e);break;case"handleScroll":this.handleScroll(i.value.e);break;case"textKeyDown":setTimeout(this.textKeyDown.bind(this),1,i.value.e);break;case"deleteItem":this.deleteItem();break;case"updatePrevShapeSettings":this.updatePrevShapeSettings(i.value.obj);break;case"getZoomType":i.value.obj.zoomType=this.zoomType;break;case"setZoomType":this.zoomType=i.value.zoomType;break;case"setInitialTextEdit":this.isInitialTextEdited=i.value.bool;break;case"setDragCanvas":this.dragCanvas=i.value.bool;break;case"setFreehandDrawCustomized":this.isFhdCustomized=i.value.isFreehandDrawCustomized;break;case"setTouchEndPoint":this.touchEndPoint.x=i.value.x,this.touchEndPoint.y=i.value.y;break;case"getPanDown":i.value.obj.panDown=this.panDown;break;case"setPanDown":this.panDown=i.value.panDown;break;case"getFreehandDrawEditing":i.value.obj.bool=this.isFhdEditing;break;case"setFreehandDrawEditing":this.isFhdEditing=i.value.bool;break;case"getTempActObj":i.value.obj.tempObj=this.tempActiveObj;break;case"setTempActObj":this.tempActiveObj=i.value.obj;break;case"isInside":this.isInside(i.value.x,i.value.y,i.value.z1,i.value.z2,i.value.z3,i.value.z4);break;case"setDragElement":this.dragElement=i.value.value;break;case"setObjSelected":this.isObjSelected=i.value.bool;break;case"adjustActObjForLineArrow":this.adjustActObjForLineArrow(i.value.obj);break;case"findTarget":this.findTarget(i.value.x,i.value.y,i.value.type);break;case"getCurrentFlipState":this.getCurrentFlipState();break;case"setDragWidth":this.setDragWidth(i.value.width);break;case"setDragHeight":this.setDragHeight(i.value.setDragHeight);break;case"annotate":this.currentDrawingShape=i.value.shape,"text"===i.value.shape?(e.activeObj.textSettings.fontSize=100,e.activeObj.keyHistory="Enter Text",e.notify("shape",{prop:"initializeTextShape",onPropertyChange:!1,value:{text:null,fontFamily:null,fontSize:null,bold:null,italic:null,strokeColor:null}})):"path"===i.value.shape&&(e.activeObj.pointColl=[]);break;case"getCurrentDrawingShape":i.value.obj.shape=this.currentDrawingShape;break;case"setCurrentDrawingShape":this.currentDrawingShape=i.value.value;break;case"getTransRotationPoint":this.getTransRotationPoint(i.value.obj,i.value.object);break;case"adjustNEPoints":this.adjustNEPoints(i.value.rectangle,i.value.x,i.value.y,i.value.angle);break;case"adjustRotationPoints":this.adjustRotationPoints(i.value.rectangle,i.value.x,i.value.y,i.value.angle,i.value.type,i.value.elem);break;case"getResizeDirection":this.getResizeDirection(i.value.rectangle,i.value.x,i.value.y,i.value.angle);break;case"setResizedElement":this.resizedElement=i.value.value;break;case"reset":this.reset();break;case"unWireEvent":this.unwireEvent();break;case"updPtCollForShpRot":this.updPtCollForShpRot(i.value.obj);break;case"findImageRatio":this.findImageRatio(i.value.width,i.value.height,i.value.obj);break;case"getNumTextValue":this.getNumTextValue(i.value.obj);break;case"setImageClarity":this.isImageClarity=i.value.bool;break;case"upgradeImageQuality":this.upgradeImageQuality();break;case"getScaleRatio":i.value.obj.newScale=this.getScaleRatio(i.value.scale);break;case"triggerShapeChange":this.triggerShapeChange(i.value.shapeResizingArgs,i.value.shapeMovingArgs,i.value.type);break;case"limitDrag":i.value.bool=this.limitDrag(i.value.isStart);break;case"applyTransformToImg":this.applyTransformToImg(i.value.ctx);break;case"findTargetObj":i.value.obj.bool=this.findTargetObj(i.value.x,i.value.y,i.value.isCrop);break;case"setSliding":this.isSliding=i.value.bool;break;case"setSliderActive":this.isSliderActive=i.value.bool;break;case"getArrowType":i.value.obj.type=this.getArrowType(i.value.type)}},h.prototype.getModuleName=function(){return"selection"},h.prototype.updatePrivateVariables=function(){var i=this.parent;i.lowerCanvas&&(this.lowerContext=i.lowerCanvas.getContext("2d")),i.upperCanvas&&(this.upperContext=i.upperCanvas.getContext("2d"))},h.prototype.reset=function(){this.diffPoint={x:0,y:0},this.oldPoint={},this.isTouch=this.isObjSelected=this.isFhdPoint=this.isShapeInserted=!1,this.dragPoint={startX:0,startY:0,endX:0,endY:0},this.tempActiveObj={activePoint:{startX:0,startY:0,endX:0,endY:0,width:0,height:0},flipObjColl:[],triangle:[],triangleRatio:[]},this.isFirstMove=!1,this.cursorTargetId=this.dragElement="",this.startTouches=[],this.tempTouches=[],this.currMousePoint={x:0,y:0},this.isPreventDragging=!1,this.timer=void 0,this.tempObjColl=void 0,this.textRow=1,this.mouseDownPoint={x:0,y:0},this.previousPoint={x:0,y:0},this.zoomType="Toolbar",this.isInitialTextEdited=!1,this.dragCanvas=this.isPinching=!1,this.isFhdCustomized=!1,this.touchEndPoint={},this.panDown=null,this.isSliding=!1,this.isFhdEditing=!1,this.pathAdjustedIndex=null,this.touchTime=0,this.isImageClarity=!0,this.currentDrawingShape="",this.initialPrevObj={},this.resizedElement="",this.mouseDown="",this.isSliderActive=!1},h.prototype.performTabAction=function(){var i=this.parent;if("block"===i.textArea.style.display||"inline-block"===i.textArea.style.display){var e=this.applyCurrShape(!1);i.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}}),e&&i.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}})}},h.prototype.selMouseUpEvent=function(){this.oldPoint.x=void 0,this.oldPoint.y=void 0},h.prototype.getMouseCursor=function(i,e,t,s,r){var o=this.getTransRotationPoint(i),a=i.bottomCenterCircle.radius,c=r?0:2*i.topLeftCircle.radius;return e>=i.topLeftCircle.startX-c&&e<=i.topLeftCircle.startX+c&&t>=i.topLeftCircle.startY-c&&t<=i.topLeftCircle.startY+c?"nw-resize":e>=i.topLeftCircle.startX-c&&e<=i.topRightCircle.startX-c&&t>=i.topCenterCircle.startY-c&&t<=i.topCenterCircle.startY+c?"n-resize":e>=i.topRightCircle.startX-c&&e<=i.topRightCircle.startX+c&&t>=i.topRightCircle.startY-c&&t<=i.topRightCircle.startY+c?"ne-resize":e>=i.centerLeftCircle.startX-c&&e<=i.centerLeftCircle.startX+c&&t>=i.topLeftCircle.startY-c&&t<=i.bottomLeftCircle.startY-c?"w-resize":e>=i.centerRightCircle.startX-c&&e<=i.centerRightCircle.startX+c&&t>=i.topRightCircle.startY-c&&t<=i.bottomRightCircle.startY-c?"e-resize":e>=i.bottomLeftCircle.startX-c&&e<=i.bottomLeftCircle.startX+c&&t>=i.bottomLeftCircle.startY-c&&t<=i.bottomLeftCircle.startY+c?"sw-resize":e>=i.bottomLeftCircle.startX-c&&e<=i.bottomRightCircle.startX-c&&t>=i.bottomCenterCircle.startY-c&&t<=i.bottomCenterCircle.startY+c?"s-resize":e>=i.bottomRightCircle.startX-c&&e<=i.bottomRightCircle.startX+c&&t>=i.bottomRightCircle.startY-c&&t<=i.bottomRightCircle.startY+c?"se-resize":e>=i.activePoint.startX&&e<=i.activePoint.endX&&t>=i.activePoint.startY&&t<=i.activePoint.endY?s?"grab":"move":o&&!r&&e>=o.x-(a+2)&&e<=o.x+(a+2)&&t>=o.y-(a+2)&&t<=o.y+(a+2)?"grabbing":"default"},h.prototype.setCursor=function(i,e){var t=this.parent,s={bool:null};if(t.notify("toolbar",{prop:"getFrameToolbar",onPropertyChange:!1,value:{obj:s}}),t.isResize||this.isSliding||s.bool)t.upperCanvas.style.cursor="default";else{var o,r=!1;if(""===this.currentDrawingShape)if(t.currObjType.isDragging)t.upperCanvas.style.cursor=t.cursor=""===this.dragElement?"move":this.dragElement;else{if(void 0!==t.activeObj.horTopLine){void 0!==t.activeObj.shape&&(o=t.activeObj.shape.split("-")),(void 0===o&&t.currObjType.isCustomCrop||void 0!==o&&"crop"===o[0])&&(r=!0),!r&&t.togglePan&&(t.lowerCanvas.style.cursor=t.upperCanvas.style.cursor=t.cursor="grab");var a=t.upperCanvas.style.cursor,d=(0,n.l7)({},t.activeObj,{},!0);this.cursorTargetId=d.currIndex;var c=void 0;(c=0===d.shapeDegree?t.transform.degree:t.transform.degree-d.shapeDegree)<0&&(c=360+c),"line"===d.shape||"arrow"===d.shape?this.setCursorForLineArrow(d,i,e,t.upperCanvas):"path"===d.shape?this.setCursorForPath(d,i,e,t.upperCanvas):(0,n.le)(d.rotatedAngle)||0===d.rotatedAngle?(t.upperCanvas.style.cursor=t.cursor=this.getMouseCursor(d,i,e,r,!1),"text"===d.shape&&["n-resize","s-resize","e-resize","w-resize"].indexOf(t.cursor)>-1&&(t.upperCanvas.style.cursor=t.cursor="move")):this.setCursorForRotatedObject(d,i,e,t.upperCanvas),"default"===a&&"default"===t.cursor&&r&&(t.upperCanvas.style.cursor=t.cursor="grab"),"grab"===a&&"default"===t.cursor&&(t.upperCanvas.style.cursor=t.cursor="grab")}else t.togglePan&&!t.togglePen?t.lowerCanvas.style.cursor=t.upperCanvas.style.cursor=t.cursor="grab":t.upperCanvas.style.cursor=t.cursor=t.currObjType.isCustomCrop||t.togglePen?"crosshair":"default";"default"!==t.cursor&&"grab"!==t.cursor||(a=t.upperCanvas.style.cursor,t.objColl.length>0&&("grab"!==t.cursor||!r)&&this.setCursorFromObj(i,e,t.objColl,t.upperCanvas,r),"grab"===a&&"default"===t.cursor&&(t.upperCanvas.style.cursor=t.cursor="grab")),("default"===t.cursor||"grab"===t.cursor)&&t.pointColl[0]&&("grab"!==t.cursor||!r)&&!t.currObjType.isDragging&&!t.currObjType.isResize&&this.setCursorForFreehandDrawing(i,e,t.upperCanvas)}else t.upperCanvas.style.cursor=t.cursor="crosshair"}},h.prototype.setCursorForPath=function(i,e,t,s){this.setCursorForLineArrow(i,e,t,s);var r=this.parent;if("default"===r.cursor)for(var o=(0,n.l7)({},i,null,!0),a=!1,d=1,c=i.pointColl.length;d<c&&!a;d++){o.activePoint.startX=i.pointColl[d-1].x,o.activePoint.startY=i.pointColl[d-1].y,o.activePoint.endX=i.pointColl[d].x,o.activePoint.endY=i.pointColl[d].y,r.notify("shape",{prop:"setPointCollForLineArrow",onPropertyChange:!1,value:{obj:o}});for(var p=i.topLeftCircle.radius,u=0,f=o.pointColl.length;u<f;u++){var v=o.pointColl[u];if(!(0,n.le)(v.x-2*p)&&!(0,n.le)(v.x+2*p)&&!(0,n.le)(v.y-2*p)&&!(0,n.le)(v.y+2*p)&&e>=v.x-2*p&&e<=v.x+2*p&&t>=v.y-2*p&&t<=v.y+2*p){s.style.cursor=r.cursor="move",a=!0;break}s.style.cursor=r.cursor="default"}}return r.cursor},h.prototype.setCursorForLineArrow=function(i,e,t,s){for(var r,o=i.topLeftCircle.radius,a=0,d=i.pointColl.length;a<d;a++){var c=i.pointColl[a];if(e>=c.x-2*o&&e<=c.x+2*o&&t>=c.y-2*o&&t<=c.y+2*o){s.style.cursor=this.parent.cursor="move",r=a;break}s.style.cursor=this.parent.cursor="default"}return r},h.prototype.setCursorForRotatedObject=function(i,e,t,s){this.resizedElement="";var r=this.parent,o=i.bottomCenterCircle.radius,a=i.horTopLinePointColl[Math.round(i.horTopLinePointColl.length/2)],d=i.horTopLinePointColl[Math.round(i.horTopLinePointColl.length-1)],c=i.verLeftLinePointColl[Math.round(i.verLeftLinePointColl.length/2)],p=i.verRightLinePointColl[Math.round(i.verRightLinePointColl.length/2)],u=i.horBottomLinePointColl[Math.round(i.horBottomLinePointColl.length/2)],f=i.horBottomLinePointColl[Math.round(i.horBottomLinePointColl.length-1)],v=i.rotationCirclePointColl,g=i.horTopLinePointColl[0],b=i.horBottomLinePointColl[0];if(e>=g.x-(o+2)&&e<=g.x+(o+2)&&t>=g.y-(o+2)&&t<=g.y+(o+2)?s.style.cursor=r.cursor="nw-resize":e>=a.x-5&&e<=a.x+5&&t>=a.y-5&&t<=a.y+5?s.style.cursor=r.cursor=this.resizedElement="n-resize":e>=d.x-(o+2)&&e<=d.x+(o+2)&&t>=d.y-(o+2)&&t<=d.y+(o+2)?s.style.cursor=r.cursor="ne-resize":e>=c.x-5&&e<=c.x+5&&t>=c.y-5&&t<=c.y+5?s.style.cursor=r.cursor=this.resizedElement="w-resize":e>=p.x-5&&e<=p.x+5&&t>=p.y-5&&t<=p.y+5?s.style.cursor=r.cursor=this.resizedElement="e-resize":e>=b.x-(o+2)&&e<=b.x+(o+2)&&t>=b.y-(o+2)&&t<=b.y+(o+2)?s.style.cursor=r.cursor="sw-resize":e>=u.x-5&&e<=u.x+5&&t>=u.y-5&&t<=u.y+5?s.style.cursor=r.cursor=this.resizedElement="s-resize":e>=f.x-(o+2)&&e<=f.x+(o+2)&&t>=f.y-(o+2)&&t<=f.y+(o+2)?s.style.cursor=r.cursor="se-resize":v&&e>=v.x-(o+2)&&e<=v.x+(o+2)&&t>=v.y-(o+2)&&t<=v.y+(o+2)?s.style.cursor=r.cursor="grabbing":(s.style.cursor=r.cursor="default",this.getRectanglePoints(i.activePoint.startX,i.activePoint.startY,i.activePoint.width,i.activePoint.height,i.rotatedAngle*(180/Math.PI),e,t)&&(s.style.cursor=r.cursor="move")),"default"===r.cursor)for(var T=0,O=i.horTopLinePointColl.length;T<O;T++){var j=i.horTopLinePointColl[T];if(e>=j.x-5&&e<=j.x+5&&t>=j.y-5&&t<=j.y+5){s.style.cursor=r.cursor=this.resizedElement="n-resize";break}}if("default"===r.cursor)for(T=0,O=i.horBottomLinePointColl.length;T<O;T++){var Y=i.horBottomLinePointColl[T];if(e>=Y.x-5&&e<=Y.x+5&&t>=Y.y-5&&t<=Y.y+5){s.style.cursor=r.cursor=this.resizedElement="s-resize";break}}if("default"===r.cursor)for(T=0,O=i.verLeftLinePointColl.length;T<O;T++){var H=i.verLeftLinePointColl[T];if(e>=H.x-5&&e<=H.x+5&&t>=H.y-5&&t<=H.y+5){s.style.cursor=r.cursor=this.resizedElement="w-resize";break}}if("default"===r.cursor)for(T=0,O=i.verRightLinePointColl.length;T<O;T++){var N=i.verRightLinePointColl[T];if(e>=N.x-5&&e<=N.x+5&&t>=N.y-5&&t<=N.y+5){s.style.cursor=r.cursor=this.resizedElement="e-resize";break}}return this.adjustCursorStylesForRotatedState(i),r.cursor},h.prototype.adjustCursorStylesForRotatedState=function(i){var e=this.parent,t=i.rotatedAngle*(180/Math.PI);if((t=t>0?Math.floor(t):Math.ceil(t))>=92&&t<=182||t>=-178&&t<=-88){var s={"nw-resize":"ne-resize","n-resize":"s-resize","ne-resize":"nw-resize","w-resize":"e-resize","e-resize":"w-resize","sw-resize":"se-resize","s-resize":"n-resize","se-resize":"sw-resize"};e.cursor in s&&(e.cursor=s[e.cursor])}return e.upperCanvas.style.cursor=this.getResizeElement(i.rotatedAngle*(180/Math.PI),e.cursor),e.cursor},h.prototype.getResizeElement=function(i,e){var t=[];switch(e){case"nw-resize":t=[[337.5,22.5,"nw-resize"],[22.5,67.5,"n-resize"],[67.5,112.5,"ne-resize"],[112.5,157.5,"e-resize"],[157.5,202.5,"se-resize"],[202.5,247.5,"s-resize"],[247.5,292.5,"sw-resize"],[292.5,337.5,"w-resize"]];break;case"n-resize":t=[[337.5,22.5,"n-resize"],[22.5,67.5,"ne-resize"],[67.5,112.5,"e-resize"],[112.5,157.5,"se-resize"],[157.5,202.5,"s-resize"],[202.5,247.5,"sw-resize"],[247.5,292.5,"w-resize"],[292.5,337.5,"nw-resize"]];break;case"ne-resize":t=[[337.5,22.5,"ne-resize"],[22.5,67.5,"e-resize"],[67.5,112.5,"se-resize"],[112.5,157.5,"s-resize"],[157.5,202.5,"sw-resize"],[202.5,247.5,"w-resize"],[247.5,292.5,"nw-resize"],[292.5,337.5,"n-resize"]];break;case"e-resize":t=[[337.5,22.5,"e-resize"],[22.5,67.5,"se-resize"],[67.5,112.5,"s-resize"],[112.5,157.5,"sw-resize"],[157.5,202.5,"w-resize"],[202.5,247.5,"nw-resize"],[247.5,292.5,"n-resize"],[292.5,337.5,"ne-resize"]];break;case"se-resize":t=[[337.5,22.5,"se-resize"],[22.5,67.5,"s-resize"],[67.5,112.5,"sw-resize"],[112.5,157.5,"w-resize"],[157.5,202.5,"nw-resize"],[202.5,247.5,"n-resize"],[247.5,292.5,"ne-resize"],[292.5,337.5,"e-resize"]];break;case"s-resize":t=[[337.5,22.5,"s-resize"],[22.5,67.5,"sw-resize"],[67.5,112.5,"w-resize"],[112.5,157.5,"nw-resize"],[157.5,202.5,"n-resize"],[202.5,247.5,"ne-resize"],[247.5,292.5,"e-resize"],[292.5,337.5,"se-resize"]];break;case"sw-resize":t=[[337.5,22.5,"sw-resize"],[22.5,67.5,"w-resize"],[67.5,112.5,"nw-resize"],[112.5,157.5,"n-resize"],[157.5,202.5,"ne-resize"],[202.5,247.5,"e-resize"],[247.5,292.5,"se-resize"],[292.5,337.5,"s-resize"]];break;case"w-resize":t=[[337.5,22.5,"w-resize"],[22.5,67.5,"nw-resize"],[67.5,112.5,"n-resize"],[112.5,157.5,"ne-resize"],[157.5,202.5,"e-resize"],[202.5,247.5,"se-resize"],[247.5,292.5,"s-resize"],[292.5,337.5,"sw-resize"]]}for(var s=i<0?360-Math.abs(i):i,r=0,o=t;r<o.length;r++){var a=o[r],d=a[0],c=a[1];if(s>d&&s<=c||s+360>d&&s+360<=c)return a[2]}return e},h.prototype.setCursorForFreehandDrawing=function(i,e,t){var s=t.getContext("2d"),r=this.parent,o=document.querySelector("#"+r.element.id+"_textArea"),a=!1;r.notify("freehand-draw",{prop:"setFreehandDrawHoveredIndex",onPropertyChange:!1,value:{index:-1}});for(var d,c=0;c<r.freehandCounter;c++){var p={selPointColl:{}};r.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:p}}),d=(0,n.l7)([],p.selPointColl[c].points,[]),r.points=(0,n.l7)([],r.pointColl[c].points,[]);var u=r.pointColl[c];r.notify("freehand-draw",{prop:"setPointCounter",onPropertyChange:!1,value:{value:0}});for(var f=d.length,v=0;v<f;v++)if(0!==v){var g=!1;if(d[v-1]&&d[v]&&(g=this.isInside(i,e,d[v-1].x,d[v-1].y,d[v].x,d[v].y)),g){this.isFhdPoint=!0,r.notify("freehand-draw",{prop:"setFreehandDrawHoveredIndex",onPropertyChange:!1,value:{index:c}}),r.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:null,strokeWidth:null}}),t.style.cursor=r.cursor="pointer",a=!0;break}this.isFhdEditing&&!u.isSelected||((this.isFhdPoint||this.isFhdEditing)&&(s.clearRect(0,0,t.width,t.height),r.activeObj.shape&&"none"===o.style.display&&r.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:r.activeObj}})),r.notify("freehand-draw",this.isFhdEditing?{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:u.strokeColor,strokeWidth:u.strokeWidth}}:{prop:"setFreehandDrawHoveredIndex",onPropertyChange:!1,value:{index:null}}),this.isFhdPoint=!1)}else{var C=r.points[v];if(i>C.x-u.strokeWidth&&i<C.x+u.strokeWidth&&e>C.y-u.strokeWidth&&e<C.y+u.strokeWidth){this.isFhdPoint=!0,r.notify("freehand-draw",{prop:"setFreehandDrawHoveredIndex",onPropertyChange:!1,value:{index:c}}),r.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:null,strokeWidth:null}}),t.style.cursor=r.cursor="pointer",a=!0;break}this.isFhdEditing&&!u.isSelected||((this.isFhdPoint||this.isFhdEditing)&&(s.clearRect(0,0,t.width,t.height),r.activeObj.shape&&"none"===o.style.display&&r.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:r.activeObj}})),this.isFhdEditing&&r.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:u.strokeColor,strokeWidth:u.strokeWidth}}),this.isFhdPoint=!1)}if(a)break}},h.prototype.setCursorFromObj=function(i,e,t,s,r){for(var o=this.parent,a=0,d=t.length;a<d;a++){if("move"===o.cursor)return;var c=(0,n.l7)({},t[a],{},!0);this.cursorTargetId=c.currIndex,"line"===c.shape||"arrow"===c.shape?this.setCursorForLineArrow(c,i,e,s):"path"===c.shape?this.setCursorForPath(c,i,e,s):(0,n.le)(c.rotatedAngle)||0===c.rotatedAngle?s.style.cursor=o.cursor=this.getMouseCursor(c,i,e,r,!0):this.setCursorForRotatedObject(c,i,e,s)}},h.prototype.isInside=function(i,e,t,s,r,o){var a=Math.min(t,r),d=Math.max(t,r),c=Math.min(s,o),p=Math.max(s,o);return a<=i&&i<=d&&c<=e&&e<=p},h.prototype.updateActivePoint=function(i,e,t){var s=this.parent,r={width:0,height:0},o=s.activeObj.activePoint,a=o.startX,d=o.startY,c=o.endX,p=o.endY,u=s.activeObj.activePoint,f=u.width,v=u.height;s.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:f,height:v,obj:r,isImgShape:null}});var g=r,b=this.updatePrevShapeSettings(),C={cancel:!1,action:"resize",previousShapeSettings:b},T={cancel:!1,action:"move",previousShapeSettings:b};this.shapeResizingArgs=C,this.shapeMovingArgs=T,"text"===s.activeObj.shape&&""!==this.dragElement&&s.notify("shape",{prop:"updateFontRatio",onPropertyChange:!1,value:{obj:s.activeObj,isTextArea:null}}),""===this.currentDrawingShape||""!==this.dragElement&&"move"!==this.dragElement||(["line","arrow","path"].indexOf(s.activeObj.shape)>-1?this.dragElement="e-resize":i>a&&e>d?this.dragElement="se-resize":i<a&&e>d?this.dragElement="sw-resize":i>a&&e<d?this.dragElement="ne-resize":i<a&&e<d&&(this.dragElement="nw-resize")),"arrow"===s.activeObj.shape&&(s.activeObj.rotatedAngle=Math.atan2(i-s.lowerCanvas.width/2,e-s.lowerCanvas.height/2)>0?-Math.atan2(i-s.lowerCanvas.width/2,e-s.lowerCanvas.height/2):Math.abs(Math.atan2(i-s.lowerCanvas.width/2,e-s.lowerCanvas.height/2)));var j,Y=!1,H=!1;if(!t||0===s.transform.straighten||!this.isMouseOutsideImg(i,e))switch(this.dragElement.toLowerCase()){case"nw-resize":this.updateNWPoints(i,e,g),s.notify("shape",{prop:"updateArrowDirection",onPropertyChange:!1,value:{obj:s.activeObj,flip:null,rotatedDegree:null}}),this.triggerShapeChange(C,T,"resize");break;case"n-resize":this.updateNPoints(i,e),s.notify("shape",{prop:"updateArrowDirection",onPropertyChange:!1,value:{obj:s.activeObj,flip:null,rotatedDegree:null}}),this.triggerShapeChange(C,T,"resize");break;case"ne-resize":this.updateNEPoints(i,e,g),s.notify("shape",{prop:"updateArrowDirection",onPropertyChange:!1,value:{obj:s.activeObj,flip:null,rotatedDegree:null}}),this.triggerShapeChange(C,T,"resize");break;case"w-resize":this.updateWPoints(i,e),s.notify("shape",{prop:"updateArrowDirection",onPropertyChange:!1,value:{obj:s.activeObj,flip:null,rotatedDegree:null}}),this.triggerShapeChange(C,T,"resize");break;case"e-resize":this.updateEPoints(i,e),s.notify("shape",{prop:"updateArrowDirection",onPropertyChange:!1,value:{obj:s.activeObj,flip:null,rotatedDegree:null}}),this.triggerShapeChange(C,T,"resize");break;case"sw-resize":this.updateSWPoints(i,e,g),s.notify("shape",{prop:"updateArrowDirection",onPropertyChange:!1,value:{obj:s.activeObj,flip:null,rotatedDegree:null}}),this.triggerShapeChange(C,T,"resize");break;case"s-resize":this.updateSPoints(i,e),s.notify("shape",{prop:"updateArrowDirection",onPropertyChange:!1,value:{obj:s.activeObj,flip:null,rotatedDegree:null}}),this.triggerShapeChange(C,T,"resize");break;case"se-resize":this.updateSEPoints(i,e,g),s.notify("shape",{prop:"updateArrowDirection",onPropertyChange:!1,value:{obj:s.activeObj,flip:null,rotatedDegree:null}}),this.triggerShapeChange(C,T,"resize");break;case"grabbing":s.activeObj.rotatedAngle=Math.atan2(i-(a+f/2),e-(d+v/2))>0?-Math.atan2(i-(a+f/2),e-(d+v/2)):Math.abs(Math.atan2(i-(a+f/2),e-(d+v/2))),(j=0===s.activeObj.shapeDegree?s.transform.degree:s.transform.degree-s.activeObj.shapeDegree)<0&&(j=360+j);for(var N=0,ne=s.activeObj.flipObjColl.length;N<ne;N++)"horizontal"===s.activeObj.flipObjColl[N].toLowerCase()?Y=!0:"vertical"===s.activeObj.flipObjColl[N].toLowerCase()&&(H=!0);s.activeObj.rotatedAngle-=j*(Math.PI/180),0===j||360===j?H&&(s.activeObj.rotatedAngle-=Math.PI/180*180):90===j||-270===j?Y&&(s.activeObj.rotatedAngle-=Math.PI/180*180):180===j||-180===j?H&&(s.activeObj.rotatedAngle-=Math.PI/180*180):(270===j||-90===j)&&Y&&(s.activeObj.rotatedAngle-=Math.PI/180*180);break;case"pathdrag":(0,n.le)(this.pathAdjustedIndex)||(s.activeObj.pointColl[this.pathAdjustedIndex].x=i,s.activeObj.pointColl[this.pathAdjustedIndex].y=e);break;default:if(!t&&!s.currObjType.isCustomCrop){var re=s.activeObj.activePoint;if(this.dragPoint.startX){var ce=this.dragPoint.endX-this.previousPoint.x,Ye=this.dragPoint.endY-this.previousPoint.y;if(re.startX+=ce,re.endX+=ce,re.startY+=Ye,re.endY+=Ye,a=re.startX,d=re.startY,c=re.endX,p=re.endY,"line"!==s.activeObj.shape&&"arrow"!==s.activeObj.shape&&s.activeObj.rotationCirclePointColl&&(s.activeObj.rotationCirclePointColl.x+=ce,s.activeObj.rotationCirclePointColl.y+=Ye,s.activeObj.rotationCirclePoint.x+=ce,s.activeObj.rotationCirclePoint.y+=Ye),"path"===s.activeObj.shape)for(N=0,ne=s.activeObj.pointColl.length;N<ne;N++)s.activeObj.pointColl[N].x+=ce,s.activeObj.pointColl[N].y+=Ye;!this.isPreventDragging&&"line"!==s.activeObj.shape&&0===s.activeObj.rotatedAngle&&(a<s.img.destLeft||d<s.img.destTop||c>s.img.destLeft+s.img.destWidth||p>s.img.destTop+s.img.destHeight)&&(re.startX-=ce,re.endX-=ce,re.startY-=Ye,re.endY-=Ye,"line"!==s.activeObj.shape&&"arrow"!==s.activeObj.shape&&s.activeObj.rotationCirclePointColl&&(s.activeObj.rotationCirclePointColl.x-=ce,s.activeObj.rotationCirclePointColl.y-=Ye,s.activeObj.rotationCirclePoint.x-=ce,s.activeObj.rotationCirclePoint.y-=Ye),this.setDragWidth(ce),this.setDragHeight(Ye))}else re.startX=i<this.mouseDownPoint.x?i:this.mouseDownPoint.x,re.startY=e<this.mouseDownPoint.y?e:this.mouseDownPoint.y,e=e<this.mouseDownPoint.y?this.mouseDownPoint.y:e,re.endX=i=i<this.mouseDownPoint.x?this.mouseDownPoint.x:i,re.endY=e;this.triggerShapeChange(C,T,"move")}}},h.prototype.triggerShapeChange=function(i,e,t){var s=this.parent,r=s.activeObj.activePoint;r.width=r.endX-r.startX,r.height=r.endY-r.startY;var o=this.updatePrevShapeSettings();if((0,n.le)(this.shapeResizingArgs)||(0,n.le)(this.shapeMovingArgs)?(i.currentShapeSettings=o,e.currentShapeSettings=o):(i.currentShapeSettings=this.shapeResizingArgs.currentShapeSettings=o,e.currentShapeSettings=this.shapeMovingArgs.currentShapeSettings=o),"resize"===t){this.isCropSelection=!1;var a=void 0;if(void 0!==s.activeObj.shape&&(a=s.activeObj.shape.split("-")),void 0!==a&&"crop"===a[0]&&(this.isCropSelection=!0),!this.isCropSelection&&"resize"!==s.eventType&&(0,n.xr)()&&s.events&&!0===s.events.onShapeResizeStart.hasDelegate)i.action=""!==this.currentDrawingShape?"drawing":"resize-start",s.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShapeResizeStart",i,null).then(function(c){s.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:c.currentShapeSettings}})});else if(this.isCropSelection){var d={action:i.action,previousSelectionSettings:{type:s.getSelectionType(s.activeObj.shape),startX:i.previousShapeSettings.startX,startY:i.previousShapeSettings.startY,width:i.previousShapeSettings.width,height:i.previousShapeSettings.height},currentSelectionSettings:{type:s.getSelectionType(s.activeObj.shape),startX:i.currentShapeSettings.startX,startY:i.currentShapeSettings.startY,width:i.currentShapeSettings.width,height:i.currentShapeSettings.height}};this.selectionResizingArgs=d,(0,n.xr)()&&(0,n.le)(s.eventType)&&s.events&&!0===s.events.onSelectionResizeStart.hasDelegate?(d.action="resize-start",s.dotNetRef.invokeMethodAsync("SelectionEventAsync","OnSelectionResizeStart",d).then(function(c){s.notify("shape",{prop:"updSelChangeEventArgs",onPropertyChange:!1,value:{selectionSettings:c.currentSelectionSettings}})})):(s.trigger("selectionChanging",d),s.notify("shape",{prop:"updSelChangeEventArgs",onPropertyChange:!1,value:{selectionSettings:d.currentSelectionSettings}}))}else""!==this.currentDrawingShape&&(i.action="drawing"),s.trigger("shapeChanging",i),s.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:i.currentShapeSettings}})}else"mouse-down"===t||"mouse-up"===t?(0,n.xr)()&&s.events&&!0===s.events.shapeChanging.hasDelegate?s.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShape",i,null).then(function(c){s.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:c.currentShapeSettings}})}):(s.trigger("shapeChanging",i),s.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:i.currentShapeSettings}})):(0,n.xr)()&&(0,n.le)(s.eventType)&&s.events&&!0===s.events.onShapeDragStart.hasDelegate?(e.action="drag-start",s.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShapeDragStart",e,null).then(function(c){s.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:c.currentShapeSettings}})})):(s.trigger("shapeChanging",e),s.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:e.currentShapeSettings}}));s.eventType=t},h.prototype.setDragWidth=function(i){var e=this.parent,t=e.activeObj.activePoint,s=e.img,r=s.destLeft,o=s.destWidth,a=i;if(a>=0)for(var d=0;d<a&&(t.startX+=i=a-d,t.endX+=i,!(t.startX>=r&&t.endX<=r+o));d++)t.startX-=i,t.endX-=i;else for(d=1;d<Math.abs(a)&&(t.startX+=i=a+d,t.endX+=i,!(t.startX>=r&&t.endX<=r+o));d++)t.startX-=i,t.endX-=i},h.prototype.setDragHeight=function(i){var e=this.parent,t=e.activeObj.activePoint,s=e.img,r=s.destTop,o=s.destHeight,a=i;if(a>=0)for(var d=1;d<a&&(t.startY+=i=a-d,t.endY+=i,!(t.startY>=r&&t.endY<=r+o));d++)t.startY-=i,t.endY-=i;else for(d=0;d<Math.abs(a)&&(t.startY+=i=a+d,t.endY+=i,!(t.startY>=r&&t.endY<=r+o));d++)t.startY-=i,t.endY-=i},h.prototype.limitDrag=function(i){var e=!1,t=this.parent,s=t.img,r=s.destLeft,o=s.destTop,a=s.destWidth,d=s.destHeight,c=t.activeObj.activePoint,p=i?c.startX:c.endX,u=i?c.startY:c.endY,f=i?c.endX:c.startX,v=i?c.endY:c.startY;if(p<r&&(p=r),u<o&&(u=o),f>r+a&&(f=r+a),v>o+d&&(v=o+d),0!==t.transform.straighten){var g={isIntersect:null,arr:null};t.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),t.notify("draw",{prop:"isLinesIntersect",onPropertyChange:!1,value:{obj:g}}),(g.arr[0]||g.arr[1]||g.arr[2]||g.arr[3])&&(e=!0)}return i?(c.startX=p,c.startY=u,c.endX=f,c.endY=v):(c.startX=f,c.startY=v,c.endX=p,c.endY=u),e},h.prototype.isMouseOutsideImg=function(i,e){var t={bool:!1};return this.parent.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),this.parent.notify("draw",{prop:"isPointsInsideImg",value:{obj:t,x:i,y:e}}),t.bool},h.prototype.preventDraggingInvertly=function(){var i=!1,e=this.parent;return"image"===e.activeObj.shape||this.isPreventDragging||0!==e.activeObj.rotatedAngle||(i=this.limitDrag(!0),["line","arrow","path"].indexOf(e.activeObj.shape)>-1&&(i=this.limitDrag(!1))),i},h.prototype.preventTextDraggingInvertly=function(){var i=this.parent,e=!1,t=i.activeObj.activePoint,s=i.img,r=s.destLeft,o=s.destTop;return this.isPreventDragging||(t.startX<r||t.startY<o||t.endX>r+s.destWidth||t.endY>o+s.destHeight)&&(e=!0),e},h.prototype.preventInverseResize=function(i){var t=this.parent.activeObj.activePoint;t.width<0&&(t.width=0,t.startX=i.activePoint.startX,t.endX=i.activePoint.endX),t.height<0&&(t.height=0,t.startY=i.activePoint.startY,t.endY=i.activePoint.endY)},h.prototype.getScaleRatio=function(i){var e=this.parent,t={x:i,y:i};if(e.activeObj.shape&&"crop-custom"!==e.activeObj.shape&&"crop-circle"!==e.activeObj.shape&&"crop-square"!==e.activeObj.shape){var s="image"===e.activeObj.shape||"text"===e.activeObj.shape?this.findImageRatio(e.activeObj.activePoint.width,e.activeObj.activePoint.height).split("-"):e.activeObj.shape.split("-");if(s.length>1||"image"===e.activeObj.shape||"text"===e.activeObj.shape){s="image"===e.activeObj.shape||"text"===e.activeObj.shape?s[0].split(":"):s[1].split(":");var r=i/parseInt(s[1],10);t.x=r*parseInt(s[0],10),t.y=r*parseInt(s[1],10)}}return t},h.prototype.findImageRatio=function(i,e,t){var s=function(a,d){return 0===d?a:s(d,a%d)},r=s(i,e),o=i/r+":"+e/r;return t&&(t.ratio=o),o},h.prototype.revertResizing=function(i){var t=this.parent.activeObj.activePoint;this.preventDraggingInvertly()&&(t.startX=i.activePoint.startX,t.startY=i.activePoint.startY,t.endX=i.activePoint.endX,t.endY=i.activePoint.endY)},h.prototype.updateNWPoints=function(i,e,t){var o,a,d,s=this.parent,r=s.activeObj.activePoint,c=(0,n.l7)({},s.activeObj,null,!0);if("text"===s.activeObj.shape)this.resizeImg(i,e,"nw-resize",c),s.notify("shape",{prop:"updateFontSize",onPropertyChange:!1,value:{obj:s.activeObj}});else{var p=void 0;if(void 0!==s.activeObj.shape&&(p=s.activeObj.shape.split("-")),"crop-custom"===s.activeObj.shape||void 0!==s.activeObj.shape&&"crop"!==p[0]){if("image"===s.activeObj.shape?this.resizeImg(i,e,"nw-resize",c):this.adjustNWPoints(r,i,e,s.activeObj.rotatedAngle),r.startX>r.endX){var u=r.startX;r.startX=r.endX,r.endX=u,this.dragElement=s.upperCanvas.style.cursor=s.cursor="ne-resize"}r.startY>r.endY&&(u=r.startY,r.startY=r.endY,r.endY=u,this.dragElement=s.upperCanvas.style.cursor=s.cursor="sw-resize"),this.revertResizing(c)}else{var f=s.img,v=f.destLeft,g=f.destTop;if(r.startX<i&&r.startY<e){o=i-r.startX,a=e-r.startY,d=Math.min(o,a);var T=this.getScaleRatio(d);r.startX+=T.x,r.startY+=T.y,(r.startX<(v>0?v:0)||r.startY<(g>0?g:0))&&(r.startX-=T.x,r.startY-=T.y)}else o=r.startX-i,a=e-r.endY,d=Math.max(o,a),T=this.getScaleRatio(d),r.startX-=T.x,r.startY-=T.y,(r.startX<(v>0?v:0)||r.startY<(g>0?g:0))&&(r.startX+=T.x,r.startY+=T.y);r.width=r.endX-r.startX,r.height=r.endY-r.startY,this.revertResizing(c)}r.width=r.endX-r.startX,r.height=r.endY-r.startY,this.preventInverseResize(c)}},h.prototype.updateNPoints=function(i,e){var r,o,a,t=this.parent,s=t.activeObj.activePoint,d=(0,n.l7)({},t.activeObj,null,!0);if("text"!==t.activeObj.shape){var c=void 0;if(t.activeObj.shape&&(c=t.activeObj.shape.split("-")),"crop-custom"===t.activeObj.shape||t.activeObj.shape&&"crop"!==c[0]){if("line"!==t.activeObj.shape&&"arrow"!==t.activeObj.shape&&"path"!==t.activeObj.shape&&0!==t.activeObj.rotatedAngle&&this.dragPoint.startX?(this.dragPoint.startX&&this.dragPoint.startY&&(this.previousPoint.x=this.dragPoint.endX,this.previousPoint.y=this.dragPoint.endY,this.dragPoint.endX=i,this.dragPoint.endY=e),this.adjustRotationPoints(s,r=this.dragPoint.endX-this.previousPoint.x,o=this.dragPoint.endY-this.previousPoint.y,t.activeObj.rotatedAngle)):(s.startY=e,s.height=s.endY-s.startY),s.startY>s.endY){var p=s.startY;s.startY=s.endY,s.endY=p,this.dragElement=this.resizedElement="s-resize"}this.revertResizing(d)}else{var u=t.img,f=u.destLeft,v=u.destTop,g=u.destWidth;if(s.endX>i&&s.startY<e){r=s.endX-i,o=e-s.startY,a=Math.min(r,o);var C=this.getScaleRatio(a);s.endX-=C.x,s.startY+=C.y,(s.endX>f+g||s.startY<v)&&(s.endX+=C.x,s.startY-=C.y)}else r=i-s.endX,o=s.startY-e,a=Math.max(r,o),C=this.getScaleRatio(a),s.endX+=C.x,s.startY-=C.y,(s.endX>f+g||s.startY<v)&&(s.endX-=C.x,s.startY+=C.y);s.width=s.endX-s.startX,s.height=s.endY-s.startY,this.revertResizing(d)}}},h.prototype.updateNEPoints=function(i,e,t){var o,a,d,s=this.parent,r=s.activeObj.activePoint,c=(0,n.l7)({},s.activeObj,null,!0);if("text"===s.activeObj.shape)this.resizeImg(i,e,"ne-resize",c),s.notify("shape",{prop:"updateFontSize",onPropertyChange:!1,value:{obj:s.activeObj}});else{var p=void 0;if(s.activeObj.shape&&(p=s.activeObj.shape.split("-")),"crop-custom"===s.activeObj.shape||void 0!==s.activeObj.shape&&"crop"!==p[0]){if("image"===s.activeObj.shape?this.resizeImg(i,e,"ne-resize",c):this.adjustNEPoints(r,i,e,s.activeObj.rotatedAngle),r.endX<r.startX){var u=r.endX;r.endX=r.startX,r.startX=u,this.dragElement=s.upperCanvas.style.cursor=s.cursor="nw-resize"}r.startY>r.endY&&(u=r.startY,r.startY=r.endY,r.endY=u,this.dragElement=s.upperCanvas.style.cursor=s.cursor="se-resize"),this.revertResizing(c)}else{var f=s.img,v=f.destLeft,g=f.destTop,b=f.destWidth;if(r.endX>i&&r.startY<e){o=r.endX-i,a=e-r.startY,d=Math.min(o,a);var T=this.getScaleRatio(d);r.endX-=T.x,r.startY+=T.y;var j=g>0?g:0;(r.endX>(v+b<s.lowerCanvas.width?v+b:s.lowerCanvas.width)||r.startY<j)&&(r.endX+=T.x,r.startY-=T.y)}else o=i-r.endX,a=r.startY-e,d=Math.max(o,a),T=this.getScaleRatio(d),r.endX+=T.x,r.startY-=T.y,j=g>0?g:0,(r.endX>(v+b<s.lowerCanvas.width?v+b:s.lowerCanvas.width)||r.startY<j)&&(r.endX-=T.x,r.startY+=T.y);r.width=r.endX-r.startX,r.height=r.endY-r.startY,this.revertResizing(c)}r.width=r.endX-r.startX,r.height=r.endY-r.startY,this.preventInverseResize(c)}},h.prototype.updateWPoints=function(i,e){var r,o,a,t=this.parent,s=t.activeObj.activePoint,d=(0,n.l7)({},t.activeObj,null,!0);if("text"!==t.activeObj.shape){var c=void 0;if(t.activeObj.shape&&(c=t.activeObj.shape.split("-")),"crop-custom"===t.activeObj.shape||t.activeObj.shape&&"crop"!==c[0]){if("line"!==t.activeObj.shape&&"arrow"!==t.activeObj.shape&&"path"!==t.activeObj.shape&&0!==t.activeObj.rotatedAngle&&this.dragPoint.startX?(this.dragPoint.startX&&this.dragPoint.startY&&(this.previousPoint.x=this.dragPoint.endX,this.previousPoint.y=this.dragPoint.endY,this.dragPoint.endX=i,this.dragPoint.endY=e),this.adjustRotationPoints(s,r=this.dragPoint.endX-this.previousPoint.x,o=this.dragPoint.endY-this.previousPoint.y,t.activeObj.rotatedAngle)):(s.startX=i,s.width=s.endX-s.startX),"line"===t.activeObj.shape||"arrow"===t.activeObj.shape||"path"===t.activeObj.shape)s.startY=e,s.height=s.endY-s.startY,this.adjustActObjForLineArrow()&&(this.dragElement="e-resize","right"===t.activeObj.triangleDirection?t.activeObj.triangleDirection="left":"left"===t.activeObj.triangleDirection&&(t.activeObj.triangleDirection="right"));else if(s.startX>s.endX){var p=s.startX;s.startX=s.endX,s.endX=p,this.dragElement=this.resizedElement="e-resize"}this.revertResizing(d)}else{var u=t.img,f=u.destLeft,v=u.destTop,b=u.destHeight;if(s.startX<i&&s.endY>e){r=i-s.startX,o=s.endY-e,a=Math.min(r,o);var C=this.getScaleRatio(a);s.startX+=C.x,s.endY-=C.y,(s.startX<f||s.endY>v+b)&&(s.startX-=C.x,s.endY+=C.y)}else r=s.startX-i,o=e-s.endY,a=Math.max(r,o),C=this.getScaleRatio(a),s.startX-=C.x,s.endY+=C.y,(s.startX<f||s.endY>v+b)&&(s.startX+=C.x,s.endY-=C.y);s.width=s.endX-s.startX,s.height=s.endY-s.startY,this.revertResizing(d)}}},h.prototype.updateEPoints=function(i,e){var r,o,a,t=this.parent,s=t.activeObj.activePoint,d=(0,n.l7)({},t.activeObj,null,!0);if("text"!==t.activeObj.shape){var c=void 0;if(t.activeObj.shape&&(c=t.activeObj.shape.split("-")),"crop-custom"===t.activeObj.shape||t.activeObj.shape&&"crop"!==c[0]){if("line"!==t.activeObj.shape&&"arrow"!==t.activeObj.shape&&"path"!==t.activeObj.shape&&0!==t.activeObj.rotatedAngle&&this.dragPoint.startX?(this.dragPoint.startX&&this.dragPoint.startY&&(this.previousPoint.x=this.dragPoint.endX,this.previousPoint.y=this.dragPoint.endY,this.dragPoint.endX=i,this.dragPoint.endY=e),this.adjustRotationPoints(s,r=this.dragPoint.endX-this.previousPoint.x,o=this.dragPoint.endY-this.previousPoint.y,t.activeObj.rotatedAngle)):(s.endX=i,s.width=s.endX-s.startX),"line"===t.activeObj.shape||"arrow"===t.activeObj.shape||"path"===t.activeObj.shape)s.endY=e,s.height=s.endY-s.startY,this.adjustActObjForLineArrow()&&(this.dragElement="w-resize","right"===t.activeObj.triangleDirection?t.activeObj.triangleDirection="left":"left"===t.activeObj.triangleDirection&&(t.activeObj.triangleDirection="right"));else if(s.endX<s.startX){var p=s.endX;s.endX=s.startX,s.startX=p,this.dragElement=this.resizedElement="w-resize"}this.revertResizing(d)}else{var u=t.img,f=u.destLeft,v=u.destTop,g=u.destWidth,b=u.destHeight;if(s.endX>i&&s.endY>e){r=s.endX-i,o=s.endY-e,a=Math.min(r,o);var C=this.getScaleRatio(a);s.endX-=C.x,s.endY-=C.y,(s.endX>f+g||s.endY>v+b)&&(s.endX+=C.x,s.endY+=C.y)}else r=i-s.endX,o=e-s.endY,a=Math.max(r,o),C=this.getScaleRatio(a),s.endX+=C.x,s.endY+=C.y,(s.endX>f+g||s.endY>v+b)&&(s.endX-=C.x,s.endY-=C.y);s.width=s.endX-s.startX,s.height=s.endY-s.startY,this.revertResizing(d)}}},h.prototype.updateSWPoints=function(i,e,t){var o,a,d,s=this.parent,r=s.activeObj.activePoint,c=(0,n.l7)({},s.activeObj,null,!0);if("text"===s.activeObj.shape)this.resizeImg(i,e,"sw-resize",c),s.notify("shape",{prop:"updateFontSize",onPropertyChange:!1,value:{obj:s.activeObj}});else{var p=void 0;if(void 0!==s.activeObj.shape&&(p=s.activeObj.shape.split("-")),"crop-custom"===s.activeObj.shape||void 0!==s.activeObj.shape&&"crop"!==p[0]){if("image"===s.activeObj.shape?this.resizeImg(i,e,"sw-resize",c):this.adjustSWPoints(r,i,e,s.activeObj.rotatedAngle),r.startX>r.endX){var u=r.startX;r.startX=r.endX,r.endX=u,this.dragElement=s.upperCanvas.style.cursor=s.cursor="se-resize"}r.endY<r.startY&&(u=r.endY,r.endY=r.startY,r.startY=u,this.dragElement=s.upperCanvas.style.cursor=s.cursor="nw-resize"),this.revertResizing(c)}else{var f=s.img,v=f.destLeft,g=f.destTop,C=f.destHeight;if(r.startX<i&&r.endY>e){o=i-r.startX,a=r.endY-e,d=Math.min(o,a);var T=this.getScaleRatio(d);r.startX+=T.x,r.endY-=T.y;var j=g+C<s.lowerCanvas.height?g+C:s.lowerCanvas.height;(r.startX<(v>0?v:0)||r.endY>j)&&(r.startX-=T.x,r.endY+=T.y)}else o=r.startX-i,a=e-r.endY,d=Math.max(o,a),T=this.getScaleRatio(d),r.startX-=T.x,r.endY+=T.y,j=g+C<s.lowerCanvas.height?g+C:s.lowerCanvas.height,(r.startX<(v>0?v:0)||r.endY>j)&&(r.startX+=T.x,r.endY-=T.y);r.width=r.endX-r.startX,r.height=r.endY-r.startY,this.revertResizing(c)}r.width=r.endX-r.startX,r.height=r.endY-r.startY,this.preventInverseResize(c)}},h.prototype.updateSPoints=function(i,e){var r,o,a,t=this.parent,s=t.activeObj.activePoint,d=(0,n.l7)({},t.activeObj,null,!0);if("text"!==t.activeObj.shape){var c=void 0;if(t.activeObj.shape&&(c=t.activeObj.shape.split("-")),"crop-custom"===t.activeObj.shape||t.activeObj.shape&&"crop"!==c[0]){if("line"!==t.activeObj.shape&&"arrow"!==t.activeObj.shape&&"path"!==t.activeObj.shape&&0!==t.activeObj.rotatedAngle&&this.dragPoint.startX?(this.dragPoint.startX&&this.dragPoint.startY&&(this.previousPoint.x=this.dragPoint.endX,this.previousPoint.y=this.dragPoint.endY,this.dragPoint.endX=i,this.dragPoint.endY=e),this.adjustRotationPoints(s,r=this.dragPoint.endX-this.previousPoint.x,o=this.dragPoint.endY-this.previousPoint.y,t.activeObj.rotatedAngle)):(s.endY=e,s.height=s.endY-s.startY),s.endY<s.startY){var p=s.endY;s.endY=s.startY,s.startY=p,this.dragElement=this.resizedElement="n-resize"}this.revertResizing(d)}else{var u=t.img,f=u.destLeft,v=u.destTop,g=u.destWidth,b=u.destHeight;if(s.endX>i&&s.endY>e){r=s.endX-i,o=s.endY-e,a=Math.min(r,o);var C=this.getScaleRatio(a);s.endX-=C.x,s.endY-=C.y,(s.endX>f+g||s.endY>v+b)&&(s.endX+=C.x,s.endY+=C.y)}else r=i-s.endX,o=e-s.endY,a=Math.max(r,o),C=this.getScaleRatio(a),s.endX+=C.x,s.endY+=C.x,(s.endX>f+g||s.endY>v+b)&&(s.endX-=C.x,s.endY-=C.y);s.width=s.endX-s.startX,s.height=s.endY-s.startY,this.revertResizing(d)}}},h.prototype.updateSEPoints=function(i,e,t){var o,a,d,s=this.parent,r=s.activeObj.activePoint,c=(0,n.l7)({},s.activeObj,null,!0);if("text"===s.activeObj.shape)this.resizeImg(i,e,"se-resize",c),s.notify("shape",{prop:"updateFontSize",onPropertyChange:!1,value:{obj:s.activeObj}});else{var p=void 0,u=void 0;if(void 0!==s.activeObj.shape&&(p=s.activeObj.shape.split("-")),"crop-custom"===s.activeObj.shape||void 0!==s.activeObj.shape&&"crop"!==p[0]){if("image"===s.activeObj.shape?this.resizeImg(i,e,"se-resize",c):this.adjustSEPoints(r,i,e,s.activeObj.rotatedAngle),r.endX<r.startX){var f=r.endX;r.endX=r.startX,r.startX=f,this.dragElement=s.upperCanvas.style.cursor=s.cursor="sw-resize"}r.endY<r.startY&&(f=r.endY,r.endY=r.startY,r.startY=f,this.dragElement=s.upperCanvas.style.cursor=s.cursor="ne-resize"),this.revertResizing(c)}else{var v=s.img,g=v.destLeft,b=v.destTop,C=v.destWidth,T=v.destHeight;if(r.endX>i&&r.endY>e){o=r.endX-i,a=r.endY-e,d=Math.min(o,a),u=this.getScaleRatio(d),r.endX-=u.x,r.endY-=u.y;var j=b+T<s.lowerCanvas.height?b+T:s.lowerCanvas.height;(r.endX>(g+C<s.lowerCanvas.width?g+C:s.lowerCanvas.width)||r.endY>j)&&(r.endX+=u.x,r.endY+=u.y)}else o=i-r.endX,a=e-r.endY,d=Math.max(o,a),u=this.getScaleRatio(d),r.endX+=u.x,r.endY+=u.y,j=b+T<s.lowerCanvas.height?b+T:s.lowerCanvas.height,(r.endX>(g+C<s.lowerCanvas.width?g+C:s.lowerCanvas.width)||r.endY>j)&&(r.endX-=u.x,r.endY-=u.y);r.width=r.endX-r.startX,r.height=r.endY-r.startY,this.revertResizing(c)}this.preventInverseResize(c)}},h.prototype.resizeImg=function(i,e,t,s){var p,r=this.parent,o=r.activeObj.activePoint;if(0!==this.previousPoint.x&&0!==this.previousPoint.y){switch(r.upperCanvas.style.cursor){case"se-resize":case"s-resize":case"e-resize":this.previousPoint.x>i||this.previousPoint.y>e?(p=this.getScaleRatio((this.previousPoint.x-i+(this.previousPoint.y-e))/2),this.adjustRotationPoints(o,-Math.abs(p.x),-Math.abs(p.y),r.activeObj.rotatedAngle,"img-resize",t)):0!==this.previousPoint.x&&0!==this.previousPoint.y&&(p=this.getScaleRatio((i-this.previousPoint.x+(e-this.previousPoint.y))/2),this.adjustRotationPoints(o,Math.abs(p.x),Math.abs(p.y),r.activeObj.rotatedAngle,"img-resize",t));break;case"sw-resize":this.previousPoint.x<i||this.previousPoint.y>e?(p=this.getScaleRatio((i-this.previousPoint.x+(this.previousPoint.y-e))/2),this.adjustRotationPoints(o,-Math.abs(p.x),-Math.abs(p.y),r.activeObj.rotatedAngle,"img-resize",t)):0!==this.previousPoint.x&&0!==this.previousPoint.y&&(p=this.getScaleRatio((this.previousPoint.x-i+(e-this.previousPoint.y))/2),this.adjustRotationPoints(o,Math.abs(p.x),Math.abs(p.y),r.activeObj.rotatedAngle,"img-resize",t));break;case"w-resize":case"nw-resize":this.previousPoint.x<i||this.previousPoint.y<e?(p=this.getScaleRatio((i-this.previousPoint.x+(e-this.previousPoint.y))/2),this.adjustRotationPoints(o,-Math.abs(p.x),-Math.abs(p.y),r.activeObj.rotatedAngle,"img-resize",t)):0!==this.previousPoint.x&&0!==this.previousPoint.y&&(p=this.getScaleRatio((this.previousPoint.x-i+(this.previousPoint.y-e))/2),this.adjustRotationPoints(o,Math.abs(p.x),Math.abs(p.y),r.activeObj.rotatedAngle,"img-resize",t));break;case"n-resize":case"ne-resize":this.previousPoint.x>i||this.previousPoint.y<e?(p=this.getScaleRatio((this.previousPoint.x-i+(e-this.previousPoint.y))/2),this.adjustRotationPoints(o,-Math.abs(p.x),-Math.abs(p.y),r.activeObj.rotatedAngle,"img-resize",t)):0!==this.previousPoint.x&&0!==this.previousPoint.y&&(p=this.getScaleRatio((i-this.previousPoint.x+(this.previousPoint.y-e))/2),this.adjustRotationPoints(o,Math.abs(p.x),Math.abs(p.y),r.activeObj.rotatedAngle,"img-resize",t))}o.width=o.endX-o.startX,o.height=o.endY-o.startY,(o.width<10||o.height<10||"text"===r.activeObj.shape&&0===r.activeObj.rotatedAngle&&this.preventTextDraggingInvertly())&&(r.activeObj=(0,n.l7)({},s,null,!0))}this.previousPoint={x:i,y:e}},h.prototype.adjustNWPoints=function(i,e,t,s){var a=this.rotatePoints(i.endX,i.endY,i.startX+i.width/2,i.startY+i.height/2,s),d=[(a[0]+e)/2,(a[1]+t)/2],c=this.rotatePoints(a[0],a[1],d[0],d[1],-s),p=this.rotatePoints(e,t,d[0],d[1],-s);return i.endX=c[0],i.endY=c[1],i.startY=p[1],i.startX=p[0],i.width=i.endX-i.startX,i.height=i.endY-i.startY,i},h.prototype.adjustNEPoints=function(i,e,t,s){var a=this.rotatePoints(i.startX,i.endY,i.startX+i.width/2,i.startY+i.height/2,s),d=[(a[0]+e)/2,(a[1]+t)/2],c=this.rotatePoints(a[0],a[1],d[0],d[1],-s),p=this.rotatePoints(e,t,d[0],d[1],-s);return i.startX=c[0],i.endY=c[1],i.width=p[0]-c[0],i.height=c[1]-p[1],i.endX=i.startX+i.width,i.startY=i.endY-i.height,i},h.prototype.adjustSWPoints=function(i,e,t,s){var a=this.rotatePoints(i.endX,i.startY,i.startX+i.width/2,i.startY+i.height/2,s),d=[(a[0]+e)/2,(a[1]+t)/2],c=this.rotatePoints(a[0],a[1],d[0],d[1],-s),p=this.rotatePoints(e,t,d[0],d[1],-s);return i.endX=c[0],i.startY=c[1],i.startX=p[0],i.endY=p[1],i.width=i.endX-i.startX,i.height=i.endY-i.startY,i},h.prototype.adjustSEPoints=function(i,e,t,s){var a=this.rotatePoints(i.startX,i.startY,i.startX+i.width/2,i.startY+i.height/2,s),d=[(a[0]+e)/2,(a[1]+t)/2],c=this.rotatePoints(a[0],a[1],d[0],d[1],-s),p=this.rotatePoints(e,t,d[0],d[1],-s);return i.startX=c[0],i.startY=c[1],i.width=p[0]-c[0],i.height=p[1]-c[1],i.endX=i.startX+i.width,i.endY=i.startY+i.height,i},h.prototype.adjustRotationPoints=function(i,e,t,s,r,o){var a=i.startX+i.width/2,d=i.startY+i.height/2;this.getResizeDirection(i,e,t,s,r,o);var c=this.rotatePoints(i.startX,i.startY,a,d,s),p=this.rotatePoints(i.endX,i.startY,a,d,s),u=this.rotatePoints(i.endX,i.endY,a,d,s),f=this.rotatePoints(i.startX,i.endY,a,d,s),v=[(c[0]+u[0])/2,(c[1]+u[1])/2],g=this.rotatePoints(c[0],c[1],v[0],v[1],-s),b=this.rotatePoints(f[0],f[1],v[0],v[1],-s),C=this.rotatePoints(p[0],p[1],v[0],v[1],-s);return i.startX=g[0],i.startY=g[1],i.endX=C[0],i.endY=b[1],i.width=i.endX-i.startX,i.height=i.endY-i.startY,i},h.prototype.rotatePoints=function(i,e,t,s,r){return[(i-t)*Math.cos(r)-(e-s)*Math.sin(r)+t,(i-t)*Math.sin(r)+(e-s)*Math.cos(r)+s]},h.prototype.setResizedValue=function(i,e,t,s){switch(i){case"x":case"img-resize-x":e+=t;break;case"y":case"img-resize-y":e+=s;break;case"abs-x":e+=t>0?-t:Math.abs(t);break;case"abs-y":e+=s>0?-s:Math.abs(s);break;case"y-abs-x":e+=s+(t>0?-t:Math.abs(t))/2;break;case"abs-x-abs-y":e+=(t>0?-t:Math.abs(t))+(s>0?-s:Math.abs(s))/2;break;case"abs-y-x":e+=(s>0?-s:Math.abs(s))+t/2;break;case"x-y":e+=t+s/2;break;case"y-x":e+=s+t/2}return e},h.prototype.getResizeDirection=function(i,e,t,s,r,o){var a=s*(180/Math.PI),d=this.getResizedElement(a,this.resizedElement);"e-resize"===this.resizedElement?(i.width=this.setResizedValue(d,i.width,e,t),i.endX=i.width+i.startX):"n-resize"===this.resizedElement?(i.startY=this.setResizedValue(d,i.startY,e,t),i.height=i.endY-i.startY):"w-resize"===this.resizedElement?(i.startX=this.setResizedValue(d,i.startX,e,t),i.width=i.startX+i.endX):"s-resize"===this.resizedElement?(i.height=this.setResizedValue(d,i.height,e,t),i.endY=i.height+i.startY):r&&"img-resize"===r?(i.width=this.setResizedValue("img-resize-x",i.width,e,t),i.height=this.setResizedValue("img-resize-y",i.height,e,t),"se-resize"===o?(i.endX=i.width+i.startX,i.endY=i.height+i.startY):"sw-resize"===o?(i.startX=i.endX-i.width,i.endY=i.height+i.startY):"ne-resize"===o?(i.endX=i.width+i.startX,i.startY=i.endY-i.height):"nw-resize"===o&&(i.startX=i.endX-i.width,i.startY=i.endY-i.height)):r&&"text"===r&&("widthHeight"===o?(i.width=this.setResizedValue("x-y",i.width,e,t),i.endX=i.width+i.startX,i.height=this.setResizedValue("y-x",i.height,e,t),i.endY=i.height+i.startY):"width"===o?(i.width=this.setResizedValue("x-y",i.width,e,t),i.endX=i.width+i.startX):"height"===o&&(i.height=this.setResizedValue("y-abs-x",i.height,e,t),i.endY=i.height+i.startY))},h.prototype.getResizedElement=function(i,e){var t=[];"n-resize"===e?t=[[337.5,360,"y"],[0,22.5,"y"],[22.5,67.5,"y-abs-x"],[67.5,112.5,"abs-x"],[112.5,157.5,"abs-x-abs-y"],[157.5,202.5,"abs-y"],[202.5,247.5,"abs-y-x"],[247.5,292.5,"x"],[292.5,337.5,"x-y"]]:"e-resize"===e?t=[[337.5,360,"x"],[0,22.5,"x"],[22.5,67.5,"x-y"],[67.5,112.5,"y"],[112.5,157.5,"y-abs-x"],[157.5,202.5,"abs-x"],[202.5,247.5,"abs-x-abs-y"],[247.5,292.5,"abs-y"],[292.5,337.5,"abs-y-x"]]:"s-resize"===e?t=[[337.5,360,"y"],[0,22.5,"y"],[22.5,67.5,"y-abs-x"],[67.5,112.5,"abs-x"],[112.5,157.5,"abs-x-abs-y"],[157.5,202.5,"abs-y"],[202.5,247.5,"abs-y-x"],[247.5,292.5,"x"],[292.5,337.5,"x-y"]]:"w-resize"===e&&(t=[[337.5,360,"x"],[0,22.5,"x"],[22.5,67.5,"x-y"],[67.5,112.5,"y"],[112.5,157.5,"y-abs-x"],[157.5,202.5,"abs-x"],[202.5,247.5,"abs-x-abs-y"],[247.5,292.5,"abs-y"],[292.5,337.5,"abs-y-x"]]);for(var s=i<0?360-Math.abs(i):i,r=0,o=t;r<o.length;r++){var a=o[r],d=a[0],c=a[1];if(s>d&&s<=c||s+360>d&&s+360<=c)return a[2]}return e},h.prototype.updateCursorStyles=function(i,e,t){var s=this.parent,r=!1;""!==s.activeObj.keyHistory&&void 0===s.activeObj.shape&&!s.currObjType.isCustomCrop&&!s.currObjType.isLine&&s.currObjType.isText&&(s.activeObj.shape="text");var o=(0,n.l7)({},s.activeObj,{},!0);if(!(0,n.le)(o.topLeftCircle)){var a;if((a=0===o.shapeDegree?s.transform.degree:s.transform.degree-o.shapeDegree)<0&&(a=360+a),this.isObjSelected)if("line"===o.shape||"arrow"===o.shape)r=this.updateCursorStylesForLineArrow(i,e,o);else if("path"===o.shape)r=this.updateCursorStylesForPath(i,e,o);else if(o.rotatedAngle)this.setCursorForRotatedObject(o,i,e,s.upperCanvas),"grabbing"===s.cursor?(s.upperCanvas.style.cursor=s.cursor="grabbing",this.dragElement=s.cursor):"move"===s.cursor?(this.dragPoint.startX=this.previousPoint.x=this.dragPoint.endX=i,this.dragPoint.startY=this.previousPoint.y=this.dragPoint.endY=e):"default"!==s.cursor&&(r=!0,this.dragElement=s.cursor,s.currObjType.isResize=!0);else{var d=this.getTransRotationPoint(o),c=o.topLeftCircle.radius;i>=o.topLeftCircle.startX-2*c&&i<=o.topLeftCircle.startX+2*c&&e>=o.topLeftCircle.startY-2*c&&e<=o.topLeftCircle.startY+2*c&&"nw-resize"!==this.dragElement?(o.topLeftCircle.startX=o.topLeftCircle.startY=0,s.upperCanvas.style.cursor=s.cursor="nw-resize",r=!0,this.dragElement=s.upperCanvas.style.cursor):i>=o.topLeftCircle.startX-2*c&&i<=o.topRightCircle.startX-2*c&&e>=o.topCenterCircle.startY-2*c&&e<=o.topCenterCircle.startY+2*c&&"n-resize"!==this.dragElement?(o.topCenterCircle.startX=o.topCenterCircle.startY=0,s.upperCanvas.style.cursor=s.cursor="n-resize",r=!0,this.dragElement=s.upperCanvas.style.cursor):i>=o.topRightCircle.startX-2*c&&i<=o.topRightCircle.startX+2*c&&e>=o.topRightCircle.startY-2*c&&e<=o.topRightCircle.startY+2*c&&"ne-resize"!==this.dragElement?(o.topRightCircle.startX=o.topRightCircle.startY=0,s.upperCanvas.style.cursor=s.cursor="ne-resize",r=!0,this.dragElement=s.upperCanvas.style.cursor):i>=o.centerLeftCircle.startX-2*c&&i<=o.centerLeftCircle.startX+2*c&&e>=o.topLeftCircle.startY-2*c&&e<=o.bottomLeftCircle.startY-2*c&&"w-resize"!==this.dragElement?(o.centerLeftCircle.startX=o.centerLeftCircle.startY=0,s.upperCanvas.style.cursor=s.cursor="w-resize",r=!0,this.dragElement=s.upperCanvas.style.cursor):i>=o.centerRightCircle.startX-2*c&&i<=o.centerRightCircle.startX+2*c&&e>=o.topRightCircle.startY-2*c&&e<=o.bottomRightCircle.startY-2*c&&"e-resize"!==this.dragElement?(o.centerRightCircle.startX=o.centerRightCircle.startY=0,s.upperCanvas.style.cursor=s.cursor="e-resize",r=!0,this.dragElement=s.upperCanvas.style.cursor):i>=o.bottomLeftCircle.startX-2*c&&i<=o.bottomLeftCircle.startX+2*c&&e>=o.bottomLeftCircle.startY-2*c&&e<=o.bottomLeftCircle.startY+2*c&&"sw-resize"!==this.dragElement?(o.bottomLeftCircle.startX=o.bottomLeftCircle.startY=0,s.upperCanvas.style.cursor=s.cursor="sw-resize",r=!0,this.dragElement=s.upperCanvas.style.cursor):i>=o.bottomLeftCircle.startX-2*c&&i<=o.bottomRightCircle.startX-2*c&&e>=o.bottomCenterCircle.startY-2*c&&e<=o.bottomCenterCircle.startY+2*c&&"s-resize"!==this.dragElement?(o.bottomCenterCircle.startX=o.bottomCenterCircle.startY=0,s.upperCanvas.style.cursor=s.cursor="s-resize",r=!0,this.dragElement=s.upperCanvas.style.cursor):i>=o.bottomRightCircle.startX-2*c&&i<=o.bottomRightCircle.startX+2*c&&e>=o.bottomRightCircle.startY-2*c&&e<=o.bottomRightCircle.startY+2*c&&"se-resize"!==this.dragElement?(o.bottomRightCircle.startX=o.bottomRightCircle.startY=0,s.upperCanvas.style.cursor=s.cursor="se-resize",r=!0,this.dragElement=s.upperCanvas.style.cursor):d&&i>=d.x-2*c&&i<=d.x+2*c&&e>=d.y-2*c&&e<=d.y+2*c&&"grabbing"!==this.dragElement?(s.upperCanvas.style.cursor=s.cursor="grabbing",this.dragElement=s.upperCanvas.style.cursor):(this.dragPoint.startX=this.previousPoint.x=this.dragPoint.endX=i,this.dragPoint.startY=this.previousPoint.y=this.dragPoint.endY=e),"text"===o.shape&&("n-resize"===s.cursor||"s-resize"===s.cursor||"e-resize"===s.cursor||"w-resize"===s.cursor)&&(s.upperCanvas.style.cursor=s.cursor="move",this.dragElement="",this.dragPoint.startX=this.previousPoint.x=this.dragPoint.endX=i,this.dragPoint.startY=this.previousPoint.y=this.dragPoint.endY=e)}else this.dragPoint.startX=this.previousPoint.x=this.dragPoint.endX=i,this.dragPoint.startY=this.previousPoint.y=this.dragPoint.endY=e;this.previousPoint.x=this.previousPoint.y=this.diffPoint.x=this.diffPoint.y=0,"touchstart"===t?r||i>=o.activePoint.startX&&i<=o.activePoint.endX&&e>=o.activePoint.startY&&e<=o.activePoint.endY||"grabbing"===this.dragElement?s.currObjType.isDragging=!0:"line"===o.shape||"arrow"===o.shape?(this.setCursorForLineArrow(o,i,e,s.upperCanvas),"move"===s.cursor&&(s.currObjType.isDragging=!0)):"path"===o.shape&&(this.setCursorForPath(o,i,e,s.upperCanvas),"move"===s.cursor&&(s.currObjType.isDragging=!0)):s.currObjType.isDragging=!0,0!==o.rotatedAngle&&("e-resize"===this.dragElement||"w-resize"===this.dragElement||"n-resize"===this.dragElement||"s-resize"===this.dragElement)&&(this.dragPoint.startX=this.previousPoint.x=this.dragPoint.endX=i,this.dragPoint.startY=this.previousPoint.y=this.dragPoint.endY=e)}},h.prototype.updateCursorStylesForLineArrow=function(i,e,t){for(var o,s=!1,r=this.parent,a=t.topLeftCircle.radius,d=0;d<5;d++)if(i>=(o=t.pointColl[d]).x-2*a&&i<=o.x+2*a&&e>=o.y-2*a&&e<=o.y+2*a){t.centerLeftCircle.startX=t.centerLeftCircle.startY=0,this.dragElement="w-resize",s=!0;break}if(!s)for(d=1;d<6;d++)if(i>=(o=t.pointColl[t.pointColl.length-d]).x-2*a&&i<=o.x+2*a&&e>=o.y-2*a&&e<=o.y+2*a){t.centerRightCircle.startX=t.centerRightCircle.startY=0,this.dragElement="e-resize",s=!0;break}if(!s)for(d=0;d<t.pointColl.length;d++){if(i>=(o=t.pointColl[d]).x-2*a&&i<=o.x+2*a&&e>=o.y-2*a&&e<=o.y+2*a){r.upperCanvas.style.cursor=r.cursor="move",this.dragPoint.startX=this.previousPoint.x=this.dragPoint.endX=i,this.dragPoint.startY=this.previousPoint.y=this.dragPoint.endY=e;break}r.upperCanvas.style.cursor=r.cursor="default"}return s},h.prototype.updateCursorStylesForPath=function(i,e,t){var s=!1,r=this.parent;return this.pathAdjustedIndex=this.setCursorForLineArrow(t,i,e,r.upperCanvas),"move"===r.cursor&&(s=!0,this.dragElement="pathDrag"),s||(r.upperCanvas.style.cursor=r.cursor="move",this.dragPoint.startX=this.previousPoint.x=this.dragPoint.endX=i,this.dragPoint.startY=this.previousPoint.y=this.dragPoint.endY=e),s},h.prototype.setTextSelection=function(i,e){var t=this.parent,s=t.activeObj.activePoint,r=t.transform.degree;(r=0===t.activeObj.shapeDegree?t.transform.degree:t.transform.degree-t.activeObj.shapeDegree)<0&&(r=360+r);for(var o=0,a=t.activeObj.flipObjColl.length;o<a;o++){var d=t.activeObj.flipObjColl[o].toLowerCase();switch(r){case 0:switch(d){case"horizontal":s={startX:s.endX-i,startY:s.startY,endX:s.endX,endY:s.startY+(e||0)};break;case"vertical":s.startY=s.endY-e,s={startX:s.startX,startY:s.startY,endX:s.startX+(i||0),endY:s.endY};break;default:s={startX:s.startX,startY:s.startY,endX:s.startX+(i||0),endY:s.startY+(e||0)}}break;case 90:switch(d){case"horizontal":s.endX=s.startX+e,s={startX:s.startX,startY:s.startY,endX:s.endX,endY:s.startY+(i||0)};break;case"vertical":s.startX=s.endX-e,s={startX:s.startX,startY:s.endY-i,endX:s.endX,endY:s.endY};break;default:s.startX=s.endX-e,s={startX:s.startX,startY:s.startY,endX:s.endX,endY:s.startY+(i||0)}}break;case 180:switch(d){case"horizontal":s.startY=s.endY-e,s={startX:s.startX,startY:s.startY,endX:s.startX+i,endY:s.endY};break;case"vertical":s.endY=s.startY+e,s={endX:s.endX,endY:s.endY,startX:s.endX-(i||0),startY:s.startY};break;default:s={endX:s.endX,endY:s.endY,startX:s.endX-(i||0),startY:s.endY-(e||0)}}break;case 270:switch(d){case"horizontal":s.startX=s.endX-e,s={startX:s.startX,startY:s.endY-(i||0),endX:s.endX,endY:s.endY};break;case"vertical":s={startX:s.startX,startY:s.startY,endX:s.startX+e,endY:s.startY+(i||0)};break;default:s.endX=s.startX+e,s={startX:s.startX,startY:s.endY-(i||0),endX:s.endX,endY:s.endY}}}}if(0===t.activeObj.flipObjColl.length)switch(r){case 0:s={startX:s.startX,startY:s.startY,endX:s.startX+(i||0),endY:s.startY+(e||0)};break;case 90:s.startX=s.endX-e,s={startX:s.startX,startY:s.startY,endX:s.endX,endY:s.startY+(i||0)};break;case 180:s={endX:s.endX,endY:s.endY,startX:s.endX-(i||0),startY:s.endY-(e||0)};break;case 270:s.endX=s.startX+e,s={startX:s.startX,startY:s.endY-(i||0),endX:s.endX,endY:s.endY}}s.width=s.endX-s.startX,s.height=s.endY-s.startY,t.activeObj.activePoint=s,(360===t.transform.degree||-360===t.transform.degree)&&(t.transform.degree=0)},h.prototype.setActivePoint=function(i,e){var t=this.parent,s=t.activeObj.activePoint;if(!(0,n.le)(s))if(t.currObjType.isText){var r=i||0,o=e||t.activeObj.textSettings.fontSize;void 0===t.activeObj.textSettings.fontSize&&(t.activeObj.textSettings.fontSize=.1*Math.abs(t.baseImgCanvas.width-t.baseImgCanvas.height)),this.setTextSelection(r,o),this.mouseDownPoint.x=s.endX,this.mouseDownPoint.y=s.endY,void 0!==t.activeObj.horTopLine&&(t.activeObj.activePoint=(0,n.l7)({},s,{},!0)),t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}})}else if(i&&e)s.startX=this.mouseDownPoint.x=i,s.startY=this.mouseDownPoint.y=e,t.currObjType.isDragging=!0;else{var a=t.activeObj;(s={startX:a.horTopLine.startX,startY:a.horTopLine.startY,endX:a.horTopLine.endX,endY:a.horTopLine.endY}).width=s.endX-s.startX,s.height=s.endY-s.startY}},h.prototype.mouseDownEventHandler=function(i){var e=this,t=this.parent;if(this.mouseDown=i.currentTarget===t.lowerCanvas||i.currentTarget===t.upperCanvas?"canvas":"",this.isTouch="touchstart"===i.type,"touchstart"!==i.type||i.currentTarget!==t.lowerCanvas||t.isImageLoaded){var s;this.isCropSelection=!1,this.isPan=!0,void 0!==t.activeObj.shape&&(s=t.activeObj.shape.split("-")),void 0!==s&&"crop"===s[0]&&(this.isCropSelection=!0),this.isCropSelection&&(this.dragCanvas=t.togglePan=!0);var r={point:this.setXYPoints(i)};(0,n.xr)()&&t.events&&!0===t.events.clicked.hasDelegate?t.dotNetRef.invokeMethodAsync("ClickEventAsync","click",r).then(function(o){e.clickEvent(o,i)}):(t.trigger("click",r),this.clickEvent(r,i))}},h.prototype.getImagePoints=function(i,e){var s=this.parent.img,r=s.destLeft,o=s.destTop,a=s.destWidth,d=s.destHeight;return i<r?i=r:i>r+a&&(i=r+a),e<o?e=o:e>o+d&&(e=o+d),{x:i,y:e}},h.prototype.clickEvent=function(i,e){var t=this.parent,s=t.activeObj.activePoint,r=i.point.x,o=i.point.y,a=t.activeObj.shape&&"text"===t.activeObj.shape?t.cursor:"default";if(t.isResize)return this.performEnterAction(),void(t.upperCanvas.style.cursor="default");if(JSON.stringify(t.frameObj)!==JSON.stringify(t.tempFrameObj))t.okBtn();else if(""!==this.currentDrawingShape){var d={currObj:{}};t.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:d}}),this.initialPrevObj=d.currObj,this.initialPrevObj.objColl=(0,n.l7)([],t.objColl,[],!0),this.initialPrevObj.pointColl=(0,n.l7)([],t.pointColl,[],!0),this.initialPrevObj.afterCropActions=(0,n.l7)([],t.afterCropActions,[],!0);var c={selPointColl:null};if(t.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:c}}),this.initialPrevObj.selPointColl=(0,n.l7)([],c.selPointColl,[],!0),this.setActivePoint(r,o),"path"===this.currentDrawingShape){var p=this.getImagePoints(r,o);t.activeObj.pointColl.push({x:p.x,y:p.y}),0!==s.width&&0!==s.height&&(s.width=0,s.height=0,s.startX=t.activeObj.pointColl[t.activeObj.pointColl.length-1].x,s.startY=t.activeObj.pointColl[t.activeObj.pointColl.length-1].y)}s.endX=s.startX,s.endY=s.startY,t.currObjType.isDragging=!0;var u=this.updatePrevShapeSettings(),f={cancel:!1,action:"draw-start",previousShapeSettings:u},v={cancel:!1,action:"move",previousShapeSettings:u};return this.shapeResizingArgs=f,this.shapeMovingArgs=v,void this.triggerShapeChange(f,v,"mouse-down")}t.notify("draw",{prop:"resetFrameZoom",onPropertyChange:!1,value:{isOk:!0}}),this.isCropSelection&&this.dragCanvas&&(this.setCursor(r,o),"move"!==t.cursor&&"crosshair"!==t.cursor&&"default"!==t.cursor&&"grab"!==t.cursor&&(this.isPan=!1)),this.isObjSelected=!!t.activeObj.shape;var g={currObj:{}};t.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:g}});var b=g.currObj,C=(0,n.l7)({},t.activeObj,null,!0),T=this.isShapeTouch(e,this.isCropSelection),O=this.isFreehandDrawTouch(e,this.isCropSelection),j=T||this.isShapeClick(e,this.isCropSelection),Y=this.applyCurrShape(j),H="none"!==t.textArea.style.display;if(this.isTouch&&!T&&C.shape&&!this.isCropSelection){this.applyObj(r,o)&&(t.okBtn(!0),t.notify("draw",{prop:"setPrevActObj",onPropertyChange:!1,value:{prevActObj:null}}));var N=(0,n.l7)({},t.cropObj,{},!0);t.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:b,previousObjColl:b.objColl,previousPointColl:b.pointColl,previousSelPointColl:b.selPointColl,previousCropObj:N,previousText:null,currentText:null,previousFilter:null,isCircleCrop:t.isCircleCrop}}),Y&&t.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}})}if(!T&&!t.togglePen&&!this.isCropSelection&&((0,n.xr)()?t.isImageLoaded&&t.updateToolbar(t.element,"imageLoaded","okBtnClick"):(t.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1}),t.notify("toolbar",{prop:"close-contextual-toolbar",onPropertyChange:!1}))),!this.dragCanvas||!this.isPan||"grab"!==t.cursor&&!this.isTouch||T||O||t.togglePen){var Ye=!1;t.activeObj.shape&&("line"===t.activeObj.shape||"arrow"===t.activeObj.shape)&&(Ye=!0);var K=this.setXYPoints(e),te=K.x,J=K.y;if(this.applyObj(te,J)){if(t.okBtn(!0),Y){var pe=t.cursor;t.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),t.cursor=pe}t.notify("draw",{prop:"setPrevActObj",onPropertyChange:!1,value:{prevActObj:null}})}t.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:te,y:J,isMouseDown:!0}});var me={index:null};t.notify("freehand-draw",{prop:"getFreehandDrawHoveredIndex",onPropertyChange:!1,value:{obj:me}});var _e={freehandSelectedIndex:null};if(t.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:_e}}),this.isFhdPoint||this.isFhdCustomized&&!t.togglePen){if(!(0,n.le)(_e.freehandSelectedIndex)&&_e.freehandSelectedIndex!==me.index){var xe=me.index;t.okBtn(),this.isFhdCustomized=!1,t.notify("freehand-draw",{prop:"setFreehandDrawHoveredIndex",onPropertyChange:!1,value:{index:xe}}),me.index>-1&&t.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:t.pointColl[me.index].strokeColor,strokeWidth:t.pointColl[me.index].strokeWidth}})}_e.freehandSelectedIndex=null,t.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:_e}});var Fe=(0,n.l7)([],t.objColl,[],!0);!(0,n.le)(me.index)&&me.index>-1?(t.notify("freehand-draw",{prop:"selectFhd",value:{type:"ok"}}),t.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:null,strokeWidth:null}}),(0,n.xr)()?(t.updateToolbar(t.element,"pen"),t.updateToolbar(t.element,"quickAccessToolbar","pen")):t.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:!0}})):_e.freehandSelectedIndex?(t.okBtn(),t.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:t.pointColl[_e.freehandSelectedIndex].strokeColor,strokeWidth:t.pointColl[_e.freehandSelectedIndex].strokeWidth}})):this.findTargetObj(te,J,!1)&&(t.objColl=Fe,this.findTarget(te,J,e.type),t.notify("draw",{prop:"redrawDownScale"}))}else{if(this.isFhdEditing){t.notify("freehand-draw",{prop:"cancelFhd",value:{type:"ok"}});var ot=document.getElementById(t.element.id+"_quickAccessToolbarArea");ot&&(ot.style.display="none")}if(!(0,n.xr)()){var ct=t.togglePen;t.notify("toolbar",{prop:"close-contextual-toolbar",onPropertyChange:!1}),ct&&t.freehandDraw(!0)}if(this.isFhdEditing=!1,Ye?this.setCursor(te,J):"default"!==a&&(t.upperCanvas.style.cursor=t.cursor=a),"crosshair"===t.cursor||n.AR.isDevice&&t.togglePen){if(t.togglePen){if((0,n.le)(t.activeObj.strokeSettings)){var st={strokeSettings:{}};t.notify("shape",{prop:"getStrokeSettings",onPropertyChange:!1,value:{obj:st}}),t.activeObj.strokeSettings=st.strokeSettings}var Ke={penStrokeWidth:null};t.notify("freehand-draw",{prop:"getPenStrokeWidth",onPropertyChange:!1,value:{obj:Ke}}),(0,n.le)(Ke.penStrokeWidth)&&t.notify("freehand-draw",{prop:"setPenStrokeWidth",onPropertyChange:!1,value:{value:2}}),this.upperContext.strokeStyle=t.activeObj.strokeSettings.strokeColor,this.upperContext.fillStyle=t.activeObj.strokeSettings.strokeColor,t.notify("freehand-draw",{prop:"freehandDownHandler",onPropertyChange:!1,value:{e,canvas:t.upperCanvas}})}else t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height);t.currObjType.isActiveObj=!1,this.dragElement="",this.dragPoint.startX=this.dragPoint.startY=this.dragPoint.endX=this.dragPoint.endY=0}"crosshair"!==t.cursor&&"touchstart"===e.type.toLowerCase()||t.currObjType.isActiveObj&&"default"!==t.cursor&&!t.togglePen?(this.findTarget(te,J,e.type),t.notify("draw",{prop:"redrawDownScale"})):(""===t.currObjType.shape||t.currObjType.isCustomCrop)&&!t.togglePen&&"default"!==t.cursor&&this.setActivePoint(te,J),H&&t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}})}}else{if(this.applyObj(r,o)){if(t.okBtn(!0),Y){var ne=t.cursor;t.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),t.cursor=ne}t.notify("draw",{prop:"setPrevActObj",onPropertyChange:!1,value:{prevActObj:null}})}this.isFhdEditing&&(t.notify("freehand-draw",{prop:"applyFhd",onPropertyChange:!1}),this.isFhdCustomized=!1,(0,n.xr)()||t.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1}));var re=t.activeObj.shape;re&&["rectangle","ellipse","line","arrow","path","text","image"].indexOf(re)>-1&&(t.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}}),t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),(0,n.xr)()?t.updateToolbar(t.element,"imageLoaded"):(t.notify("toolbar",{prop:"setCurrentToolbar",value:{type:"main"}}),t.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1}))),this.canvasMouseDownHandler(e)}this.isShapeInserted=!1,this.tempActiveObj=(0,n.l7)({},t.activeObj,{},!0)},h.prototype.mouseMoveEventHandler=function(i){var e=this.parent,t=e.cursor,s=e.upperCanvas.style.cursor;i.preventDefault(),this.timer&&this.timer>0&&(this.timer=0);var r=e.lowerCanvas.getBoundingClientRect();if("touchmove"!==i.type||2!==i.touches.length){var v,g;"mousemove"===i.type?(v=i.clientX,g=i.clientY):(this.touchEndPoint.x=v=i.touches[0].clientX,this.touchEndPoint.y=g=i.touches[0].clientY),v-=r.left,g-=r.top,this.canvasMouseMoveHandler(i);var C,b=!1;void 0!==e.activeObj.shape&&(C=e.activeObj.shape.split("-")),void 0!==C&&"crop"===C[0]&&(b=!0),b&&e.notify("transform",{prop:"disableZoomOutBtn",value:{isZoomOut:!0}}),e.upperCanvas.style.cursor=s,e.cursor=t,(e.currObjType.isActiveObj&&(void 0!==e.activeObj.activePoint||e.objColl.length>0)&&!this.dragCanvas||void 0!==e.activeObj.activePoint)&&""===this.dragElement&&(this.setCursor(v,g),e.activeObj.activePoint&&(0===e.activeObj.activePoint.width||!(0,n.le)(e.activeObj.currIndex)&&this.cursorTargetId!==e.activeObj.currIndex)&&"default"!==e.cursor&&"move"!==e.cursor&&"crosshair"!==e.cursor&&"grab"!==e.cursor&&"pointer"!==e.cursor&&(e.upperCanvas.style.cursor=e.cursor="move"),this.findTarget(v,g,i.type));var T=e.img,O=T.destLeft,j=T.destTop,Y=T.destWidth,H=T.destHeight;e.currObjType.isDragging&&(this.upperContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),this.updateActivePoint(v,g,b),e.notify("shape",{prop:"updateTrianglePoints",onPropertyChange:!1,value:{obj:e.activeObj}}),this.isPreventDragging?(e.activeObj.activePoint.startX>O&&e.activeObj.activePoint.endX<O+Y&&e.activeObj.activePoint.startY>j&&e.activeObj.activePoint.endY<j+H&&(this.isPreventDragging=!1),e.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:null,isCropRatio:null,points:null,isPreventDrag:!0,saveContext:null,isPreventSelection:null}})):e.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:null,isCropRatio:null,points:null,isPreventDrag:null,saveContext:null,isPreventSelection:null}}),b&&(this.dragCanvas=e.togglePan=!0))}else{if(this.isFirstMove)this.startTouches=this.targetTouches(i.touches),this.tempTouches=[],this.tempTouches.push({x:i.touches[0].clientX||i.touches[0].pageX-e.lowerCanvas.offsetLeft-r.left,y:(i.touches[0].clientY||i.touches[0].pageY-e.lowerCanvas.offsetTop)-r.top}),this.tempTouches.push({x:(i.touches[1].clientX||i.touches[1].pageX-e.lowerCanvas.offsetLeft)-r.left,y:(i.touches[1].clientY||i.touches[1].pageY-e.lowerCanvas.offsetTop)-r.top});else{var o=(i.touches[0].clientX||i.touches[0].pageX-e.lowerCanvas.offsetLeft)-r.left,a=(i.touches[0].clientY||i.touches[0].pageY-e.lowerCanvas.offsetTop)-r.top,d=(i.touches[1].clientX||i.touches[1].pageX-e.lowerCanvas.offsetLeft)-r.left,c=(i.touches[1].clientY||i.touches[1].pageY-e.lowerCanvas.offsetTop)-r.top,p={x:o<d?d-(d-o)/2:o-(o-d)/2,y:a<c?c-(c-a)/2:a-(a-c)/2};if(this.currMousePoint.x!==p.x&&this.currMousePoint.y!==p.y){var u="";if("touchmove"===i.type&&(e.zoomSettings.zoomTrigger&oi.Pinch)===oi.Pinch){this.zoomType="Pinch";var f=this.calculateScale(this.startTouches,this.targetTouches(i.touches));this.startTouches=this.targetTouches(i.touches),f>1?u="zoomIn":f<1&&(u="zoomOut")}""!==u&&e.notify("draw",{prop:"performPointZoom",onPropertyChange:!1,value:{x:p.x,y:p.y,type:u,isResize:null}}),this.tempTouches=[],this.tempTouches.push({x:i.touches[0].clientX||i.touches[0].pageX-e.lowerCanvas.offsetLeft,y:i.touches[0].clientY||i.touches[0].pageY-e.lowerCanvas.offsetTop}),this.tempTouches.push({x:i.touches[1].clientX||i.touches[1].pageX-e.lowerCanvas.offsetLeft,y:i.touches[1].clientY||i.touches[1].pageY-e.lowerCanvas.offsetTop}),this.currMousePoint.x=p.x,this.currMousePoint.y=p.y,this.isPinching=!0}}this.isFirstMove=!1}},h.prototype.mouseUpEventHandler=function(i){var e=this.parent,t=e.element.id;if((n.AR.isDevice||!(e.element.querySelector("#"+t+"_contextualToolbar")&&!e.element.querySelector("#"+t+"_contextualToolbar").parentElement.classList.contains("e-hide")||e.element.querySelector("#"+t+"_headWrapper")&&!e.element.querySelector("#"+t+"_headWrapper").parentElement.classList.contains("e-hide")))&&("canvas"===this.mouseDown||this.isSliderActive||i.target.closest(".e-image-editor")||i.target.closest(".e-ie-ddb-popup"))){"touchstart"===i.type?this.isTouch=!1:"touchend"===i.type&&i.stopImmediatePropagation(),i.preventDefault(),e.togglePan&&this.canvasMouseUpHandler(i);var s=void 0,r=void 0;"mouseup"===i.type?(s=i.clientX,r=i.clientY):(s=this.touchEndPoint.x,r=this.touchEndPoint.y);var o=e.lowerCanvas.getBoundingClientRect();if(s-=o.left,r-=o.top,"touchend"===i.type&&(this.startTouches=this.tempTouches=[],this.isFirstMove=!1,"none"===e.textArea.style.display&&(this.timer=0),this.isPinching))return this.isPinching=!1,e.notify("draw",{prop:"redrawDownScale"}),(e.isCropTab||e.activeObj.shape)&&(e.notify("draw",{prop:"setStraightenActObj",value:{activeObj:null}}),e.notify("freehand-draw",{prop:"resetStraightenPoint"})),void(e.isStraightening&&(e.notify("draw",{prop:"resetStraightenDestPoints"}),e.notify("draw",{prop:"setDestForStraighten"})));var a=!1,d=void 0;if(void 0!==e.activeObj.shape&&(d=e.activeObj.shape.split("-")),void 0!==d&&"crop"===d[0]&&(a=!0),(0,n.xr)()&&e.eventType&&("pan"===e.eventType?e.events&&!0===e.events.onPanEnd.hasDelegate&&e.dotNetRef.invokeMethodAsync("PanEventAsync","OnPanEnd",e.panEventArgs):"resize"===e.eventType?!this.isCropSelection&&e.events&&!0===e.events.onShapeResizeEnd.hasDelegate?(this.shapeResizingArgs.currentShapeSettings=this.updatePrevShapeSettings(),this.shapeResizingArgs.action=""!==this.currentDrawingShape?"drawing":"resize-end",e.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShapeResizeEnd",this.shapeResizingArgs,null).then(function(Ye){e.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:Ye.currentShapeSettings}})})):this.shapeResizingArgs&&this.selectionResizingArgs&&e.events&&!0===e.events.onSelectionResizeEnd.hasDelegate&&(this.selectionResizingArgs.currentSelectionSettings={type:e.activeObj.shape,startX:this.shapeResizingArgs.currentShapeSettings.startX,startY:this.shapeResizingArgs.currentShapeSettings.startY,width:this.shapeResizingArgs.currentShapeSettings.width,height:this.shapeResizingArgs.currentShapeSettings.height},this.selectionResizingArgs.action="resize-end",e.dotNetRef.invokeMethodAsync("SelectionEventAsync","OnSelectionResizeEnd",this.selectionResizingArgs).then(function(Ye){e.notify("shape",{prop:"updateSelectionChangeEventArgs",onPropertyChange:!1,value:{selectionSettings:Ye.currentSelectionSettings}})})):this.shapeMovingArgs&&e.events&&!0===e.events.onShapeDragEnd.hasDelegate&&(this.shapeMovingArgs.currentShapeSettings=this.updatePrevShapeSettings(),this.shapeMovingArgs.action="drag-end",e.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShapeDragEnd",this.shapeMovingArgs,null).then(function(Ye){e.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:Ye.currentShapeSettings}})})),this.shapeResizingArgs=null,this.shapeMovingArgs=null,e.panEventArgs=null,e.eventType=null),"path"===this.currentDrawingShape){var p=i.srcElement,u=p.parentElement.id,f=e.element.id;return void(i.currentTarget!==e.upperCanvas&&i.currentTarget!==e.lowerCanvas&&e.activeObj.pointColl.length>0&&(p.classList.contains("e-upload-icon")||u===f+"_zoomIn"||u===f+"_zoomOut"||u===f+"_annotationBtn"||u===f+"_borderColorBtn"||u===f+"_borderWidthBtn"||u===f+"_saveBtn")&&(e.notify("shape",{prop:"stopPathDrawing",onPropertyChange:!1,value:{e:i,isApply:!0}}),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),e.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:e.activeObj,isCropRatio:null,points:null,isPreventDrag:!0,saveContext:null,isPreventSelection:!0}})))}if(i.currentTarget===e.upperCanvas&&!e.isResize){if(this.pathAdjustedIndex=null,""!==this.currentDrawingShape){if("text"===this.currentDrawingShape){var v=(0,n.l7)({},e.cropObj,{},!0);e.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeInsert",previousObj:this.initialPrevObj,previousObjColl:this.initialPrevObj.objColl,previousPointColl:this.initialPrevObj.pointColl,previousSelPointColl:this.initialPrevObj.selPointColl,previousCropObj:v,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}})}else e.notify("undo-redo",{prop:"updateUrObj",onPropertyChange:!1,value:{objColl:this.initialPrevObj.objColl,operation:"shapeInsert"}});this.isShapeInserted=!0,this.currentDrawingShape="",0===e.activeObj.activePoint.width&&0===e.activeObj.activePoint.height&&e.notify("draw",{prop:"performCancel",value:{isContextualToolbar:null}});var g=this.updatePrevShapeSettings(),b={cancel:!1,action:"draw-end",previousShapeSettings:g},C={cancel:!1,action:"move",previousShapeSettings:g};this.shapeResizingArgs=b,this.shapeMovingArgs=C,this.triggerShapeChange(b,C,"mouse-up")}this.adjustActObjForLineArrow(),this.updPtCollForShpRot(),e.currObjType.shape=e.currObjType.shape.toLowerCase();var T=(0,n.l7)({},e.cropObj,{},!0),O={currObj:{}};e.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:O}});var j=O.currObj;j.objColl=(0,n.l7)([],e.objColl,[],!0),j.pointColl=(0,n.l7)([],e.pointColl,[],!0),j.afterCropActions=(0,n.l7)([],e.afterCropActions,[],!0);var Y={selPointColl:null};if(e.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:Y}}),j.selPointColl=(0,n.l7)([],Y.selPointColl,[],!0),!e.togglePen&&!a&&(this.tempObjColl&&0!==e.activeObj.activePoint.width&&(e.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),e.objColl.push(e.activeObj),JSON.stringify(e.activeObj.activePoint)!==JSON.stringify(this.tempActiveObj.activePoint)&&e.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:j,previousObjColl:this.tempObjColl,previousPointColl:j.pointColl,previousSelPointColl:j.selPointColl,previousCropObj:T,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.redrawShape(e.objColl[e.objColl.length-1],!0),this.tempObjColl=void 0),this.isFhdEditing||(this.applyCurrActObj(s,r),e.currObjType.isResize=!1,(0,n.xr)()||e.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1}))),e.activeObj){var N,H=!1;void 0!==e.activeObj.shape&&(N=e.activeObj.shape.split("-")),(void 0===N&&(e.currObjType.isCustomCrop||e.togglePen)||void 0!==N&&"crop"===N[0])&&(H=!0);var ne=e.activeObj.shape;(0,n.xr)()?["rectangle","ellipse","line","arrow","path","image"].indexOf(ne)>-1?e.updateToolbar(e.element,e.activeObj.shape):"text"===e.activeObj.shape&&"none"===e.textArea.style.display&&e.updateToolbar(e.element,"text"):(["rectangle","ellipse","line","arrow","path"].indexOf(ne)>-1?e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"shapes",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}):"text"===ne?"none"===e.textArea.style.display&&e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"text",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}):this.isFhdEditing?e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"pen",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}):H||e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:null,isCropping:!1,isZooming:null}}),e.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1}))}}void 0!==e.activeObj.shape&&(d=e.activeObj.shape.split("-")),void 0!==d&&"crop"===d[0]&&(a=!0),e.activeObj.shape&&!a&&i.currentTarget===e.upperCanvas&&"none"===e.textArea.style.display&&("text"===e.activeObj.shape?(0,n.xr)()||e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"text",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}):(0,n.xr)()||e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"shapes",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),(0,n.xr)()?e.updateToolbar(e.element,"quickAccessToolbar",e.activeObj.shape):(e.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1}),e.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}}))),e.togglePen&&i.currentTarget===e.upperCanvas?e.notify("freehand-draw",{prop:"freehandUpHandler",onPropertyChange:!1,value:{e:i,canvas:e.upperCanvas,context:this.upperContext}}):e.currObjType.shape="",this.dragElement="",this.mouseDown="",this.isSliderActive=!1,e.currObjType.isInitialLine=e.currObjType.isDragging=!1,this.selMouseUpEvent()}},h.prototype.adjustActObjForLineArrow=function(i){var e=!1,t=this.parent;if((i=i||t.activeObj).shape&&("line"===i.shape||"arrow"===t.activeObj.shape)){var s=void 0;if(("e-resize"===this.dragElement&&i.activePoint.endX<i.activePoint.startX||"w-resize"===this.dragElement&&i.activePoint.startX>i.activePoint.endX)&&(e=!0,s=i.activePoint.startX,i.activePoint.startX=i.activePoint.endX,i.activePoint.endX=s,s=i.activePoint.startY,i.activePoint.startY=i.activePoint.endY,i.activePoint.endY=s),i.activePoint.width=Math.abs(i.activePoint.endX-i.activePoint.startX),i.activePoint.height=Math.abs(i.activePoint.endY-i.activePoint.startY),"path"!==t.activeObj.shape){t.notify("shape",{prop:"setPointCollForLineArrow",onPropertyChange:!1,value:{obj:i}});for(var r=0;r<i.pointColl.length;r++)i.pointColl[r].ratioX=(i.pointColl[r].x-t.img.destLeft)/t.img.destWidth,i.pointColl[r].ratioY=(i.pointColl[r].y-t.img.destTop)/t.img.destHeight}}return e},h.prototype.updPtCollForShpRot=function(i){var e=this.parent;if((i=i||e.activeObj).shape&&0!==i.rotatedAngle){e.notify("shape",{prop:"setPointCollForShapeRotation",onPropertyChange:!1,value:{obj:i}});var t=e.img,s=t.destLeft,r=t.destTop,o=t.destWidth,a=t.destHeight,c=i.horBottomLinePointColl,p=i.verLeftLinePointColl,u=i.verRightLinePointColl,f=function(v){v.ratioX=(v.x-s)/o,v.ratioY=(v.y-r)/a};i.horTopLinePointColl.forEach(f),c.forEach(f),p.forEach(f),u.forEach(f)}},h.prototype.setXYPoints=function(i){var e,t;i.preventDefault(),"mousedown"===i.type?(e=i.clientX,t=i.clientY):(this.touchEndPoint.x=e=i.touches[0].clientX,this.touchEndPoint.y=t=i.touches[0].clientY);var s=this.parent.lowerCanvas.getBoundingClientRect();return{x:e-=s.left,y:t-=s.top}},h.prototype.getCurrentIndex=function(){for(var i,e=this.parent,t=0,s=e.objColl.length;t<s;t++)if(e.activeObj.currIndex===e.objColl[t].currIndex){i=t;break}return i},h.prototype.isShapeClick=function(i,e){var t=this.parent,s=!1;if(t.togglePen)return s;if(t.activeObj.shape&&"text"===t.activeObj.shape&&this.isShapeInserted){var r="block"===t.textArea.style.display||"inline-block"===t.textArea.style.display,o=(0,n.l7)({},t.activeObj,null,!0);t.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:!0}});var a=this.setXYPoints(i);if(s=this.findTargetObj(a.x,a.y,e),e||(this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),s&&t.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:!0}})),r){t.textArea.value=t.objColl[t.objColl.length-1].keyHistory,t.textArea.style.display="block",t.activeObj=o;var p=this.getCurrentIndex();(0,n.le)(p)?t.objColl.pop():t.objColl.splice(p,1)}else!s&&o.shape&&(t.activeObj=o,p=this.getCurrentIndex(),(0,n.le)(p)||JSON.stringify(t.activeObj.activePoint)!==JSON.stringify(t.objColl[p].activePoint)?(0,n.le)(t.activeObj.currIndex)&&t.objColl.pop():t.objColl.splice(p,1))}return s},h.prototype.isShapeTouch=function(i,e){var t=this.parent,s=!1;if("touchstart"===i.type&&!t.togglePen){t.activeObj&&"text"===t.activeObj.shape&&(this.timer=setTimeout(this.setTimer.bind(this),1e3,i));var r="block"===t.textArea.style.display||"inline-block"===t.textArea.style.display,o=(0,n.l7)({},t.activeObj,null,!0);t.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:!0}});var a=this.setXYPoints(i);if(s=this.findTargetObj(a.x,a.y,e),e||this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),r){t.textArea.value=t.objColl[t.objColl.length-1].keyHistory,t.textArea.style.display="block",t.activeObj=o;var p=this.getCurrentIndex();(0,n.le)(p)?t.objColl.pop():t.objColl.splice(p,1)}else!s&&o.shape&&(t.activeObj=o,p=this.getCurrentIndex(),e||((0,n.le)(p)||JSON.stringify(t.activeObj.activePoint)!==JSON.stringify(t.objColl[p].activePoint)?(0,n.le)(t.activeObj.currIndex)&&t.objColl.pop():t.objColl.splice(p,1)))}return s},h.prototype.isFreehandDrawTouch=function(i,e){var t=this.parent,s=!1;if("touchstart"===i.type&&!e&&!t.togglePen){var r="block"===t.textArea.style.display||"inline-block"===t.textArea.style.display,o=(0,n.l7)({},t.activeObj,null,!0);t.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:!0}});var a=this.setXYPoints(i);if(this.setCursor(a.x,a.y),this.isFhdPoint&&(s=!0),r){t.textArea.value=t.objColl[t.objColl.length-1].keyHistory,t.textArea.style.display="block",t.activeObj=o;var p=this.getCurrentIndex();(0,n.le)(p)?t.objColl.pop():t.objColl.splice(p,1)}else o.shape&&(t.activeObj=o,p=this.getCurrentIndex(),e||((0,n.le)(p)||JSON.stringify(t.activeObj.activePoint)!==JSON.stringify(t.objColl[p].activePoint)?(0,n.le)(t.activeObj.currIndex)&&t.objColl.pop():t.objColl.splice(p,1)))}return s},h.prototype.applyObj=function(i,e){var t=this.parent,s=!1,o=t.activeObj.activePoint,a=o.startX,d=o.startY,c=o.endX,p=o.endY;if(t.activeObj.shape&&["rectangle","ellipse","line","arrow","path","image","text"].indexOf(t.activeObj.shape)>-1){var u=t.activeObj.topLeftCircle.radius;s=!(i>=a-2*u&&i<=c+2*u&&e>=d-2*u&&e<=p+2*u||"default"!==t.upperCanvas.style.cursor&&"grab"!==t.upperCanvas.style.cursor&&"crosshair"!==t.upperCanvas.style.cursor&&"pointer"!==t.upperCanvas.style.cursor&&"move"!==t.upperCanvas.style.cursor)}return s},h.prototype.applyCurrShape=function(i){var e=this.parent,t=!1;if(e.togglePen)return t;var s=(0,n.l7)({},e.activeObj,null,!0);if(this.isShapeInserted&&"text"===e.activeObj.shape&&i&&(this.isInitialTextEdited=!0,e.notify("draw",{prop:"setShapeTextInsert",onPropertyChange:!1,value:{bool:!0}})),"block"===e.textArea.style.display||"inline-block"===e.textArea.style.display){var r=(0,n.l7)({},e.activeObj,null,!0);e.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}}),s=(0,n.l7)({},e.objColl[e.objColl.length-1],null,!0),e.objColl.pop(),e.activeObj=(0,n.l7)({},r,null,!0),e.textArea.value=s.keyHistory,e.textArea.style.display="block";var o=s.strokeSettings&&s.strokeSettings.strokeColor?"rgb"===s.strokeSettings.strokeColor.split("(")[0]?this.rgbToHex(parseFloat(s.strokeSettings.strokeColor.split("(")[1].split(",")[0]),parseFloat(s.strokeSettings.strokeColor.split("(")[1].split(",")[1]),parseFloat(s.strokeSettings.strokeColor.split("(")[1].split(",")[2]),parseFloat(s.strokeSettings.strokeColor.split("(")[1].split(",")[3])):s.strokeSettings.strokeColor:null;o&&"#ffffff"===o&&(o="#fff"),this.tempActiveObj.strokeSettings&&this.tempActiveObj.strokeSettings.strokeColor&&"#ffffff"===this.tempActiveObj.strokeSettings.strokeColor&&(this.tempActiveObj.strokeSettings.strokeColor="#fff"),(s.keyHistory!==this.tempActiveObj.keyHistory||o&&o!==this.tempActiveObj.strokeSettings.strokeColor||s.textSettings&&s.textSettings.fontFamily!==this.tempActiveObj.textSettings.fontFamily||s.textSettings&&Math.round(s.textSettings.fontSize)!==Math.round(this.tempActiveObj.textSettings.fontSize)||s.textSettings&&Math.round(s.textSettings.fontRatio)!==Math.round(this.tempActiveObj.textSettings.fontRatio)||s.textSettings&&s.textSettings.bold!==this.tempActiveObj.textSettings.bold||s.textSettings&&s.textSettings.italic!==this.tempActiveObj.textSettings.italic||s.textSettings&&s.textSettings.underline!==this.tempActiveObj.textSettings.underline)&&(t=!0),this.isInitialTextEdited&&!t&&(t=!0,this.isInitialTextEdited=!1)}else this.tempActiveObj.activePoint.height=Math.abs(this.tempActiveObj.activePoint.height),t=JSON.stringify(s)!==JSON.stringify(this.tempActiveObj);return t},h.prototype.canvasMouseDownHandler=function(i){var t,s,e=this.parent;i.preventDefault(),"mousedown"===i.type?(t=i.offsetX||i.pageX-e.lowerCanvas.offsetLeft,s=i.offsetY||i.pageY-e.lowerCanvas.offsetTop):(t=i.touches[0].clientX||i.touches[0].pageX-e.lowerCanvas.offsetLeft,s=i.touches[0].clientY||i.touches[0].pageY-e.lowerCanvas.offsetTop);var r=e.lowerCanvas.getBoundingClientRect();this.panDown={x:t-=r.left,y:s-=r.top};var o={tempPanMove:null};e.notify("transform",{prop:"getTempPanMove",onPropertyChange:!1,value:{obj:o}}),(0,n.le)(o.tempPanMove)&&e.notify("transform",{prop:"setTempPanMove",onPropertyChange:!1,value:{point:{x:t,y:s}}})},h.prototype.canvasMouseMoveHandler=function(i){var e=this.parent,t={bool:null};if(e.notify("toolbar",{prop:"getFrameToolbar",onPropertyChange:!1,value:{obj:t}}),e.isResize||t.bool)e.upperCanvas.style.cursor="default";else{var s,r;this.dragCanvas?e.lowerCanvas.style.cursor="grab":(this.dragCanvas=e.togglePan=!1,e.lowerCanvas.style.cursor=e.upperCanvas.style.cursor=e.cursor="default"),"mousemove"===i.type?(s=i.offsetX,r=i.offsetY):(s=i.touches[0].clientX||i.touches[0].pageX-e.lowerCanvas.offsetLeft,r=i.touches[0].clientY||i.touches[0].pageY-e.lowerCanvas.offsetTop);var o=e.lowerCanvas.getBoundingClientRect(),a={x:s-=o.left,y:r-=o.top};e.notify("transform",{prop:"setPanMove",onPropertyChange:!1,value:{point:{x:s,y:r}}}),this.panDown&&a&&e.togglePan&&this.dragCanvas&&((e.isCropTab||e.activeObj.shape)&&(e.notify("draw",{prop:"setStraightenActObj",value:{activeObj:null}}),e.notify("freehand-draw",{prop:"resetStraightenPoint"})),e.notify("transform",{prop:"drawPannedImage",onPropertyChange:!1,value:{xDiff:null,yDiff:null}}))}},h.prototype.canvasMouseUpHandler=function(i){var e=this.parent;i.preventDefault();var t={panMove:null};e.notify("transform",{prop:"getPanMove",onPropertyChange:!1,value:{obj:t}}),e.togglePan&&this.panDown&&t.panMove&&e.togglePan&&this.dragCanvas&&(this.panDown=null,e.notify("transform",{prop:"setPanMove",onPropertyChange:!1,value:{point:null}}),e.notify("transform",{prop:"setTempPanMove",onPropertyChange:!1,value:{point:null}})),"path"!==this.currentDrawingShape&&(e.currObjType.isDragging=!1)},h.prototype.touchStartHandler=function(i){i.preventDefault();var e=this.parent;0===this.touchTime?this.touchTime=(new Date).getTime():(new Date).getTime()-this.touchTime<400?(e.notify("shape",{prop:"stopPathDrawing",onPropertyChange:!1,value:{e:i,isApply:null}}),this.touchTime=0):this.touchTime=(new Date).getTime(),2===i.touches.length?this.isFirstMove=!0:this.mouseDownEventHandler(i),n.bi.add(e.lowerCanvas,"touchend",this.mouseUpEventHandler,this),n.bi.add(e.lowerCanvas,"touchmove",this.mouseMoveEventHandler,this),n.bi.add(e.upperCanvas,"touchend",this.mouseUpEventHandler,this),n.bi.add(e.upperCanvas,"touchmove",this.mouseMoveEventHandler,this)},h.prototype.unwireEvent=function(){var i=this.parent;n.bi.remove(i.lowerCanvas,"touchend",this.mouseUpEventHandler),n.bi.remove(i.lowerCanvas,"touchmove",this.mouseMoveEventHandler),n.bi.remove(i.upperCanvas,"touchend",this.mouseUpEventHandler),n.bi.remove(i.upperCanvas,"touchmove",this.mouseMoveEventHandler)},h.prototype.keyDownEventHandler=function(i){var e=this,t=this.parent;i.ctrlKey&&("+"===i.key||"-"===i.key)&&i.preventDefault();var s={fileName:"",fileType:null};t.notify("draw",{prop:"getFileName",onPropertyChange:!1,value:{obj:s}});var r={fileName:s.fileName,fileType:s.fileType,cancel:!1};switch(i.key){case i.ctrlKey&&"s":(0,n.xr)()&&t.events&&!0===t.events.saving.hasDelegate?t.dotNetRef.invokeMethodAsync("BeforeSaveEventAsync","BeforeSave",r).then(function(o){e.beforeSaveEvent(o,i)}):(t.trigger("beforeSave",r),this.beforeSaveEvent(r,i));break;case i.ctrlKey&&"z":t.allowUndoRedo&&t.notify("undo-redo",{prop:"call-undo"});break;case i.ctrlKey&&"y":t.allowUndoRedo&&t.notify("undo-redo",{prop:"call-redo"});break;case i.ctrlKey&&"+":(t.zoomSettings.zoomTrigger&oi.Commands)===oi.Commands&&(this.zoomType="Commands",t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:.1,zoomPoint:null},isResize:null}),t.notify("draw",{prop:"redrawDownScale"}),(t.isCropTab||t.activeObj.shape)&&(t.notify("draw",{prop:"setStraightenActObj",value:{activeObj:null}}),t.notify("freehand-draw",{prop:"resetStraightenPoint"})),t.isStraightening&&(t.notify("draw",{prop:"resetStraightenDestPoints"}),t.notify("draw",{prop:"setDestForStraighten"})));break;case i.ctrlKey&&"-":(t.zoomSettings.zoomTrigger&oi.Commands)===oi.Commands&&(this.zoomType="Commands",t.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-.1,zoomPoint:null},isResize:null}),t.notify("draw",{prop:"redrawDownScale"}),(t.isCropTab||t.activeObj.shape)&&(t.notify("draw",{prop:"setStraightenActObj",value:{activeObj:null}}),t.notify("freehand-draw",{prop:"resetStraightenPoint"})),t.isStraightening&&(t.notify("draw",{prop:"resetStraightenDestPoints"}),t.notify("draw",{prop:"setDestForStraighten"})));break;case"Delete":this.deleteItem();break;case"Escape":t.notify("draw",{prop:"performCancel",value:{isContextualToolbar:null}});break;case"Enter":this.performEnterAction(i);break;case"Tab":this.performTabAction();break;default:n.AR.isDevice&&("block"===t.textArea.style.display||"inline-block"===t.textArea.style.display)&&setTimeout(this.textKeyDown.bind(this),1,i)}},h.prototype.performEnterAction=function(i){var e=this.parent;if(e.isResize){if(!this.isValueUpdated())return;var s=this.getNumTextValue(),r=e.element.querySelector("#"+e.element.id+"_aspectratio"),o=e.element.querySelector(".e-ie-toolbar-aspect-ratio-btn");if(s&&s.x&&s.y&&(r||o&&!o.classList.contains("e-hidden")?e.notify("transform",{prop:"resize",value:{width:s.x,height:null,isAspectRatio:!0}}):e.notify("transform",{prop:"resize",value:{width:s.x,height:s.y,isAspectRatio:!1}})),(0,n.xr)()){var a=this.parent.element.querySelector(".e-ie-toolbar-e-resize-height-input .e-textbox"),d=this.parent.element.querySelector(".e-ie-toolbar-e-resize-width-input .e-textbox");o&&o.classList.contains("e-hidden")&&(a&&""===a.value&&(a.value=a.placeholder,a.value=a.placeholder),d&&""===d.value&&(d.value=d.placeholder,d.value=d.placeholder))}else if(a=e.element.querySelector("#"+e.element.id+"_resizeHeight"),d=e.element.querySelector("#"+e.element.id+"_resizeWidth"),(0,n.le)(r)){if(a){var c=(0,n.Xr)(a,"numerictextbox");a&&""===a.value&&(c.value=parseFloat(c.placeholder),a.value=c.placeholder+"px")}d&&(c=(0,n.Xr)(d,"numerictextbox"),d&&""===d.value&&(c.value=parseFloat(c.placeholder),d.value=c.placeholder+"px"))}e.notify("draw",{prop:"redrawDownScale"})}else{var p=void 0;e.activeObj.shape&&(p=e.activeObj.shape.split("-")),i&&this.isKeyBoardCrop(i)&&e.activeObj.horTopLine&&e.activeObj.shape&&"crop"===p[0]&&e.crop()}},h.prototype.isKeyBoardCrop=function(i){var e=!1,t=i.target;return(t.id===this.parent.element.id+"_ok"||""===t.id)&&!(0,n.xr)()&&(e=!0),e},h.prototype.beforeSaveEvent=function(i,e){i.cancel||this.parent.notify("export",{prop:"export",onPropertyChange:!1,value:{type:i.fileType,fileName:i.fileName}}),e.preventDefault(),e.stopImmediatePropagation()},h.prototype.handleScroll=function(i){var t,s,e=this.parent,r=!1;"mousewheel"===i.type&&(t=i.clientX,s=i.clientY);var o=e.lowerCanvas.getBoundingClientRect();if(s-=o.top,(t-=o.left)>e.img.destLeft&&t<e.img.destLeft+e.img.destWidth&&s>e.img.destTop&&s<e.img.destTop+e.img.destHeight&&(r=!0),i.stopPropagation(),!0===i.ctrlKey&&r){i.preventDefault(),!e.isCropTab&&e.activeObj.shape&&"crop"!==e.activeObj.shape.split("-")[0]&&(e.okBtn(),(0,n.xr)()||e.notify("toolbar",{prop:"close-contextual-toolbar",onPropertyChange:!1}));var a="";"mousewheel"===i.type&&(e.zoomSettings.zoomTrigger&oi.MouseWheel)===oi.MouseWheel&&(this.zoomType="MouseWheel",a=i.wheelDelta>0?"zoomIn":"zoomOut"),""!==a&&(e.notify("draw",{prop:"performPointZoom",onPropertyChange:!1,value:{x:t,y:s,type:a,isResize:null}}),e.notify("draw",{prop:"redrawDownScale"}),(e.isCropTab||e.activeObj.shape)&&(e.notify("draw",{prop:"setStraightenActObj",value:{activeObj:null}}),e.notify("freehand-draw",{prop:"resetStraightenPoint"})),e.isStraightening&&(e.notify("draw",{prop:"resetStraightenDestPoints"}),e.notify("draw",{prop:"setDestForStraighten"})))}},h.prototype.textKeyDown=function(i){var e=this.parent;if(0===e.activeObj.rotatedAngle){"\r"===String.fromCharCode(i.which)&&(this.textRow+=1),e.textArea.setAttribute("rows",this.textRow.toString()),e.textArea.style.height="auto",e.textArea.style.height=e.textArea.scrollHeight+"px",e.notify("shape",{prop:"setTextBoxWidth",onPropertyChange:!1,value:{e:i}}),n.AR.isDevice&&(e.textArea.style.width=parseFloat(e.textArea.style.width)+e.textArea.style.fontSize+"px");var t=e.textArea.value.split("\n");this.textRow=t.length,e.textArea.setAttribute("rows",this.textRow.toString()),this.isInitialTextEdited=!1}},h.prototype.clearSelection=function(){var i=this.parent;!i.disabled&&i.isImageLoaded&&(i.togglePen=!1,i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.dragElement="",this.dragPoint.startX=this.dragPoint.startY=this.dragPoint.endX=this.dragPoint.endY=0,i.currObjType.shape="",this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.currObjType.isActiveObj=!0,i.currObjType.isCustomCrop=!1,i.upperCanvas.style.cursor=i.cursor="default")},h.prototype.setDragDirection=function(i,e){var t=7.5,s=this.parent,r=s.activeObj.activePoint;s.img.destWidth>s.img.destHeight?(r.startX=this.dragPoint.startX=i/2-e/2+t,r.startY=this.dragPoint.startY=e/2-e/2+t,r.endX=i/2+e/2-t,r.endY=e/2+e/2-t):(r.startY=this.dragPoint.startX=e/2-i/2+t,r.endY=e/2+i/2-t,r.startX=this.dragPoint.startX=t,r.endX=i-t)},h.prototype.calcShapeRatio=function(i,e,t,s){for(var r=this.parent,o=r.activeObj.activePoint,a=7.5,c=t,p=s,u=c>=p?c:p,f=u*(i/e),v=u,g=this.getScale(f,c),b=[],C=r.img,T=C.destLeft,O=C.destTop,j=C.destWidth,Y=C.destHeight,H=0;H<2;H++)b.push(0===H?f*g:v*g);f=b[0];var N=this.getScale(v=b[1],p),ne=[];for(H=0;H<2;H++)ne.push(0===H?f*N:v*N);v=ne[1],o.width=f=ne[0],o.height=v,o.startX=(this.dragPoint.startX=(c-f)/2)+a,o.startY=(this.dragPoint.startY=(p-v)/2)+a,o.endX=o.startX+o.width,o.endY=o.startY+o.height,o.startX<T&&T+j>r.lowerCanvas.clientWidth&&(o.startX=T,o.endX=o.startX+f-a),o.startY<O&&O+Y>r.lowerCanvas.clientHeight&&(o.startY=O,o.endY=o.startY+v-a),o.width=o.endX-o.startX,o.height=o.endY-o.startY},h.prototype.getScale=function(i,e){return i>e?e/i:1},h.prototype.findTarget=function(i,e,t){var s=this.parent;if("mousedown"===t.toLowerCase()||"touchstart"===t.toLowerCase()){var o=!1;s.activeObj.shape&&"crop"===s.activeObj.shape.split("-")[0]&&(o=!0),this.findTargetObj(i,e,o),this.updateCursorStyles(i,e,t)}else{var a=s.activeObj,d=a.topLeftCircle,c=a.topCenterCircle,p=a.topRightCircle,u=a.centerLeftCircle,f=a.centerRightCircle,v=a.bottomLeftCircle,g=a.bottomCenterCircle,b=a.bottomRightCircle;switch(this.dragElement.toLowerCase()){case"nw-resize":d.startX=i,d.startY=e;break;case"n-resize":c.startX=i,c.startY=e;break;case"ne-resize":p.startX=i,p.startY=e;break;case"w-resize":u.startX=i,u.startY=e;break;case"e-resize":f.startX=i,f.startY=e;break;case"sw-resize":v.startX=i,v.startY=e;break;case"s-resize":g.startX=i,g.startY=e;break;case"se-resize":b.startX=i,b.startY=e;break;default:this.dragPoint.startX&&this.dragPoint.startY&&(this.previousPoint.x=this.dragPoint.endX,this.previousPoint.y=this.dragPoint.endY,this.dragPoint.endX=i,this.dragPoint.endY=e)}}},h.prototype.findTargetObj=function(i,e,t){var s=this,r=this.parent,o=!1;if(0!==r.objColl.length&&!r.currObjType.isCustomCrop&&!t){for(var a=0,d=void 0,c=0;c<r.objColl.length;c++){var p=r.upperCanvas.style.cursor;this.setCursor(i,e);var u=(0,n.l7)({},r.objColl[c],{},!0),f=u.topLeftCircle.radius;if("line"===u.shape||"arrow"===u.shape){for(var v=0;v<u.pointColl.length;v++)if(i>=u.pointColl[v].x-2*f&&i<=u.pointColl[v].x+2*f&&e>=u.pointColl[v].y-2*f&&e<=u.pointColl[v].y+2*f){if(this.tempActiveObj&&this.tempActiveObj.activePoint&&JSON.stringify(this.tempActiveObj.activePoint)===JSON.stringify(u.activePoint)){d=c;break}this.isTouch||"move"===r.cursor||"grab"===r.cursor||this.isShapeInserted?(0===a||a>i-u.activePoint.startX)&&(a=i-r.objColl[c].activePoint.startX,d=c):r.objColl[c].currIndex===this.tempActiveObj.currIndex&&(d=c);break}}else if("path"===u.shape){var g=this.setCursorForPath(u,i,e,r.upperCanvas);if("default"!==g&&"grab"!==g){if(this.tempActiveObj&&this.tempActiveObj.activePoint&&JSON.stringify(this.tempActiveObj.activePoint)===JSON.stringify(u.activePoint)){d=c;break}this.isTouch||"move"===r.cursor||"grab"===r.cursor||this.isShapeInserted?(0===a||a>i-u.activePoint.startX)&&(a=i-r.objColl[c].activePoint.startX,d=c):r.objColl[c].currIndex===this.tempActiveObj.currIndex&&(d=c)}}else if(0!==u.rotatedAngle){var b=this.setCursorForRotatedObject(u,i,e,r.upperCanvas);if("default"!==b&&"grab"!==b){if(this.tempActiveObj&&this.tempActiveObj.activePoint&&JSON.stringify(this.tempActiveObj.activePoint)===JSON.stringify(u.activePoint)){d=c;break}this.isTouch||"move"===r.cursor||"grab"===r.cursor||this.isShapeInserted?(0===a||a>i-u.activePoint.startX)&&(a=i-r.objColl[c].activePoint.startX,d=c):r.objColl[c].currIndex===this.tempActiveObj.currIndex&&(d=c)}}else{var C=this.getTransRotationPoint(u);if(i>=u.activePoint.startX-2*f&&i<=u.activePoint.endX+2*f&&e>=u.activePoint.startY-2*f&&e<=u.activePoint.endY+2*f||C&&i>=C.x-2*f&&i<=C.x+2*f&&e>=C.y-2*f&&e<=C.y+2*f){if(this.tempActiveObj&&this.tempActiveObj.activePoint&&JSON.stringify(this.tempActiveObj.activePoint)===JSON.stringify(u.activePoint)){d=c;break}this.isTouch||"move"===p||"grabbing"===p||this.isShapeInserted||"move"===r.cursor||"grabbing"===r.cursor?(0===a||a>i-u.activePoint.startX)&&(a=i-r.objColl[c].activePoint.startX,d=c):r.objColl[c].currIndex===this.tempActiveObj.currIndex&&(d=c)}}}if((0,n.le)(d))r.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),o=!1;else{this.tempObjColl=(0,n.l7)([],r.objColl,[],!0),r.currObjType.isCustomCrop=!1,r.activeObj=(0,n.l7)({},r.objColl[d],{},!0);var T=(0,n.l7)({},r.objColl[d],{},!0);if(r.objColl.splice(d,1),0===r.transform.degree){var O=this.lowerContext.filter;this.lowerContext.clearRect(0,0,r.lowerCanvas.width,r.lowerCanvas.height),r.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.lowerContext.filter="none",r.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),r.activeObj=(0,n.l7)({},O,{},!0),r.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),this.lowerContext.filter=O,this.getCurrentFlipState()}else{var j=(0,n.l7)({},r.panPoint.totalPannedInternalPoint,{},!0),Y={startX:r.img.destLeft,startY:r.img.destTop,width:r.img.destWidth,height:r.img.destHeight};r.notify("draw",{prop:"callUpdateCurrTransState",onPropertyChange:!1}),r.panPoint.totalPannedInternalPoint=j,r.img.destLeft=Y.startX,r.img.destTop=Y.startY,r.img.destWidth=Y.width,r.img.destHeight=Y.height,r.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}})}r.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),(r.currSelectionPoint&&"crop-circle"===r.currSelectionPoint.shape||r.isCircleCrop)&&r.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),r.activeObj=(0,n.l7)({},T,{},!0),this.setActivePoint(),r.activeObj=(0,n.l7)({},T,{},!0);var H=(0,n.l7)({},r.activeObj.strokeSettings,{},!0);r.notify("draw",{prop:"setTempStrokeSettings",onPropertyChange:!1,value:{tempStrokeSettings:H}});var N=(0,n.l7)({},r.activeObj.textSettings,{},!0);r.notify("draw",{prop:"setTempTextSettings",onPropertyChange:!1,value:{tempTextSettings:N}});var ne=this.updatePrevShapeSettings(),re={cancel:!1,action:"select",previousShapeSettings:ne,currentShapeSettings:ne};("line"===r.activeObj.shape||"arrow"===r.activeObj.shape)&&(re.currentShapeSettings.width=r.activeObj.activePoint.endX-r.activeObj.activePoint.startX,re.currentShapeSettings.height=r.activeObj.activePoint.endY-r.activeObj.activePoint.startY),this.isCropSelection=!1;var ce=void 0;if(void 0!==r.activeObj.shape&&(ce=r.activeObj.shape.split("-")),void 0!==ce&&"crop"===ce[0]&&(this.isCropSelection=!0),!this.isCropSelection&&(0,n.xr)()&&(0,n.le)(r.eventType)&&r.events&&!0===r.events.shapeChanging.hasDelegate)r.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShape",re,null).then(function(te){s.shapeEvent(te)});else if(this.isCropSelection){var Ye={action:re.action,previousSelectionSettings:{type:r.getSelectionType(r.activeObj.shape),startX:re.previousShapeSettings.startX,startY:re.previousShapeSettings.startY,width:re.previousShapeSettings.width,height:re.previousShapeSettings.height},currentSelectionSettings:{type:r.getSelectionType(r.activeObj.shape),startX:re.currentShapeSettings.startX,startY:re.currentShapeSettings.startY,width:re.currentShapeSettings.width,height:re.currentShapeSettings.height}};(0,n.xr)()&&r.events&&!0===r.events.onSelectionResizeStart.hasDelegate?r.dotNetRef.invokeMethodAsync("SelectionEventAsync","OnSelectionResizeStart",Ye).then(function(te){re.currentShapeSettings.startX=te.currentSelectionSettings.startX,re.currentShapeSettings.startY=te.currentSelectionSettings.startY,re.currentShapeSettings.width=te.currentSelectionSettings.width,re.currentShapeSettings.height=te.currentSelectionSettings.height,s.shapeEvent(re)}):(r.trigger("selectionChanging",Ye),re.currentShapeSettings.startX=Ye.currentSelectionSettings.startX,re.currentShapeSettings.startY=Ye.currentSelectionSettings.startY,re.currentShapeSettings.width=Ye.currentSelectionSettings.width,re.currentShapeSettings.height=Ye.currentSelectionSettings.height,this.shapeEvent(re))}else r.trigger("shapeChanging",re),this.shapeEvent(re);if(o=!0,(0,n.xr)()){var K=r.upperCanvas.style.cursor;this.setCursor(i,e),"select"===re.action&&"move"===r.upperCanvas.style.cursor&&r.getShapeValue(r.activeObj.shape),r.upperCanvas.style.cursor=K}}}return o},h.prototype.shapeEvent=function(i){var e=this.parent;if(e.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:i.currentShapeSettings}}),e.activeObj.activePoint){var t={prevActObj:null};if(e.notify("draw",{prop:"getPrevActObj",onPropertyChange:!1,value:{obj:t}}),(0,n.le)(t.prevActObj)&&e.notify("draw",{prop:"setPrevActObj",onPropertyChange:!1,value:{prevActObj:(0,n.l7)({},e.activeObj,{},!0)}}),"image"===e.activeObj.shape&&!this.isImageClarity&&(this.upgradeImageQuality(),this.isImageClarity=!0),e.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:e.activeObj,isCropRatio:null,points:null,isPreventDrag:!0,saveContext:null,isPreventSelection:!0}}),!this.isShapeInserted){var s=e.activeObj.activePoint,r=e.img,o=r.destLeft,d=r.destTop;this.isPreventDragging=s.startX<o||s.endX>o+r.destWidth||s.startY<d||s.endY>d+r.destHeight}}},h.prototype.upgradeImageQuality=function(){var i=this.parent,e=(0,n.l7)({},i.activeObj,null,!0),t=i.activeObj.imageCanvas.getContext("2d"),s={width:0,height:0};i.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:i.activeObj.imageElement.width,height:i.activeObj.imageElement.height,obj:s,isImgShape:null}}),i.notify("shape",{prop:"updateObj",onPropertyChange:!1,value:{dimObj:s,x:null,y:null}}),t.clearRect(0,0,i.activeObj.imageCanvas.width,i.activeObj.imageCanvas.height),this.applyTransformToImg(t),i.activeObj=e},h.prototype.applyTransformToImg=function(i){var e=this.parent;e.activeObj.isHorImageFlip&&e.activeObj.isVerImageFlip?(e.activeObj.isHorImageFlip=e.activeObj.isVerImageFlip=!1,e.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:i,isImgAnnotation:!0,isHFlip:!0,isVFlip:!0}})):e.activeObj.isHorImageFlip?(e.activeObj.isHorImageFlip=!1,e.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:i,isImgAnnotation:!0,isHFlip:!0,isVFlip:!1}})):e.activeObj.isVerImageFlip?(e.activeObj.isVerImageFlip=!1,e.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:i,isImgAnnotation:!0,isHFlip:!1,isVFlip:!0}})):e.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:i,isImgAnnotation:!0,isHFlip:!1,isVFlip:!1}})},h.prototype.targetTouches=function(i){var e=this.parent.lowerCanvas.getBoundingClientRect();return[{x:i[0].pageX-e.left,y:i[0].pageY-e.top},{x:i[1].pageX-e.left,y:i[1].pageY-e.top}]},h.prototype.calculateScale=function(i,e){var t=this.getDistance(i[0],i[1]);return this.getDistance(e[0],e[1])/t},h.prototype.getDistance=function(i,e){var t=0,s=0;return i&&e&&(t=i.x-e.x,s=i.y-e.y),Math.sqrt(t*t+s*s)},h.prototype.redrawShape=function(i,e){for(var t=this.parent,s=0,r=t.objColl.length;s<r;s++)if(JSON.stringify(i)===JSON.stringify(t.objColl[s])){t.objColl.splice(s,1);break}this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),this.isPreventDragging?(t.activeObj.activePoint.startX>t.img.destLeft&&(this.isPreventDragging=!1),t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:null,isCropRatio:null,points:null,isPreventDrag:!0,saveContext:null,isPreventSelection:null}})):t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:null,isCropRatio:null,points:null,isPreventDrag:!0,saveContext:null,isPreventSelection:null}})},h.prototype.setTimer=function(i){var e=this.parent;this.timer>10&&(clearTimeout(this.timer),this.timer=0,e.notify("shape",{prop:"findTextTarget",onPropertyChange:!1,value:{e:i}}),n.AR.isDevice&&this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height))},h.prototype.applyCurrActObj=function(i,e){var t=this.parent,s=!1,r=(0,n.l7)({},t.activeObj,{},!0);if(!(0,n.le)(r.activePoint)){var o=r.activePoint,a=o.startX,d=o.startY,c=o.endX,p=o.endY,u=r.topLeftCircle?r.topLeftCircle.radius:0;if(i>=Math.floor(a)&&i<=Math.ceil(c)&&e>=Math.floor(d)&&e<=Math.ceil(p))s=!0;else if(0!==u&&i>=Math.floor(a)-u&&i<=Math.ceil(c)+u&&e>=Math.floor(d)-u&&e<=Math.ceil(p)+u)s=!0,this.tempActiveObj={activePoint:{startX:0,startY:0,endX:0,endY:0,width:0,height:0},flipObjColl:[],triangle:[],triangleRatio:[]};else if("text"!==r.shape&&"image"!==r.shape||""===this.dragElement)if("line"===r.shape||"arrow"===r.shape){var f={x:a<c?a:c,y:d<p?d:p},v={x:a>c?a:c,y:d>p?d:p};i>=Math.floor(f.x)-5&&i<=Math.ceil(v.x)+5&&e>=Math.floor(f.y)-5&&e<=Math.ceil(v.y)+5&&(s=!0)}else if("path"===r.shape)"move"===(g=this.setCursorForPath(r,i,e,t.upperCanvas))&&(s=!0);else if("grabbing"===this.dragElement)s=!0;else if(0!==r.rotatedAngle){var g;("default"!==(g=this.setCursorForRotatedObject(r,i,e,t.upperCanvas))&&"grab"!==g||"n-resize"===this.dragElement||"e-resize"===this.dragElement||"s-resize"===this.dragElement||"w-resize"===this.dragElement)&&(s=!0)}else("block"===t.textArea.style.display||"inline-block"===t.textArea.style.display)&&(s=!0);else s=!0;if(!s){if((0,n.le)(t.activeObj.currIndex)){var b={id:"shape_"+(t.objColl.length+1)};t.notify("shape",{prop:"getNewShapeId",onPropertyChange:!1,value:{obj:b}}),t.activeObj.currIndex=b.id}if(t.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),void 0!==t.activeObj.horTopLine&&0!==t.activeObj.horTopLine.startX&&0!==t.activeObj.horTopLine.endX&&!t.currObjType.isCustomCrop&&""!==t.currObjType.shape&&t.objColl.push((0,n.l7)({},t.activeObj,{},!0)),["rectangle","ellipse","line","arrow","path","text","image"].indexOf(t.activeObj.shape)>-1){var T=this.lowerContext.filter;this.lowerContext.filter="brightness(1) contrast(100%) hue-rotate(0deg) saturate(100%) opacity(1) blur(0px) sepia(0%) grayscale(0%) invert(0%)";for(var O=0;O<t.objColl.length;O++){var j={isInside:!1};t.notify("crop",{prop:"isObjInImage",onPropertyChange:!1,value:{obj:t.objColl[O],object:j}}),j.isInside&&(t.notify("shape",{prop:"apply",onPropertyChange:!1,value:{shape:t.objColl[O].shape,obj:t.objColl[O],canvas:null}}),t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}))}t.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.lowerContext.filter=T,t.activeObj.shape&&t.notify("shape",{prop:"apply",onPropertyChange:!1,value:{shape:null,obj:null,canvas:null}}),t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}}),t.isCircleCrop&&t.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}})}(0,n.xr)()||t.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1})}}},h.prototype.getCurrentFlipState=function(){var i=this.parent;if(0!==i.rotateFlipColl.length){var e=(0,n.l7)({},i.panPoint.totalPannedInternalPoint,{},!0);i.notify("draw",{prop:"callUpdateCurrTransState",onPropertyChange:!1}),i.panPoint.totalPannedInternalPoint=e}else i.notify("draw",{prop:"callUpdateCurrTransState",onPropertyChange:!1})},h.prototype.setTextBoxStylesToActObj=function(){var i=this.parent;i.activeObj.textSettings.fontFamily=i.textArea.style.fontFamily,i.activeObj.strokeSettings.strokeColor=""!==i.textArea.style.color&&i.textArea.style.color.split("(")[1]&&i.textArea.style.color.split("(")[1].split(",")[0]&&i.textArea.style.color.split("(")[1].split(",")[1]&&i.textArea.style.color.split("(")[1].split(",")[2]&&i.textArea.style.color.split("(")[1].split(",")[3]?this.rgbToHex(parseFloat(i.textArea.style.color.split("(")[1].split(",")[0]),parseFloat(i.textArea.style.color.split("(")[1].split(",")[1]),parseFloat(i.textArea.style.color.split("(")[1].split(",")[2]),parseFloat(i.textArea.style.color.split("(")[1].split(",")[3])):i.textArea.style.color,i.activeObj.textSettings.bold="bold"===i.textArea.style.fontWeight,i.activeObj.textSettings.italic="italic"===i.textArea.style.fontStyle,i.activeObj.textSettings.fontSize=parseFloat(i.textArea.style.fontSize)},h.prototype.rgbToHex=function(i,e,t,s){return i=Math.max(0,Math.min(255,Math.round(i))),e=Math.max(0,Math.min(255,Math.round(e))),t=Math.max(0,Math.min(255,Math.round(t))),s=Math.max(0,Math.min(1,s)),"#"+this.padLeft(i.toString(16),2,"0")+this.padLeft(e.toString(16),2,"0")+this.padLeft(t.toString(16),2,"0")+this.padLeft(Math.round(255*s).toString(16),2,"0")},h.prototype.padLeft=function(i,e,t){for(;i.length<e;)i=t+i;return i},h.prototype.deleteItem=function(){var i=this.parent,e={cancel:!1};if(this.isFhdEditing){this.updateFreehandDrawColorChange();var s=(0,n.l7)({},i.cropObj,{},!0);i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:r={currObj:{}}}}),(o=r.currObj).objColl=(0,n.l7)([],i.objColl,[],!0),o.pointColl=(0,n.l7)([],i.pointColl,[],!0),o.afterCropActions=(0,n.l7)([],i.afterCropActions,[],!0),i.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:a={selPointColl:null}}}),o.selPointColl=(0,n.l7)([],a.selPointColl,[],!0),i.notify("freehand-draw",{prop:"getFreehandDrawSelectedId",onPropertyChange:!1,value:{obj:d={freehandDrawSelectedId:null}}}),i.notify("freehand-draw",{prop:"deleteFhd",value:{id:d.freehandDrawSelectedId}}),i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"deleteFreehandDrawing",previousObj:o,previousObjColl:this.tempObjColl,previousPointColl:o.pointColl,previousSelPointColl:o.selPointColl,previousCropObj:s,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),i.notify("freehand-draw",{prop:"resetFreehandDrawSelectedId"})}else if("none"===i.textArea.style.display){var d,r;if(i.notify("draw",{prop:"getPrevActObj",onPropertyChange:!1,value:{obj:d={prevActObj:null}}}),d.prevActObj&&(d.prevActObj.activePoint.width=Math.abs(d.prevActObj.activePoint.width),d.prevActObj.activePoint.height=Math.abs(d.prevActObj.activePoint.height)),d.prevActObj&&JSON.stringify(d.prevActObj)!==JSON.stringify(i.activeObj)){var c=i.activeObj.currIndex;i.notify("draw",{prop:"performCancel",value:{isContextualToolbar:null}});for(var p=0,u=i.objColl.length;p<u;p++)if(i.objColl[p].currIndex===c){i.objColl.splice(p,1),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null}});break}}if(i.notify("draw",{prop:"getNewPath",value:{obj:r={isNewPath:null}}}),r.isNewPath)i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),(0,n.xr)()?i.updateToolbar(i.element,"imageLoaded"):i.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1});else if(i.activeObj.shape){i.objColl.push(i.activeObj),s=(0,n.l7)({},i.cropObj,{},!0);var o,a,f={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:f}}),(o=f.currObj).objColl=(0,n.l7)([],i.objColl,[],!0),o.pointColl=(0,n.l7)([],i.pointColl,[],!0),o.afterCropActions=(0,n.l7)([],i.afterCropActions,[],!0),i.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:a={selPointColl:null}}}),o.selPointColl=(0,n.l7)([],a.selPointColl,[],!0),i.objColl.pop(),e={cancel:!1,action:"delete",previousShapeSettings:this.updatePrevShapeSettings(),currentShapeSettings:null},i.notify("shape",{prop:"setKeyHistory",onPropertyChange:!1,value:{keyHistory:""}}),i.clearSelection(),(0,n.xr)()&&i.events&&!0===i.events.shapeChanging.hasDelegate?i.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShape",e,null):(i.trigger("shapeChanging",e),(0,n.xr)()||i.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1})),(0,n.le)(o.objColl[o.objColl.length-1].currIndex)||(i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"deleteObj",previousObj:o,previousObjColl:this.tempObjColl,previousPointColl:o.pointColl,previousSelPointColl:o.selPointColl,previousCropObj:s,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}))}i.notify("draw",{prop:"setPrevActObj",onPropertyChange:!1,value:{prevActObj:null}})}document.getElementById(i.element.id+"_quickAccessToolbarArea")&&(document.getElementById(i.element.id+"_quickAccessToolbarArea").style.display="none")},h.prototype.updateFreehandDrawColorChange=function(){var i=this.parent,e={freehandSelectedIndex:null};if(i.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:e}}),!(0,n.le)(e.freehandSelectedIndex)&&!(0,n.le)(i.pointColl[e.freehandSelectedIndex])&&"#42a5f5"===i.pointColl[e.freehandSelectedIndex].strokeColor){var t={tempFreeHandDrawEditingStyles:null};i.notify("freehand-draw",{prop:"getTempFreeHandDrawEditingStyles",value:{obj:t}}),i.pointColl[e.freehandSelectedIndex].strokeColor=t.tempFreeHandDrawEditingStyles.strokeColor}},h.prototype.updatePrevShapeSettings=function(i){var e=this.parent,t=[];"text"===e.activeObj.shape&&e.activeObj.textSettings&&(e.activeObj.textSettings.bold&&t.push("bold"),e.activeObj.textSettings.italic&&t.push("italic"),e.activeObj.textSettings.underline&&t.push("underline"));var s=e.activeObj.activePoint,r=s.startX,o=s.startY,a=s.endX,d=s.endY,c=s.width,p=s.height,u=e.activeObj,f=u.keyHistory,v=u.currIndex,g=u.shape,b=u.textSettings,C=u.strokeSettings,T=u.rotatedAngle,O=u.imageElement,j=u.opacity,Y={id:(0,n.le)(v)?null:v,type:e.toPascalCase(g),startX:r,startY:o,width:c,height:p,strokeColor:C?C.strokeColor:null,strokeWidth:C?C.strokeWidth:null,fillColor:C?C.fillColor:null,radius:"ellipse"===g?c/2:null,length:"line"===g||"arrow"===g?c:null,text:"text"===g?f||(b.text?b.text:null):null,fontSize:"text"===g&&b?b.fontSize:null,fontFamily:"text"===g&&b?b.fontFamily:null,fontStyle:"text"===g?t:null,color:"text"===g&&C?C.strokeColor:null,degree:"ellipse"===g||"rectangle"===g||"image"===g||"text"===g?T*(180/Math.PI):null,imageData:"image"===g?O.src:null,opacity:"image"===g?j:null,radiusX:"ellipse"===g?c/2:null,radiusY:"ellipse"===g?p/2:null,endX:"line"===g||"arrow"===g?a:null,endY:"line"===g||"arrow"===g?d:null,arrowHead:"arrow"===g?this.getArrowType(e.activeObj.start):null,arrowTail:"arrow"===g?this.getArrowType(e.activeObj.end):null,points:"path"===g?e.activeObj.pointColl:null};return i&&(i.shapeSettingsObj=Y),Y},h.prototype.getArrowType=function(i){return{none:"None",arrow:"Arrow",arrowSolid:"SolidArrow",circle:"Circle",circleSolid:"SolidCircle",square:"Square",squareSolid:"SolidSquare",bar:"Bar"}[""+i]},h.prototype.getRectanglePoints=function(i,e,t,s,r,o,a){var d=i+t/2,c=e+s/2,p=r*(Math.PI/180),u=Math.cos(p),f=Math.sin(p),v=o-d,g=a-c,b=v*u+g*f,C=-v*f+g*u,T=t/2,O=s/2;return b>=-T&&b<=T&&C>=-O&&C<=O},h.prototype.getTransRotationPoint=function(i,e){var t,s,r=!1,o=!1;if((s=0===i.shapeDegree?this.parent.transform.degree:this.parent.transform.degree-i.shapeDegree)<0&&(s=360+s),i.flipObjColl)for(var a=0,d=i.flipObjColl.length;a<d;a++)"horizontal"===i.flipObjColl[a].toLowerCase()?r=!0:"vertical"===i.flipObjColl[a].toLowerCase()&&(o=!0);return 0===s||360===s?t=o?{x:i.topCenterCircle.startX,y:i.topCenterCircle.startY-i.rotationCircleLine}:{x:i.bottomCenterCircle.startX,y:i.bottomCenterCircle.startY+i.rotationCircleLine}:90===s||-270===s?t=r?{x:i.centerRightCircle.startX+i.rotationCircleLine,y:i.centerLeftCircle.startY}:{x:i.centerLeftCircle.startX-i.rotationCircleLine,y:i.centerLeftCircle.startY}:180===s||-180===s?t=o?{x:i.bottomCenterCircle.startX,y:i.bottomCenterCircle.startY+i.rotationCircleLine}:{x:i.topCenterCircle.startX,y:i.topCenterCircle.startY-i.rotationCircleLine}:(270===s||-90===s)&&(t=r?{x:i.centerLeftCircle.startX-i.rotationCircleLine,y:i.centerLeftCircle.startY}:{x:i.centerRightCircle.startX+i.rotationCircleLine,y:i.centerLeftCircle.startY}),e&&(e.rotationCirclePoint=t),t},h.prototype.getNumTextValue=function(i){var s,r,o,a,t=this.parent.element;if((0,n.xr)()?(o=t.querySelector(".e-ie-toolbar-e-resize-width-input .e-textbox"),a=t.querySelector(".e-ie-toolbar-e-resize-height-input .e-textbox")):(o=t.querySelector("#"+t.id+"_resizeWidth"),a=t.querySelector("#"+t.id+"_resizeHeight")),o&&a){var d=a.value.replace(/,/g,""),c=o.value.replace(/,/g,"");""===d&&(d=a.placeholder.replace(/,/g,"")),""===c&&(c=o.placeholder.replace(/,/g,"")),s=parseFloat(d),r=parseFloat(c)}return i&&(i.width=r,i.height=s),{x:r,y:s}},h.prototype.isValueUpdated=function(){var e,t,i=!0;return(0,n.xr)()?(e=this.parent.element.querySelector(".e-ie-toolbar-e-resize-width-input .e-textbox"),t=this.parent.element.querySelector(".e-ie-toolbar-e-resize-height-input .e-textbox")):(e=this.parent.element.querySelector("#"+this.parent.element.id+"_resizeWidth"),t=this.parent.element.querySelector("#"+this.parent.element.id+"_resizeHeight")),e&&t&&""===t.value.replace(/,/g,"")&&""===e.value.replace(/,/g,"")&&(i=!1),i},h}(),i_=function(){function h(i){this.textSettings={text:"Enter Text",fontFamily:"",fontSize:null,fontRatio:null,bold:!1,italic:!1,underline:!1},this.strokeSettings={strokeColor:"#fff",fillColor:"",strokeWidth:null},this.keyHistory="",this.parent=i,this.addEventListener()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("shape",this.shape,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("shape",this.shape),this.parent.off("destroyed",this.destroy)},h.prototype.shape=function(i){var t,e=this.parent;switch(this.initShapePvtProps(),i.prop){case"drawEllipse":this.drawEllipse(i.value.x,i.value.y,i.value.radiusX,i.value.radiusY,i.value.strokeWidth,i.value.strokeColor,i.value.fillColor,i.value.degree);break;case"drawLine":this.drawLine(i.value.startX,i.value.startY,i.value.endX,i.value.endY,i.value.strokeWidth,i.value.strokeColor);break;case"drawArrow":this.drawArrow(i.value.startX,i.value.startY,i.value.endX,i.value.endY,i.value.strokeWidth,i.value.strokeColor,i.value.arrowStart,i.value.arrowEnd);break;case"drawPath":this.drawPath(i.value.pointColl,i.value.strokeWidth,i.value.strokeColor);break;case"drawRectangle":this.drawRectangle(i.value.x,i.value.y,i.value.width,i.value.height,i.value.strokeWidth,i.value.strokeColor,i.value.fillColor,i.value.degree);break;case"drawText":this.drawText(i.value.x,i.value.y,i.value.text,i.value.fontFamily,i.value.fontSize,i.value.bold,i.value.italic,i.value.color);break;case"redrawActObj":this.redrawActObj(i.value.x,i.value.y,i.value.isMouseDown);break;case"apply":this.apply(i.value.shape,i.value.obj,i.value.canvas);break;case"updateShapeChangeEventArgs":this.updateShapeChangeEventArgs(i.value.shapeSettings);break;case"updSelChangeEventArgs":this.updSelChangeEventArgs(i.value.selectionSettings);break;case"iterateObjColl":this.iterateObjColl();break;case"updImgRatioForActObj":this.updImgRatioForActObj();break;case"zoomObjColl":this.zoomObjColl(i.value.isPreventApply);break;case"redrawObj":this.redrawObj(i.value.degree);break;case"rotateObjColl":this.rotateObjColl();break;case"draw-shape-text":this.drawShapeText();break;case"redraw-text":this.redrawText();break;case"draw-shape":this.drawShape(i.value.obj,i.value.strokeWidth,i.value.strokeColor,i.value.fillColor,i.value.start,i.value.width,i.value.height);break;case"renderTextArea":this.renderTextArea(i.value.x,i.value.y,i.value.actObj);break;case"setTextBoxWidth":this.setTextBoxWidth(i.value.e);break;case"findTextTarget":this.findTextTarget(i.value.e);break;case"panObjColl":this.panObjColl(i.value.xDiff,i.value.yDiff,i.value.panRegion);break;case"updateFontStyles":this.updateFontStyles(i.value.isTextBox);break;case"applyFontStyle":this.applyFontStyle(i.value.item);break;case"updateFontRatio":this.updateFontRatio(i.value.obj,i.value.isTextArea);break;case"updateFontSize":this.updateFontSize(i.value.obj);break;case"updateObjColl":this.updateObjColl(i.value.item,i.value.objColl);break;case"pushActItemIntoObj":this.pushActItemIntoObj();break;case"clearActObj":this.clearActObj();break;case"refreshActiveObj":this.refreshActiveObj();break;case"applyActObj":this.applyActObj(i.value.isMouseDown);break;case"wireEvent":n.bi.add(e.upperCanvas,"dblclick",this.findTextTarget,this),n.bi.add(e.textArea,"mousedown",this.findTextTarget,this),(t=document.getElementById(e.element.id+"_fileUpload"))&&n.bi.add(t,"change",this.fileChanged,this);break;case"unWireEvent":n.bi.remove(e.upperCanvas,"dblclick",this.findTextTarget),n.bi.remove(e.textArea,"mousedown",this.findTextTarget),t=document.getElementById(e.element.id+"_fileUpload"),n.bi.remove(t,"change",this.fileChanged);break;case"getShapeSetting":this.getShapeSetting(i.value.id,i.value.obj);break;case"getShapeSettings":this.getShapeSettings(i.value.obj);break;case"isPointsInRange":this.isPointsInRange(i.value.x,i.value.y,i.value.obj);break;case"alignRotateFlipColl":this.alignRotateFlipColl(i.value.collection,i.value.isRotateFlipCollection,i.value.obj);break;case"selectShape":this.selectShape(i.value.id,i.value.obj);break;case"deleteShape":this.deleteShape(i.value.id);break;case"getMaxText":this.getMaxText(i.value.isTextBox,i.value.text,i.value.obj);break;case"setPointCollForLineArrow":i.value.obj.pointColl=this.getLinePoints(i.value.obj.activePoint.startX,i.value.obj.activePoint.startY,i.value.obj.activePoint.endX,i.value.obj.activePoint.endY);break;case"setPointCollForShapeRotation":this.setPointCollForShapeRotation(i.value.obj);break;case"setTextSettings":i.value.textSettings?this.textSettings=i.value.textSettings:i.value.fontFamily?this.textSettings.fontFamily=i.value.fontFamily:i.value.fontSize&&(this.textSettings.fontSize=i.value.fontSize);break;case"setStrokeSettings":i.value.strokeSettings?this.strokeSettings=i.value.strokeSettings:i.value.strokeColor?this.strokeSettings.strokeColor=i.value.strokeColor:i.value.fillColor?this.strokeSettings.fillColor=i.value.fillColor:i.value.strokeWidth&&(this.strokeSettings.strokeWidth=i.value.strokeWidth);break;case"getStrokeSettings":i.value.obj.strokeSettings=this.strokeSettings;break;case"setKeyHistory":this.keyHistory=i.value.keyHistory;break;case"getKeyHistory":i.value.obj.keyHistory=this.keyHistory;break;case"setTextBoxPos":this.setTextBoxPos(i.value.actObj,i.value.degree,i.value.flip,i.value.x,i.value.y);break;case"setTextBoxPoints":this.setTextBoxPoints(i.value.actObj,i.value.degree,i.value.flip,i.value.x,i.value.y);break;case"alignTextAreaIntoCanvas":this.alignTextAreaIntoCanvas();break;case"initializeTextShape":this.initializeTextShape(i.value.text,i.value.fontFamily,i.value.fontSize,i.value.bold,i.value.italic,i.value.strokeColor);break;case"stopPathDrawing":this.stopPathDrawing(i.value.e,i.value.isApply);break;case"updateArrowRatio":this.updateArrowRatio(i.value.obj);break;case"getSquarePointForRotatedShape":this.getSquarePointForRotatedShape(i.value.obj,i.value.object);break;case"drawImage":this.drawImage(i.value.x,i.value.y,i.value.width,i.value.height,i.value.src,i.value.degree,i.value.isAspectRatio,i.value.opacity);break;case"reset":this.reset();break;case"fileChanged":this.fileChanged(i.value.e);break;case"updateObj":this.updateObj(i.value.dimObj,i.value.x,i.value.y);break;case"straightenShapes":this.straightenShapes();break;case"straightenShapePoints":this.straightenShapePoints(i.value.obj,i.value.isReverse);break;case"straightenPath":this.straightenPath(i.value.obj);break;case"straightenFHD":this.straightenFHD();break;case"getTextBoxPosition":this.getTextBoxPosition(i.value.obj,i.value.object);break;case"updateSelectionChangeEventArgs":this.updateSelectionChangeEventArgs(i.value.selectionSettings);break;case"setFlipState":this.setFlipState(i.value.x,i.value.y,i.value.obj,i.value.object);break;case"getNewShapeId":i.value.obj.id=this.getNewShapeId()}},h.prototype.getModuleName=function(){return"shape"},h.prototype.initShapePvtProps=function(){var i=this.parent;i.lowerCanvas&&(this.lowerContext=i.lowerCanvas.getContext("2d")),i.upperCanvas&&(this.upperContext=i.upperCanvas.getContext("2d")),(0,n.le)(this.shapeImg)&&(this.shapeImg=i.createElement("img",{id:i.element.id+"_shapeImg",attrs:{name:"Image",crossorigin:"anonymous"}})),""===this.textSettings.fontFamily&&(this.textSettings.fontFamily=i.fontFamily.default)},h.prototype.reset=function(){this.textSettings={text:"Enter Text",fontFamily:this.parent.fontFamily.default,fontSize:null,fontRatio:null,bold:!1,italic:!1,underline:!1},this.strokeSettings={strokeColor:"#fff",fillColor:"",strokeWidth:null}},h.prototype.drawEllipse=function(i,e,t,s,r,o,a,d){this.initializeShape("ellipse"),this.drawShape("ellipse",r,o,a,i&&e?{x:i,y:e}:null,t,s,null,null,null,d)},h.prototype.drawLine=function(i,e,t,s,r,o){this.initializeShape("line"),this.drawShape("line",r,o,null,i&&e?{x:i,y:e}:null,t-i,s-e)},h.prototype.drawPath=function(i,e,t){var s=this.parent;if(this.initializeShape("path"),i)this.drawShape("path",e,t,null,null,null,null,i);else{this.drawShape("line",e,t);var r=(0,n.l7)({},s.objColl[s.objColl.length-1],null,!0);r.shape="path",r.lineDraw=null,r.pointColl=[{x:r.activePoint.startX,y:r.activePoint.startY},{x:r.activePoint.endX,y:r.activePoint.endY}],s.objColl[s.objColl.length-1]=r}},h.prototype.drawArrow=function(i,e,t,s,r,o,a,d){this.initializeShape("arrow"),this.drawShape("arrow",r,o,null,i&&e?{x:i,y:e}:null,t-i,s-e,null,a,d)},h.prototype.drawRectangle=function(i,e,t,s,r,o,a,d){this.initializeShape("rectangle"),this.drawShape("rectangle",r,o,a,i&&e?{x:i,y:e}:null,t,s,null,null,null,d)},h.prototype.drawText=function(i,e,t,s,r,o,a,d){this.drawShapeText(t,s,r,o,a,d,i,e)},h.prototype.initializeShape=function(i){var e=this.parent;this.redrawActObj(),e.activeObj.shape=i,"freehanddraw"===e.currObjType.shape&&(this.apply(),e.upperCanvas.style.cursor=e.cursor="default",e.currObjType.shape=""),e.currObjType.isCustomCrop=!1},h.prototype.updateWidthHeight=function(i){return i.activePoint.width=i.activePoint.endX-i.activePoint.startX,i.activePoint.height=i.activePoint.endY-i.activePoint.startY,i},h.prototype.setDimension=function(i,e){var t=this.parent;i&&e&&(t.activeObj.activePoint.width=i,t.activeObj.activePoint.height=e,"ellipse"===t.currObjType.shape.toLowerCase()&&(t.activeObj.activePoint.width=2*i,t.activeObj.activePoint.height=2*e))},h.prototype.getArrowType=function(i){var e=i;return i&&(e={None:"none",Arrow:"arrow",SolidArrow:"arrowSolid",Circle:"circle",SolidCircle:"circleSolid",Square:"square",SolidSquare:"squareSolid",Bar:"bar"}[""+i]),e},h.prototype.drawShape=function(i,e,t,s,r,o,a,d,c,p,u,f){var v=this,g=this.parent;if(!g.disabled&&g.isImageLoaded){g.notify("draw",{prop:"setImageEdited",onPropertyChange:!1}),this.redrawActObj();var b=(0,n.l7)([],g.objColl,[],!0);if(g.togglePen=!1,this.keyHistory="",g.upperCanvas.style.display="block",this.refreshActiveObj(),g.currObjType.shape=i=i.toLowerCase(),"path"===i&&(0,n.le)(d))g.activeObj.shape=i,g.activeObj.pointColl=[],g.upperCanvas.style.cursor=g.cursor="crosshair",g.notify("selection",{prop:"setCurrentDrawingShape",onPropertyChange:!1,value:{value:"path"}}),(0,n.xr)()||(g.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"shapes",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),g.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1}));else if("freehanddraw"!==i&&""!==i){g.activeObj.shape=i;var C=g.activeObj.strokeSettings;this.upperContext.clearRect(0,0,g.upperCanvas.width,g.upperCanvas.height),(0,n.le)(C)&&(C=this.strokeSettings),"path"===i&&d&&(g.activeObj.pointColl=d),null!=f&&(g.activeObj.opacity=f),C.strokeWidth=e||C.strokeWidth,C.strokeColor=t||C.strokeColor,C.fillColor=s||C.fillColor;var O=g.img.destHeight>100?100:g.img.destHeight/2;g.activeObj.activePoint.width=g.img.destWidth>100?100:g.img.destWidth/2,g.activeObj.activePoint.height=O,"line"===i||"arrow"===i?(g.activeObj.lineDraw="horizontal",g.activeObj.activePoint.height=0,"arrow"===i&&(g.activeObj.activePoint.width+=50,g.activeObj.start=this.getArrowType(c),g.activeObj.end=this.getArrowType(p))):"rectangle"===i&&(g.activeObj.activePoint.width+=g.activeObj.activePoint.width/2),this.setDimension(o,a),r?(g.activeObj.activePoint.startX=r.x,g.activeObj.activePoint.startY=r.y,g.activeObj.activePoint.endX=g.activeObj.activePoint.startX+g.activeObj.activePoint.width,g.activeObj.activePoint.endY=g.activeObj.activePoint.startY+g.activeObj.activePoint.height):this.setCenterPoints(),this.setPointCollForLineAndArrow(),"arrow"===i&&(g.activeObj.triangleDirection="right"),g.currObjType.isDragging=g.currObjType.isCustomCrop=!1,this.initShapeProps();var j={shapeSettingsObj:{}};g.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:j}});var Y=j.shapeSettingsObj,H={cancel:!1,action:"insert",previousShapeSettings:Y,currentShapeSettings:Y};(0,n.xr)()&&g.events&&!0===g.events.shapeChanging.hasDelegate?g.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShape",H,null).then(function(N){v.updateShapeChangeEventArgs(N.currentShapeSettings),v.setDimension(o,a),g.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),u&&(g.activeObj.rotatedAngle=u*(Math.PI/180),g.notify("selection",{prop:"updPtCollForShpRot",onPropertyChange:!1,value:{obj:g.activeObj}})),g.updateToolbar(g.element,"quickAccessToolbar","shape"),g.notify("selection",{prop:"isShapeInserted",onPropertyChange:!1,value:{bool:!0}}),g.notify("undo-redo",{prop:"updateUrObj",onPropertyChange:!1,value:{objColl:b}}),g.isPublicMethod&&g.notify("undo-redo",{prop:"updateUndoRedo",value:{operation:"shapeInsert"},onPropertyChange:!1}),g.isPublicMethod=!1}):(g.trigger("shapeChanging",H),this.updateShapeChangeEventArgs(H.currentShapeSettings),this.setDimension(o,a),g.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),u&&(g.activeObj.rotatedAngle=u*(Math.PI/180),g.notify("selection",{prop:"updPtCollForShpRot",onPropertyChange:!1,value:{obj:g.activeObj}})),(0,n.xr)()?g.updateToolbar(g.element,"quickAccessToolbar","shape"):g.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}}),g.notify("selection",{prop:"isShapeInserted",onPropertyChange:!1,value:{bool:!0}}),g.notify("undo-redo",{prop:"updateUrObj",onPropertyChange:!1,value:{objColl:b}}),g.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"shapes",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),g.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1}),g.isPublicMethod&&g.notify("undo-redo",{prop:"updateUndoRedo",value:{operation:"shapeInsert"},onPropertyChange:!1}),g.isPublicMethod=!1)}}},h.prototype.initShapeProps=function(){var i=this.parent;i.activeObj.shapeDegree=i.transform.degree,i.activeObj.shapeFlip=i.transform.currFlipState,i.activeObj.textFlip=i.transform.currFlipState,i.activeObj.flipObjColl=[]},h.prototype.setPointCollForLineAndArrow=function(){var i=this.parent,e=i.activeObj.shape,t=i.activeObj.activePoint;if(("line"===e||"arrow"===e)&&(i.activeObj.pointColl=this.getLinePoints(t.startX,t.startY,t.endX,t.endY),i.activeObj.pointColl))for(var d=0,c=i.activeObj.pointColl.length;d<c;d++)i.activeObj.pointColl[d].ratioX=(i.activeObj.pointColl[d].x-i.img.destLeft)/i.img.destWidth,i.activeObj.pointColl[d].ratioY=(i.activeObj.pointColl[d].y-i.img.destTop)/i.img.destHeight},h.prototype.prevObjColl=function(){var i=this.parent,e={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:e}}),this.prevObj=e.currObj,this.prevObj.objColl=(0,n.l7)([],i.objColl,[],!0),this.prevObj.pointColl=(0,n.l7)([],i.pointColl,[],!0),this.prevObj.afterCropActions=(0,n.l7)([],i.afterCropActions,[],!0);var t={selPointColl:null};i.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:t}}),this.prevObj.selPointColl=(0,n.l7)([],t.selPointColl,[],!0)},h.prototype.drawShapeText=function(i,e,t,s,r,o,a,d){var c=this,p=this.parent;if(!p.disabled&&p.isImageLoaded){"freehanddraw"===p.currObjType.shape&&(this.apply(),p.upperCanvas.style.cursor=p.cursor="default",p.currObjType.shape=""),p.notify("draw",{prop:"setImageEdited",onPropertyChange:!1}),p.togglePen=!1,this.redrawActObj(),this.prevObjColl(),this.refreshActiveObj(),p.activeObj.shape=p.currObjType.shape="text",p.currObjType.isCustomCrop=!1,this.initializeTextShape(i,e,t,s,r,o),p.currObjType.isText=p.currObjType.isInitialText=!0,(0,n.le)(p.activeObj.textSettings.fontSize)&&(p.getFontSizes(),p.activeObj.textSettings.fontSize=parseInt(p.fontSizeColl[parseInt("3",10)-1].text,10)),p.img.destWidth<100?p.activeObj.textSettings.fontSize=Math.floor(p.img.destWidth/20):p.img.destHeight<100&&(p.activeObj.textSettings.fontSize=Math.floor(p.img.destHeight/20)),p.activeObj.shapeDegree=p.transform.degree,p.activeObj.shapeFlip=p.transform.currFlipState,p.activeObj.flipObjColl=[],this.updateFontStyles();var u=this.upperContext.measureText(p.activeObj.textSettings.text).width+.5*p.activeObj.textSettings.fontSize,f=p.activeObj.textSettings.fontSize+.25*p.activeObj.textSettings.fontSize;(0,n.le)(a)||(0,n.le)(d)?this.setCenterPoints(!0,u,f):(p.activeObj.activePoint.startX=a,p.activeObj.activePoint.startY=d,p.activeObj.activePoint.endX=p.activeObj.activePoint.startX+u,p.activeObj.activePoint.endY=p.activeObj.activePoint.startY+f);var v={shapeSettingsObj:{}};p.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:v}});var g=v.shapeSettingsObj,b={cancel:!1,action:"insert",previousShapeSettings:g,currentShapeSettings:g};(0,n.xr)()&&p.events&&!0===p.events.shapeChanging.hasDelegate?p.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShape",b,null).then(function(C){c.drawShapeTextEvent(C),p.isPublicMethod&&p.notify("undo-redo",{prop:"updateUndoRedo",value:{operation:"shapeInsert"},onPropertyChange:!1}),p.isPublicMethod=!1}):(p.trigger("shapeChanging",b),this.drawShapeTextEvent(b),p.isPublicMethod&&p.notify("undo-redo",{prop:"updateUndoRedo",value:{operation:"shapeInsert"},onPropertyChange:!1}),p.isPublicMethod=!1)}},h.prototype.drawShapeImageEvent=function(i,e){var t=this.parent;this.updateShapeChangeEventArgs(i.currentShapeSettings),t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),t.objColl.push(t.activeObj);var s=(0,n.l7)({},t.cropObj,{},!0);t.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeInsert",previousObj:this.prevObj,previousObjColl:this.prevObj.objColl,previousPointColl:this.prevObj.pointColl,previousSelPointColl:this.prevObj.selPointColl,previousCropObj:s,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),t.notify("selection",{prop:"redrawShape",onPropertyChange:!1,value:{obj:t.objColl[t.objColl.length-1]}}),e?(0,n.xr)()?(t.updateToolbar(t.element,t.activeObj.shape),t.updateToolbar(t.element,"quickAccessToolbar",t.activeObj.shape)):(t.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"shapes",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),t.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1}),t.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}})):t.okBtn(),t.notify("selection",{prop:"isShapeInserted",onPropertyChange:!1,value:{bool:!0}})},h.prototype.drawShapeTextEvent=function(i){var e=this.parent;this.updateShapeChangeEventArgs(i.currentShapeSettings),this.addLetter(e.activeObj.textSettings.text),e.activeObj.textFlip=e.transform.currFlipState,this.updateFontRatio(e.activeObj),e.objColl.push(e.activeObj);var t=(0,n.l7)({},e.cropObj,{},!0);e.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeInsert",previousObj:this.prevObj,previousObjColl:this.prevObj.objColl,previousPointColl:this.prevObj.pointColl,previousSelPointColl:this.prevObj.selPointColl,previousCropObj:t,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),e.notify("selection",{prop:"redrawShape",onPropertyChange:!1,value:{obj:e.objColl[e.objColl.length-1]}}),(0,n.xr)()?e.updateToolbar(e.element,"quickAccessToolbar","text"):e.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}}),e.notify("selection",{prop:"isShapeInserted",onPropertyChange:!1,value:{bool:!0}}),(0,n.xr)()?(e.updateToolbar(e.element,"text"),e.getFontSizes()):(e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"text",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),e.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1}))},h.prototype.initializeTextShape=function(i,e,t,s,r,o){var a=this.parent;this.keyHistory="",a.upperCanvas.style.display="block",(0,n.le)(a.activeObj.textSettings)&&(a.activeObj.textSettings=this.textSettings),(0,n.le)(a.activeObj.strokeSettings)&&(a.activeObj.strokeSettings=this.strokeSettings),a.activeObj.strokeSettings.strokeColor=o||a.activeObj.strokeSettings.strokeColor,a.activeObj.textSettings.text=i||a.activeObj.textSettings.text,a.activeObj.textSettings.fontFamily=e||a.activeObj.textSettings.fontFamily,a.activeObj.textSettings.fontSize=t||a.activeObj.textSettings.fontSize,a.activeObj.textSettings.bold=s||a.activeObj.textSettings.bold,a.activeObj.textSettings.italic=r||a.activeObj.textSettings.italic},h.prototype.drawImage=function(i,e,t,s,r,o,a,d){this.initializeShape("image"),this.onLoadImgShape(i,e,t,s,r,null,o,a,d)},h.prototype.redrawActObj=function(i,e,t){var s,r=this.parent;r.activeObj.shape&&(s=r.activeObj.shape.split("-")),r.activeObj.horTopLine&&r.activeObj.shape&&"crop"!==s[0]&&("block"===r.textArea.style.display||"inline-block"===r.textArea.style.display?(r.notify("selection",{prop:"setTextBoxStylesToActObj",onPropertyChange:!1}),this.updateFontRatio(r.activeObj,!0),i&&e?i!==r.activeObj.activePoint.startX&&e!==r.activeObj.activePoint.startY&&this.updateTextFromTextArea():(this.updateTextFromTextArea(),r.textArea.style.transform="",r.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1})),this.refreshActiveObj()):this.applyActObj(t))},h.prototype.apply=function(i,e,t){var s=this.parent;if(!s.disabled)if(s.togglePen&&!s.currObjType.isCustomCrop){var r=s.img.destLeft,o=s.img.destTop,a=s.img.destWidth,d=s.img.destHeight;s.notify("draw",{prop:"callUpdateCurrTransState",onPropertyChange:!1});var c=this.lowerContext.filter;this.lowerContext.filter="none",s.togglePen=!1,(s.isCircleCrop||s.currSelectionPoint&&"crop-circle"===s.currSelectionPoint.shape)&&s.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),s.img.destLeft=r,s.img.destTop=o,s.img.destWidth=a,s.img.destHeight=d,this.lowerContext.filter=c}else t=t||"original",s.currObjType.shape=(0,n.le)(s.activeObj.shape)&&(0,n.le)(i)?"":i||s.currObjType.shape,""!==s.currObjType.shape&&(this.upperContext.clearRect(0,0,s.upperCanvas.width,s.upperCanvas.height),s.notify("draw","text"===s.activeObj.shape?{prop:"drawObject",onPropertyChange:!1,value:{canvas:t,obj:e,isCropRatio:null,points:null,isPreventDrag:!0,saveContext:null,isPreventSelection:null}}:{prop:"drawObject",onPropertyChange:!1,value:{canvas:t,obj:e}}),s.activeObj.shape=s.currObjType.shape.toLowerCase(),!i&&""!==s.currObjType.shape&&!s.currObjType.isCustomCrop&&s.objColl.push((0,n.l7)({},s.activeObj,{},!0)),this.keyHistory="")},h.prototype.setCenterPoints=function(i,e,t){var r,o,s=this.parent;i&&e&&t?(r=e,o=t):(r=s.activeObj.activePoint.width,o=s.activeObj.activePoint.height),s.activeObj.activePoint.startX=s.lowerCanvas.width/2-r/2,s.activeObj.activePoint.startY=s.lowerCanvas.height/2-o/2,s.activeObj.activePoint.endX=s.lowerCanvas.width/2+r/2,s.activeObj.activePoint.endY=s.lowerCanvas.height/2+o/2},h.prototype.updSelChangeEventArgs=function(i){var e=this.parent;e.activeObj.activePoint={startX:i.startX,startY:i.startY,endX:e.activeObj.activePoint.startX+e.activeObj.activePoint.width,endY:e.activeObj.activePoint.startY+e.activeObj.activePoint.height,width:i.width,height:i.height}},h.prototype.updateShapeChangeEventArgs=function(i){var t,e=this.parent;if(i.id&&i.id.split("_")[0]&&"pen"===i.id.split("_")[0])t=parseInt(i.id.split("_")[1],10)-1,e.pointColl[t].points=i.points,e.pointColl[t].strokeColor=i.strokeColor,e.pointColl[t].strokeWidth=i.strokeWidth,e.pointColl[t].opacity=i.opacity;else{switch(e.activeObj.currIndex=i.id,e.activeObj.activePoint.startX=i.startX,e.activeObj.activePoint.startY=i.startY,i.width&&i.height&&(e.activeObj.activePoint.width=i.width,e.activeObj.activePoint.height=i.height,e.activeObj.activePoint.endX=e.activeObj.activePoint.startX+e.activeObj.activePoint.width,e.activeObj.activePoint.endY=e.activeObj.activePoint.startY+e.activeObj.activePoint.height),e.activeObj.strokeSettings.strokeColor=i.strokeColor,e.activeObj.strokeSettings.fillColor=i.fillColor,e.activeObj.strokeSettings.strokeWidth=i.strokeWidth,e.activeObj.opacity=i.opacity,(0,n.le)(i.degree)&&(i.degree=0),e.activeObj.shape){case"ellipse":(0,n.xr)()?e.activeObj.activePoint.width=i.radius:(e.activeObj.activePoint.width=2*i.radiusX,e.activeObj.activePoint.height=2*i.radiusY,e.activeObj.activePoint.endX=e.activeObj.activePoint.startX+e.activeObj.activePoint.width,e.activeObj.activePoint.endY=e.activeObj.activePoint.startY+e.activeObj.activePoint.height),i.degree&&(e.activeObj.rotatedAngle=i.degree*(Math.PI/180));break;case"line":case"arrow":e.activeObj.activePoint.width=i.length,(0,n.xr)()||(e.activeObj.activePoint.endX=i.endX,e.activeObj.activePoint.endY=i.endY,e.activeObj.activePoint.width=e.activeObj.activePoint.startX+e.activeObj.activePoint.width,e.activeObj.activePoint.height=e.activeObj.activePoint.startY+e.activeObj.activePoint.height,"arrow"===e.activeObj.shape&&(e.activeObj.start=this.getArrowType(i.arrowHead),e.activeObj.end=this.getArrowType(i.arrowTail)));break;case"text":e.activeObj.keyHistory=e.activeObj.textSettings.text=i.text,e.activeObj.textSettings.fontSize=i.fontSize,e.activeObj.strokeSettings.strokeColor=i.color,e.activeObj.textSettings.fontFamily=i.fontFamily,i.degree&&(e.activeObj.rotatedAngle=i.degree*(Math.PI/180));break;case"rectangle":case"image":i.degree&&(e.activeObj.rotatedAngle=i.degree*(Math.PI/180));break;case"path":e.activeObj.pointColl=i.points}if("text"===e.activeObj.shape&&e.activeObj.textSettings)for(var s=0;s<i.fontStyle.length;s++)switch(i.fontStyle[s]){case"bold":e.activeObj.textSettings.bold=!0;break;case"italic":e.activeObj.textSettings.italic=!0;break;case"underline":e.activeObj.textSettings.underline=!0}}},h.prototype.updateSelectionChangeEventArgs=function(i){var e=this.parent;e.activeObj.activePoint.startX=i.startX,e.activeObj.activePoint.startY=i.startY,i.width&&i.height&&(e.activeObj.activePoint.width=i.width,e.activeObj.activePoint.height=i.height,e.activeObj.activePoint.endX=e.activeObj.activePoint.startX+e.activeObj.activePoint.width,e.activeObj.activePoint.endY=e.activeObj.activePoint.startY+e.activeObj.activePoint.height)},h.prototype.addLetter=function(i){var e=this.parent;if("none"===e.textArea.style.display&&(e.currObjType.isText||"text"===e.activeObj.shape)){var t=e.activeObj.textSettings.fontSize;"Backspace"===i?this.keyHistory=this.keyHistory.slice(0,-1):this.keyHistory+=i,this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),this.updateFontStyles();var s=this.upperContext.measureText(this.keyHistory).width+.5*t,r=t+.25*t;this.upperContext.fillText(this.keyHistory,e.activeObj.activePoint.startX,e.activeObj.activePoint.startY+t),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),e.currObjType.isText=!0,e.notify("selection",{prop:"setActivePoint",onPropertyChange:!1,value:{startX:s,startY:r}})}},h.prototype.redrawText=function(){var i=this.parent,e=i.activeObj.textSettings,t=e.fontSize,a="";e.bold&&(a+="bold "),e.italic&&(a+="italic "),this.upperContext.font=a+t+"px "+e.fontFamily;var d=i.activeObj.keyHistory.split("\n"),c="block"===i.textArea.style.display||"inline-block"===i.textArea.style.display?this.getMaxText(!0):this.getMaxText(),p=this.upperContext.measureText(c).width+.5*t;i.notify("selection",{prop:"setTextSelection",onPropertyChange:!1,value:{width:p,height:d.length*(t+.25*t)}}),i.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:i.activeObj.activePoint,obj:i.activeObj,isMouseMove:null,x:null,y:null}}),i.notify("selection",{prop:"redrawShape",onPropertyChange:!1,value:{obj:i.activeObj}})},h.prototype.updateTextFromTextArea=function(){var i=this.parent,e=!1,t=i.activeObj.textSettings.fontSize,s=(0,n.l7)({},i.activeObj,{},!0),r=(0,n.l7)({},i.cropObj,{},!0),o={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:o}});var a=o.currObj;a.objColl=(0,n.l7)([],i.objColl,[],!0),a.pointColl=(0,n.l7)([],i.pointColl,[],!0),a.afterCropActions=(0,n.l7)([],i.afterCropActions,[],!0);var d={selPointColl:null};i.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:d}}),a.selPointColl=(0,n.l7)([],d.selPointColl,[],!0),i.activeObj.keyHistory!==i.textArea.value&&(e=!0),i.activeObj.keyHistory=i.textArea.value,i.textArea.style.display="none",i.textArea.value="",this.updateFontStyles();var c=this.upperContext.measureText(i.activeObj.keyHistory).width+.5*t,p=t+.25*t,u=i.activeObj.keyHistory.split("\n");if(u.length>1){p*=u.length;for(var f=[],v=0,g=u.length;v<g;v++)f.push(this.upperContext.measureText(u[v]).width+.5*t);c=Math.max.apply(Math,f)}if(i.notify("selection",{prop:"setTextSelection",onPropertyChange:!1,value:{width:c,height:p}}),0!==i.activeObj.rotatedAngle){var b=i.activeObj.activePoint.width-s.activePoint.width,C=i.activeObj.activePoint.height-s.activePoint.height,T="";b>0&&C>0?T="widthHeight":0!==b?T="width":0!==C&&(T="height"),i.activeObj.activePoint=(0,n.l7)({},s.activePoint,{},!0),i.notify("selection",{prop:"adjustRotationPoints",onPropertyChange:!1,value:{rectangle:i.activeObj.activePoint,x:b,y:C,angle:i.activeObj.rotatedAngle,type:"text",elem:T}}),i.notify("shape",{prop:"updateFontSize",onPropertyChange:!1,value:{obj:i.activeObj}})}i.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:i.activeObj.activePoint,obj:i.activeObj,isMouseMove:null,x:null,y:null}}),this.updImgRatioForActObj(),0!==i.activeObj.rotatedAngle&&i.notify("selection",{prop:"updPtCollForShpRot",onPropertyChange:!1,value:{obj:i.activeObj}}),e?(this.apply(i.activeObj.shape,i.activeObj),i.objColl.push((0,n.l7)({},i.activeObj,{},!0)),i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"text",previousObj:a,previousObjColl:a.objColl,previousPointColl:a.pointColl,previousSelPointColl:a.selPointColl,previousCropObj:r,previousText:i.activeObj.keyHistory,currentText:i.textArea.value,previousFilter:null,isCircleCrop:null}})):(this.apply(i.activeObj.shape,i.activeObj),i.objColl.push((0,n.l7)({},i.activeObj,{},!0)))},h.prototype.iterateObjColl=function(){var i=this.parent;if(i.objColl.length>0){for(var e=0,t=i.objColl.length;e<t;e++){var s=this.lowerContext.filter;this.lowerContext.filter="none",this.apply(i.objColl[e].shape,i.objColl[e]),this.lowerContext.filter=s,this.refreshActiveObj()}i.notify("draw",{prop:"applyFrame",value:{ctx:this.lowerContext,frame:i.frameObj.type,preventImg:!0}})}},h.prototype.updImgRatioForActObj=function(){var i=this.parent,e={startX:i.img.destLeft,startY:i.img.destTop,width:i.img.destWidth,height:i.img.destHeight};this.straightenShapes();var t=i.img,s=t.destLeft,r=t.destTop,o=t.destWidth,a=t.destHeight,d=i.activeObj.activePoint;i.activeObj.imageRatio={startX:(d.startX-s)/o,startY:(d.startY-r)/a,endX:(d.endX-s)/o,endY:(d.endY-r)/a,width:o/d.width,height:a/d.height},i.activeObj.rotationCirclePointColl&&(i.activeObj.rotationCirclePointColl.ratioX=(i.activeObj.rotationCirclePointColl.x-s)/o,i.activeObj.rotationCirclePointColl.ratioY=(i.activeObj.rotationCirclePointColl.y-r)/a),"path"===i.activeObj.shape?this.updatePathRatio(i.activeObj):"arrow"===i.activeObj.shape&&this.updateArrowRatio(i.activeObj),i.img.destLeft=e.startX,i.img.destTop=e.startY,i.img.destWidth=e.width,i.img.destHeight=e.height},h.prototype.zoomObjColl=function(i){var e=this.parent,t={startX:e.img.destLeft,startY:e.img.destTop,width:e.img.destWidth,height:e.img.destHeight};this.straightenShapes();for(var s=e.img,r=s.destLeft,o=s.destTop,a=s.destWidth,d=s.destHeight,c=0,p=e.objColl.length;c<p;c++){var u=e.objColl[c];if(u.activePoint.startX=u.imageRatio.startX*a+r,u.activePoint.startY=u.imageRatio.startY*d+o,u.activePoint.endX=u.imageRatio.endX*a+r,u.activePoint.endY=u.imageRatio.endY*d+o,"text"===(u=this.updateWidthHeight(u)).shape)this.updateFontSize(u);else if("line"===u.shape||"arrow"===u.shape){u.pointColl=this.getLinePoints(u.activePoint.startX,u.activePoint.startY,u.activePoint.endX,u.activePoint.endY);for(var f=0,v=u.pointColl.length;f<v;f++)u.pointColl[f].ratioX=(u.pointColl[f].x-r)/a,u.pointColl[f].ratioY=(u.pointColl[f].y-o)/d;"arrow"===u.shape&&this.updateArrowSize(u),0!==e.transform.straighten&&("line"===u.shape||"arrow"===u.shape)&&this.straightenShapePoints(u)}else if("path"===u.shape){for(var g=0,b=u.pointColl.length;g<b;g++)u.pointColl[g].x=u.pointColl[g].ratioX*a+r,u.pointColl[g].y=u.pointColl[g].ratioY*d+o;this.updatePathRatio(u),0!==e.transform.straighten&&this.straightenPath(u)}if(e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:u.activePoint,obj:u}}),(0,n.le)(i)){var C=this.lowerContext.filter;this.lowerContext.filter="none",this.apply(u.shape,u),this.refreshActiveObj(),this.lowerContext.filter=C,e.notify("draw",{prop:"applyFrame",value:{ctx:this.lowerContext,frame:e.frameObj.type,preventImg:!0}})}"line"!==u.shape&&"arrow"!==u.shape&&"path"!==u.shape&&0!==u.rotatedAngle&&(this.setPointCollForShapeRotation(u),u.rotationCirclePoint.x=u.rotationCirclePoint.ratioX*a+r,u.rotationCirclePoint.y=u.rotationCirclePoint.ratioY*d+o,u.rotationCirclePointColl.x=u.rotationCirclePointColl.ratioX*a+r,u.rotationCirclePointColl.y=u.rotationCirclePointColl.ratioY*d+o)}e.img.destLeft=t.startX,e.img.destTop=t.startY,e.img.destWidth=t.width,e.img.destHeight=t.height},h.prototype.straightenPath=function(i){for(var e,t=0,s=i.pointColl.length;t<s;t++)e=this.straightenPoints(i.pointColl[t].x,i.pointColl[t].y),i.pointColl[t].x=e.x,i.pointColl[t].y=e.y},h.prototype.straightenFHD=function(){for(var i=this.parent,e=0,t=i.freehandCounter;e<t;e++){i.points=(0,n.l7)([],i.pointColl[e].points,[]);for(var s=i.points.length,r=void 0,o=0;o<s;o++)r=this.straightenPoints(i.points[o].x,i.points[o].y),i.points[o].x=r.x,i.points[o].y=r.y}var a={selPointColl:null};for(i.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:a}}),e=0,t=i.freehandCounter;e<t;e++)for(s=a.selPointColl[e].points.length,r=void 0,o=0;o<s;o++)r=this.straightenPoints(a.selPointColl[e].points[o].x,a.selPointColl[e].points[o].y),a.selPointColl[e].points[o].x=r.x,a.selPointColl[e].points[o].y=r.y;var d={straightenPoint:null};if(i.notify("freehand-draw",{prop:"getStraightenPoint",onPropertyChange:!1,value:{obj:d}}),d.straightenPoint.x&&d.straightenPoint.y){var c={angle:0};i.notify("freehand-draw",{prop:"getStraightenPointAngle",onPropertyChange:!1,value:{obj:c}});var p=((360===i.transform.straighten?0:i.transform.straighten)-c.angle)*(Math.PI/180);r=this.straightenPoints(d.straightenPoint.x,d.straightenPoint.y,p),0===p&&(r.x=d.straightenPoint.x,r.y=d.straightenPoint.y),i.notify("freehand-draw",{prop:"setStraightenPoint",onPropertyChange:!1,value:{x:r.x,y:r.y}})}},h.prototype.straightenPoints=function(i,e,t){var s=this.parent,r_x=s.img.destLeft+s.img.destWidth/2,r_y=s.img.destTop+s.img.destHeight/2;return t=t||s.transform.straighten*(Math.PI/180),{x:Math.cos(t)*(i-r_x)-Math.sin(t)*(e-r_y)+r_x,y:Math.sin(t)*(i-r_x)+Math.cos(t)*(e-r_y)+r_y}},h.prototype.straightenShapes=function(){var i=this.parent,e=i.img,t=e.destLeft,s=e.destTop,r=e.destWidth,o=e.destHeight;if(i.isStraightening&&0!==i.transform.straighten){i.notify("draw",{prop:"updateImgCanvasPoints"});var d={points:null};i.notify("draw",{prop:"getImageCanvasPoints",value:{obj:d}});var c={x:t+r/2,y:s+o/2},p=-i.transform.straighten*(Math.PI/180),u={x:Math.cos(p)*(d.points[0].x-c.x)-Math.sin(p)*(d.points[0].y-c.y)+c.x,y:Math.sin(p)*(d.points[0].x-c.x)+Math.cos(p)*(d.points[0].y-c.y)+c.y},f={x:Math.cos(p)*(d.points[1].x-c.x)-Math.sin(p)*(d.points[1].y-c.y)+c.x,y:Math.sin(p)*(d.points[1].x-c.x)+Math.cos(p)*(d.points[1].y-c.y)+c.y},v={x:Math.cos(p)*(d.points[2].x-c.x)-Math.sin(p)*(d.points[2].y-c.y)+c.x,y:Math.sin(p)*(d.points[2].x-c.x)+Math.cos(p)*(d.points[2].y-c.y)+c.y};i.img.destWidth=f.x-u.x,i.img.destHeight=v.y-f.y,i.img.destLeft=u.x,i.img.destTop=u.y}},h.prototype.straightenShapePoints=function(i,e){var t=this.parent,s=t.img,r=s.destLeft,o=s.destTop,a=s.destWidth,d=s.destHeight;if(t.isStraightening&&("line"===i.shape||"arrow"===i.shape)){i.activePoint.width=i.activePoint.endX>i.activePoint.startX?i.activePoint.endX-i.activePoint.startX:i.activePoint.startX-i.activePoint.endX,i.activePoint.height=i.activePoint.endY>i.activePoint.startY?i.activePoint.endY-i.activePoint.startY:i.activePoint.startY-i.activePoint.endY;var p={x:r+a/2,y:o+d/2},u=(e?-t.transform.straighten:t.transform.straighten)*(Math.PI/180),f={x:Math.cos(u)*(i.activePoint.startX-p.x)-Math.sin(u)*(i.activePoint.startY-p.y)+p.x,y:Math.sin(u)*(i.activePoint.startX-p.x)+Math.cos(u)*(i.activePoint.startY-p.y)+p.y},v={x:Math.cos(u)*(i.activePoint.endX-p.x)-Math.sin(u)*(i.activePoint.endY-p.y)+p.x,y:Math.sin(u)*(i.activePoint.endX-p.x)+Math.cos(u)*(i.activePoint.endY-p.y)+p.y};i.activePoint.startX=f.x,i.activePoint.startY=f.y,i.activePoint.endX=v.x,i.activePoint.endY=v.y,i.activePoint.width=i.activePoint.endX>i.activePoint.startX?i.activePoint.endX-i.activePoint.startX:i.activePoint.startX-i.activePoint.endX,i.activePoint.height=i.activePoint.endY>i.activePoint.startY?i.activePoint.endY-i.activePoint.startY:i.activePoint.startY-i.activePoint.endY,t.notify("selection",{prop:"adjustActObjForLineArrow",onPropertyChange:!1,value:{obj:i}})}},h.prototype.redrawObj=function(i){var e=this.parent,t=!1;if(e.objColl.length>0)if("horizontal"===i||"vertical"===i||"Horizontal"===i||"Vertical"===i||"horizontalVertical"===i||"verticalHorizontal"===i)this.updateCurrentActiveObjPoint(i.toLowerCase());else if("number"==typeof i){this.updateCurrentActiveObjPoint(i);var s=this.lowerContext.filter;this.lowerContext.filter="brightness(1) contrast(100%) hue-rotate(0deg) saturate(100%) opacity(1) blur(0px) sepia(0%) grayscale(0%) invert(0%)";for(var r=0,o=e.objColl.length;r<o;r++)"crop"!==e.objColl[r].shape.split("-")[0]&&(this.apply(e.objColl[r].shape,e.objColl[r]),t=!0);t&&e.notify("draw",{prop:"applyFrame",value:{ctx:this.lowerContext,frame:e.frameObj.type,preventImg:!0}}),this.lowerContext.filter=s}},h.prototype.updateCurrentActiveObjPoint=function(i){for(var t,e=this.parent,s=e.img,r=s.destLeft,o=s.destTop,a=s.destWidth,d=s.destHeight,c=0,p=e.objColl.length;c<p;c++)if(e.activeObj.shape===(u=e.objColl[c]).shape&&e.activeObj.activePoint.startX===u.activePoint.startX&&e.activeObj.activePoint.startY===u.activePoint.startY&&e.activeObj.activePoint.endX===u.activePoint.endX&&e.activeObj.activePoint.endY===u.activePoint.endY&&e.activeObj.currIndex===u.currIndex){t=c;break}if("horizontal"===i||"vertical"===i||"Horizontal"===i||"Vertical"===i||"horizontalvertical"===i||"verticalhorizontal"===i){if("horizontal"===i||"Horizontal"===i){var f=0;for(p=e.objColl.length;f<p;f++)(u=e.objColl[f]).shapeFlip!==e.transform.currFlipState&&(u.activePoint.startX<=r+a/2?(u.activePoint.endX=r+a-(u.activePoint.startX-r),u.activePoint.startX=u.activePoint.endX-u.activePoint.width,e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:u.activePoint,obj:u}})):u.activePoint.startX>=r+a/2&&(u.activePoint.startX=r+(r+a-u.activePoint.endX),u.activePoint.endX=u.activePoint.startX+u.activePoint.width,e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:u.activePoint,obj:u}})),"line"===u.shape||"arrow"===u.shape||"path"===u.shape?this.flipLineArrowObj(u,"horizontal"):0!==u.rotatedAngle&&(u.rotatedAngle=u.rotatedAngle+2*(Math.PI-u.rotatedAngle),u.rotationCirclePointColl.x<=r+a/2?u.rotationCirclePointColl.x=r+a-(u.rotationCirclePointColl.x-r):u.rotationCirclePointColl.x>=r+a/2&&(u.rotationCirclePointColl.x=r+(r+a-u.rotationCirclePointColl.x)),u.rotationCirclePointColl.ratioX=(u.rotationCirclePointColl.x-r)/a),u.shapeFlip=e.transform.currFlipState,u.imageRatio={startX:(u.activePoint.startX-r)/a,startY:(u.activePoint.startY-o)/d,endX:(u.activePoint.endX-r)/a,endY:(u.activePoint.endY-o)/d,width:a/u.activePoint.width,height:d/u.activePoint.height})}else if("vertical"===i||"Vertical"===i)for(f=0;f<e.objColl.length;f++)(u=e.objColl[f]).shapeFlip!==e.transform.currFlipState&&(u.activePoint.startY<=o+d/2?(u.activePoint.endY=o+d-(u.activePoint.startY-o),u.activePoint.startY=u.activePoint.endY-u.activePoint.height,e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:u.activePoint,obj:u}})):u.activePoint.startY>=e.lowerCanvas.height/2&&(u.activePoint.startY=o+(o+d-u.activePoint.endY),u.activePoint.endY=u.activePoint.startY+u.activePoint.height,e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:u.activePoint,obj:u}})),"line"===u.shape||"arrow"===u.shape||"path"===u.shape?this.flipLineArrowObj(u,"vertical"):0!==u.rotatedAngle&&(u.rotatedAngle=-u.rotatedAngle,u.rotationCirclePointColl.y<=o+d/2?u.rotationCirclePointColl.y=o+d-(u.rotationCirclePointColl.y-o):u.rotationCirclePointColl.y>=o+d/2&&(u.rotationCirclePointColl.y=o+(o+d-u.rotationCirclePointColl.y)),u.rotationCirclePointColl.ratioY=(u.rotationCirclePointColl.y-o)/d),u.shapeFlip=e.transform.currFlipState,u.imageRatio={startX:(u.activePoint.startX-r)/a,startY:(u.activePoint.startY-o)/d,endX:(u.activePoint.endX-r)/a,endY:(u.activePoint.endY-o)/d,width:a/u.activePoint.width,height:d/u.activePoint.height});else if("verticalhorizontal"===i||"horizontalvertical"===i)for(f=0,p=e.objColl.length;f<p;f++){var u;(u=e.objColl[f]).shapeFlip!==e.transform.currFlipState&&(u.activePoint.startX<=r+a/2?(u.activePoint.endX=r+a-(u.activePoint.startX-r),u.activePoint.startX=u.activePoint.endX-u.activePoint.width,e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:u.activePoint,obj:u}})):u.activePoint.startX>=r+a/2&&(u.activePoint.startX=r+(r+a-u.activePoint.endX),u.activePoint.endX=u.activePoint.startX+u.activePoint.width,e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:u.activePoint,obj:u}})),u.activePoint.startY<=o+d/2?(u.activePoint.endY=o+d-(u.activePoint.startY-o),u.activePoint.startY=u.activePoint.endY-u.activePoint.height,e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:u.activePoint,obj:u}})):u.activePoint.startY>=e.lowerCanvas.height/2&&(u.activePoint.startY=o+(o+d-u.activePoint.endY),u.activePoint.endY=u.activePoint.startY+u.activePoint.height,e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:u.activePoint,obj:u}})),("line"===u.shape||"arrow"===u.shape||"path"===u.shape)&&this.flipLineArrowObj(u,i),u.shapeFlip=e.transform.currFlipState,u.imageRatio={startX:(u.activePoint.startX-r)/a,startY:(u.activePoint.startY-o)/d,endX:(u.activePoint.endX-r)/a,endY:(u.activePoint.endY-o)/d,width:a/u.activePoint.width,height:d/u.activePoint.height})}void 0!==t&&(e.activeObj=(0,n.l7)({},e.objColl[t],{},!0))}else if(90===i)this.rotateObjColl();else if(-90===i)for(f=0;f<3;f++)this.rotateObjColl();else if("number"==typeof i)if(i>0)this.rotateObjColl();else for(f=0;f<3;f++)this.rotateObjColl()},h.prototype.rotateObjColl=function(){for(var i=this.parent,e=i.img,t=e.destWidth,s=e.destHeight,r=e.destLeft,o=e.destTop,a=0,d=i.objColl.length;a<d;a++){var p=(c=i.objColl[a]).shape;c.activePoint.startY=o+s*c.imageRatio.startX,c.activePoint.endY=o+s*c.imageRatio.endX,c.activePoint.startX=r+t-t*c.imageRatio.endY,c.activePoint.endX=r+t-t*c.imageRatio.startY,c=this.updateWidthHeight(i.objColl[a]),this.updateFontSize(c),"line"===p||"arrow"===p||"path"===p?(this.rotateLineArrowObj(c),"arrow"===p&&this.updateArrowSize(c)):0!==c.rotatedAngle&&(c.rotationCirclePointColl.y=o+s*c.rotationCirclePointColl.ratioX,c.rotationCirclePointColl.x=r+t-t*c.rotationCirclePointColl.ratioY,c.rotationCirclePointColl.ratioX=(c.rotationCirclePointColl.x-r)/t,c.rotationCirclePointColl.ratioY=(c.rotationCirclePointColl.y-o)/s)}for(a=0,d=i.objColl.length;a<d;a++)i.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:i.objColl[a].activePoint,obj:i.objColl[a]}});for(a=0,d=i.objColl.length;a<d;a++){var c;(c=i.objColl[a]).imageRatio={startX:(c.activePoint.startX-r)/t,startY:(c.activePoint.startY-o)/s,endX:(c.activePoint.endX-r)/t,endY:(c.activePoint.endY-o)/s,width:t/c.activePoint.width,height:s/c.activePoint.height}}},h.prototype.rotateLineArrowObj=function(i){if(!(0,n.le)(i.pointColl)){var t=this.parent.img,s=t.destWidth,r=t.destHeight,o=t.destLeft,a=t.destTop;if(i.pointColl.length>0){for(var d=0;d<i.pointColl.length;d++)i.pointColl[d].y=a+r*i.pointColl[d].ratioX,i.pointColl[d].x=o+s-s*i.pointColl[d].ratioY;for(d=0;d<i.pointColl.length;d++)i.pointColl[d].ratioX=(i.pointColl[d].x-o)/s,i.pointColl[d].ratioY=(i.pointColl[d].y-a)/r;var c;c=(0,n.le)(i.pointColl[i.pointColl.length-2])?{x:0,y:0}:{x:i.pointColl[i.pointColl.length-2].x,y:i.pointColl[i.pointColl.length-2].y};var p=i.pointColl[i.pointColl.length-1].x-c.x,u=i.pointColl[i.pointColl.length-1].y-c.y;i.activePoint.startX=i.pointColl[0].x,i.activePoint.startY=i.pointColl[0].y,i.activePoint.endX=i.pointColl[i.pointColl.length-1].x+p/2,i.activePoint.endY=i.pointColl[i.pointColl.length-1].y+u/2,i=this.updateWidthHeight(i)}}},h.prototype.flipLineArrowObj=function(i,e){if(e=e.toLowerCase(),!(0,n.le)(i.pointColl)&&("horizontal"===e?this.lineArrowHorizontalFlip(i):("vertical"===e||(this.lineArrowHorizontalFlip(i),i.shapeFlip=""),this.lineArrowVerticalFlip(i)),i.activePoint.startX=i.pointColl[0].x,i.activePoint.startY=i.pointColl[0].y,i.activePoint.endX=i.pointColl[i.pointColl.length-1].x,i.activePoint.endY=i.pointColl[i.pointColl.length-1].y,i.activePoint.startX>i.activePoint.endX)){var t=i.activePoint.startX;i.activePoint.startX=i.activePoint.endX,i.activePoint.endX=t,t=i.activePoint.startY,i.activePoint.startY=i.activePoint.endY,i.activePoint.endY=t}},h.prototype.lineArrowHorizontalFlip=function(i){var e=this.parent,t=e.img,s=t.destWidth,r=t.destHeight,o=t.destLeft,a=t.destTop;if(i.shapeFlip!==e.transform.currFlipState){for(var d=0,c=i.pointColl.length;d<c;d++){var p=i.pointColl[d];p.x<=o+s/2?p.x=o+s-(p.x-o):p.x>=o+s/2&&(p.x=o+(o+s-p.x)),p.ratioX=(p.x-o)/s,p.ratioY=(p.y-a)/r}if("arrow"===i.shape){var u=i.start;i.start=i.end,i.end=u}i.shapeFlip=e.transform.currFlipState}},h.prototype.lineArrowVerticalFlip=function(i){var e=this.parent,t=e.img,s=t.destWidth,r=t.destHeight,o=t.destLeft,a=t.destTop;if(i.shapeFlip!==e.transform.currFlipState){for(var d=0,c=i.pointColl.length;d<c;d++){var p=i.pointColl[d];p.y<=a+r/2?p.y=a+r-(p.y-a):p.y>=a+r/2&&(p.y=a+(a+r-p.y)),p.ratioX=(p.x-o)/s,p.ratioY=(p.y-a)/r}i.shapeFlip=e.transform.currFlipState}},h.prototype.getRotDegOfShape=function(i){var e;return(e=0===i.shapeDegree?this.parent.transform.degree:this.parent.transform.degree-i.shapeDegree)<0&&(e=360+e),e},h.prototype.renderTextArea=function(i,e,t){var s=this.parent,r=this.getRotDegOfShape(s.activeObj);this.transformTextArea(),(0,n.xr)()?s.updateToolbar(s.element,"destroyQuickAccessToolbar"):s.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1});var o=s.element.querySelector("#"+s.element.id+"_duplicate"),a=s.element.querySelector("#"+s.element.id+"_remove"),d=s.element.querySelector("#"+s.element.id+"_editText");o&&o.classList.add("e-disabled"),a&&a.classList.add("e-disabled"),d&&d.classList.add("e-disabled"),s.textArea.style.display="block",s.textArea.style.left=i+"px",s.textArea.style.top=e+"px",s.textArea.style.fontFamily=t.textSettings.fontFamily,s.textArea.style.fontSize=t.textSettings.fontSize+"px",s.textArea.style.color=t.strokeSettings.strokeColor,s.textArea.style.fontWeight=t.textSettings.bold?"bold":"normal",s.textArea.style.fontStyle=t.textSettings.italic?"italic":"normal",s.textArea.style.border="2px solid "+s.themeColl[s.theme].primaryColor,s.textArea.value=t.keyHistory,s.textArea.style.overflow="hidden",s.textArea.style.width="auto",s.textArea.style.height="auto",s.textArea.focus();var p=t.activePoint,u=p.width,f=p.height;r%90==0&&r%180!=0&&0!==r?(s.textArea.style.width=f+"px",s.textArea.style.height=u+"px"):(s.textArea.style.width=u+"px",s.textArea.style.height=f+"px"),this.setTextBoxWidth();var v={flipColl:null};if(s.notify("transform",{prop:"getFlipColl",onPropertyChange:!1,value:{obj:v}}),v.flipColl.length<=1&&this.setTextBoxHeight(),parseFloat(s.textArea.style.maxHeight)<s.activeObj.textSettings.fontSize&&(s.textArea.style.maxHeight=s.activeObj.textSettings.fontSize+"px"),r%90==0&&r%180!=0?parseFloat(s.textArea.style.left)+parseFloat(s.textArea.style.width)>s.img.destTop+s.img.destHeight&&this.alignTextAreaIntoCanvas():parseFloat(s.textArea.style.left)+parseFloat(s.textArea.style.width)>s.img.destLeft+s.img.destWidth&&this.alignTextAreaIntoCanvas(),0!==t.rotatedAngle){var g=parseFloat(s.textArea.style.left),b=parseFloat(s.textArea.style.top);if(t.flipObjColl.length>0){var C={panRegion:""},T=s.lowerCanvas,O=T.clientWidth,j=T.clientHeight,Y={x:0,y:0};s.notify("crop",{prop:"getCurrFlipState",onPropertyChange:!1,value:{panObj:C}}),""!==C.panRegion&&("horizontal"===C.panRegion?(Y.x=O-O/2,g=Y.x-g+Y.x):"vertical"===C.panRegion?(Y.y=j-j/2,b=Y.y-b+Y.y):(g=(Y={x:O-O/2,y:j-j/2}).x-g+Y.x,b=Y.y-b+Y.y))}var H=g+parseFloat(s.textArea.style.width),N=b+parseFloat(s.textArea.style.height),ne=parseFloat(s.textArea.style.width),re=parseFloat(s.textArea.style.height),ce={x:H-ne/2,y:N-re/2},Ye=Math.cos(t.rotatedAngle),K=Math.sin(t.rotatedAngle),te={x:Ye*(H-ce.x)-K*(N-ce.y)+ce.x,y:K*(H-ce.x)+Ye*(N-ce.y)+ce.y};if(te.x>s.img.destLeft&&te.x<s.img.destLeft+s.img.destWidth&&te.y>s.img.destTop&&te.y+parseFloat(s.textArea.style.fontSize)<s.img.destTop+s.img.destHeight)s.textArea.style.width=s.textArea.style.width;else for(var J=0,pe=parseFloat(s.textArea.style.width);;)if(J++,(te={x:Ye*((H=g+(ne-=1))-(ce={x:H-ne/2,y:N-re/2}).x)-K*(N-ce.y)+ce.x,y:K*(H-ce.x)+Ye*(N-ce.y)+ce.y}).x>s.img.destLeft&&te.x<s.img.destLeft+s.img.destWidth&&te.y>s.img.destTop&&te.y+parseFloat(s.textArea.style.fontSize)<s.img.destTop+s.img.destHeight||J===pe){s.textArea.style.width=ne+"px";break}}s.notify("selection",{prop:"clearUpperCanvas",onPropertyChange:!1})},h.prototype.setTextBoxWidth=function(i){var e=this.parent;if(0!==e.activeObj.rotatedAngle)return e.textArea.style.whiteSpace="nowrap",e.textArea.style.textOverflow="ellipsis",void(e.textArea.style.display="inline-block");e.textArea.style.whiteSpace="",e.textArea.style.textOverflow="","inline-block"===e.textArea.style.display&&(e.textArea.style.display="block");var t=this.getMaxText(!0);"block"===e.textArea.style.display||"inline-block"===e.textArea.style.display?this.updateFontStyles(!0):this.updateFontStyles();var s=this.upperContext.measureText(t).width+parseFloat(e.textArea.style.fontSize)/2,r=i?this.upperContext.measureText(String.fromCharCode(i.which)).width:0,o=(0,n.l7)({},e.activeObj,{},!0),a="",d=this.getRotDegOfShape(o);if(a=o.shapeFlip!==e.transform.currFlipState?"":e.transform.currFlipState,i&&parseFloat(e.textArea.style.width)<s+r||(0,n.le)(i))if(0===d)"horizontal"===a.toLowerCase()?parseFloat(e.textArea.style.left)-e.img.destLeft-s-r>0&&(e.textArea.style.width=s+r+"px"):e.img.destWidth-(parseFloat(e.textArea.style.left)-e.img.destLeft)>s+r&&(e.textArea.style.width=s+r+"px");else if(90===d)"vertical"===a.toLowerCase()?parseFloat(e.textArea.style.top)-e.img.destTop-s-r>0&&(e.textArea.style.width=s+r+"px"):e.img.destHeight-(parseFloat(e.textArea.style.top)-e.img.destTop)>s+r&&(e.textArea.style.width=s+r+"px");else if(180===d){var c=parseFloat(e.textArea.style.left),p=e.img.destLeft;"horizontal"===a.toLowerCase()?e.img.destWidth-(c-p)>s+r&&(e.textArea.style.width=s+r+"px"):c-p-s-r>0&&(e.textArea.style.width=s+r+"px")}else if(270===d){var v=parseFloat(e.textArea.style.top),g=e.img.destTop;"vertical"===a.toLowerCase()?e.img.destHeight-(v-g)>s+r&&(e.textArea.style.width=s+r+"px"):v-g-s-r>0&&(e.textArea.style.width=s+r+"px")}},h.prototype.setTextBoxHeight=function(){var e,i=this.parent,t=(0,n.l7)({},i.activeObj,{},!0),s="",r=this.getRotDegOfShape(t);switch(s=t.textFlip===i.transform.currFlipState?"":""===t.textFlip?i.transform.currFlipState:t.textFlip,r){case 0:"vertical"===s.toLowerCase()?i.textArea.style.maxHeight=i.img.destHeight-(i.img.destHeight-parseFloat(i.textArea.style.top))+"px":(e=parseFloat(i.textArea.style.top)-i.img.destTop,i.textArea.style.maxHeight=i.img.destHeight-e+"px");break;case 90:i.textArea.style.maxHeight="horizontal"===s.toLowerCase()?i.img.destWidth-(parseFloat(i.textArea.style.left)-i.img.destLeft)+"px":parseFloat(i.textArea.style.left)-i.img.destLeft+"px";break;case 180:"vertical"===s.toLowerCase()?(e=parseFloat(i.textArea.style.top)-i.img.destTop,i.textArea.style.maxHeight=i.img.destHeight-e+"px"):i.textArea.style.maxHeight=parseFloat(i.textArea.style.top)-i.img.destTop+"px";break;case 270:i.textArea.style.maxHeight="horizontal"===s.toLowerCase()?parseFloat(i.textArea.style.left)-i.img.destLeft+"px":i.img.destWidth-(parseFloat(i.textArea.style.left)-i.img.destLeft)+"px"}},h.prototype.updatePathRatio=function(i){for(var e=this.parent,t=0,s=i.pointColl.length;t<s;t++){var r=i.pointColl[t];r.ratioX=(r.x-e.img.destLeft)/e.img.destWidth,r.ratioY=(r.y-e.img.destTop)/e.img.destHeight}},h.prototype.stopPathDrawing=function(i,e){var t=this.parent;if("path"===t.activeObj.shape){var s={shape:null};if(t.notify("selection",{prop:"getCurrentDrawingShape",value:{obj:s}}),"path"===s.shape){var r=(0,n.l7)({},t.cropObj,{},!0),o={currObj:{}};t.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:o}});var a=o.currObj;a.objColl=(0,n.l7)([],t.objColl,[],!0),a.pointColl=(0,n.l7)([],t.pointColl,[],!0),a.afterCropActions=(0,n.l7)([],t.afterCropActions,[],!0);var d={selPointColl:null};t.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:d}}),a.selPointColl=(0,n.l7)([],d.selPointColl,[],!0),t.notify("selection",{prop:"setCurrentDrawingShape",value:{value:""}}),t.currObjType.isDragging=!1,i&&"touchstart"!==i.type&&(0,n.le)(e)&&t.activeObj.pointColl.pop(),this.updatePathRatio(t.activeObj),(0,n.le)(t.activeObj.imageRatio)&&t.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),t.objColl.push(t.activeObj),t.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:a,previousObjColl:a.objColl,previousPointColl:a.pointColl,previousSelPointColl:a.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),t.objColl.pop(),i&&(t.notify("selection",{prop:"mouseUpEventHandler",value:{e:i}}),this.lowerContext.clearRect(0,0,t.lowerCanvas.width,t.lowerCanvas.height),t.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1})),t.notify("draw",{prop:"setNewPath",value:{bool:!0}}),t.objColl[t.objColl.length-1]&&t.selectShape(t.objColl[t.objColl.length-1].currIndex),(0,n.xr)()?t.updateToolbar(t.element,"quickAccessToolbar",t.activeObj.shape):t.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}});var c={shapeSettingsObj:{}};t.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:c}});var p=c.shapeSettingsObj;t.notify("selection",{prop:"triggerShapeChange",onPropertyChange:!1,value:{shapeResizingArgs:{cancel:!1,action:"draw-end",previousShapeSettings:p},shapeMovingArgs:{cancel:!1,action:"move",previousShapeSettings:p},type:"mouse-up"}})}}},h.prototype.findTextTarget=function(i){var o,a,e=this.parent;if("text"!==e.activeObj.shape){if("path"===e.activeObj.shape)return void this.stopPathDrawing(i,null);if("dblclick"!==i.type)return;var t=(0,n.l7)({},e.activeObj,{},!0),s=(0,n.l7)([],e.objColl,[],!0);if(e.notify("selection",{prop:"findTargetObj",onPropertyChange:!1,value:{x:i.clientX,y:i.clientY,isCrop:!1,obj:r={bool:null}}}),e.objColl=s,!r.bool||"text"!==e.activeObj.shape)return void(e.activeObj=(0,n.l7)({},t,{},!0))}if("dblclick"===i.type?(o=i.clientX,a=i.clientY):"touchstart"===i.type&&(o=i.touches[0].clientX,a=i.touches[0].clientY,e.notify("selection",{prop:"setTouchEndPoint",onPropertyChange:!1,value:{x:i.touches[0].clientX,y:i.touches[0].clientY}})),(0,n.xr)()?e.updateToolbar(e.element,"enableDisableToolbarBtn","textAreaClicked"):(e.notify("toolbar",{prop:"setPreventZoomBtn",onPropertyChange:!1,value:{isPrevent:!0}}),e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"text",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),e.notify("toolbar",{prop:"setPreventZoomBtn",onPropertyChange:!1,value:{isPrevent:!1}}),e.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1})),(0,n.le)(o)||(0,n.le)(a))"block"!==e.textArea.style.display&&"inline-block"!==e.textArea.style.display||""===this.selectedText()||"mousedown"!==i.type?"none"===e.textArea.style.display&&(e.textArea.style.display="block"):(u=e.textArea.value,e.textArea.value+="a",e.textArea.value=u);else{var d=e.lowerCanvas.getBoundingClientRect();o-=d.left,a-=d.top;var c="",p=this.getRotDegOfShape(e.activeObj);c=""===e.activeObj.textFlip?e.activeObj.textFlip===e.transform.currFlipState?"":e.transform.currFlipState:e.activeObj.textFlip===e.transform.currFlipState?"":""===e.transform.currFlipState?e.activeObj.textFlip:e.transform.currFlipState;var u=void 0;if("none"===e.textArea.style.display){u=(0,n.l7)({},e.activeObj,{},!0);for(var f=0;f<e.objColl.length;f++)JSON.stringify(e.activeObj)===JSON.stringify(e.objColl[f])&&e.objColl.splice(f,1);this.refreshActiveObj(),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),this.lowerContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),e.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1}),e.notify("draw",{prop:"redrawDownScale"}),e.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),e.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}}),(e.currSelectionPoint&&"crop-circle"===e.currSelectionPoint.shape||e.isCircleCrop)&&e.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),e.activeObj=u,this.updateFontStyles();var r,v=(0,n.l7)({},e.activeObj,{},!0),g=v.topLeftCircle.radius,b=v.activePoint,C=b.startX,T=b.startY,O=b.endX,j=b.endY,N={x:C+b.width/2,y:T+b.height/2},ne=Math.cos(v.rotatedAngle),re=Math.sin(v.rotatedAngle),ce={x:ne*(C-N.x)-re*(T-N.y)+N.x,y:re*(C-N.x)+ne*(T-N.y)+N.y},Ye={x:ne*(O-N.x)-re*(T-N.y)+N.x,y:re*(O-N.x)+ne*(T-N.y)+N.y},K={x:ne*(C-N.x)-re*(j-N.y)+N.x,y:re*(C-N.x)+ne*(j-N.y)+N.y},te={x:ne*(O-N.x)-re*(j-N.y)+N.x,y:re*(O-N.x)+ne*(j-N.y)+N.y};if(e.notify("draw",{prop:"checkPointPosition",onPropertyChange:!1,value:{obj:r={position:null,x:o,y:a,x1:ce.x,y1:ce.y,x2:Ye.x,y2:Ye.y,x3:K.x,y3:K.y,x4:te.x,y4:te.y}}}),0!==v.rotatedAngle&&("inside"===r.position||"on"===r.position)||0===v.rotatedAngle&&o>=v.activePoint.startX-2*g&&o<=v.activePoint.endX+2*g&&a>=v.activePoint.startY-2*g&&a<=v.activePoint.endY+2*g){var J;if(this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),4===v.flipObjColl.length&&(v.flipObjColl=[],c="",v.shapeFlip=""),""===c&&v.flipObjColl.length>1&&(c=v.flipObjColl[v.flipObjColl.length-1]),v.flipObjColl.length<=1?(o=(J=this.setTextBoxPos(v,p,c,o,a)).x,a=J.y):(o=(J=this.setTextBoxPoints(v,p,c,o,a)).x,a=J.y),0!==e.activeObj.rotatedAngle){var pe=this.getTextBoxPosition(e.activeObj);o=(pe=this.setFlipState(o=pe.x,a=pe.y,e.activeObj)).x,a=pe.y}this.renderTextArea(o,a,v)}else this.applyActObj()}}},h.prototype.getTextBoxPosition=function(i,e){var t={x:0,y:0},s=i.activePoint,r=s.startX,o=s.startY,a=s.endX,d=s.endY,u_x=r+s.width/2,u_y=o+s.height/2,f=Math.cos(i.rotatedAngle),v=Math.sin(i.rotatedAngle),g={x:f*(r-u_x)-v*(o-u_y)+u_x,y:v*(r-u_x)+f*(o-u_y)+u_y},b={x:f*(a-u_x)-v*(o-u_y)+u_x,y:v*(a-u_x)+f*(o-u_y)+u_y},C={x:f*(r-u_x)-v*(d-u_y)+u_x,y:v*(r-u_x)+f*(d-u_y)+u_y},T={x:f*(a-u_x)-v*(d-u_y)+u_x,y:v*(a-u_x)+f*(d-u_y)+u_y},O=this.getRotDegOfShape(i);return 0===O||360===O?t={x:g.x,y:g.y}:90===O||-270===O?t={x:b.x,y:b.y}:180===O||-180===O?t={x:T.x,y:T.y}:(270===O||-90===O)&&(t={x:C.x,y:C.y}),e&&(e.x=t.x,e.y=t.y),t},h.prototype.setFlipState=function(i,e,t,s){var r=this.parent,o={panRegion:""},a=r.lowerCanvas,d=a.clientWidth,c=a.clientHeight,p={x:0,y:0};return r.notify("crop",{prop:"getCurrFlipState",onPropertyChange:!1,value:{panObj:o}}),""!==o.panRegion&&("horizontal"===o.panRegion?(p.x=d-d/2,i=p.x-i+p.x):"vertical"===o.panRegion?(p.y=c-c/2,e=p.y-e+p.y):(i=(p={x:d-d/2,y:c-c/2}).x-i+p.x,e=p.y-e+p.y)),s&&(s.x=i,s.y=e),{x:i,y:e}},h.prototype.fileChanged=function(i){var e=i.target.files[0],s=e.name&&e.name.split(".")[1].toLowerCase();if(s&&-1===["jpg","jpeg","png","svg"].indexOf(s))this.refreshActiveObj();else{var o=window.URL.createObjectURL(i.target.files[0]);this.onLoadImgShape(null,null,null,null,o.toString(),!0),(0,n.xr)()||(document.getElementById(this.parent.element.id+"_fileUpload").value="")}},h.prototype.onLoadImgShape=function(i,e,t,s,r,o,a,d,c){var p=this,u=this.parent;"string"==typeof r?this.shapeImg.src=r:(u.inMemoryCanvas.width=r.width,u.inMemoryCanvas.height=r.height,u.inMemoryCanvas.getContext("2d").putImageData(r,0,0),this.shapeImg.src=u.inMemoryCanvas.toDataURL()),this.prevObjColl(),u.activeObj.shape="image",this.initShapeProps(),this.shapeImg.onload=function(){p.upperContext.drawImage(p.shapeImg,0,0,p.shapeImg.width,p.shapeImg.height),p.updateImgCanvas(o,i,e,t,s,a,d,c)}},h.prototype.updateImgCanvas=function(i,e,t,s,r,o,a,d){var c=this,p=this.parent;p.activeObj.imageElement=this.shapeImg,p.activeObj.imageCanvas=p.createElement("canvas");var u={width:0,height:0};if(p.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:this.shapeImg.width,height:this.shapeImg.height,obj:u,isImgShape:null}}),s&&r)if(a){var f={ratio:null};p.notify("selection",{prop:"findImageRatio",onPropertyChange:!1,value:{width:this.shapeImg.width,height:this.shapeImg.height,obj:f}}),u=this.resizeImage(s,f.ratio)}else u={width:s,height:r};if(this.updateObj(u,e,t),p.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:p.activeObj.imageCanvas.getContext("2d"),isImgAnnotation:!0,isHFlip:null,isVFlip:null}}),p.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:this.shapeImg.width,height:this.shapeImg.height,obj:u,isImgShape:!0}}),s&&r)if(a){var v={ratio:null};p.notify("selection",{prop:"findImageRatio",onPropertyChange:!1,value:{width:this.shapeImg.width,height:this.shapeImg.height,obj:v}}),u=this.resizeImage(s,v.ratio)}else u={width:s,height:r};null!=d&&(p.activeObj.opacity=d),this.updateObj(u,e,t),p.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),this.shapeImg=null,o&&(p.activeObj.rotatedAngle=o*(Math.PI/180),p.notify("selection",{prop:"updPtCollForShpRot",onPropertyChange:!1,value:{obj:p.activeObj}}));var g={shapeSettingsObj:{}};p.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:g}});var b=g.shapeSettingsObj,C={cancel:!1,action:"insert",previousShapeSettings:b,currentShapeSettings:b};(0,n.xr)()&&p.events&&!0===p.events.shapeChanging.hasDelegate?p.dotNetRef.invokeMethodAsync("ShapeEventAsync","OnShape",C,null).then(function(T){c.drawShapeImageEvent(T,i),p.isPublicMethod&&p.notify("undo-redo",{prop:"updateUndoRedo",onPropertyChange:!1}),p.isPublicMethod=!1}):(p.trigger("shapeChanging",C),this.drawShapeImageEvent(C,i),p.isPublicMethod&&p.notify("undo-redo",{prop:"updateUndoRedo",onPropertyChange:!1}),p.isPublicMethod=!1)},h.prototype.updateObj=function(i,e,t){var s=this.parent;s.activeObj.activePoint.width=i.width,s.activeObj.activePoint.height=i.height,s.activeObj.activePoint.startX=e||s.lowerCanvas.width/2-i.width/2,s.activeObj.activePoint.startY=t||s.lowerCanvas.height/2-i.height/2,s.activeObj.activePoint.endX=s.activeObj.activePoint.startX+i.width,s.activeObj.activePoint.endY=s.activeObj.activePoint.startY+i.height},h.prototype.resizeImage=function(i,e){var t=e.split(":"),s=parseInt(t[0],10),r=parseInt(t[1],10);return{width:i,height:Math.round(i*r/s)}},h.prototype.setTextBoxPos=function(i,e,t,s,r){var o={x:s,y:r},a=i.activePoint,d=a.startX,c=a.startY,p=a.endX,u=a.endY;switch(t=t.toLowerCase(),e){case 0:"horizontal"===t?(o.x=p,o.y=c):"vertical"===t?(o.x=d,o.y=u):(o.x=d,o.y=c);break;case 90:"horizontal"===t?(o.x=d,o.y=c):"vertical"===t?(o.x=p,o.y=u):(o.x=p,o.y=c);break;case 180:"horizontal"===t?(o.x=d,o.y=u):"vertical"===t?(o.x=p,o.y=c):(o.x=p,o.y=u);break;case 270:"horizontal"===t?(o.x=p,o.y=u):"vertical"===t?(o.x=d,o.y=c):(o.x=d,o.y=u)}return o},h.prototype.setTextBoxPoints=function(i,e,t,s,r){var o={x:s,y:r},a=i.activePoint,d=a.startX,c=a.startY,p=a.endX,u=a.endY;switch(t=t.toLowerCase(),e){case 0:i.flipObjColl[0]&&"horizontal"===i.flipObjColl[0].toLowerCase()?"horizontal"===t?(o.x=d,o.y=c):"vertical"===t&&(o.x=p,o.y=u):"horizontal"===t?(o.x=p,o.y=u):"vertical"===t&&(o.x=p,o.y=c);break;case 90:i.flipObjColl[0]&&"horizontal"===i.flipObjColl[0].toLowerCase()?"horizontal"===t?(o.x=p,o.y=u):"vertical"===t&&(o.x=d,o.y=u):"horizontal"===t?(o.x=d,o.y=u):"vertical"===t&&(o.x=d,o.y=c);break;case 180:i.flipObjColl[0]&&"horizontal"===i.flipObjColl[0].toLowerCase()?("horizontal"===t||"vertical"===t)&&(o.x=d,o.y=c):"horizontal"===t?(o.x=d,o.y=c):"vertical"===t&&(o.x=d,o.y=u);break;case 270:i.flipObjColl[0]&&"horizontal"===i.flipObjColl[0].toLowerCase()?"horizontal"===t?(o.x=d,o.y=c):"vertical"===t&&(o.x=p,o.y=c):"horizontal"===t?(o.x=p,o.y=c):"vertical"===t&&(o.x=p,o.y=u)}return o},h.prototype.selectedText=function(){var i=this.parent;return i.textArea.value.substring(i.textArea.selectionStart,i.textArea.selectionEnd)},h.prototype.panObjColl=function(i,e,t){var s=this.parent;if(s.objColl.length>0){for(var r=0,o=s.objColl.length;r<o;r++){var a=s.objColl[r];if(""===t||"vertical"===t){if(a.activePoint.startX+=i,a.activePoint.endX+=i,a.rotationCirclePointColl&&(a.rotationCirclePointColl.x+=i),"path"===a.shape)for(var d=0,c=a.pointColl.length;d<c;d++)a.pointColl[d].x+=i}else if(a.activePoint.startX-=i,a.activePoint.endX-=i,a.rotationCirclePointColl&&(a.rotationCirclePointColl.x-=i),"path"===a.shape){d=0;for(var p=a.pointColl.length;d<p;d++)a.pointColl[d].x-=i}if(""===t||"horizontal"===t){if(a.activePoint.startY+=e,a.activePoint.endY+=e,a.rotationCirclePointColl&&(a.rotationCirclePointColl.y+=e),"path"===a.shape)for(d=0;d<a.pointColl.length;d++)a.pointColl[d].y+=e}else if(a.activePoint.startY-=e,a.activePoint.endY-=e,a.rotationCirclePointColl&&(a.rotationCirclePointColl.y-=e),"path"===a.shape)for(d=0;d<a.pointColl.length;d++)a.pointColl[d].y-=e;if(a=this.updateWidthHeight(a),s.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:a.activePoint,obj:a}}),"line"===a.shape||"arrow"===a.shape){a.pointColl=this.getLinePoints(a.activePoint.startX,a.activePoint.startY,a.activePoint.endX,a.activePoint.endY);for(var u=0,f=a.pointColl.length;u<f;u++)a.pointColl[u].ratioX=(a.pointColl[u].x-s.img.destLeft)/s.img.destWidth,a.pointColl[u].ratioY=(a.pointColl[u].y-s.img.destTop)/s.img.destHeight}var v=this.lowerContext.filter;this.lowerContext.filter="none",this.apply(a.shape,a),this.lowerContext.filter=v,this.refreshActiveObj()}s.notify("draw",{prop:"applyFrame",value:{ctx:this.lowerContext,frame:s.frameObj.type,preventImg:!0}})}},h.prototype.updateFontStyles=function(i){var e=this.parent;this.upperContext.strokeStyle=e.activeObj.strokeSettings.strokeColor,this.upperContext.fillStyle=e.activeObj.strokeSettings.strokeColor;var t="";e.activeObj.textSettings.bold&&(t="bold "),e.activeObj.textSettings.italic&&(t="italic "),e.activeObj.textSettings.bold&&e.activeObj.textSettings.italic&&(t="italic bold ");var s=i?parseFloat(e.textArea.style.fontSize):e.activeObj.textSettings.fontSize;this.upperContext.font=t+s+"px "+("block"===e.textArea.style.display||"inline-block"===e.textArea.style.display?e.textArea.style.fontFamily:e.activeObj.textSettings.fontFamily)},h.prototype.applyFontStyle=function(i){var e=this.parent,t={shapeSettingsObj:{}};e.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:t}});var s=t.shapeSettingsObj;this.pushActItemIntoObj();var r=(0,n.l7)([],e.objColl,[],!0);switch(e.objColl.pop(),"none"===e.textArea.style.display?this.updateFontRatio(e.activeObj):this.updateFontRatio(e.activeObj,!0),i){case"default":this.updateFontStyle(i,r,"normal","normal");break;case"bold":this.updateFontStyle(i,r,"bold","normal");break;case"italic":this.updateFontStyle(i,r,"normal","italic");break;case"bolditalic":this.updateFontStyle(i,r,"bold","italic")}var o={action:"font-style",currentShapeSettings:(0,n.l7)({},s,{},!0)};o.currentShapeSettings.fontStyle=[i],e.triggerShapeChanged(o)},h.prototype.updateFontStyle=function(i,e,t,s){var r=this.parent,o=r.textArea.style;if("block"===o.display||"inline-block"===o.display){"normal"===o.fontWeight&&"bold"===t?o.fontWeight="bold":"bold"===o.fontWeight&&"bold"===t&&(o.fontWeight="normal"),"normal"===o.fontStyle&&"italic"===s?o.fontStyle="italic":"italic"===o.fontStyle&&"italic"===s&&(o.fontStyle="normal");var d=this.getTextAreaWidth("normal"===o.fontWeight&&"normal"===o.fontStyle?"default":"bold"===o.fontWeight&&"normal"===o.fontStyle?"bold":"normal"===o.fontWeight&&"italic"===o.fontStyle?"italic":"bolditalic");o.width=d+"px",this.updateObjColl(i,e)}else this.textSettings.bold=r.activeObj.textSettings.bold="normal"!==t,this.textSettings.italic=r.activeObj.textSettings.italic="normal"!==s,this.redrawText(),r.notify("undo-redo",{prop:"updateUrObj",onPropertyChange:!1,value:{objColl:e}})},h.prototype.updateArrowRatio=function(i){var s,t={arrowDimension:null};this.parent.notify("draw",{prop:"getArrowDimension",onPropertyChange:!1,value:{obj:t}}),s=Math.abs(i.activePoint.width)>Math.abs(i.activePoint.height)?Math.abs(i.activePoint.width):Math.abs(i.activePoint.height);for(var r,a=0,d=["bar","arrow","arrowSolid","circle","square"];a<d.length;a++){var p=s/t.arrowDimension[r=d[a]].height;t.arrowDimension[r].ratioX=s/t.arrowDimension[r].width,t.arrowDimension[r].ratioY=p}},h.prototype.updateArrowSize=function(i){var t,e={arrowDimension:null};this.parent.notify("draw",{prop:"getArrowDimension",onPropertyChange:!1,value:{obj:e}}),t=Math.abs(i.activePoint.width)>Math.abs(i.activePoint.height)?Math.abs(i.activePoint.width):Math.abs(i.activePoint.height);for(var s,o=0,a=["bar","arrow","arrowSolid","circle","square"];o<a.length;o++){var c=e.arrowDimension[s=a[o]].ratioY;e.arrowDimension[s].width=t/e.arrowDimension[s].ratioX,e.arrowDimension[s].height=t/c}},h.prototype.updateFontRatio=function(i,e){var t=this.parent,s=this.getMaxText(e),r=this.upperContext.measureText(s).width+.5*t.activeObj.textSettings.fontSize,o=t.activeObj.textSettings.fontSize+.25*t.activeObj.textSettings.fontSize,a=this.getRotDegOfShape(i);(0,n.le)(e)?i.textSettings.fontRatio=0===a||180===Math.abs(a)?r/i.textSettings.fontSize:o/i.textSettings.fontSize:e&&(i.textSettings.fontRatio=r/parseFloat(t.textArea.style.fontSize))},h.prototype.updateFontSize=function(i){var e=this.getRotDegOfShape(i);i.textSettings.fontSize=0===e||180===Math.abs(e)?i.activePoint.width/i.textSettings.fontRatio:i.activePoint.height/i.textSettings.fontRatio},h.prototype.updateObjColl=function(i,e){var t=this.parent,s=(0,n.l7)({},t.cropObj,{},!0),r={currObj:{}};t.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:r}});var o=r.currObj;o.objColl=e,o.pointColl=(0,n.l7)([],t.pointColl,[],!0),o.afterCropActions=(0,n.l7)([],t.afterCropActions,[],!0);var a={selPointColl:null};t.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:a}}),o.selPointColl=(0,n.l7)([],a.selPointColl,[],!0);var d=t.activeObj.textSettings.bold,c=t.activeObj.textSettings.italic;switch(i){case"default":t.activeObj.textSettings.bold=!1,t.activeObj.textSettings.italic=!1;break;case"bold":t.activeObj.textSettings.bold=!0,t.activeObj.textSettings.italic=!1;break;case"italic":t.activeObj.textSettings.bold=!1,t.activeObj.textSettings.italic=!0;break;case"bolditalic":t.activeObj.textSettings.bold=!0,t.activeObj.textSettings.italic=!0}t.objColl.push(t.activeObj),t.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"textAreaCustomization",previousObj:o,previousObjColl:o.objColl,previousPointColl:o.pointColl,previousSelPointColl:o.selPointColl,previousCropObj:s,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),t.objColl.pop(),t.activeObj.textSettings.bold=d,t.activeObj.textSettings.italic=c},h.prototype.pushActItemIntoObj=function(){var i=this.parent;if("none"===i.textArea.style.display)i.objColl.push(i.activeObj);else{var e=(0,n.l7)({},i.activeObj,{},!0);i.notify("selection",{prop:"setTextBoxStylesToActObj",onPropertyChange:!1}),i.objColl.push(i.activeObj),i.activeObj=e}},h.prototype.clearActObj=function(){var i=this.parent;"none"===i.textArea.style.display&&(this.refreshActiveObj(),this.applyActObj(),this.refreshActiveObj(),i.currObjType.isCustomCrop=!1)},h.prototype.refreshActiveObj=function(){var i=this.parent;i.activeObj={},i.activeObj.activePoint={startX:0,startY:0,endX:0,endY:0,width:0,height:0},i.activeObj.triangle=[],i.activeObj.triangleRatio=[],i.activeObj.flipObjColl=[],i.activeObj.strokeSettings=this.strokeSettings,i.activeObj.textSettings=this.textSettings,i.activeObj.rotatedAngle=0,i.activeObj.opacity=1},h.prototype.applyActObj=function(i){var e=this.parent,t=!1;if(void 0!==e.activeObj.shape&&"text"===e.activeObj.shape&&""===e.activeObj.keyHistory)this.refreshActiveObj(),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height);else{var s=void 0,r=!1;if(void 0!==e.activeObj.shape&&(s=e.activeObj.shape.split("-")),(void 0===s&&e.currObjType.isCustomCrop||void 0!==s&&"crop"===s[0])&&(r=!0),e.activeObj.shape&&!r&&"shape"!==e.activeObj.shape){for(var o=0;o<e.objColl.length;o++)if(JSON.stringify(e.activeObj)===JSON.stringify(e.objColl[o])){t=!0;break}if(!t){(0,n.le)(e.activeObj.currIndex)&&(e.activeObj.currIndex=this.getNewShapeId()),this.updImgRatioForActObj();var a=e.activeObj.currIndex.split("_"),d=e.objColl.splice(0,parseInt(a[1],10)-1);for(d.push((0,n.l7)({},e.activeObj,{},!0)),o=0;o<e.objColl.length;o++)d.push(e.objColl[o]);e.objColl=d,d=[],this.refreshActiveObj(),this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),e.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1}),e.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),e.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}}),e.currObjType.shape="",this.refreshActiveObj(),e.isCircleCrop&&e.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),(0,n.xr)()?e.updateToolbar(e.element,"destroyQuickAccessToolbar"):e.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1}),(0,n.le)(i)&&(e.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),e.notify("draw",{prop:"setPrevActObj",onPropertyChange:!1,value:{prevActObj:null}}))}}}},h.prototype.getNewShapeId=function(){for(var i=this.parent,e=i.objColl.length+1,t=0;t<i.objColl.length;t++)i.objColl[t].currIndex==="shape_"+e&&(e++,t=-1);return"shape_"+e},h.prototype.alignTextAreaIntoCanvas=function(){var i=this.parent,e=i.textArea.value;i.textArea.value="";for(var t=0,s=e.length;t<s;t++)i.textArea.value+=e[t],i.textArea.style.height="auto",i.textArea.style.height=i.textArea.scrollHeight+"px",this.setTextBoxWidth()},h.prototype.transformTextArea=function(){var i=this.parent;if("text"===i.activeObj.shape){i.textArea.style.transformOrigin="0 0";var e=i.activeObj.rotatedAngle*(180/Math.PI),t="",s=this.getRotDegOfShape(i.activeObj);if(i.activeObj.flipObjColl.length>0)for(var r=0;r<i.activeObj.flipObjColl.length;r++)t+=0!==s&&s%90==0&&180!==s?"horizontal"===i.activeObj.flipObjColl[r].toLowerCase()?"scale(1, -1)":"scale(-1, 1)":"horizontal"===i.activeObj.flipObjColl[r].toLowerCase()?"scale(-1, 1)":"scale(1, -1)",s+=e,("horizontal"===i.activeObj.flipObjColl[r].toLowerCase()||"vertical"===i.activeObj.flipObjColl[r].toLowerCase())&&(i.textArea.style.transform="rotate("+s+"deg)"+t);else i.textArea.style.transform="rotate("+(s+=e)+"deg)"}},h.prototype.getTextAreaWidth=function(i){var e=this.parent,t=e.activeObj.textSettings.bold,s=e.activeObj.textSettings.italic;switch(i){case"default":e.activeObj.textSettings.bold=!1,e.activeObj.textSettings.italic=!1;break;case"bold":e.activeObj.textSettings.bold=!0,e.activeObj.textSettings.italic=!1;break;case"italic":e.activeObj.textSettings.bold=!1,e.activeObj.textSettings.italic=!0;break;case"bolditalic":e.activeObj.textSettings.bold=!0,e.activeObj.textSettings.italic=!0}var o,r="none"!==e.textArea.style.display;return this.updateFontStyles(r),o=r?this.upperContext.measureText(e.textArea.value).width+.5*e.activeObj.textSettings.fontSize:this.upperContext.measureText(e.activeObj.keyHistory).width+.5*e.activeObj.textSettings.fontSize,e.activeObj.textSettings.bold=t,e.activeObj.textSettings.italic=s,o},h.prototype.getObjDetails=function(i){var e=this.parent,t={};switch(t.id=i.currIndex,t.type=e.toPascalCase(i.shape),t.startX=i.activePoint.startX,t.startY=i.activePoint.startY,i.shape){case"rectangle":t.width=i.activePoint.width,t.height=i.activePoint.height,t.strokeColor=i.strokeSettings.strokeColor,t.fillColor=i.strokeSettings.fillColor,t.strokeWidth=i.strokeSettings.strokeWidth,t.degree=i.rotatedAngle*(180/Math.PI);break;case"ellipse":t.radius=i.activePoint.width/2,t.strokeColor=i.strokeSettings.strokeColor,t.fillColor=i.strokeSettings.fillColor,t.strokeWidth=i.strokeSettings.strokeWidth,t.radiusX=i.activePoint.width/2,t.radiusY=i.activePoint.height/2,t.degree=i.rotatedAngle*(180/Math.PI);break;case"line":case"arrow":if(t.length=i.activePoint.width,t.strokeColor=i.strokeSettings.strokeColor,t.strokeWidth=i.strokeSettings.strokeWidth,t.endX=i.activePoint.endX,t.endY=i.activePoint.endY,"arrow"===i.shape){var s={type:null};e.notify("selection",{prop:"getArrowType",onPropertyChange:!1,value:{type:i.start,obj:s}}),t.arrowHead=s.type,e.notify("selection",{prop:"getArrowType",onPropertyChange:!1,value:{type:i.end,obj:s}}),t.arrowTail=s.type}break;case"text":t.text=i.keyHistory,t.fontSize=i.textSettings.fontSize,t.fontFamily=i.textSettings.fontFamily,t.color=i.strokeSettings.strokeColor,t.fontStyle=[],i.textSettings.bold&&t.fontStyle.push("bold"),i.textSettings.italic&&t.fontStyle.push("italic"),t.degree=i.rotatedAngle*(180/Math.PI);break;case"path":t.strokeColor=i.strokeSettings.strokeColor,t.strokeWidth=i.strokeSettings.strokeWidth,t.points=i.pointColl;break;case"image":case"image":t.imageData=i.imageCanvas.toDataURL(),t.degree=i.rotatedAngle*(180/Math.PI),t.width=i.activePoint.width,t.height=i.activePoint.height,t.opacity=i.opacity}return t},h.prototype.getFreehandDrawDetails=function(i){var e=this.parent,t={};return t.id=e.pointColl[i].id,t.type=Un.FreehandDraw,t.points=(0,n.l7)([],e.pointColl[i].points),t.strokeColor=e.pointColl[i].strokeColor,t.strokeWidth=e.pointColl[i].strokeWidth,t},h.prototype.getShapeSetting=function(i,e){var s,t=this.parent;if(!t.disabled&&t.isImageLoaded)if(this.applyActObj(),"shape"===i.split("_")[0]){for(var r,o=0,a=t.objColl.length;o<a;o++)if(t.objColl[o].currIndex===i){r=(0,n.l7)({},t.objColl[o],{},!0);break}s=this.getObjDetails(r)}else"pen"===i.split("_")[0]&&(s=this.getFreehandDrawDetails(parseInt(i.split("_")[1],10)-1));e.shapeDetails=s},h.prototype.getShapeSettings=function(i){var e=this.parent,t=[];if(!e.disabled&&e.isImageLoaded){this.applyActObj();for(var s=0,r=e.objColl.length;s<r;s++){var o=this.getObjDetails(e.objColl[s]);t.push(o)}for(s=0;s<e.freehandCounter;s++)o=this.getFreehandDrawDetails(s),t.push(o)}i.shapeDetailsColl=t},h.prototype.isPointsInRange=function(i,e,t){var s=!1,r=this.parent;!(0,n.le)(i)&&!(0,n.le)(e)&&i>=r.img.destLeft&&e>=r.img.destTop&&i<=r.img.destLeft+r.img.destWidth&&e<=r.img.destTop+r.img.destHeight&&(s=!0),t.inRange=s},h.prototype.alignRotateFlipColl=function(i,e,t){return i=this.popForDefaultTransformedState(i),i=this.popForDefaultFlipState(i),0===(i=this.popForDefaultRotateState(i)).length&&e&&(this.parent.transform.degree=0,this.parent.transform.currFlipState=""),t.collection=i,i},h.prototype.popForDefaultTransformedState=function(i){for(var e=0,t=0,s=0,r=0,o=0;o<i.length;o++)90===i[o]||"rotateRight"===i[o]?(t=0,s=0,r=0,4==++e&&(i.pop(),i.pop(),i.pop(),i.pop())):-90===i[o]||"rotateLeft"===i[o]?(e=0,s=0,r=0,4==++t&&(i.pop(),i.pop(),i.pop(),i.pop())):"horizontal"===i[o]||"Horizontal"===i[o]||"horizontalflip"===i[o]?(t=0,e=0,r=0,2==++s&&(i.pop(),i.pop())):("vertical"===i[o]||"Vertical"===i[o]||"verticalflip"===i[o])&&(s=0,t=0,e=0,2==++r&&(i.pop(),i.pop()));return i},h.prototype.popForDefaultFlipState=function(i){for(var e=0,t=i.length-3;e<t;e++){var c="vertical"===i[e+2]||"Vertical"===i[e+2]||"verticalFlip"===i[e+2];(("horizontal"===i[e]||"Horizontal"===i[e]||"horizontalFlip"===i[e])&&("vertical"===i[e+1]||"Vertical"===i[e+1]||"verticalFlip"===i[e+1])&&("horizontal"===i[e+2]||"Horizontal"===i[e+2]||"horizontalFlip"===i[e+2])&&c||("vertical"===i[e]||"Vertical"===i[e]||"verticalFlip"===i[e])&&("horizontal"===i[e+1]||"Horizontal"===i[e+1]||"horizontalFlip"===i[e+1])&&c&&("horizontal"===i[e+3]||"Horizontal"===i[e+3]||"horizontalFlip"===i[e+3]))&&(i.splice(e,4),e-=4)}return i},h.prototype.popForDefaultRotateState=function(i){for(var e=0;e<i.length-1;e++){var t=i[e],s=i[e+1];((90===t||"rotateRight"===t)&&(-90===s||"rotateLeft"===s)||(-90===t||"rotateLeft"===t)&&(90===s||"rotateRight"===s))&&(i.splice(e,2),e-=2)}return i},h.prototype.selectShape=function(i,e){var t=this.parent,s=!1;if(!t.disabled&&t.isImageLoaded)if(this.applyActObj(),"shape"===i.split("_")[0]){for(var r,o=0,a=t.objColl.length;o<a;o++)if(t.objColl[o].currIndex===i){r=(0,n.l7)({},t.objColl[o],{},!0);break}(0,n.le)(r)?s=!1:(s=!0,t.activeObj=r,t.notify("toolbar",{prop:"getCanvasFilter",onPropertyChange:!1,value:{obj:d={canvasFilter:null}}}),this.lowerContext.filter=d.canvasFilter,t.notify("selection",{prop:"redrawShape",onPropertyChange:!1,value:{obj:t.activeObj}}),(0,n.xr)()?(t.updateToolbar(t.element,t.activeObj.shape),"path"===t.activeObj.shape?t.updateToolbar(t.element,"path","pathQuickAccessToolbar"):t.updateToolbar(t.element,"quickAccessToolbar",t.activeObj.shape)):(t.notify("toolbar","text"===t.activeObj.shape?{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"text",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}:"pen"===t.activeObj.shape?{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"pen",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}:{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"shapes",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),t.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1}),t.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}})))}else if("pen"===i.split("_")[0]){var d;t.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:d={bool:!1}}}),d.bool&&t.okBtn();var c={isIndex:!1};t.notify("freehand-draw",{prop:"isFHDIdx",value:{index:parseInt(i.split("_")[1],10)-1,obj:c}}),c.isIndex?(s=!0,t.notify("freehand-draw",{prop:"selectFhd",value:{id:i}}),(0,n.xr)()?(t.updateToolbar(t.element,"pen"),t.updateToolbar(t.element,"quickAccessToolbar","pen")):(t.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:!0}}),t.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1}))):s=!1}e.isSelected=s},h.prototype.deleteShape=function(i){var e=this.parent;if(!e.disabled&&e.isImageLoaded){if(this.applyActObj(),"shape"===i.split("_")[0]){for(var t=0,s=e.objColl.length;t<s;t++)if(e.objColl[t].currIndex===i){e.objColl.splice(t,1);break}}else"pen"===i.split("_")[0]&&e.notify("freehand-draw",{prop:"handle-freehand-draw",value:{id:i}});var r={canvasFilter:null};e.notify("toolbar",{prop:"getCanvasFilter",onPropertyChange:!1,value:{obj:r}}),this.lowerContext.filter=r.canvasFilter,this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),e.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1}),(0,n.xr)()?e.updateToolbar(e.element,"imageLoaded"):e.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1})}},h.prototype.getMaxText=function(i,e,t){(0,n.le)(e)&&(e=i?this.parent.textArea.value:this.parent.activeObj.keyHistory);for(var s,r=e.split("\n"),o=r[0].length,a=r[0],d=1;d<r.length;d++)(s=r[d].length)>o&&(a=r[d],o=s);return t&&(t.maxText=a),a},h.prototype.getLinePoints=function(i,e,t,s){var o,a,r=[];if(i===t){e<s?(o=[i,e],a=[t,s]):(a=[i,e],o=[t,s]);for(var d=this.getSlope(o,a,!0),c=this.getIntercept(o,d),p=o[1];p<=a[1];p++)r.push({x:u=d*p+c,y:p})}else{i<t?(o=[i,e],a=[t,s]):(a=[i,e],o=[t,s]),d=this.getSlope(o,a,!1),c=this.getIntercept(o,d);for(var u=o[0];u<=a[0];u++)r.push({x:u,y:p=d*u+c})}if(Math.floor(i)===Math.floor(t)||r.length<10&&(s-e>10||e-s>10)){r=[];for(var f=Math.min(e,s),v=0;v<Math.abs(Math.floor(s)-Math.floor(e));v++)r.push({x:i,y:f+v});if(r.length>1){var g=void 0;g=(0,n.le)(r[r.length-2])?{x:0,y:0}:r[r.length-2],r.push({x:r[r.length-1].x+(r[r.length-1].x-g.x)/2,y:r[r.length-1].y+(r[r.length-1].y-g.y)/2})}}else if(Math.floor(e)===Math.floor(s)||r.length<10&&(t-i>10||i-t>10)){r=[];for(var T=Math.min(i,t),O=0;O<Math.abs(Math.floor(t)-Math.floor(i));O++)r.push({x:T+O,y:e});r.length>1&&(g=void 0,g=(0,n.le)(r[r.length-2])?{x:0,y:0}:r[r.length-2],r.push({x:r[r.length-1].x+(r[r.length-1].x-g.x)/2,y:r[r.length-1].y+(r[r.length-1].y-g.y)/2}))}return r},h.prototype.getSlope=function(i,e,t){var s;if(t){if(i[1]===e[1])return null;s=(e[0]-i[0])/(e[1]-i[1])}else{if(i[0]===e[0])return null;s=(e[1]-i[1])/(e[0]-i[0])}return s},h.prototype.getIntercept=function(i,e){return null===e?i[0]:i[1]-e*i[0]},h.prototype.setPointCollForShapeRotation=function(i){var e=this.parent,t=i.activePoint,s=t.startX,r=t.startY,o=t.endX,a=t.endY,p_x=s+t.width/2,p_y=r+t.height/2,u=Math.cos(i.rotatedAngle),f=Math.sin(i.rotatedAngle),v={x:u*(s-p_x)-f*(r-p_y)+p_x,y:f*(s-p_x)+u*(r-p_y)+p_y},g={x:u*(o-p_x)-f*(r-p_y)+p_x,y:f*(o-p_x)+u*(r-p_y)+p_y},b={x:u*(s-p_x)-f*(a-p_y)+p_x,y:f*(s-p_x)+u*(a-p_y)+p_y},C={x:u*(o-p_x)-f*(a-p_y)+p_x,y:f*(o-p_x)+u*(a-p_y)+p_y};i.horTopLinePointColl=this.getLinePoints(v.x,v.y,g.x,g.y),i.horTopLinePointColl=this.getLinePoints(v.x,v.y,g.x,g.y),i.horBottomLinePointColl=this.getLinePoints(b.x,b.y,C.x,C.y),i.verLeftLinePointColl=this.getLinePoints(v.x,v.y,b.x,b.y),i.verRightLinePointColl=this.getLinePoints(g.x,g.y,C.x,C.y),i.verLeftLinePointColl.reverse(),i.verRightLinePointColl.reverse();for(var T=0;T<i.horTopLinePointColl.length;T++)i.horTopLinePointColl[T].ratioX=(i.horTopLinePointColl[T].x-this.parent.img.destLeft)/this.parent.img.destWidth,i.horTopLinePointColl[T].ratioY=(i.horTopLinePointColl[T].y-this.parent.img.destTop)/this.parent.img.destHeight;for(T=0;T<i.horBottomLinePointColl.length;T++)i.horBottomLinePointColl[T].ratioX=(i.horBottomLinePointColl[T].x-this.parent.img.destLeft)/this.parent.img.destWidth,i.horBottomLinePointColl[T].ratioY=(i.horBottomLinePointColl[T].y-this.parent.img.destTop)/this.parent.img.destHeight;for(T=0;T<i.verLeftLinePointColl.length;T++)i.verLeftLinePointColl[T].ratioX=(i.verLeftLinePointColl[T].x-this.parent.img.destLeft)/this.parent.img.destWidth,i.verLeftLinePointColl[T].ratioY=(i.verLeftLinePointColl[T].y-this.parent.img.destTop)/this.parent.img.destHeight;for(T=0;T<i.verRightLinePointColl.length;T++)i.verRightLinePointColl[T].ratioX=(i.verRightLinePointColl[T].x-this.parent.img.destLeft)/this.parent.img.destWidth,i.verRightLinePointColl[T].ratioY=(i.verRightLinePointColl[T].y-this.parent.img.destTop)/this.parent.img.destHeight;if("move"!==e.upperCanvas.style.cursor){var O={rotationCirclePoint:null};e.notify("selection",{prop:"getTransRotationPoint",value:{obj:i,object:O}});var j=O.rotationCirclePoint;j&&(i.rotationCirclePointColl={x:u*(j.x-p_x)-f*(j.y-p_y)+p_x,y:f*(j.x-p_x)+u*(j.y-p_y)+p_y},i.rotationCirclePointColl.ratioX=(i.rotationCirclePointColl.x-e.img.destLeft)/e.img.destWidth,i.rotationCirclePointColl.ratioY=(i.rotationCirclePointColl.y-e.img.destTop)/e.img.destHeight)}},h.prototype.getSquarePointForRotatedShape=function(i,e){var t={startX:0,startY:0,endX:0,endY:0,width:0,height:0},s=i.activePoint,r=s.startX,o=s.startY,a=s.endX,d=s.endY,u_x=r+s.width/2,u_y=o+s.height/2,f=Math.cos(i.rotatedAngle),v=Math.sin(i.rotatedAngle),g={x:f*(r-u_x)-v*(o-u_y)+u_x,y:v*(r-u_x)+f*(o-u_y)+u_y},b={x:f*(a-u_x)-v*(o-u_y)+u_x,y:v*(a-u_x)+f*(o-u_y)+u_y},C={x:f*(r-u_x)-v*(d-u_y)+u_x,y:v*(r-u_x)+f*(d-u_y)+u_y},T={x:f*(a-u_x)-v*(d-u_y)+u_x,y:v*(a-u_x)+f*(d-u_y)+u_y};return t.startX=g.x,t.startY=g.y,t.endX=g.x,t.endY=g.y,t.startX>b.x&&(t.startX=b.x),t.startX>C.x&&(t.startX=C.x),t.startX>T.x&&(t.startX=T.x),t.startY>b.y&&(t.startY=b.y),t.startY>C.y&&(t.startY=C.y),t.startY>T.y&&(t.startY=T.y),t.endX<b.x&&(t.endX=b.x),t.endX<C.x&&(t.endX=C.x),t.endX<T.x&&(t.endX=T.x),t.endY<b.y&&(t.endY=b.y),t.endY<C.y&&(t.endY=C.y),t.endY<T.y&&(t.endY=T.y),t.width=t.endX-t.startX,t.height=t.endY-t.startY,e&&(e.activePoint=t),t},h}(),s_=function(){function h(i){this.isReverseFlip=!1,this.disablePan=!1,this.isReverseRotate=!1,this.flipColl=[],this.prevZoomValue=1,this.cropDimension={width:0,height:0},this.isPreventSelect=!1,this.preventDownScale=!1,this.resizedImgAngle=null,this.parent=i,this.addEventListener()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("transform",this.transform,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("transform",this.transform),this.parent.off("destroyed",this.destroy)},h.prototype.transform=function(i){switch(this.initTransformPvtVar(),i.prop){case"rotateImage":this.rotateImage(i.value.degree);break;case"flipImage":this.flipImage(i.value.direction);break;case"setDestPointsForFlipState":this.setDestPointsForFlipState();break;case"zoomAction":this.zoomAction(i.value.zoomFactor,i.value.zoomPoint,i.value.isResize);break;case"disableZoomOutBtn":this.disableZoomOutBtn(i.value.isZoomOut);break;case"rotatedFlip":this.rotatedFlip();break;case"drawPannedImage":this.drawPannedImage(i.value.xDiff,i.value.yDiff);break;case"drawPannImage":this.drawPannImage(i.value.point);break;case"performTransformation":this.performTransformation(i.value.text);break;case"updateTransform":this.updateTransform(i.value.text);break;case"rotatePan":this.rotatePan(i.value.isCropSelection,i.value.isDefaultZoom);break;case"drawRotatedImage":this.drawRotatedImage(i.value.degree);break;case"limitPan":this.limitPan();break;case"updateFlipActiveObj":this.updateFlipActiveObj(i.value.panRegion);break;case"resetZoom":this.resetZoom();break;case"pan":this.pan(i.value.value);break;case"zoom":this.zoom(i.value.zoomFactor,i.value.zoomPoint);break;case"setCurrPanRegion":this.setCurrPanRegion(i.value.region,i.value.type,i.value.obj);break;case"rotate":this.rotate(i.value.degree,i.value.obj);break;case"flip":this.flip(i.value.direction);break;case"update":this.update();break;case"calcMaxDimension":this.calcMaxDimension(i.value.width,i.value.height,i.value.obj,i.value.isImgShape);break;case"getPanMove":i.value.obj.panMove=this.panMove;break;case"setPanMove":this.panMove=i.value.point;break;case"getTempPanMove":i.value.obj.tempPanMove=this.tempPanMove;break;case"setTempPanMove":this.tempPanMove=i.value.point;break;case"setReverseFlip":this.isReverseFlip=i.value.isReverseFlip;break;case"setDisablePan":this.disablePan=i.value.bool;break;case"setCurrDestinationPoint":this.currDestPoint=i.value.point,this.currDestPoint.startX-=this.parent.cropObj.totalPannedPoint.x,this.currDestPoint.startY-=this.parent.cropObj.totalPannedPoint.y;break;case"setReverseRotate":this.isReverseRotate=i.value.bool;break;case"getFlipColl":i.value.obj.flipColl=this.flipColl;break;case"setFlipColl":this.flipColl=i.value.flipColl;break;case"getPreviousZoomValue":i.value.obj.previousZoomValue=this.prevZoomValue;break;case"setPreviousZoomValue":this.prevZoomValue=i.value.previousZoomValue;break;case"getCropDimension":i.value.obj.cropDimension=this.cropDimension;break;case"setCropDimension":this.cropDimension.width=i.value.width,this.cropDimension.height=i.value.height;break;case"getPreventSelect":i.value.obj.bool=this.isPreventSelect;break;case"setPreventSelect":this.isPreventSelect=i.value.bool;break;case"resizeImage":this.resizeImage(i.value.width,i.value.height);break;case"resizeCrop":this.resizeCrop(i.value.width,i.value.height);break;case"setPreventDownScale":this.preventDownScale=i.value.bool;break;case"updateResize":this.updateResize();break;case"resize":this.resize(i.value.width,i.value.height,i.value.isAspectRatio);break;case"straightenImage":this.straightenImage(i.value.degree);break;case"reset":this.reset();break;case"cropZoom":i.value.obj.maxDimension=this.cropZoom(i.value.value,i.value.selectionObj);break;case"setResizedImgAngle":this.resizedImgAngle=i.value.angle}},h.prototype.getModuleName=function(){return"transform"},h.prototype.initTransformPvtVar=function(){this.parent.lowerCanvas&&(this.lowerContext=this.parent.lowerCanvas.getContext("2d")),this.parent.upperCanvas&&(this.upperContext=this.parent.upperCanvas.getContext("2d"))},h.prototype.reset=function(){this.zoomBtnHold=null,this.tempPanMove=null,this.panMove=null,this.disablePan=!1,this.currDestPoint=null,this.isReverseRotate=!1,this.flipColl=[],this.resizedImgAngle=null,this.transCurrObj=null,this.prevZoomValue=1,this.isPreventSelect=this.preventDownScale=!1},h.prototype.rotateImage=function(i){var e=this,t=this.parent,s={cancel:!1,previousDegree:t.transform.degree,currentDegree:360===Math.abs(t.transform.degree+i)?0:t.transform.degree+i};!this.isPreventSelect&&(0,n.xr)()&&t.events&&!0===t.events.rotating.hasDelegate?t.dotNetRef.invokeMethodAsync("RotateEventAsync","OnRotate",s,null).then(function(r){e.rotateEvent(r,i)}):(this.isPreventSelect||t.trigger("rotating",s),this.rotateEvent(s,i))},h.prototype.rotateEvent=function(i,e){var t=this.parent;if(i.cancel)t.notify("draw",{prop:"setCurrentObj",onPropertyChange:!1,value:{obj:t.prevEventObjPoint}}),t.activeObj=t.prevEventSelectionPoint,t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:t.activeObj}});else{var s=void 0;if((0,n.le)(this.transCurrObj)){var r={currObj:{}};t.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:r}}),(s=r.currObj).objColl=(0,n.l7)([],t.objColl,null,!0),s.pointColl=(0,n.l7)({},t.pointColl,null,!0),s.afterCropActions=(0,n.l7)([],t.afterCropActions,[],!0);var o={selPointColl:null};t.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:o}}),s.selPointColl=(0,n.l7)([],o.selPointColl,[],!0)}t.afterCropActions.push(90===e?"rotateRight":"rotateLeft");var a=[],d=void 0;t.activeObj.activePoint&&t.activeObj.shape&&(void 0!==t.activeObj.shape&&(a=t.activeObj.shape.split("-")),(t.currObjType.isCustomCrop||"crop"===a[0])&&(d=t.currObjType.isCustomCrop?"custom":a[1],t.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),t.objColl.push(t.activeObj),t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}))),t.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:!0}}),this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),this.drawRotatedImage(e),t.notify("draw",{prop:"setImageEdited",onPropertyChange:!1}),t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}}),t.isCircleCrop&&t.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),d&&(this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),t.activeObj=(0,n.l7)({},t.objColl[t.objColl.length-1],{},!0),t.objColl.pop(),t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:t.activeObj}})),t.isUndoRedo=!1;var c={collection:t.rotateFlipColl};t.notify("shape",{prop:"alignRotateFlipColl",onPropertyChange:!1,value:{collection:t.rotateFlipColl,isRotateFlipCollection:!0,obj:c}}),t.rotateFlipColl=c.collection,t.cropObj.activeObj.shape&&!this.isPreventSelect&&(t.notify("draw",{prop:"setIsCropSelect",value:{bool:!0}}),this.isPreventSelect=!0,t.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:"custom",startX:null,startY:null,width:null,height:null}}),this.isPreventSelect=!1,t.setProperties({zoomSettings:{zoomFactor:1}},!0),this.prevZoomValue=t.zoomSettings.zoomFactor),i={previousDegree:i.previousDegree,currentDegree:i.currentDegree},!this.isPreventSelect&&(0,n.xr)()&&t.events&&!0===t.events.rotated.hasDelegate&&t.dotNetRef.invokeMethodAsync("RotateEventAsync","Rotated",null,{degree:i.currentDegree}),(0,n.xr)()&&t.events&&!0===t.events.rotating.hasDelegate&&(t.notify("draw",{prop:"resetStraightenDestPoints"}),t.notify("draw",{prop:"setDestForStraighten"}))}},h.prototype.drawRotatedImage=function(i){var e=this.parent;0===i?e.transform.degree=0:e.transform.degree+=i,360===Math.abs(e.transform.degree)&&(e.transform.degree=0),e.notify("draw",{prop:"setDestPoints",onPropertyChange:!1});var t=(0,n.l7)([],e.objColl,[],!0),s=(0,n.l7)({},e.activeObj,{},!0);if(e.objColl=[],e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.isReverseRotate||e.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,isRotatePan:null}}),this.rotateDegree(i),this.isReverseRotate||(e.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:null,isRotatePan:null}}),e.rotateFlipColl.push(i)),e.objColl=(0,n.l7)([],t,[],!0),e.activeObj=(0,n.l7)({},s,{},!0),e.isCircleCrop&&e.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),e.notify("shape",{prop:"redrawObj",onPropertyChange:!1,value:{degree:i}}),e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),i>0)e.notify("freehand-draw",{prop:"rotateFhdColl",onPropertyChange:!1});else for(var r=0;r<3;r++)e.notify("freehand-draw",{prop:"rotateFhdColl",onPropertyChange:!1});e.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),this.updateCurrSelectionPoint(i)},h.prototype.rotateDegree=function(i){var e=this.parent;this.lowerContext.save(),this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),this.lowerContext.translate(e.lowerCanvas.width/2,e.lowerCanvas.height/2),this.lowerContext.rotate(Math.PI/180*i),this.lowerContext.translate(-e.lowerCanvas.width/2,-e.lowerCanvas.height/2);var t=this.lowerContext.filter;e.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.lowerContext.filter=t,this.lowerContext.translate(e.lowerCanvas.width/2,e.lowerCanvas.height/2),this.lowerContext.rotate(Math.PI/180*-i),this.lowerContext.translate(-e.lowerCanvas.width/2,-e.lowerCanvas.height/2),this.lowerContext.restore()},h.prototype.updateCurrSelectionPoint=function(i){var e=this.parent;if(e.currSelectionPoint&&this.currDestPoint){var t=(0,n.l7)({},e.activeObj,{},!0),s=(0,n.l7)([],e.objColl,[],!0),r={startX:e.img.srcLeft,startY:e.img.srcTop,width:e.img.srcWidth,height:e.img.srcHeight},o={startX:e.img.destLeft,startY:e.img.destTop,width:e.img.destWidth,height:e.img.destHeight};e.objColl=[],e.objColl.push((0,n.l7)({},e.currSelectionPoint,{},!0)),(0,n.le)(e.objColl[0].imageRatio)&&(e.activeObj=e.objColl[0],e.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),e.objColl[0]=e.activeObj),e.img={srcLeft:0,srcTop:0,srcWidth:e.baseImgCanvas.width,srcHeight:e.baseImgCanvas.height,destLeft:this.currDestPoint.startX,destTop:this.currDestPoint.startY,destWidth:this.currDestPoint.width,destHeight:this.currDestPoint.height},"number"==typeof i&&(e.notify("draw",{prop:"setDestPoints",onPropertyChange:!1}),e.notify("draw",{prop:"setClientTransDim",onPropertyChange:!1,value:{isPreventDimension:null}})),e.notify("shape",{prop:"redrawObj",onPropertyChange:!1,value:{degree:i}}),e.currSelectionPoint=(0,n.l7)({},e.objColl[0],{},!0),this.currDestPoint={startX:e.img.destLeft,startY:e.img.destTop,width:e.img.destWidth,height:e.img.destHeight},e.objColl=s,e.activeObj=t,e.img={srcLeft:r.startX,srcTop:r.startY,srcWidth:r.width,srcHeight:r.height,destLeft:o.startX,destTop:o.startY,destWidth:o.width,destHeight:o.height}}},h.prototype.flipImage=function(i){var e=this,t=this.parent,s={direction:i,cancel:!1,previousDirection:t.toPascalCase(t.transform.currFlipState||i)};!this.isPreventSelect&&(0,n.xr)()&&t.events&&!0===t.events.flipping.hasDelegate?t.dotNetRef.invokeMethodAsync("FlipEventAsync","OnFlip",s,null).then(function(r){e.flipEvent(r,i)}):(this.isPreventSelect||t.trigger("flipping",s),this.flipEvent(s,i))},h.prototype.flipEvent=function(i,e){var s,t=this.parent;if(i.cancel)return t.notify("draw",{prop:"setCurrentObj",onPropertyChange:!1,value:{obj:t.prevEventObjPoint}}),t.activeObj=t.prevEventSelectionPoint,void t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:t.activeObj}});if((0,n.le)(this.transCurrObj)){var r={currObj:{}};t.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:r}}),(s=r.currObj).objColl=(0,n.l7)([],t.objColl,null,!0),s.pointColl=(0,n.l7)({},t.pointColl,null,!0),s.afterCropActions=(0,n.l7)([],t.afterCropActions,[],!0);var o={selPointColl:null};t.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:o}}),s.selPointColl=(0,n.l7)([],o.selPointColl,[],!0)}t.afterCropActions.push("horizontal"===e.toLowerCase()?"horizontalflip":"verticalflip");var d,a=[];t.activeObj.activePoint&&(void 0!==t.activeObj.shape&&(a=t.activeObj.shape.split("-")),(t.currObjType.isCustomCrop||"crop"===a[0])&&(d=t.currObjType.isCustomCrop?"custom":a[1],t.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),t.objColl.push(t.activeObj),t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}))),t.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:!0}}),t.clearContext(this.lowerContext),t.clearContext(this.upperContext);var c=(0,n.l7)([],t.objColl,[],!0),p=(0,n.l7)({},t.activeObj,{},!0);t.objColl=[],t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.isReverseFlip||t.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,isRotatePan:null}});var u=e.toLowerCase();this.updateFlipState(u);var f=t.transform.currFlipState.toLowerCase();t.transform.currFlipState="horizontal"===u&&"horizontal"===f||"vertical"===u&&"vertical"===f?"":u;var v={isSelected:null};t.notify("draw",{prop:"getRotatedFlipCropSelection",onPropertyChange:!1,value:{bool:v}}),v.isSelected&&(t.img.destLeft+=t.panPoint.totalPannedInternalPoint.x,t.img.destTop+=t.panPoint.totalPannedInternalPoint.y);var g=this.lowerContext.filter;if(t.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.lowerContext.filter=g,t.notify("draw",{prop:"setImageEdited",onPropertyChange:!1}),this.updateFlipState(e.toLowerCase()),this.isReverseFlip||(t.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:null,isRotatePan:null}}),this.updateFlipColl(e.toLocaleLowerCase()),t.rotateFlipColl.push(e.toLowerCase())),1===t.rotateFlipColl.length){var b={panRegion:""};t.notify("crop",{prop:"getCurrFlipState",onPropertyChange:!1,value:{panObj:b}}),""===b.panRegion?t.notify("draw",{prop:"setClientTransDim",onPropertyChange:!1,value:{isPreventDimension:null}}):this.setDestPointsForFlipState()}t.isCircleCrop&&t.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),t.objColl=(0,n.l7)([],c,[],!0),t.activeObj=(0,n.l7)({},p,{},!0);for(var C=0,T=t.objColl.length;C<T;C++){var O=t.objColl[C].flipObjColl;0===O.length?O.push(e):O[O.length-1]===e?O.pop():O.push(e)}t.notify("shape",{prop:"redrawObj",onPropertyChange:!1,value:{degree:e.toLowerCase()}});var j=this.lowerContext.filter;this.lowerContext.filter="brightness(1) contrast(100%) hue-rotate(0deg) saturate(100%) opacity(1) blur(0px) sepia(0%) grayscale(0%) invert(0%)",t.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1});var Y=e.toLowerCase();"horizontal"===Y||"vertical"===Y?(t.notify("freehand-draw",{prop:"flipFHDColl",onPropertyChange:!1,value:{value:Y}}),t.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}})):t.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),this.lowerContext.filter=j,t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.updateCurrSelectionPoint(Y),t.isUndoRedo=!1,t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}}),t.isCircleCrop&&t.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),d&&(this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),t.activeObj=(0,n.l7)({},t.objColl[t.objColl.length-1],{},!0),t.objColl.pop(),t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:t.activeObj}}));var H={collection:t.rotateFlipColl};t.notify("shape",{prop:"alignRotateFlipColl",onPropertyChange:!1,value:{collection:t.rotateFlipColl,isRotateFlipCollection:!0,obj:H}}),t.rotateFlipColl=H.collection,t.cropObj.activeObj.shape&&!this.isPreventSelect&&(t.notify("draw",{prop:"setIsCropSelect",value:{bool:!0}}),this.isPreventSelect=!0,t.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:"custom",startX:null,startY:null,width:null,height:null}}),this.isPreventSelect=!1,t.setProperties({zoomSettings:{zoomFactor:1}},!0),this.prevZoomValue=t.zoomSettings.zoomFactor),i={previousDirection:i.previousDirection,direction:i.direction},!this.isPreventSelect&&(0,n.xr)()&&t.events&&!0===t.events.flipped.hasDelegate&&t.dotNetRef.invokeMethodAsync("FlipEventAsync","Flipped",null,{direction:i.direction})},h.prototype.updateFlipState=function(i){var e=this.parent.transform.degree;"horizontal"===i?e%90==0&&e%180!=0?this.verticalFlip():this.horizontalFlip():"vertical"===i&&(e%90==0&&e%180!=0?this.horizontalFlip():this.verticalFlip())},h.prototype.horizontalFlip=function(){this.lowerContext.translate(this.lowerContext.canvas.width,0),this.lowerContext.scale(-1,1),this.upperContext.translate(this.upperContext.canvas.width,0),this.upperContext.scale(-1,1)},h.prototype.verticalFlip=function(){this.lowerContext.translate(0,this.lowerContext.canvas.height),this.lowerContext.scale(1,-1),this.upperContext.translate(0,this.upperContext.canvas.height),this.upperContext.scale(1,-1)},h.prototype.updateFlipColl=function(i){if(!this.isPreventSelect&&(0===this.flipColl.length||this.flipColl[this.flipColl.length-1]!==i?this.flipColl.push(i):this.flipColl.pop(),this.flipColl.length>=4)){var e=this.flipColl.slice(-4);("horizontal"===e[0]&&"vertical"===e[1]&&"horizontal"===e[2]&&"vertical"===e[3]||"vertical"===e[0]&&"horizontal"===e[1]&&"vertical"===e[2]&&"horizontal"===e[3])&&this.flipColl.splice(-4)}},h.prototype.setDestPointsForFlipState=function(){var i=this.parent,e={panRegion:""},t=i.img,s=t.destLeft,r=t.destTop,o=t.destWidth,a=t.destHeight,d=i.lowerCanvas,c=d.clientWidth,p=d.clientHeight;i.notify("crop",{prop:"getCurrFlipState",onPropertyChange:!1,value:{panObj:e}}),""!==e.panRegion&&("horizontal"===e.panRegion?i.img.destLeft=c-(o+s):("vertical"===e.panRegion||(i.img.destLeft=c-(o+s)),i.img.destTop=p-(a+r)))},h.prototype.zoomAction=function(i,e,t,s){var r=this,o=this.parent;if(!o.disabled&&o.isImageLoaded){if((0,n.le)(t)&&(o.zoomSettings.zoomFactor>=o.zoomSettings.maxZoomFactor&&i>0||o.zoomSettings.zoomFactor>o.zoomSettings.minZoomFactor&&i<0&&this.disableZoomOutBtn(!0)||o.zoomSettings.zoomFactor<=o.zoomSettings.minZoomFactor&&i<0))return void((0,n.xr)()||o.notify("toolbar",{prop:"zoom-up-handler",onPropertyChange:!1}));o.notify("draw",{prop:"setImageEdited",onPropertyChange:!1});var a=i;i=a>0?.1:-.1;for(var d=0;d<Math.round(Math.abs(a/.1));d++)if(1===this.prevZoomValue)this.prevZoomValue+=i>0?10*i:10*i/10;else if(this.prevZoomValue>1)this.prevZoomValue+=10*i;else if(this.prevZoomValue<1){this.prevZoomValue+=10*i/10;var c=Math.pow(10,1);this.prevZoomValue=Math.round(this.prevZoomValue*c)/c}i=a,o.setProperties({zoomSettings:{zoomFactor:this.prevZoomValue}},!0);var p=void 0;this.tempActiveObj=null,this.isShape=!1,void 0!==o.activeObj.shape&&("shape"===o.activeObj.shape?o.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}):p=o.activeObj.shape.split("-")),void 0!==p&&"crop"===p[0]?(this.tempActiveObj=(0,n.l7)({},o.activeObj,{},!0),o.isCropTab=!0):o.activeObj.shape&&"crop"!==p[0]&&(this.isShape=!0);var u={zoomType:null};o.notify("selection",{prop:"getZoomType",onPropertyChange:!1,value:{obj:u}}),(0,n.le)(e)&&(e=o.isCropTab&&this.tempActiveObj?{x:o.activeObj.activePoint.startX+o.activeObj.activePoint.width/2,y:o.activeObj.activePoint.startY+o.activeObj.activePoint.height/2}:{x:o.lowerCanvas.clientWidth/2,y:o.lowerCanvas.clientHeight/2},("MouseWheel"===u.zoomType||"Pinch"===u.zoomType)&&(e={x:o.zoomSettings.zoomPoint.x,y:o.zoomSettings.zoomPoint.y}));var v={zoomPoint:e,cancel:!1,previousZoomFactor:o.zoomSettings.zoomFactor-10*i,currentZoomFactor:o.zoomSettings.zoomFactor,zoomTrigger:u.zoomType};!o.isCropToolbar&&(0,n.xr)()&&o.isZoomBtnClick&&o.events&&!0===o.events.zooming.hasDelegate?(v.zoomTrigger=parseInt(this.getZoomTriggerType(v.zoomTrigger)),o.dotNetRef.invokeMethodAsync("ZoomEventAsync","OnZoom",v,null).then(function(g){r.zoomEvent(g,i,s)})):(!o.isCropToolbar&&o.isZoomBtnClick&&o.trigger("zooming",v),this.zoomEvent(v,i,s))}},h.prototype.getZoomTriggerType=function(i){switch(i){case"MouseWheel":return"1";case"Pinch":return"2";case"Commands":return"4";default:return"8"}},h.prototype.zoomEvent=function(i,e,t){var s=this.parent,r=s.zoomSettings,o=r.zoomFactor,a=r.minZoomFactor;if(i.cancel)s.isZoomBtnClick=!1;else{(0,n.xr)()?"resize-toolbar"!==s.currentToolbar&&"crop-toolbar"!==s.currentToolbar&&s.element.querySelector(".e-contextual-toolbar-wrapper")&&!s.element.querySelector(".e-contextual-toolbar-wrapper").classList.contains("e-hidden")&&s.updateToolbar(s.element,"closeContextualToolbar"):s.notify("toolbar",{prop:"close-contextual-toolbar",onPropertyChange:!1}),s.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:!0}}),s.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,s.lowerCanvas.width,s.lowerCanvas.height),this.lowerContext.filter=s.canvasFilter,s.upperCanvas.style.cursor=s.cursor="default";var c=(0,n.l7)([],s.objColl,[],!0);if(!s.isCropTab){if(0!==s.transform.degree){s.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}}),s.panPoint.currentPannedPoint={x:0,y:0};var p=s.allowDownScale;s.allowDownScale=!1,this.rotatePan(!0,!0),s.allowDownScale=p}else""!==s.transform.currFlipState&&(s.panPoint.totalPannedPoint={x:0,y:0});0===s.transform.straighten&&!this.isPreventSelect&&s.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1,value:{isPreventApply:t}})}if(0===s.transform.degree){this.drawZoomImgToCanvas(e,this.tempActiveObj);var u={panRegion:""};if(s.notify("crop",{prop:"getCurrFlipState",onPropertyChange:!1,value:{panObj:u}}),""!==u.panRegion){s.notify("crop",{prop:"setTempFlipPanPoint",onPropertyChange:!1,value:{point:s.panPoint.totalPannedPoint,isAdd:!0}}),c=(0,n.l7)([],s.objColl,[],!0),s.objColl=[];var f=s.img.destLeft,v=s.img.destTop;this.setDestPointsForFlipState(),this.rotatedFlip(),s.img.destLeft=f,s.img.destTop=v,s.objColl=c,s.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:t}}),s.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:t}}),0===s.transform.straighten&&!this.isPreventSelect&&s.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1,value:{isPreventApply:t}})}o<=a&&!s.isCropTab&&(s.panPoint.totalPannedPoint={x:0,y:0})}else{0===s.transform.straighten&&!this.isPreventSelect&&s.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1,value:{isPreventApply:t}}),s.panPoint.totalPannedClientPoint={x:0,y:0},s.panPoint.totalPannedInternalPoint={x:0,y:0},this.rotateZoom(e);var g={panRegion:""};s.notify("crop",{prop:"getCurrFlipState",onPropertyChange:!1,value:{panObj:g}}),""!==g.panRegion&&(p=this.lowerContext.filter,this.lowerContext.filter="none",s.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:t}}),s.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:t}}),this.lowerContext.filter=p)}var b=Math.pow(10,1);(o<=a||Math.round(s.transform.zoomFactor*b)/b==2)&&(clearInterval(this.zoomBtnHold),this.zoomBtnHold=0);var T,C={panRegion:""};s.notify("crop",{prop:"getCurrFlipState",onPropertyChange:!1,value:{panObj:C}}),""===C.panRegion&&(p=this.lowerContext.filter,this.lowerContext.filter="none",s.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:t}}),s.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:t}}),this.lowerContext.filter=p),(s.currSelectionPoint&&"crop-circle"===s.currSelectionPoint.shape||s.isCircleCrop)&&s.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),s.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),s.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.tempActiveObj&&(s.activeObj=(0,n.l7)({},this.tempActiveObj,{},!0),s.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:s.activeObj}}),o<=a&&(s.currSelectionPoint=null)),s.isUndoRedo=!1,(0,n.xr)()?(T=s.element.querySelector("#zoomout"))&&o<=a?T.classList.add("e-overlay"):T&&T.classList.remove("e-overlay"):(T=document.querySelector("#"+s.element.id+"_zoomOut"))&&o<=a?(T.classList.add("e-disabled"),T.parentElement.classList.add("e-overlay")):T&&(T.classList.remove("e-disabled"),T.parentElement.classList.remove("e-overlay")),this.autoEnablePan(),this.tempActiveObj&&(s.activeObj=(0,n.l7)({},this.tempActiveObj,{},!0)),"crop-custom"===s.activeObj.shape&&(s.currObjType.isCustomCrop=!0);var O=s.element.querySelector(".e-img-pan .e-btn");O&&s.togglePan?O.classList.add("e-selected-btn"):O&&O.classList.remove("e-selected-btn"),this.isShape&&(s.activeObj=(0,n.l7)({},s.objColl[s.objColl.length-1],{},!0),s.objColl.pop(),s.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:s.activeObj,isCropRatio:null,points:null,isPreventDrag:!0,saveContext:null,isPreventSelection:null}}),(0,n.xr)()||(s.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1}),s.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}}))),(0,n.xr)()?s.updateToolbar(s.element,"enableDisableToolbarBtn"):s.notify("toolbar",{prop:"enable-disable-btns",onPropertyChange:!1}),s.notify("selection",{prop:"setZoomType",onPropertyChange:!1,value:{zoomType:"Toolbar"}}),i={zoomPoint:i.zoomPoint,previousZoomFactor:i.previousZoomFactor,currentZoomFactor:i.currentZoomFactor,zoomTrigger:i.zoomTrigger},(0,n.xr)()&&!s.isCropToolbar&&s.isZoomBtnClick&&s.events&&!0===s.events.zoomed.hasDelegate?(i.zoomTrigger="number"!=typeof i.zoomTrigger?parseInt(this.getZoomTriggerType(i.zoomTrigger)):i.zoomTrigger,s.dotNetRef.invokeMethodAsync("ZoomEventAsync","Zoomed",null,{zoomPoint:i.zoomPoint,zoomFactor:i.currentZoomFactor,zoomTrigger:i.zoomTrigger}),s.isZoomBtnClick=!1):!s.isCropToolbar&&s.isZoomBtnClick&&(s.isZoomBtnClick=!1)}},h.prototype.disableZoomOutBtn=function(i){var a,e=this.parent,t=e.zoomSettings,s=t.zoomFactor,r=t.minZoomFactor,o=!1;(0,n.le)(i)||(e.transform.zoomFactor-=.1),a=(0,n.xr)()?e.element.querySelector("#zoomout"):e.element.querySelector("#"+e.element.id+"_zoomOut");var d={destLeft:e.img.destLeft,destTop:e.img.destTop,destWidth:e.img.destWidth,destHeight:e.img.destHeight};if(e.activeObj.shape){var c=this.setZoomDimension(-.1,e.activeObj);if(!(0,n.le)(a)){var p=e.activeObj.activePoint;if(0===e.transform.straighten)e.img.destLeft>p.startX||e.img.destTop>p.startY||e.img.destLeft+e.img.destWidth<p.endX||e.img.destTop+e.img.destHeight<p.endY||s===r?((0,n.xr)()?a.classList.add("e-overlay"):(a.classList.add("e-disabled"),a.parentElement.classList.add("e-overlay")),o=!0):((0,n.xr)()?a.classList.remove("e-overlay"):(a.classList.remove("e-disabled"),a.parentElement.classList.remove("e-overlay")),o=!1);else{e.img.destWidth=c.width,e.img.destHeight=c.height;var u={isIntersect:null};e.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),e.notify("draw",{prop:"isLinesIntersect",onPropertyChange:!1,value:{obj:u}}),u.isIntersect||s===r?((0,n.xr)()?a.classList.add("e-overlay"):(a.classList.add("e-disabled"),a.parentElement.classList.add("e-overlay")),o=!0):((0,n.xr)()?a.classList.remove("e-overlay"):(a.classList.remove("e-disabled"),a.parentElement.classList.remove("e-overlay")),o=!1)}}}else this.setZoomDimension(-.1,null);return(0,n.le)(i)||(e.transform.zoomFactor+=.1),e.img.destLeft=d.destLeft,e.img.destTop=d.destTop,e.img.destWidth=d.destWidth,e.img.destHeight=d.destHeight,o},h.prototype.drawZoomImgToCanvas=function(i,e){var t=this.parent,s=Math.pow(10,1),r=Math.round(t.transform.zoomFactor*s)/s;.1===r&&-.1===i||0===r&&-.025===i?t.transform.zoomFactor=0:t.transform.zoomFactor+=i,t.transform[t.isCropTab?"cropZoomFactor":"defaultZoomFactor"]=t.transform.zoomFactor;var o={width:0,height:0};t.isCropTab?o=this.cropZoom(i,e):((o=this.calcMaxDimension(t.img.srcWidth,t.img.srcHeight)).width+=o.width*t.transform.zoomFactor,o.height+=o.height*t.transform.zoomFactor,t.img.destLeft=(t.lowerCanvas.clientWidth-o.width)/2,t.img.destTop=(t.lowerCanvas.clientHeight-o.height+1)/2),t.notify("draw",{prop:"draw-image-to-canvas",value:{dimension:o}}),o.width=this.cropDimension.width,o.height=this.cropDimension.height,o.width+=o.width*t.transform.zoomFactor,o.height+=o.height*t.transform.zoomFactor,t.notify("draw",{prop:"setZoomCropWidth",value:{width:o.width,height:o.height}})},h.prototype.rotatedFlip=function(){var i=this.parent;this.isReverseFlip=!0;var e=i.transform.currFlipState,t=this.flipColl,s=(0,n.l7)([],i.objColl,[],!0),r=(0,n.l7)({},i.activeObj,{},!0);this.flipColl=[],i.objColl=[],i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),i.notify("draw",{prop:"currTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,context:null,isPreventCircleCrop:null}});var o=this.lowerContext.filter;i.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.lowerContext.filter=o,i.notify("draw",{prop:"currTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:!0,context:null,isPreventCircleCrop:null}}),""===e&&""!==i.transform.currFlipState&&(e=i.transform.currFlipState),i.transform.currFlipState=e,this.flipColl=t,i.objColl=(0,n.l7)([],s,[],!0),this.lowerContext.filter="none",i.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),this.lowerContext.filter=o,0!==r.activePoint.width&&(i.activeObj=(0,n.l7)({},r,{},!0)),this.isReverseFlip=!1},h.prototype.rotateZoom=function(i){var e=this.parent,t=Math.pow(10,1),s=Math.round(e.transform.zoomFactor*t)/t;.1===s&&-.1===i||0===s&&-.025===i?e.transform.zoomFactor=0:e.transform.zoomFactor+=i,e.isCropTab?e.transform.cropZoomFactor=e.transform.zoomFactor:e.transform.defaultZoomFactor=e.transform.zoomFactor;var r=(0,n.l7)([],e.objColl,[],!0),o=(0,n.l7)({},e.activeObj,{},!0);e.objColl=[],e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),e.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,isRotatePan:null}}),e.notify("draw",{prop:"setRotateZoom",onPropertyChange:!1,value:{isRotateZoom:!0}}),e.notify("draw",{prop:"setDestPoints",onPropertyChange:!1});var a=this.lowerContext.filter;e.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.lowerContext.filter=a,e.notify("draw",{prop:"setRotateZoom",onPropertyChange:!1,value:{isRotateZoom:!1}}),e.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:null,isRotatePan:null}}),e.objColl=r,e.activeObj=o;var d={width:this.cropDimension.width,height:this.cropDimension.height};d.width+=d.width*e.transform.zoomFactor,d.height+=d.height*e.transform.zoomFactor,e.notify("draw",{prop:"setZoomCropWidth",value:{width:d.width,height:d.height}})},h.prototype.autoEnablePan=function(){var i=this.parent;i.transform.zoomFactor<=0?(i.togglePan=!1,i.notify("selection",{prop:"setDragCanvas",value:{bool:!1}}),i.pan(!1),this.disablePan=!1):i.pan(!this.disablePan)},h.prototype.cropZoom=function(i,e){var t=this.parent,s=t.img.destLeft,r=t.img.destTop,o={width:0,height:0};return 0===t.img.srcLeft||0===t.img.srcTop?o=(0,n.le)(e)?this.setZoomDimension(i,null):this.setZoomDimension(i,e):((o=t.transform.degree%90==0&&t.transform.degree%180!=0?this.calcMaxDimension(t.img.srcHeight,t.img.srcWidth):this.calcMaxDimension(t.img.srcWidth,t.img.srcHeight)).width+=o.width*t.transform.zoomFactor,o.height+=o.height*t.transform.zoomFactor),t.img.destLeft=s-(o.width-t.img.destWidth)/2,t.img.destTop=r-(o.height-t.img.destHeight)/2,s=t.img.destLeft,r=t.img.destTop,e&&0===t.transform.straighten&&(t.img.destLeft>e.activePoint.startX&&(t.img.destLeft=e.activePoint.startX,0===t.transform.degree&&(t.panPoint.totalPannedPoint.x-=s-t.img.destLeft)),t.img.destTop>e.activePoint.startY&&(t.img.destTop=e.activePoint.startY,0===t.transform.degree&&(t.panPoint.totalPannedPoint.y-=r-t.img.destTop)),t.img.destLeft+o.width<e.activePoint.endX&&(t.img.destLeft=e.activePoint.endX-o.width,0===t.transform.degree&&(t.panPoint.totalPannedPoint.x-=s-t.img.destLeft)),t.img.destTop+o.height<e.activePoint.endY&&(t.img.destTop=e.activePoint.endY-o.height,0===t.transform.degree&&(t.panPoint.totalPannedPoint.y-=r-t.img.destTop))),o},h.prototype.setZoomDimension=function(i,e){var t=this.parent,s=t.transform.degree,r={width:0,height:0};if((r=s%90==0&&s%180!=0?this.calcMaxDimension(t.img.srcHeight,t.img.srcWidth):this.calcMaxDimension(t.img.srcWidth,t.img.srcHeight)).width+=r.width*t.transform.zoomFactor,r.height+=r.height*t.transform.zoomFactor,t.img.destLeft+=(t.img.destWidth-r.width)/2,t.img.destTop+=(t.img.destHeight-r.height)/2,i<0&&e){var o=e.activePoint.startX,a=e.activePoint.startY,d=e.activePoint.width,c=e.activePoint.height,p=t.img.destLeft+r.width,u=t.img.destTop+r.height;t.img.destLeft>o&&(t.img.destLeft=o),t.img.destTop>a&&(t.img.destTop=a),p<o+d&&(t.img.destLeft=o+d-r.width),u<a+c&&(t.img.destTop=a+c-r.height)}else i<0&&(0,n.le)(e)&&(t.img.destLeft>0&&(t.img.destLeft=0),t.img.destTop>0&&(t.img.destTop=0),t.img.destLeft+r.width<t.lowerCanvas.clientWidth&&(t.img.destLeft=t.lowerCanvas.clientWidth-t.img.destWidth),t.img.destTop+r.height<t.lowerCanvas.clientHeight&&(t.img.destTop=t.lowerCanvas.clientHeight-t.img.destHeight));return r},h.prototype.drawPannedImage=function(i,e){var t=this,s=this.parent,r={panDown:null};s.notify("selection",{prop:"getPanDown",onPropertyChange:!1,value:{obj:r}});var o={startPoint:r.panDown,endPoint:this.panMove,cancel:!1};(0,n.xr)()&&(0,n.le)(s.eventType)&&s.events&&!0===s.events.onPanStart.hasDelegate?(s.eventType="pan",s.panEventArgs=o,s.dotNetRef.invokeMethodAsync("PanEventAsync","OnPanStart",o).then(function(a){t.panEvent(a,i,e)})):(s.trigger("panning",o),this.panEvent(o,i,e))},h.prototype.panEvent=function(i,e,t){if(!i.cancel){var s=this.parent,r=!1;if(s.activeObj.shape&&"shape"===s.activeObj.shape&&s.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),(0,n.le)(s.activeObj.shape)){r=!0;var o=s.activeObj.activePoint={startX:s.img.destLeft,startY:s.img.destTop,endX:s.img.destLeft+s.img.destWidth,endY:s.img.destTop+s.img.destHeight},d=o.startY,c=o.endX,p=o.endY;o.startX<0&&(o.startX=0),d<0&&(o.startY=0),c>s.lowerCanvas.width&&(o.endX=s.lowerCanvas.width),p>s.lowerCanvas.height&&(o.endY=s.lowerCanvas.height),o.width=o.endX-o.startX,o.height=o.endY-o.startY,s.activeObj.shape="crop-custom";var u={strokeSettings:{}};s.notify("shape",{prop:"getStrokeSettings",onPropertyChange:!1,value:{obj:u}}),s.activeObj.strokeSettings=u.strokeSettings,s.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:o,obj:s.activeObj,isMouseMove:null,x:null,y:null}}),s.isCropTab=!0}if(0===s.transform.degree){var f;f=(0,n.le)(e)&&(0,n.le)(t)?this.updatePanPoints():{x:e,y:t},s.panPoint.totalPannedPoint.x+=f.x,s.panPoint.totalPannedPoint.y+=f.y;var v=(0,n.l7)({},s.activeObj,{},!0),g=this.lowerContext.filter;this.drawPannImage(f,r),this.lowerContext.filter=g,this.tempPanMove=(0,n.l7)({},this.panMove,{},!0),s.activeObj=(0,n.l7)({},v,{},!0),this.upperContext.clearRect(0,0,s.upperCanvas.width,s.upperCanvas.height),s.activeObj.shape&&s.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:s.activeObj}})}else{var b=s.transform.currFlipState;s.isCropTab=!0,s.panPoint.currentPannedPoint=(0,n.le)(e)&&(0,n.le)(t)?this.updatePanPoints():{x:e,y:t},s.transform.currFlipState=b,this.rotatePan(null,null,r),s.isCropTab=!1,this.tempPanMove=(0,n.l7)({},this.panMove,{},!0)}r&&(s.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),s.isCropTab=!1,this.upperContext.clearRect(0,0,s.upperCanvas.width,s.upperCanvas.height))}},h.prototype.drawPannImage=function(i,e){var t=this.parent,s=this.lowerContext.filter,r={startX:t.img.destLeft,startY:t.img.destTop,width:t.img.destWidth,height:t.img.destHeight};this.lowerContext.clearRect(0,0,t.lowerCanvas.width,t.lowerCanvas.height),t.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,isRotatePan:null}}),t.img.destLeft=r.startX,t.img.destTop=r.startY,t.img.destWidth=r.width,t.img.destHeight=r.height,this.setDestPointsForFlipState(),e&&(t.isCropTab=!1),t.notify("draw",{prop:"drawImage",onPropertyChange:!1}),e&&(t.isCropTab=!0),(t.currSelectionPoint&&"crop-circle"===t.currSelectionPoint.shape||t.isCircleCrop)&&t.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:!0}}),this.lowerContext.filter=s,t.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:null,isRotatePan:null}}),t.img.destLeft=r.startX,t.img.destTop=r.startY,t.img.destWidth=r.width,t.img.destHeight=r.height;var o=this.lowerContext.filter;this.lowerContext.filter="none",e&&(t.isCropTab=!1),t.notify("shape",{prop:"panObjColl",onPropertyChange:!1,value:{xDiff:i.x,yDiff:i.y,panRegion:""}}),t.notify("freehand-draw",{prop:"panFHDColl",onPropertyChange:!1,value:{xDiff:i.x,yDiff:i.y,panRegion:""}}),e&&(t.isCropTab=!0),this.lowerContext.filter=o,t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),t.isCircleCrop&&t.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:!0}})},h.prototype.resetZoom=function(){var i=this.parent;if(0!==i.transform.defaultZoomFactor){var e=i.isUndoRedo,t={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:t}}),this.transCurrObj=t.currObj,this.transCurrObj.objColl=(0,n.l7)([],i.objColl,null,!0),this.transCurrObj.pointColl=(0,n.l7)({},i.pointColl,null,!0),this.transCurrObj.afterCropActions=(0,n.l7)([],i.afterCropActions,[],!0);var s={selPointColl:null};i.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:s}}),this.transCurrObj.selPointColl=(0,n.l7)([],s.selPointColl,[],!0),i.isUndoRedo=i.isCropToolbar=!0;var r=i.transform.defaultZoomFactor;this.zoomAction(r>0?-r:Math.abs(r)),i.isCropToolbar=!1,i.isUndoRedo=e}},h.prototype.performTransformation=function(i){var e=this.parent,t=e.transform.defaultZoomFactor,s=e.isUndoRedo,r=(0,n.l7)({},e.cropObj,{},!0);this.resetZoom(),this.updateTransform(i);for(var o=0,a=e.objColl.length;o<a;o++)if(e.objColl[o].flipObjColl.length>0){var d={collection:e.objColl[o].flipObjColl};e.notify("shape",{prop:"alignRotateFlipColl",onPropertyChange:!1,value:{collection:d.collection,isRotateFlipCollection:null,obj:d}}),e.objColl[o].flipObjColl=d.collection,0===e.objColl[o].flipObjColl.length&&(e.objColl[o].shapeFlip="")}if(0!==t){e.isUndoRedo=!0,this.zoomAction(t),e.isUndoRedo=s;var c="";"rotateleft"===i||"rotateright"===i?c="rotate":("horizontalflip"===i||"verticalflip"===i)&&(c="flip"),e.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:c,previousObj:this.transCurrObj,previousObjColl:this.transCurrObj.objColl,previousPointColl:this.transCurrObj.pointColl,previousSelPointColl:this.transCurrObj.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.transCurrObj=null}},h.prototype.updateTransform=function(i){switch(i.toLowerCase()){case"rotateleft":this.rotateImage(-90);break;case"rotateright":this.rotateImage(90);break;case"horizontalflip":this.flipImage(jm.Horizontal);break;case"verticalflip":this.flipImage(jm.Vertical)}},h.prototype.rotatePan=function(i,e,t){var s=this.parent;this.isReverseRotate=!0;var o,r=s.transform.degree,a={selPointColl:null};s.activeObj.activePoint&&s.activeObj.shape&&(o=(0,n.l7)({},s.activeObj,{},!0));var d=(0,n.l7)([],s.objColl,[],!0),c=(0,n.l7)([],s.pointColl,[],!0);s.objColl=[],s.pointColl=[],s.freehandCounter=0,s.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:a}});var p=a.selPointColl;s.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:[]}}}),s.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),s.notify("draw",{prop:"setRotateZoom",onPropertyChange:!1,value:{isRotateZoom:!0}}),s.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,isRotatePan:null}});var u=s.img.destLeft,f=s.img.destTop,v=s.panPoint.totalPannedInternalPoint;s.isCropTab&&(s.img.destLeft+=v.x,s.img.destTop+=v.y),s.notify("crop",{prop:"updateRotatePan",onPropertyChange:!1}),s.isCropTab&&(s.panPoint.totalPannedInternalPoint.x=s.img.destLeft-u,s.panPoint.totalPannedInternalPoint.y=s.img.destTop-f);var g=this.lowerContext.filter;t&&(s.isCropTab=!1),s.notify("draw",{prop:"drawImage",onPropertyChange:!1}),t&&(s.isCropTab=!0),s.notify("draw",{prop:"setRotateZoom",onPropertyChange:!1,value:{isRotateZoom:!1}}),s.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:!0,isRotatePan:!0}});var b=s.img.destLeft,C=s.img.destTop;s.img.destLeft+=s.panPoint.totalPannedClientPoint.x,s.img.destTop+=s.panPoint.totalPannedClientPoint.y,s.img.destLeft+=s.panPoint.currentPannedPoint.x,s.img.destTop+=s.panPoint.currentPannedPoint.y,s.panPoint.totalPannedClientPoint.x=s.img.destLeft-b,s.panPoint.totalPannedClientPoint.y=s.img.destTop-C,s.objColl=d,s.pointColl=c,s.freehandCounter=s.pointColl.length,s.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:p}}}),s.transform.degree=r,this.lowerContext.filter="none",i&&(e?(s.panPoint.totalPannedClientPoint.x=-s.panPoint.totalPannedClientPoint.x,s.panPoint.totalPannedClientPoint.y=-s.panPoint.totalPannedClientPoint.y,s.panPoint.currentPannedPoint=(0,n.l7)({},s.panPoint.totalPannedClientPoint,{},!0),s.panPoint.totalPannedClientPoint={x:0,y:0},s.img.destLeft+=s.panPoint.currentPannedPoint.x,s.img.destTop+=s.panPoint.currentPannedPoint.y):s.panPoint.currentPannedPoint=(0,n.l7)({},s.panPoint.totalPannedClientPoint,{},!0)),t&&(s.isCropTab=!1),s.notify("shape",{prop:"panObjColl",onPropertyChange:!1,value:{xDiff:s.panPoint.currentPannedPoint.x,yDiff:s.panPoint.currentPannedPoint.y,panRegion:""}}),s.notify("freehand-draw",{prop:"panFHDColl",onPropertyChange:!1,value:{xDiff:s.panPoint.currentPannedPoint.x,yDiff:s.panPoint.currentPannedPoint.y,panRegion:""}}),t&&(s.isCropTab=!0),this.lowerContext.filter=g,s.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),this.upperContext.clearRect(0,0,s.upperCanvas.width,s.upperCanvas.height),s.activeObj=(0,n.l7)({},o,{},!0),s.activeObj.activePoint&&s.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:s.activeObj,isCropRatio:null,points:null,isPreventDrag:!0,saveContext:null,isPreventSelection:null}}),this.isReverseRotate=!1},h.prototype.limitPan=function(){var i=this.parent,e=i.activeObj.activePoint,t=e.startX,s=e.startY,r=e.endX,o=e.endY,a=i.img;i.activeObj.activePoint&&(a.destLeft>t&&(i.img.destLeft=t),a.destTop>s&&(i.img.destTop=s),a.destLeft+a.destWidth<r&&(i.img.destLeft=r-a.destWidth),a.destTop+a.destHeight<o&&(i.img.destTop=o-a.destHeight))},h.prototype.updateFlipActiveObj=function(i){var a,d,e=this.parent,t=e.activeObj.activePoint,s=e.lowerCanvas,r=s.width,o=s.height;"horizontal"===i?(t.startX=(a=t.startX>r/2?r/2-(t.startX-r/2):r/2+(r/2-t.startX))-t.width,t.endX=a):"vertical"===i?(t.startY=(d=t.startX>r/2?o/2-(t.startY-o/2):o/2+(o/2-t.startY))-t.height,t.endY=d):("verticalHorizontal"===i||"horizontalVertical"===i)&&(d=t.startX>r/2?o/2-(t.startY-o/2):o/2+(o/2-t.startY),t.startX=(a=t.startX>r/2?r/2-(t.startX-r/2):r/2+(r/2-t.startX))-t.width,t.startY=d-t.height,t.endX=a,t.endY=d),e.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:t,obj:e.activeObj,isMouseMove:null,x:null,y:null}})},h.prototype.pan=function(i){var e=this.parent;!e.disabled&&e.isImageLoaded&&(i?(e.togglePan=!0,e.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}}),e.notify("selection",{prop:"setDragCanvas",value:{bool:!0}}),e.lowerCanvas.style.cursor=e.upperCanvas.style.cursor=e.cursor="grab",e.notify("selection",{prop:"setPanDown",onPropertyChange:!1,value:{panDown:null}})):(e.togglePan=e.currObjType.isCustomCrop=!1,e.notify("selection",{prop:"setDragCanvas",value:{bool:!1}}),e.lowerCanvas.style.cursor=e.upperCanvas.style.cursor=e.cursor="default"))},h.prototype.zoom=function(i,e){var t=this.parent;if(!t.disabled&&t.isImageLoaded){var s=this.getCurrentZoomFactor(i);if((0,n.le)(e))this.zoomAction(s,e);else for(var r=s>0?"zoomIn":"zoomOut",o=10*Math.abs(s),a=0;a<o;a++)t.notify("draw",{prop:"performPointZoom",onPropertyChange:!1,value:{x:e.x,y:e.y,type:r,isResize:null}})}},h.prototype.getCurrentZoomFactor=function(i){return i>=1?this.prevZoomValue<1?i-this.prevZoomValue:.1*(i-this.prevZoomValue):i-this.prevZoomValue},h.prototype.setCurrPanRegion=function(i,e,t){t.panRegion=""===i?"horizontal"===e?"horizontal":"vertical"===e?"vertical":i:"horizontal"===i?"horizontal"===e?"horizontalVertical":"vertical"===e?"verticalHorizontal":90===e?"vertical":-90===e?"horizontal":i:"vertical"===i?"horizontal"===e?"horizontalVertical":"vertical"===e?"verticalHorizontal":90===e?"horizontal":-90===e?"vertical":i:"horizontal"===e?"vertical":"vertical"===e?"horizontal":i},h.prototype.rotate=function(i,e){var t=this.parent;!t.disabled&&t.isImageLoaded&&i%90==0&&this.rotateImage(i),e.isRotate=!1},h.prototype.flip=function(i){var e=this.parent;!e.disabled&&e.isImageLoaded&&this.flipImage(i)},h.prototype.update=function(){var i=this.parent,e=0,t=!1,s=!1,r={bool:!1},o_bool=i.isStraightening,a=0,d=i.element.querySelector("#"+i.element.id+"_contextualToolbar"),c=i.element.querySelector(".e-contextual-toolbar-wrapper"),p=i.element.querySelector("#"+i.element.id+"_headWrapper");if(i.isImageLoaded){var u=!1,f=void 0;n.AR.isDevice&&(i.activeObj.shape&&(f=i.activeObj.shape.split("-")),(i.currObjType.isCustomCrop||f&&"crop"===f[0])&&(u=!0));var v={bool:null};i.notify("toolbar",{prop:"getFrameToolbar",onPropertyChange:!1,value:{obj:v}}),(v.bool||(0,n.xr)()&&"frame-toolbar"===i.currentToolbar)&&(t=!0),!o_bool&&(d&&!d.parentElement.classList.contains("e-hide")||p&&!p.parentElement.classList.contains("e-hide"))&&(c.classList.add("e-hide"),u||i.okBtn(),(0,n.xr)()?i.updateToolbar(i.element,"imageLoaded"):(i.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1}),i.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1}))),i.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:r}}),r.bool&&((0,n.xr)()?i.updateToolbar(i.element,"destroyQuickAccessToolbar"):i.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1})),void 0!==i.activeObj.shape&&(s=!0,"block"===i.textArea.style.display||"inline-block"===i.textArea.style.display?(i.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}}),(0,n.xr)()?i.updateToolbar(i.element,"destroyQuickAccessToolbar"):i.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1})):(i.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),i.objColl.push(i.activeObj)),i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}))}var g=this.lowerContext.filter,b=i.element.querySelector("#"+i.element.id+"_canvasWrapper");if(b&&(b.style.width=i.element.offsetWidth-2+"px"),i.lowerCanvas.width=i.upperCanvas.width=i.element.offsetWidth-2,i.toolbarTemplate?e=i.element.querySelector("#"+i.element.id+"_toolbarArea").clientHeight:i.element.querySelector("#"+i.element.id+"_toolbar")&&(e=i.element.querySelector("#"+i.element.id+"_toolbar").clientHeight),n.AR.isDevice&&o_bool&&(a=i.element.querySelector("#"+i.element.id+"_contextualToolbarArea").clientHeight),i.notify("toolbar",{prop:"setToolbarHeight",value:{height:e}}),n.AR.isDevice?b&&(b.style.height=i.element.offsetHeight-(2*e+a)-4+"px"):b&&(b.style.height=i.element.offsetHeight-e-2+"px"),i.lowerCanvas.height=i.upperCanvas.height=parseFloat(b.style.height),this.lowerContext.filter="brightness(1) contrast(100%) hue-rotate(0deg) saturate(100%) opacity(1) blur(0px) sepia(0%) grayscale(0%) invert(0%)",i.notify("filter",{prop:"setAdjustmentValue",onPropertyChange:!1,value:{adjustmentValue:this.lowerContext.filter}}),i.canvasFilter=this.lowerContext.filter,i.initialAdjustmentValue=this.lowerContext.filter,i.clearContext(this.lowerContext),i.clearContext(this.upperContext),i.isImageLoaded){if(i.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:null}}),i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.lowerContext.filter=g,i.initialAdjustmentValue=g,i.canvasFilter=this.lowerContext.filter,i.isImageLoaded&&(us(i.element),i.element.style.opacity="0.5"),this.lowerContext.clearRect(0,0,i.lowerCanvas.width,i.lowerCanvas.height),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),b){b.style.width=i.element.offsetWidth-2+"px",b.style.height=i.element.offsetHeight+"px";var C={toolbarHeight:(0,n.xr)()?i.toolbarHeight:0};(0,n.xr)()||i.notify("toolbar",{prop:"getToolbarHeight",value:{obj:C}}),b.style.height=n.AR.isDevice?parseFloat(b.style.height)-2*C.toolbarHeight-a-4+"px":parseFloat(b.style.height)-C.toolbarHeight-2+"px"}i.lowerCanvas.width=i.upperCanvas.width=parseFloat(b.style.width),i.lowerCanvas.height=i.upperCanvas.height=parseFloat(b.style.height),this.lowerContext.filter=g;var T={width:0,height:0};this.calcMaxDimension(i.img.srcWidth,i.img.srcHeight,T);var O=T;if(o_bool&&0!==i.transform.cropZoomFactor?(O.width+=O.width*i.transform.cropZoomFactor,O.height+=O.height*i.transform.cropZoomFactor):i.transform.defaultZoomFactor>0&&(O.width+=O.width*i.transform.defaultZoomFactor,O.height+=O.height*i.transform.defaultZoomFactor),i.img.destLeft=(i.lowerCanvas.clientWidth-O.width)/2,i.img.destTop=(i.lowerCanvas.clientHeight-O.height+1)/2,0===i.transform.degree&&""===i.transform.currFlipState)i.transform.defaultZoomFactor>0&&(i.img.destLeft+=i.panPoint.totalPannedPoint.x,i.img.destTop+=i.panPoint.totalPannedPoint.y),i.notify("draw",{prop:"draw-image-to-canvas",value:{dimension:O}});else{i.notify("draw",{prop:"draw-image-to-canvas",value:{dimension:O}}),i.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"initial",isPreventDestination:null,isRotatePan:null}});var j=this.lowerContext.filter;i.notify("draw",{prop:"drawImage",onPropertyChange:!1}),this.lowerContext.filter=j,i.notify("draw",{prop:"updateCurrTransState",onPropertyChange:!1,value:{type:"reverse",isPreventDestination:null,isRotatePan:null}})}i.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),i.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}}),i.isCircleCrop&&i.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),Ji(i.element),i.element.style.opacity="1";var Y={defToolbarItems:null};if(!(0,n.xr)()&&(i.notify("toolbar",{prop:"getDefToolbarItems",value:{obj:Y}}),Y.defToolbarItems&&Y.defToolbarItems.length>0&&document.getElementById(i.element.id+"_toolbar"))&&((0,n.Xr)(i.element.id+"_toolbar","toolbar").refreshOverflow(),c&&!o_bool&&c.classList.add("e-hide")),i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),s){var N=(0,n.l7)({},i.objColl[i.objColl.length-1],null,!0);i.objColl.pop(),0!==N.activePoint.width&&0!==N.activePoint.height&&(this.lowerContext.clearRect(0,0,i.lowerCanvas.width,i.lowerCanvas.height),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),i.objColl.push(N),i.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:!0}}),i.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),N=(0,n.l7)({},i.objColl[i.objColl.length-1],null,!0),i.objColl.pop(),this.lowerContext.clearRect(0,0,i.lowerCanvas.width,i.lowerCanvas.height),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),i.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:N}}),o_bool&&i.notify("draw",{prop:"setStraightenActObj",value:{activeObj:N}}),("rectangle"===i.activeObj.shape||"ellipse"===i.activeObj.shape||"text"===i.activeObj.shape||"line"===i.activeObj.shape||"arrow"===i.activeObj.shape||"path"===i.activeObj.shape||"image"===i.activeObj.shape)&&((0,n.xr)()?i.updateToolbar(i.element,"quickAccessToolbar",i.activeObj.shape):i.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}})))}if(r.bool&&((0,n.xr)()?i.updateToolbar(i.element,"quickAccessToolbar","pen"):i.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:!0}})),t?(0,n.xr)()?i.updateToolbar(i.element,"frame"):i.notify("toolbar",{prop:"callFrameToolbar",onPropertyChange:!1}):i.isResize&&(i.aspectWidth=Math.ceil(i.img.destWidth),i.aspectHeight=Math.ceil(i.img.destHeight),(0,n.xr)()?i.updateToolbar(i.element,"resize"):(i.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"resize",isApplyBtn:!1,isCropping:!1}}),i.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"resize",isApplyBtn:!1,isCropping:!1}}))),(0!==i.transform.degree||""!==i.transform.currFlipState)&&i.transform.defaultZoomFactor>0){var ne=(0,n.l7)({},i.panPoint.totalPannedPoint,null,!0),re=(0,n.l7)({},i.panPoint.totalPannedInternalPoint,null,!0),ce=(0,n.l7)({},i.panPoint.totalPannedClientPoint,null,!0);this.zoomAction(.1),this.zoomAction(-.1),0===i.transform.degree?(i.img.destLeft+=ne.x,i.img.destTop+=ne.y,i.panPoint.totalPannedPoint=ne,i.notify("draw",{prop:"updateFlipPan",value:{tempSelectionObj:null}})):(i.panPoint.totalPannedInternalPoint=re,i.panPoint.totalPannedClientPoint=ce,i.panPoint.currentPannedPoint={x:0,y:0},i.isCropTab=!0,this.rotatePan(),i.isCropTab=!1)}else 0!==i.transform.degree&&i.transform.cropZoomFactor>0&&(i.transform.zoomFactor=0,i.transform.cropZoomFactor=null,(0,n.xr)()?i.updateToolbar(i.element,"enableDisableToolbarBtn"):i.notify("toolbar",{prop:"enable-disable-btns",onPropertyChange:!1}))}},h.prototype.calcMaxDimension=function(i,e,t,s){var r={toolbarHeight:0},o=this.parent;(0,n.xr)()?r.toolbarHeight=o.toolbarHeight:o.notify("toolbar",{prop:"getToolbarHeight",value:{obj:r}});var a=s?o.element.clientWidth/3:o.element.clientWidth,d=s?(o.element.clientHeight-r.toolbarHeight)/3:o.element.clientHeight-r.toolbarHeight;if(d=n.AR.isDevice?d-r.toolbarHeight:d,n.AR.isDevice&&o.isStraightening){var c=o.element.querySelector("#"+o.element.id+"_contextualToolbarArea");d-=c?c.clientHeight:0}(0,n.le)(s)&&(a>30&&(a-=30),d>30&&(d-=30));var p=a/i,u=d/e,f=Math.min(i,a),v=Math.min(e,d);if(p<1&&p<u?(f=i*p,v=e*p):u<1&&u<p&&(f=i*u,v=e*u),(0,n.le)(s)){var g={bool:null};o.notify("crop",{prop:"getPreventScaling",onPropertyChange:!1,value:{obj:g}}),g.bool&&o.cropObj.activeObj.activePoint&&0!==o.cropObj.activeObj.activePoint.width&&0!==o.cropObj.activeObj.activePoint.height&&(f=o.cropObj.activeObj.activePoint.width,v=o.cropObj.activeObj.activePoint.height)}return t&&(t.width=f,t.height=v),{width:f,height:v}},h.prototype.updatePanPoints=function(){var i=this.parent,e=(0,n.l7)({},i.activeObj,{},!0),t=i.img.destLeft,s=i.img.destTop;(0,n.le)(this.tempPanMove)&&(this.tempPanMove={x:this.panMove.x,y:this.panMove.y});var r=this.panMove.x-this.tempPanMove.x,o=this.panMove.y-this.tempPanMove.y;i.img.destLeft+=r,i.img.destTop+=o,this.limitPan();var a={bool:null},d={isIntersect:null};i.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),i.notify("draw",{prop:"isLinesIntersect",onPropertyChange:!1,value:{obj:d}}),i.notify("draw",{prop:"isSelOutsideImg",onPropertyChange:!1,value:{obj:a}});for(var c=0;0!==i.transform.straighten&&(d.isIntersect||a.bool)&&(c++,i.img.destLeft=t,i.img.destTop=s,0!==r&&r>0?r-=1:0!==r&&r<0&&(r+=1),0!==o&&o>0?o-=1:0!==o&&o<0&&(o+=1),(0!==r||0!==o)&&200!==c);)i.img.destLeft+=r,i.img.destTop+=o,this.limitPan(),i.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),i.notify("draw",{prop:"isLinesIntersect",onPropertyChange:!1,value:{obj:d}}),i.notify("draw",{prop:"isSelOutsideImg",onPropertyChange:!1,value:{obj:a}});return i.activeObj=e,{x:i.img.destLeft-t,y:i.img.destTop-s}},h.prototype.resizeImage=function(i,e){var t=this.parent,s=!0,r=!0;t.allowDownScale=!1,t.img.srcLeft=0,t.img.srcTop=0,t.isAspectRatio=!0;var o=[];for(t.img.srcWidth=t.baseImgCanvas.width,t.img.srcHeight=t.baseImgCanvas.height,t.resizeSrc&&0!==t.resizeSrc.width&&0!==t.resizeSrc.height&&(t.img.srcLeft=t.resizeSrc.startX,t.img.srcTop=t.resizeSrc.startY,t.img.srcWidth=t.resizeSrc.width,t.img.srcHeight=t.resizeSrc.height);(i<t.img.destWidth||e<t.img.destHeight)&&r;)if(this.zoomAction(-.1,null,!0,!0),i>t.img.destWidth||e>t.img.destHeight)for(;i>t.img.destWidth||e>t.img.destHeight;)this.zoomAction(.0125,null,!0,!0),r=!1,o.push(t.img.destWidth);for(;(i>t.img.destWidth||e>t.img.destHeight)&&r&&s;)if(this.zoomAction(.1,null,!0,!0),i<t.img.destWidth||e<t.img.destHeight)for(;i<t.img.destWidth;)this.zoomAction(-.0125,null,!0,!0),s=!1,o.push(t.img.destWidth);for(var a=o[0],d=Math.abs(t.img.destWidth-a),c=0,p=o;c<p.length;c++){var u=p[c],f=Math.abs(i-u);f<d&&(a=u,d=f)}a<i&&s&&(this.zoomAction(-.0125,null,!0,!0),s=!1),a>i&&!s&&(this.zoomAction(.0125,null,!0,!0),s=!1),this.zoomAction(.0125,null,!0),t.allowDownScale=!0,this.zoomAction(-.0125,null,!0);var v=(0,n.l7)({},t.cropObj,{},!0),g=(0,n.l7)({},this.prevResizeCurrObj,{},!0);t.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"resize",previousObj:g,previousObjColl:g.objColl,previousPointColl:g.pointColl,previousSelPointColl:g.selPointColl,previousCropObj:v,previousText:null,currentText:null,previousFilter:null,isCircleCrop:t.isCircleCrop}}),t.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}})},h.prototype.resizeCrop=function(i,e){var t=this.parent,s=!0,r={prevObj:t.prevObj};t.cropObj=(0,n.l7)({},t.prevCropObj,{},!0),t.allowDownScale=!1,t.notify("toolbar",{prop:"getPrevObj",onPropertyChange:!1,value:{obj:r}});var o=(0,n.l7)({},r.prevObj.activeObj,{},!0);r.prevObj.activeObj=(0,n.l7)({},t.activeObj,{},!0),t.notify("draw",{prop:"setCurrentObj",onPropertyChange:!1,value:{obj:r.prevObj}}),t.objColl=(0,n.l7)([],r.prevObj.objColl,[],!0),t.pointColl=(0,n.l7)([],r.prevObj.pointColl,[],!0),t.transform.straighten=0,t.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),t.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),0===t.transform.straighten&&!this.isPreventSelect&&t.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1});var a=i,d=e,c=!1;if(e>=i&&e<=Math.ceil(t.img.destHeight)){for(;e<=Math.ceil(t.img.destHeight)&&s;)if(this.zoomAction(-.1,null,!0,!0),i>t.img.destWidth||e>t.img.destHeight)for(;i>t.img.destWidth||e>t.img.destHeight;)this.zoomAction(.0125,null,!0,!0),s=!1}else if(e<=i&&i<t.img.destWidth){for(;i<t.img.destWidth&&s;)if(this.zoomAction(-.1,null,!0,!0),i>t.img.destWidth||e>t.img.destHeight)for(;i>t.img.destWidth||e>t.img.destHeight;)this.zoomAction(.0125,null,!0,!0),s=!1}else if(e>=i&&e>=t.img.destHeight)for(;e>=t.img.destHeight&&s;)this.zoomAction(.1,null,!0,!0);else if(i>=e&&i>=t.img.destWidth){for(;i>=t.img.destWidth&&s;)this.zoomAction(.1,null,!0,!0);if(i<t.img.destWidth&&e<t.img.destHeight){for(;i<t.img.destWidth&&e<t.img.destHeight;)this.zoomAction(-.0125,null,!0,!0),s=!1;this.zoomAction(.0125,null,!0,!0)}}else if(e>t.img.destHeight&&i>t.img.destWidth){for(;e>t.img.destHeight&&i>t.img.destWidth&&s;)this.zoomAction(.1,null,!0,!0);if(i<t.img.destWidth&&e<t.img.destHeight){for(;i<t.img.destWidth&&e<t.img.destHeight;)this.zoomAction(-.0125,null,!0,!0),s=!1;this.zoomAction(.0125,null,!0,!0)}}if(this.resizeImg(o,i,e),i=a,(e=d)!==t.img.destHeight||i!==t.img.destWidth){for(;e>t.img.destHeight||i>t.img.destWidth;)this.zoomAction(.0125,null,!0,!0),c=!0;c&&(this.zoomAction(-.0125,null,!0,!0),c=!1)}if(e!==t.img.destHeight||i!==t.img.destWidth){for(;e<t.img.destHeight||i<t.img.destWidth;)this.zoomAction(-.0125,null,!0,!0),c=!0;c&&(this.zoomAction(-.0125,null,!0,!0),c=!1)}r.prevObj.activeObj=(0,n.l7)({},o,{},!0),this.zoomAction(.0125,null,!0),t.allowDownScale=!this.preventDownScale,t.isCropTab=!1,this.zoomAction(-.0125,null,!0),t.aspectWidth=i,t.aspectHeight=e},h.prototype.resizeImg=function(i,e,t){var s=this.parent,r=e/s.img.destWidth,o=t/s.img.destHeight;i.shape?(s.currSelectionPoint=i,s.notify("crop",{prop:"setInitCrop",onPropertyChange:!1,value:{bool:!0}})):s.img.srcWidth===s.baseImgCanvas.width&&s.img.srcHeight===s.baseImgCanvas.height&&(s.currSelectionPoint=null,s.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:"custom",startX:null,startY:null,width:null,height:null}})),(0,n.le)(s.currSelectionPoint)?s.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:"custom",startX:s.img.destLeft,startY:s.img.destTop,width:s.img.destWidth,height:s.img.destHeight}}):s.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:"custom",startX:null,startY:null,width:null,height:null}});for(var a=s.activeObj.activePoint.startX+s.activeObj.activePoint.width/2-(e=s.activeObj.activePoint.width*r)/2,d=s.activeObj.activePoint.startY+s.activeObj.activePoint.height/2-(t=s.activeObj.activePoint.height*o)/2,c=0;n.AR.isDevice&&c<500&&(a<0||d<0||a+e>s.img.destWidth||d+t>s.img.destHeight);)c++,a=s.activeObj.activePoint.startX+s.activeObj.activePoint.width/2-(e-=1)/2,d=s.activeObj.activePoint.startY+s.activeObj.activePoint.height/2-(t-=1)/2;if(s.transform.defaultZoomFactor=0,s.notify("draw",{prop:"setResizeSelect",value:{bool:!0}}),s.notify("draw",{prop:"setIsCropSelect",value:{bool:!0}}),s.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:"custom",startX:a,startY:d,width:e,height:t}}),s.notify("draw",{prop:"setResizeSelect",value:{bool:!1}}),0!==s.transform.straighten){var p={isIntersect:null,arr:null};for(s.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),s.notify("draw",{prop:"isLinesIntersect",onPropertyChange:!1,value:{obj:p}});p.arr[0]||p.arr[1]||p.arr[2]||p.arr[3];)this.zoomAction(.0125,null,!0),s.notify("draw",{prop:"updateImgCanvasPoints",onPropertyChange:!1}),s.notify("draw",{prop:"isLinesIntersect",onPropertyChange:!1,value:{obj:p}})}s.isCropToolbar=!0,s.crop(),s.isCropToolbar=!1},h.prototype.updateResize=function(){var i=this.parent;i.prevCropObj=(0,n.l7)({},i.cropObj,{},!0);var e={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:e}}),i.prevObj=e.currObj,i.currSelectionPoint&&i.prevCropObj.activeObj.shape&&(i.prevObj.activeObj=(0,n.l7)({},i.prevCropObj.activeObj,{},!0)),i.prevObj.objColl=(0,n.l7)([],i.objColl,[],!0),i.prevObj.pointColl=(0,n.l7)([],i.pointColl,[],!0),i.prevObj.afterCropActions=(0,n.l7)([],i.afterCropActions,[],!0);var t={selPointColl:null};i.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:t}}),i.prevObj.selPointColl=(0,n.l7)([],t.selPointColl,[],!0),i.resizeSrc={startX:i.img.srcLeft,startY:i.img.srcTop,width:i.img.srcWidth,height:i.img.srcHeight}},h.prototype.resize=function(i,e,t){var s=this,r=this.parent;r.isResize=!0,(0,n.le)(r.prevCropObj)&&(0,n.le)(r.prevObj)&&r.notify("transform",{prop:"updateResize",value:{bool:!1}});var o=r.element.querySelector("#"+r.element.id+"_aspectratio"),a=r.element.querySelector("#"+r.element.id+"_nonaspectratio");o&&a&&(r.notify("toolbar",{prop:"initResizeToolbar"}),n.AR.isDevice&&r.notify("toolbar",{prop:"init-main-toolbar",value:{isApplyBtn:!1,isDevice:!0,isOkBtn:!0,isResize:!0}}));var d={cancel:!1,previousWidth:Math.ceil(r.img.destWidth),previousHeight:Math.ceil(r.img.destHeight),width:Math.ceil(i),height:e&&0!==e?Math.ceil(e):r.aspectHeight?r.aspectHeight:Math.ceil(r.img.destHeight),isAspectRatio:t||!1};(0,n.xr)()?(0,n.xr)()&&r.events&&!0===r.events.imageResizing.hasDelegate&&!r.isResizeOkBtn?r.dotNetRef.invokeMethodAsync("OnImageResizingAsync","ImageResizing",d,null).then(function(c){s.resizeEventCancel=c.cancel,c.cancel?r.aspectHeight&&r.aspectWidth&&(r.aspectHeight=d.previousHeight,r.aspectWidth=d.previousWidth):s.resizeEventHandler(c)}):this.resizeEventCancel||this.resizeEventHandler(d):(r.trigger("resizing",d),d.cancel?r.aspectHeight&&r.aspectWidth&&(r.aspectHeight=d.previousHeight,r.aspectWidth=d.previousWidth):this.resizeEventHandler(d))},h.prototype.resizeEventHandler=function(i){var t,e=this.parent,s=e.element.querySelector("#"+e.element.id+"_resizeWidth"),r=e.element.querySelector("#"+e.element.id+"_resizeHeight"),o=e.element.querySelector(".e-ie-toolbar-e-resize-height-input .e-textbox"),a=e.element.querySelector(".e-ie-toolbar-e-resize-width-input .e-textbox");if(i.isAspectRatio)if((null==this.resizedImgAngle||this.resizedImgAngle!==e.transform.degree)&&(this.resizedImgAngle=e.transform.degree,t=!0),t){e.notify("transform",{prop:"resizeImage",value:{width:i.width,height:0}});var p,d=e.img.destWidth,c=e.img.destHeight;if(p=(0,n.xr)()?parseFloat(""===a.value?a.placeholder:a.value):parseFloat(""===s.value?s.placeholder:s.value),r){var f=(u=p/(d/c))%1>=.5||u%1<=-.5?Math.round(u):u<0?Math.ceil(u):Math.floor(u);if((0,n.Xr)(r,"numerictextbox").value=f,r.value=f.toString()+" px",e.aspectHeight=f,s&&""===s.value){var g=(u=parseFloat(""===r.value?r.placeholder:r.value)/(c/d))%1>=.5||u%1<=-.5?Math.round(u):u<0?Math.ceil(u):Math.floor(u);(0,n.Xr)(s,"numerictextbox").value=g,s.value=g.toString()+" px",e.aspectWidth=g}}else if(o){var u;f=(u=p/(d/c))%1>=.5||u%1<=-.5?Math.round(u):u<0?Math.ceil(u):Math.floor(u),o.value=f.toString(),e.aspectHeight=f,a&&""===a.value&&(g=(u=parseFloat(""===o.value?o.placeholder:o.value)/(c/d))%1>=.5||u%1<=-.5?Math.round(u):u<0?Math.ceil(u):Math.floor(u),a.value=g.toString(),e.aspectWidth=g)}}else e.notify("transform",{prop:"resizeImage",value:{width:i.width,height:null}});else null!==this.resizedImgAngle&&this.resizedImgAngle!==e.transform.degree&&(this.resizedImgAngle=e.transform.degree,t=!0),t?(e.notify("transform",{prop:"setPreventDownScale",value:{bool:!0}}),e.notify("transform",{prop:"resizeCrop",value:{width:i.width,height:i.height}}),e.notify("undo-redo",{prop:"setPreventUR",value:{bool:!0}}),e.okBtn(),e.notify("undo-redo",{prop:"setPreventUR",value:{bool:!1}}),e.resizeSrc={startX:e.img.srcLeft,startY:e.img.srcTop,width:e.img.srcWidth,height:e.img.srcHeight},(0,n.xr)()?e.updateToolbar(e.element,"resize"):(e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"resize",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),e.notify("transform",{prop:"setPreventDownScale",value:{bool:!1}}),e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"resize",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}))):e.notify("transform",{prop:"resizeCrop",value:{width:i.width,height:i.height}});this.resizedImgAngle=e.transform.degree,i={previousHeight:i.previousHeight,previousWidth:i.previousWidth,width:i.width,height:i.height,isAspectRatio:i.isAspectRatio},(0,n.xr)()&&e.isResizeOkBtn&&e.events&&!0===e.events.imageResized.hasDelegate&&e.dotNetRef.invokeMethodAsync("OnImageResizingAsync","ImageResized",null,{width:i.width,height:i.height,isAspectRatio:i.isAspectRatio})},h.prototype.straightenImage=function(i){var e=this.parent;e.toolbar&&0===e.toolbar.length&&e.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:"custom",startX:null,startY:null,width:null,height:null}}),(0,n.xr)()?e.performCropClick():e.notify("toolbar",{prop:"performCropTransformClick",value:{shape:null}}),e.setStraighten(i,!0),e.okBtn()},h}(),r_=function(){function h(i){this.undoRedoStep=0,this.undoRedoColl=[],this.appliedUndoRedoColl=[],this.tempUndoRedoColl=[],this.tempUndoRedoStep=0,this.isPreventing=!1,this.parent=i,this.addEventListener()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("undo-redo",this.undoRedo,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("undo-redo",this.undoRedo),this.parent.off("destroyed",this.destroy)},h.prototype.initializeUrPvtProp=function(){this.parent.lowerCanvas&&(this.lowerContext=this.parent.lowerCanvas.getContext("2d")),this.parent.upperCanvas&&(this.upperContext=this.parent.upperCanvas.getContext("2d"))},h.prototype.undoRedo=function(i){switch(this.initializeUrPvtProp(),i.prop){case"updateUndoRedoColl":this.updateUrc(i.value.operation,i.value.previousObj,i.value.previousObjColl,i.value.previousPointColl,i.value.previousSelPointColl,i.value.previousCropObj,i.value.previousText,i.value.currentText,i.value.previousFilter,i.value.isCircleCrop);break;case"refreshUrc":this.refreshUrc(i.value.bool);break;case"updateCurrUrc":this.updateCurrUrc(i.value.type);break;case"call-undo":this.callUndo();break;case"call-redo":this.callRedo();break;case"undo":this.undo();break;case"redo":this.redo();break;case"updateUrObj":this.updateUrObj(i.value.objColl,i.value.operation);break;case"updateUndoRedo":this.updateUndoRedo(i.value?i.value.operation:null);break;case"getAppliedUndoRedoColl":i.value.obj.appliedUndoRedoColl=this.appliedUndoRedoColl;break;case"getUndoRedoStep":i.value.obj.undoRedoStep=this.undoRedoStep;break;case"setUndoRedoStep":this.undoRedoStep=i.value.step;break;case"undoDefault":this.undoDefault(i.value.obj);break;case"setPreventUR":this.isPreventing=i.value.bool;break;case"reset":this.reset()}},h.prototype.getModuleName=function(){return"undo-redo"},h.prototype.reset=function(){this.tempCurrSelPoint=null,this.undoRedoStep=0,this.undoRedoColl=[],this.appliedUndoRedoColl=[],this.tempActObj=null,this.tempUndoRedoColl=[],this.tempUndoRedoStep=0,this.isPreventing=!1},h.prototype.refreshUrc=function(i){var e=this.parent;(i=i||!1)?((0,n.xr)()||e.notify("toolbar",{prop:"setEnableDisableUndoRedo",value:{isPrevent:!0}}),this.tempUndoRedoColl=(0,n.l7)([],this.appliedUndoRedoColl,[],!0),this.tempUndoRedoStep=this.undoRedoStep):(0,n.xr)()||e.notify("toolbar",{prop:"setEnableDisableUndoRedo",value:{isPrevent:!1}}),this.undoRedoColl=this.undoRedoColl.slice(0,this.undoRedoStep),this.appliedUndoRedoColl=this.appliedUndoRedoColl.slice(0,this.undoRedoStep),e.isUndoRedo=e.currObjType.isUndoAction=!1,(0,n.xr)()?e.updateToolbar(e.element,"enableDisableToolbarBtn"):e.notify("toolbar",{prop:"enable-disable-btns"})},h.prototype.updateCurrUrc=function(i){var e=this.parent;if(!e.isResize&&!this.isPreventing){if((0,n.xr)()||e.notify("toolbar",{prop:"setEnableDisableUndoRedo",value:{isPrevent:!1}}),"ok"===i){e.notify("draw",{prop:"setShapeTextInsert",onPropertyChange:!1,value:{bool:!1}});var t=(0,n.l7)([],this.tempUndoRedoColl.length>0?this.tempUndoRedoColl:this.undoRedoColl,[],!0),s=this.undoRedoColl[this.undoRedoColl.length-1],r=this.appliedUndoRedoColl[this.appliedUndoRedoColl.length-1],o=s?(0,n.l7)({},s.previousObj,{},!0):null;if((0,n.le)(r)?this.undoRedoColl[0]&&(s.previousCropObj=t[0].previousCropObj,s.previousObj=t[0].previousObj,s.previousObjColl=t[0].previousObjColl,s.previousPointColl=t[0].previousPointColl,s.previousText=t[0].previousText):"imageHFlip"!==s.operation&&"imageVFlip"!==s.operation&&(s.previousCropObj=r.currentCropObj,s.previousObj=r.currentObj,s.previousObjColl=r.currentObjColl,s.previousPointColl=r.currentPointColl,s.previousText=r.currentText,"frame"===s.operation&&s.previousObj&&o&&(s.previousObj.defaultZoom=o.defaultZoom,s.previousObj.zoomFactor=o.zoomFactor,s.previousObj.cropZoom=o.cropZoom)),s){if("imageHFlip"!==s.operation&&"imageVFlip"!==s.operation){var a=this.getZeroZoomObjPointValue(s.currentObjColl,s.currentPointColl);s.currentObjColl=a.obj,s.currentPointColl=a.point;var d={adjustmentLevel:null};e.notify("filter",{prop:"getAdjustmentLevel",onPropertyChange:!1,value:{obj:d}}),s.currentObj.adjustmentLevel=(0,n.l7)({},d.adjustmentLevel,{},!0),e.notify("filter",{prop:"setTempAdjVal"}),s.currentObj.currentFilter=e.currentFilter}this.appliedUndoRedoColl.push(s)}this.tempUndoRedoColl=[],this.tempUndoRedoStep=0}else this.tempUndoRedoColl.length>0&&(this.appliedUndoRedoColl=(0,n.l7)([],this.tempUndoRedoColl,[],!0),this.undoRedoStep=this.tempUndoRedoStep,this.tempUndoRedoColl=[],this.tempUndoRedoStep=0);this.appliedUndoRedoColl.length>16&&this.appliedUndoRedoColl.splice(0,1),this.undoRedoColl=[],this.undoRedoColl=(0,n.l7)([],this.appliedUndoRedoColl,[],!0),"ok"===i&&(this.undoRedoStep=this.undoRedoColl.length,(0,n.xr)()?e.updateToolbar(e.element,"enableDisableToolbarBtn"):e.notify("toolbar",{prop:"enable-disable-btns"})),e.transform.zoomFactor>0&&(e.togglePan=!0,e.notify("selection",{prop:"setDragCanvas",value:{bool:!0}}))}},h.prototype.cancelCropSelection=function(){var t,i=this.parent,e=!1;i.activeObj.shape&&(t=i.activeObj.shape.split("-")),(i.currObjType.isCustomCrop||t&&"crop"===t[0])&&(e=!0),e&&i.notify("draw",{prop:"performCancel",value:{isContextualToolbar:null}}),(0!==this.tempUndoRedoColl.length||0!==this.tempUndoRedoStep)&&(this.appliedUndoRedoColl=(0,n.l7)([],this.tempUndoRedoColl,[],!0),this.undoRedoColl=(0,n.l7)([],this.tempUndoRedoColl,[],!0),this.undoRedoStep=this.tempUndoRedoStep,this.tempUndoRedoColl=[],this.tempUndoRedoStep=0,(0,n.xr)()||i.notify("toolbar",{prop:"setEnableDisableUndoRedo",value:{isPrevent:!1}}))},h.prototype.refreshToolbarActions=function(){var i=this.parent;(0,n.xr)()?(0,n.le)(i.activeObj.shape)&&i.updateToolbar(i.element,"imageLoaded"):i.activeObj.shape?(i.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"shapes",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),i.notify("toolbar",{prop:"update-toolbar-items",onPropertyChange:!1})):i.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1})},h.prototype.applyCurrentChanges=function(){var i=this.parent;i.currObjType.isFiltered=!1,0===i.transform.zoomFactor&&(i.togglePan=!1,i.notify("selection",{prop:"setDragCanvas",value:{bool:!1}})),i.element.querySelector(".e-contextual-toolbar-wrapper")&&!(0,n.xr)()&&i.element.querySelector(".e-contextual-toolbar-wrapper").classList.add("e-hide"),i.togglePen&&(i.togglePen=!1,i.upperCanvas.style.cursor=i.cursor="default",this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height)),this.appliedUndoRedoColl.length>0&&(this.undoRedoColl=(0,n.l7)([],this.appliedUndoRedoColl,[],!0))},h.prototype.callUndo=function(){this.applyCurrentChanges(),this.undo()},h.prototype.callRedo=function(){this.applyCurrentChanges(),this.redo()},h.prototype.undo=function(){var i=this.parent;if(this.cancelCropSelection(),i.notify("draw",{prop:"resetFrameZoom",onPropertyChange:!1,value:{isOk:!1}}),!i.disabled&&i.isImageLoaded&&this.undoRedoStep>0){this.refreshToolbarActions(),i.activeObj.activePoint&&0!==i.activeObj.activePoint.width&&(this.tempActObj=i.activeObj),i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.undoRedoStep--,(0,n.xr)()?i.updateToolbar(i.element,"enableDisableToolbarBtn"):(i.notify("toolbar",{prop:"enable-disable-btns"}),i.element.querySelector(".e-contextual-toolbar-wrapper")&&i.element.querySelector(".e-contextual-toolbar-wrapper").classList.add("e-hide")),i.isUndoRedo=!0;var e=this.undoRedoColl[this.undoRedoStep];switch(i.currObjType.isUndoAction=this.undoRedoColl.length!==this.undoRedoStep,"textAreaCustomization"!==e.operation&&("block"===i.textArea.style.display||"inline-block"===i.textArea.style.display)&&(i.textArea.style.display="none"),i.notify("draw",{prop:"setCancelAction",onPropertyChange:!1,value:{bool:!0}}),i.cropObj=(0,n.l7)({},e.previousCropObj,{},!0),i.afterCropActions=e.previousObj.afterCropActions,this.lowerContext.filter=e.previousObj.filter,i.notify("filter",{prop:"setAdjustmentLevel",onPropertyChange:!1,value:{adjustmentLevel:e.previousObj.adjustmentLevel}}),i.notify("filter",{prop:"setTempAdjVal"}),i.currentFilter=e.previousObj.currentFilter,i.notify("filter",{prop:"setTempFilVal"}),i.canvasFilter=this.lowerContext.filter,i.initialAdjustmentValue=this.lowerContext.filter,i.notify("filter",{prop:"setBevelFilter",onPropertyChange:!1,value:{bevelFilter:this.lowerContext.filter}}),e.operation){case"shapeTransform":case"brightness":case"contrast":case"hue":case"saturation":case"opacity":case"blur":case"exposure":case"default":case"chrome":case"cold":case"warm":case"grayscale":case"blackandwhite":case"sepia":case"invert":case"sharpen":case"imageRotate":case"shapeInsert":this.shapeTransform(e.previousObjColl);break;case"freehanddraw":case"freehand-draw":this.updateFreehandDraw(e.previousPointColl,e.previousSelPointColl);break;case"freehanddrawCustomized":this.updateFreehandDrawCustomized(e.previousPointColl);break;case"deleteFreehandDrawing":case"deleteObj":this.updateDelete(e.operation,e.previousObjColl,e.previousPointColl,e.previousSelPointColl);break;case"textAreaCustomization":this.shapeTransform(e.previousObjColl),this.updateTextAreaCustomization(void 0,e.previousObjColl);break;case"text":this.updateText(e.previousObjColl,!0);break;case"frame":i.transform.zoomFactor=i.transform.defaultZoomFactor=e.previousObj.defaultZoom,i.setProperties({zoomSettings:{zoomFactor:e.previousObj.zoomFactor}},!0),i.notify("transform",{prop:"setPreviousZoomValue",onPropertyChange:!1,value:{previousZoomValue:i.zoomSettings.zoomFactor}}),(0,n.l7)(i.frameObj,e.previousObj.frameObj),i.notify("draw",{prop:"render-image",value:{isMouseWheel:!0,isPreventClearRect:null,isFrame:!0}});break;case"imageHFlip":this.imageFlip("horizontal",e.previousObjColl);break;case"imageVFlip":this.imageFlip("vertical",e.previousObjColl);break;default:this.undoDefault(e,!0),i.notify("filter",{prop:"set-adjustment",value:{operation:e.operation}}),i.notify("filter",{prop:"update-filter",value:{operation:e.operation,filter:e.filter}})}"crop"===e.operation?(e.previousObj.currSelectionPoint&&(i.currSelectionPoint=(0,n.l7)({},e.previousObj.currSelectionPoint,{},!0),i.currSelectionPoint&&(0,n.le)(i.currSelectionPoint.shape)&&(i.currSelectionPoint=null)),i.updateCropTransformItems(),i.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:"custom",startX:null,startY:null,width:null,height:null}}),i.isCircleCrop&&(i.isCircleCrop=!1,this.tempCurrSelPoint=(0,n.l7)({},i.currSelectionPoint,{},!0),i.currSelectionPoint=null),i.notify("draw",{prop:"performCancel",value:{isContextualToolbar:null,isUndoRedo:!0}}),i.currObjType.isActiveObj=!1,0!==i.transform.straighten&&i.notify("draw",{prop:"setStraightenActObj",value:{activeObj:null}})):"resize"===e.operation&&i.cropObj&&i.cropObj.activeObj&&(i.currSelectionPoint=(0,n.l7)({},i.cropObj.activeObj,{},!0)),this.undoRedoColl[this.undoRedoStep-1]&&this.undoRedoColl[this.undoRedoStep-1].isCircleCrop&&(i.isCircleCrop=!0,i.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}})),this.endUndoRedo(e.operation,!0)}},h.prototype.redo=function(){var i=this.parent;if(this.cancelCropSelection(),i.notify("draw",{prop:"resetFrameZoom",onPropertyChange:!1,value:{isOk:!1}}),!i.disabled&&i.isImageLoaded&&this.undoRedoStep<this.appliedUndoRedoColl.length){this.refreshToolbarActions(),this.undoRedoStep++,(0,n.xr)()?i.updateToolbar(i.element,"enableDisableToolbarBtn"):i.notify("toolbar",{prop:"enable-disable-btns"}),i.isUndoRedo=!0;var e=this.undoRedoColl[this.undoRedoStep-1];i.currObjType.isUndoAction=this.undoRedoColl.length!==this.undoRedoStep,"textAreaCustomization"!==e.operation&&("block"===i.textArea.style.display||"inline-block"===i.textArea.style.display)&&(i.textArea.style.display="none"),i.notify("draw",{prop:"setCancelAction",onPropertyChange:!1,value:{bool:!0}}),i.cropObj=(0,n.l7)({},e.currentCropObj,{},!0),i.afterCropActions=e.currentObj.afterCropActions,this.lowerContext.filter=e.currentObj.filter,!(0,n.xr)()&&i.element.querySelector(".e-contextual-toolbar-wrapper")&&i.element.querySelector(".e-contextual-toolbar-wrapper").classList.add("e-hide"),i.notify("filter",{prop:"setAdjustmentLevel",onPropertyChange:!1,value:{adjustmentLevel:e.currentObj.adjustmentLevel}}),i.notify("filter",{prop:"setTempAdjVal"}),i.currentFilter=e.currentObj.currentFilter,i.notify("filter",{prop:"setTempFilVal"}),i.canvasFilter=this.lowerContext.filter,i.initialAdjustmentValue=this.lowerContext.filter,i.notify("filter",{prop:"setBevelFilter",onPropertyChange:!1,value:{bevelFilter:this.lowerContext.filter}});var t=void 0;switch(e.operation){case"shapeTransform":case"brightness":case"contrast":case"hue":case"saturation":case"opacity":case"blur":case"exposure":case"default":case"chrome":case"cold":case"warm":case"grayscale":case"blackandwhite":case"sepia":case"invert":case"sharpen":case"imageRotate":case"shapeInsert":this.shapeTransform(e.currentObjColl);break;case"freehanddraw":case"freehand-draw":this.updateFreehandDraw(e.currentPointColl,e.currentSelPointColl);break;case"freehanddrawCustomized":this.updateFreehandDrawCustomized(e.currentPointColl);break;case"deleteFreehandDrawing":case"deleteObj":this.updateDelete(e.operation,e.currentObjColl,e.currentPointColl,e.currentSelPointColl);break;case"textAreaCustomization":this.shapeTransform(e.currentObjColl),this.updateTextAreaCustomization(t,e.currentObjColl);break;case"text":this.updateText(e.currentObjColl,!1);break;case"frame":(0,n.l7)(i.frameObj,e.currentObj.frameObj),i.notify("draw",{prop:"render-image",value:{isMouseWheel:!0,isPreventClearRect:null,isFrame:!0}});break;case"imageHFlip":this.imageFlip("horizontal",e.currentObjColl);break;case"imageVFlip":this.imageFlip("vertical",e.currentObjColl);break;default:i.objColl=[],i.pointColl=[],i.freehandCounter=0,i.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:[]}}}),i.notify("draw",{prop:"setCurrentObj",onPropertyChange:!1,value:{obj:e.currentObj,isUndoRedo:!0}}),i.img.destLeft=e.currentObj.destPoints.startX,i.img.destTop=e.currentObj.destPoints.startY,t=(0,n.l7)({},i.activeObj,{},!0),i.objColl=(0,n.l7)([],e.currentObjColl,[],!0),i.pointColl=(0,n.l7)([],e.currentPointColl,[],!0),i.freehandCounter=i.pointColl.length,i.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:(0,n.l7)([],e.currentSelPointColl,[],!0)}}}),i.transform.straighten=0,this.lowerContext.filter="none",i.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),i.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.lowerContext.filter=e.currentObj.filter,i.prevStraightenedDegree=i.transform.straighten,i.activeObj=t,this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),0!==i.activeObj.activePoint.width&&0!==i.activeObj.activePoint.height&&i.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),i.notify("filter",{prop:"set-adjustment",value:{operation:e.operation}}),i.notify("filter",{prop:"update-filter",value:{operation:e.operation}})}"crop"===e.operation&&e.isCircleCrop&&(i.isCircleCrop=!0,i.currSelectionPoint=(0,n.l7)({},this.tempCurrSelPoint,{},!0),this.tempCurrSelPoint=null),"crop"===e.operation&&!e.isCircleCrop&&(i.isCircleCrop=!1),"crop"===e.operation&&e.currentObj.currSelectionPoint&&(i.currSelectionPoint=(0,n.l7)({},e.currentObj.currSelectionPoint,{},!0),i.notify("draw",{prop:"setStraightenActObj",value:{activeObj:i.currSelectionPoint}})),i.currSelectionPoint&&(0,n.le)(i.currSelectionPoint.shape)&&(i.currSelectionPoint=null),"resize"===e.operation&&i.cropObj&&i.cropObj.activeObj&&(i.currSelectionPoint=(0,n.l7)({},i.cropObj.activeObj,{},!0)),this.endUndoRedo(e.operation,!1)}},h.prototype.imageFlip=function(i,e){var t=this.parent;this.shapeTransform(e),t.activeObj=(0,n.l7)({},t.objColl[t.objColl.length-1],{},!0);var s=t.activeObj,r=s.shape,o=s.isHorImageFlip,a=s.isVerImageFlip;t.objColl.pop(),r&&"image"===r?("horizontal"===i?(0,n.le)(o)&&a?(t.activeObj.isHorImageFlip=!0,t.activeObj.isVerImageFlip=null,t.horizontalFlip(this.upperContext,!0)):(t.activeObj.isHorImageFlip=!(!(0,n.le)(o)&&o)||null,t.horizontalFlip(this.upperContext,!0)):"vertical"===i&&((0,n.le)(a)&&o?(t.activeObj.isVerImageFlip=!0,t.activeObj.isHorImageFlip=null,t.verticalFlip(this.upperContext,!0)):(t.activeObj.isVerImageFlip=!(!(0,n.le)(a)&&a)||null,t.verticalFlip(this.upperContext,!0))),t.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:!0}})):t.notify("draw",{prop:"render-image",value:{isMouseWheel:!0}})},h.prototype.shapeTransform=function(i){var e=this.parent;e.objColl=(0,n.l7)([],i,[],!0),e.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),e.isUndoRedo=!0,e.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1}),e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1})},h.prototype.updateFreehandDraw=function(i,e){var t=this.parent;t.pointColl=i,t.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:e}}}),t.freehandCounter=t.pointColl.length,t.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.lowerContext.clearRect(0,0,t.lowerCanvas.width,t.lowerCanvas.height),this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),t.isUndoRedo=!0,t.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1})},h.prototype.updateFreehandDrawCustomized=function(i){var e=this.parent;e.pointColl=i,e.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),this.upperContext.clearRect(0,0,e.upperCanvas.width,e.upperCanvas.height),e.isUndoRedo=!0,e.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1})},h.prototype.updateDelete=function(i,e,t,s){var r=this.parent;"deleteFreehandDrawing"===i?(r.pointColl=t,r.freehandCounter=r.pointColl.length,r.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:s}}}),r.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}})):"deleteObj"===i&&(r.objColl=e,r.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}})),this.lowerContext.clearRect(0,0,r.lowerCanvas.width,r.lowerCanvas.height),this.upperContext.clearRect(0,0,r.upperCanvas.width,r.upperCanvas.height),r.isUndoRedo=!0,r.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1})},h.prototype.updateTextAreaCustomization=function(i,e){var t=this.parent;t.objColl=(0,n.l7)([],e,[],!0),t.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:!0}}),this.lowerContext.clearRect(0,0,t.lowerCanvas.width,t.lowerCanvas.height),t.isUndoRedo=!0,t.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1});for(var s=0,r=e.length;s<r;s++){if(!this.tempActObj){i=(0,n.l7)({},e[e.length-1],{},!0),t.objColl.splice(s,1);break}if(this.tempActObj.currIndex===e[s].currIndex){i=(0,n.l7)({},e[s],{},!0),t.objColl.splice(s,1);break}}i&&this.updateTextBox(i),("block"===t.textArea.style.display||"inline-block"===t.textArea.style.display)&&t.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}})},h.prototype.updateText=function(i,e){var t=this.parent;if(this.tempActObj&&(t.activeObj=(0,n.l7)({},this.tempActObj,{},!0)),0===i.length&&1===t.objColl.length)this.tempActObj=(0,n.l7)({},t.objColl[0],{},!0);else for(var s=0,r=t.objColl.length;s<r;s++){if(t.objColl[s]&&(0,n.le)(i[s])){this.tempActObj=(0,n.l7)({},t.objColl[s],{},!0);break}if(i[s].currIndex!==t.objColl[s].currIndex){this.tempActObj=(0,n.l7)({},t.objColl[s],{},!0);break}}e&&(t.activeObj=(0,n.l7)({},this.tempActObj,{},!0)),t.objColl=(0,n.l7)([],i,[],!0),t.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:!0}}),this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),this.lowerContext.clearRect(0,0,t.lowerCanvas.width,t.lowerCanvas.height),t.isUndoRedo=!0,t.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1}),t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1})},h.prototype.updateTextBox=function(i){var e=this.parent;this.upperContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),this.lowerContext.clearRect(0,0,e.lowerCanvas.width,e.lowerCanvas.height),e.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1}),(0,n.xr)()?e.updateToolbar(e.element,"destroyQuickAccessToolbar"):e.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1});var t=e.textArea;t.style.display="block",t.style.fontFamily=i.textSettings.fontFamily,t.style.fontSize=i.textSettings.fontSize+"px",t.style.color=i.strokeSettings.strokeColor,t.style.fontWeight=i.textSettings.bold?"bold":"normal",t.style.fontStyle=i.textSettings.italic?"italic":"normal",t.style.border="2px solid "+e.themeColl[e.theme].primaryColor,t.value=i.keyHistory,e.activeObj=(0,n.l7)({},i,{},!0),e.notify("shape",{prop:"updateFontStyles",onPropertyChange:!1,value:{isTextBox:null}}),e.textArea.style.width=e.activeObj.activePoint.width+"px"},h.prototype.undoDefault=function(i,e){this.lowerContext.filter=i.previousObj.filter;var t=this.parent;t.objColl=[],t.pointColl=[],t.freehandCounter=0,t.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:[]}}}),t.notify("draw",{prop:"setCurrentObj",onPropertyChange:!1,value:{obj:i.previousObj,isUndoRedo:e}}),t.prevStraightenedDegree=t.transform.straighten,this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),t.img.destLeft=i.previousObj.destPoints.startX,t.img.destTop=i.previousObj.destPoints.startY;var s=(0,n.l7)({},t.activeObj,{},!0);t.objColl=(0,n.l7)([],i.previousObjColl,[],!0),t.pointColl=(0,n.l7)([],i.previousPointColl,[],!0),t.freehandCounter=t.pointColl.length,t.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:(0,n.l7)([],i.previousSelPointColl,[],!0)}}}),t.transform.straighten=0,this.lowerContext.filter="none",t.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),t.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.lowerContext.filter=i.previousObj.filter,t.activeObj=s,this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),0!==t.activeObj.activePoint.width&&0!==t.activeObj.activePoint.height&&t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}})},h.prototype.endUndoRedo=function(i,e){var t=this.parent;if((t.currSelectionPoint&&"crop-circle"===t.currSelectionPoint.shape||t.isCircleCrop)&&JSON.stringify(t.frameObj)!==JSON.stringify({type:"none",color:"#fff",size:20,inset:20,offset:20,radius:0,amount:1,border:"solid",gradientColor:""})&&t.notify("draw",{prop:"render-image",value:{isMouseWheel:!0}}),t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),t.isCircleCrop&&(e&&"crop"!==i||!e)&&t.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}}),t.transform.zoomFactor>0&&t.notify("selection",{prop:"setDragCanvas",value:{bool:!0}}),t.notify("draw",{prop:"setCancelAction",onPropertyChange:!1,value:{bool:!1}}),(0,n.xr)()?((0,n.le)(t.activeObj.shape)||"crop"!==t.activeObj.shape.split("-")[0])&&(t.updateToolbar(t.element,"imageLoaded"),t.updateToolbar(t.element,"enableDisableToolbarBtn")):(t.activeObj.shape&&"crop"===t.activeObj.shape.split("-")[0]?t.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:!0,isCropping:!0,isZooming:null,cType:null}}):t.notify("toolbar",{prop:"refresh-main-toolbar",onPropertyChange:!1}),t.notify("toolbar",{prop:"enable-disable-btns"})),document.getElementById(t.element.id+"_quickAccessToolbarArea")&&(document.getElementById(t.element.id+"_quickAccessToolbarArea").style.display="none"),(0,n.xr)()?t.updateToolbar(t.element,"enableDisableToolbarBtn"):t.notify("toolbar",{prop:"enable-disable-btns"}),0!==t.transform.degree&&t.notify("transform",{prop:"drawPannedImage",onPropertyChange:!1,value:{xDiff:0,yDiff:0}}),t.notify("filter",{prop:"setAdjustmentValue",onPropertyChange:!1,value:{adjustmentValue:this.lowerContext.filter}}),t.currObjType.isCustomCrop=!1,(0,n.xr)()&&t.events&&!0===t.events.historyChanged.hasDelegate){var r=this.getImageAction(i);t.dotNetRef.invokeMethodAsync("OnHistoryChangedAsync",{length:this.undoRedoColl.length,index:this.undoRedoStep,actionTrigger:e?"Undo":"Redo",imageAction:r})}},h.prototype.getImageAction=function(i){return-1!==["brightness","contrast","saturation","opacity","blur","hue"].indexOf(i)?"FinetuneApplied":-1!==["chrome","cold","warm","grayscale","blackandwhite","sepia","invert"].indexOf(i)?"FilterApplied":"frame"===i?"FrameApplied":"resize"===i?"ImageResized":-1!==["deleteFreehandDrawing","deleteObj"].indexOf(i)?"ShapeDeleted":"crop"===i?"Cropped":-1!==["shapeInsert","freehanddraw","freehand-draw"].indexOf(i)?"ShapeInserted":"ShapeCustomized"},h.prototype.updateUrc=function(i,e,t,s,r,o,a,d,c,p){var u=this.parent;if(!u.isResize&&!this.isPreventing){var f={isInitialLoaded:!1};if(u.currObjType.isUndoAction&&this.refreshUrc(!0),u.notify("draw",{prop:"isInitialLoaded",onPropertyChange:!1,value:{object:f}}),!f.isInitialLoaded&&u.allowUndoRedo){var v={currObj:{}};u.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:v}});var g=v.currObj;g.objColl=(0,n.l7)([],u.objColl,[],!0),g.pointColl=(0,n.l7)([],u.pointColl,[],!0),g.afterCropActions=(0,n.l7)([],u.afterCropActions,[],!0);var b={selPointColl:null};if(u.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:b}}),g.selPointColl=(0,n.l7)([],b.selPointColl,[],!0),"crop"===i)g.currSelectionPoint=(0,n.l7)({},u.currSelectionPoint,{},!0);else if("frame"===i)e.destPoints={startX:u.frameDestPoints.destLeft,startY:u.frameDestPoints.destTop,width:u.frameDestPoints.destWidth,height:u.frameDestPoints.destHeight},g.destPoints={startX:u.frameDestPoints.destLeft,startY:u.frameDestPoints.destTop,width:u.frameDestPoints.destWidth,height:u.frameDestPoints.destHeight},(0,n.le)(u.tempFrameZoomLevel)||(e.defaultZoom=g.defaultZoom=u.tempFrameZoomLevel);else if(("imageHFlip"===i||"imageVFlip"===i)&&this.appliedUndoRedoColl.length>0){var C=t[t.length-1].currIndex;if(t=this.appliedUndoRedoColl[this.appliedUndoRedoColl.length-1].currentObjColl,C)for(var T=0,O=t.length;T<O;T++)if(t[T].currIndex===C){var j=(0,n.l7)({},t[T],{},!0);t.splice(T,1),t.push(j);break}}if(this.undoRedoColl.push({operation:i,previousObj:e,currentObj:g,previousObjColl:t,currentObjColl:g.objColl,previousPointColl:s,currentPointColl:g.pointColl,previousSelPointColl:r,currentSelPointColl:g.selPointColl,previousCropObj:o,currentCropObj:(0,n.l7)({},u.cropObj,{},!0),previousText:a,currentText:d,filter:c,isCircleCrop:p}),(0,n.xr)()){if("pen-toolbar"!==u.currentToolbar){var Y=null;"text-toolbar"===u.currentToolbar&&"textAreaCustomization"===i&&(Y="textAreaClicked"),u.updateToolbar(u.element,"enableDisableToolbarBtn",Y)}}else u.notify("toolbar",{prop:"enable-disable-btns",onPropertyChange:!1})}}},h.prototype.updateUrObj=function(i,e){var t=this.parent;if(t.allowUndoRedo){t.currObjType.isUndoAction&&this.refreshUrc(!0),(0,n.le)(t.activeObj.imageRatio)&&t.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),t.objColl.push(t.activeObj);var s=(0,n.l7)({},t.cropObj,{},!0),r={currObj:{}};t.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:r}});var o=r.currObj;o.objColl=(0,n.l7)([],t.objColl,[],!0),o.pointColl=(0,n.l7)([],t.pointColl,[],!0),o.afterCropActions=(0,n.l7)([],t.afterCropActions,[],!0);var a={selPointColl:null};t.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:a}}),o.selPointColl=(0,n.l7)([],a.selPointColl,[],!0),this.undoRedoColl.push({operation:e||"shapeTransform",previousObj:o,currentObj:o,previousObjColl:i,currentObjColl:o.objColl,previousPointColl:o.pointColl,currentPointColl:o.pointColl,previousSelPointColl:o.selPointColl,currentSelPointColl:o.selPointColl,previousCropObj:s,currentCropObj:s}),t.notify("selection",{prop:"redrawShape",onPropertyChange:!1,value:{obj:t.objColl[t.objColl.length-1]}})}},h.prototype.updateUndoRedo=function(i){var e=this.parent,t=(0,n.l7)({},e.cropObj,{},!0),s={currObj:{}};e.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:s}});var r=s.currObj;r.objColl=(0,n.l7)([],e.objColl,[],!0),r.pointColl=(0,n.l7)([],e.pointColl,[],!0),r.afterCropActions=(0,n.l7)([],e.afterCropActions,[],!0);var o={selPointColl:null};e.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:o}}),r.selPointColl=(0,n.l7)([],o.selPointColl,[],!0),(0,n.le)(e.activeObj.imageRatio)&&e.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),e.objColl.push(e.activeObj),this.updateUrc(i||"shapeTransform",r,r.objColl,r.pointColl,r.selPointColl,t),e.objColl.pop(),e.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:null}}),e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),(0,n.xr)()?e.updateToolbar(e.element,"imageLoaded"):(e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"shapes",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}),e.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}))},h.prototype.getZeroZoomObjPointValue=function(i,e){var t=this.parent,s={currObj:{}};t.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:s}});var r=s.currObj;r.objColl=(0,n.l7)([],t.objColl,[],!0),r.pointColl=(0,n.l7)([],t.pointColl,[],!0),r.afterCropActions=(0,n.l7)([],t.afterCropActions,[],!0);var o={selPointColl:null};t.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:o}}),r.selPointColl=(0,n.l7)([],o.selPointColl,[],!0);var a={cropDimension:null};t.notify("transform",{prop:"getCropDimension",onPropertyChange:!1,value:{obj:a}});var d=(0,n.l7)([],t.objColl,[],!0),c=(0,n.l7)([],t.pointColl,[],!0),p={arrowDimension:null};this.parent.notify("draw",{prop:"getArrowDimension",onPropertyChange:!1,value:{obj:p}});var u=(0,n.l7)({},p.arrowDimension,{},!0);if(t.transform.zoomFactor>0&&(i.length>0||e.length>0)){if(i.length>0)for(var f=0;f<i.length;f++)i[f].currIndex||(i[f].currIndex="shape_"+(f+1));t.objColl=i,t.pointColl=e;var v=t.isUndoRedo,g=t.isCropTab;if(0!==t.transform.zoomFactor){t.isUndoRedo=!0,t.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:!0}}),t.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:!0}}),t.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1}),t.isCropTab=!0;var b=(0,n.l7)({},t.zoomSettings,null,!0);t.notify("transform",t.transform.zoomFactor>0?{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-t.transform.zoomFactor,zoomPoint:null,isResize:null}}:{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:Math.abs(t.transform.zoomFactor),zoomPoint:null,isResize:null}}),t.zoomSettings=b,t.isCropTab=g,t.isUndoRedo=v,d=(0,n.l7)([],t.objColl,[],!0),c=(0,n.l7)([],t.pointColl,[],!0),t.objColl=[],t.pointColl=[],t.freehandCounter=0,t.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:[]}}}),t.notify("transform",{prop:"setCropDimension",onPropertyChange:!1,value:{width:a.cropDimension.width,height:a.cropDimension.height}});var C={width:a.cropDimension.width,height:a.cropDimension.height};C.width+=C.width*r.defaultZoom,C.height+=C.height*r.defaultZoom,t.notify("draw",{prop:"setZoomCropWidth",value:{width:C.width,height:C.height}}),t.notify("draw",{prop:"setCurrentObj",onPropertyChange:!1,value:{obj:r}}),t.img.destLeft=r.destPoints.startX,t.img.destTop=r.destPoints.startY,t.panPoint.totalPannedPoint=r.totalPannedPoint,t.panPoint.totalPannedClientPoint=r.totalPannedClientPoint,t.panPoint.totalPannedInternalPoint=r.totalPannedInternalPoint,t.objColl=(0,n.l7)([],r.objColl,[],!0),t.pointColl=(0,n.l7)([],r.pointColl,[],!0),t.freehandCounter=t.pointColl.length,t.notify("draw",{prop:"setArrowDimension",onPropertyChange:!1,value:{arrowDimension:u}}),t.notify("freehand-draw",{prop:"setSelPointColl",onPropertyChange:!1,value:{obj:{selPointColl:(0,n.l7)([],r.selPointColl,[],!0)}}}),this.lowerContext.filter="none",t.transform.straighten=0,this.applyImgTranform(),t.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),t.notify("freehand-draw",{prop:"freehandRedraw",onPropertyChange:!1,value:{context:this.lowerContext,points:null}}),t.notify("freehand-draw",{prop:"updateFHDCurPts",onPropertyChange:!1}),this.lowerContext.filter=r.filter,0!==t.transform.degree&&t.notify("transform",{prop:"drawPannedImage",onPropertyChange:!1,value:{xDiff:0,yDiff:0}}),t.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),(t.isCircleCrop||t.currSelectionPoint&&"crop-circle"===t.currSelectionPoint.shape)&&t.notify("crop",{prop:"cropCircle",onPropertyChange:!1,value:{context:this.lowerContext,isSave:null,isFlip:null}})}}return{obj:d,point:c}},h.prototype.applyImgTranform=function(){for(var i=this.parent,e=(0,n.l7)({},i.activeObj,{},!0),t=0,s=i.objColl.length;t<s;t++)if("image"===i.objColl[t].shape){i.activeObj=(0,n.l7)({},i.objColl[t],{},!0);var r=i.objColl[t].imageCanvas.getContext("2d");i.notify("selection",{prop:"applyTransformToImg",onPropertyChange:!1,value:{ctx:r}}),this.upperContext.clearRect(0,0,i.upperCanvas.width,i.upperCanvas.height),i.notify("selection",{prop:"setImageClarity",onPropertyChange:!1,value:{bool:!0}})}i.activeObj=e},h}(),ah=function(){var h=function(i,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])})(i,e)};return function(i,e){function t(){this.constructor=i}h(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),Ue=function(h,i,e,t){var o,s=arguments.length,r=s<3?i:null===t?t=Object.getOwnPropertyDescriptor(i,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(h,i,e,t);else for(var a=h.length-1;a>=0;a--)(o=h[a])&&(r=(s<3?o(r):s>3?o(i,e,r):o(i,e))||r);return s>3&&r&&Object.defineProperty(i,e,r),r},tT=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return ah(i,h),Ue([(0,n.Z9)(null)],i.prototype,"brightness",void 0),Ue([(0,n.Z9)(null)],i.prototype,"contrast",void 0),Ue([(0,n.Z9)(null)],i.prototype,"hue",void 0),Ue([(0,n.Z9)(null)],i.prototype,"saturation",void 0),Ue([(0,n.Z9)(null)],i.prototype,"exposure",void 0),Ue([(0,n.Z9)(null)],i.prototype,"opacity",void 0),Ue([(0,n.Z9)(null)],i.prototype,"blur",void 0),i}(n.rt),iT=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return ah(i,h),Ue([(0,n.Z9)(null)],i.prototype,"zoomTrigger",void 0),Ue([(0,n.Z9)(1)],i.prototype,"minZoomFactor",void 0),Ue([(0,n.Z9)(10)],i.prototype,"maxZoomFactor",void 0),Ue([(0,n.Z9)(1)],i.prototype,"zoomFactor",void 0),Ue([(0,n.Z9)(null)],i.prototype,"zoomPoint",void 0),i}(n.rt),sT=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return ah(i,h),Ue([(0,n.Z9)(!0)],i.prototype,"showCircle",void 0),Ue([(0,n.Z9)(null)],i.prototype,"strokeColor",void 0),Ue([(0,n.Z9)(null)],i.prototype,"fillColor",void 0),i}(n.rt),rT=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return ah(i,h),Ue([(0,n.Z9)("Arial")],i.prototype,"default",void 0),Ue([(0,n.Z9)(null)],i.prototype,"items",void 0),i}(n.rt),nT=function(h){function i(t,s){var r=h.call(this,t)||this;return r.isImageLoaded=!1,r.activeObj={activePoint:{startX:0,startY:0,endX:0,endY:0,width:0,height:0},flipObjColl:[],triangle:[],triangleRatio:[],rotatedAngle:0,opacity:1},r.currObjType={shape:"",isDragging:!1,isActiveObj:!1,isText:!1,isInitialText:!1,isLine:!1,isInitialLine:!1,isCustomCrop:!1,isZoomed:!1,isUndoZoom:!1,isUndoAction:!1,isFiltered:!1,isSave:!1,isResize:!1},r.objColl=[],r.pointColl={},r.freehandCounter=0,r.points=[],r.togglePen=!1,r.togglePan=!1,r.img={destLeft:0,destTop:0,destWidth:0,destHeight:0,srcLeft:0,srcTop:0,srcWidth:0,srcHeight:0},r.rotateFlipColl=[],r.cropObj={cropZoom:0,defaultZoom:0,totalPannedPoint:{x:0,y:0},totalPannedClientPoint:{x:0,y:0},totalPannedInternalPoint:{x:0,y:0},tempFlipPanPoint:{x:0,y:0},activeObj:{},rotateFlipColl:[],degree:0,currFlipState:"",straighten:0,destPoints:{startX:0,startY:0,width:0,height:0},srcPoints:{startX:0,startY:0,width:0,height:0},filter:"",isBrightAdjust:!1,zoomFactor:0,previousZoomValue:0,aspectWidth:null,aspectHeight:null,frame:"none",straightenZoom:0,adjustmentLevel:{brightness:0,contrast:0,hue:0,opacity:100,saturation:0,blur:0,exposure:0,transparency:100,sharpen:!1,bw:!1},currentFilter:""},r.afterCropActions=[],r.transform={degree:0,currFlipState:"",zoomFactor:0,cropZoomFactor:null,defaultZoomFactor:0,straighten:0},r.panPoint={currentPannedPoint:{x:0,y:0},totalPannedPoint:{x:0,y:0},totalPannedInternalPoint:{x:0,y:0},totalPannedClientPoint:{x:0,y:0}},r.isUndoRedo=!1,r.isCropTab=!1,r.isCircleCrop=!1,r.fontSizeColl=[],r.initialAdjustmentValue="",r.currentFilter="",r.canvasFilter="brightness(1) contrast(100%) hue-rotate(0deg) saturate(100%) opacity(1) blur(0px) sepia(0%) grayscale(0%) invert(0%)",r.toolbarHeight=0,r.isPublicMethod=!1,r.isCropToolbar=!1,r.cursor="default",r.resizeSrc={startX:r.img.srcLeft,startY:r.img.srcTop,width:r.img.srcWidth,height:r.img.srcHeight},r.isResize=!1,r.isAspectRatio=!1,r.frameObj={type:"none",color:"#fff",size:20,inset:20,offset:20,radius:0,amount:1,border:"solid",gradientColor:""},r.tempFrameObj={type:"none",color:"#fff",size:20,inset:20,offset:20,radius:0,amount:1,border:"solid",gradientColor:""},r.allowDownScale=!0,r.gradientColor="",r.size=20,r.inset=0,r.offset=0,r.borderRadius=0,r.lineCount=0,r.prevStraightenedDegree=0,r.tempStraighten=0,r.isStraightening=!1,r.isFinetuning=!1,r.isZoomBtnClick=!1,r.isFinetuneBtnClick=!1,r.isFilterCanvasClick=!1,r.isFrameBtnClick=!1,r.isChangesSaved=!1,(0,n.xr)()?(new GC(r),new QC(r),new KC(r),new e_(r),new t_(r),new i_(r),new s_(r),new r_(r),new $C(r)):(e.Inject(GC,QC,t_,s_,$C,pT),e.Inject(r_),e.Inject(KC),e.Inject(i_),e.Inject(e_),s&&r.appendTo(s)),r}var e;return ah(i,h),e=i,i.prototype.requiredModules=function(){var t=[];return t.push({member:"crop",args:[this]}),t.push({member:"draw",args:[this]}),t.push({member:"selection",args:[this]}),t.push({member:"transform",args:[this]}),t.push({member:"export",args:[this]}),t.push({member:"toolbar-module",args:[this]}),t.push({member:"undo-redo",args:[this]}),t.push({member:"filter",args:[this]}),t.push({member:"shape",args:[this]}),t.push({member:"freehand-draw",args:[this]}),t},i.prototype.preRender=function(){this.element.id=this.element.id||(0,n.QI)("ej2-image-editor"),n.AR.isDevice&&this.element.classList.add("e-device"),this.initializeThemeColl()},i.prototype.render=function(){this.initialize()},i.prototype.getModuleName=function(){return"image-editor"},i.prototype.getPersistData=function(){return this.addOnPersist([])},i.prototype.onPropertyChanged=function(t,s){for(var r,o=0,a=Object.keys(t);o<a.length;o++)switch(a[o]){case"cssClass":s.cssClass&&(0,n.IV)([this.element],s.cssClass.replace(/\s+/g," ").trim().split(" ")),t.cssClass&&(0,n.cn)([this.element],t.cssClass.replace(/\s+/g," ").trim().split(" "));break;case"disabled":t.disabled?(this.element.classList.add("e-disabled"),this.unwireEvent()):(this.element.classList.remove("e-disabled"),this.wireEvent());break;case"height":this.element.style.height=t.height,this.update();break;case"width":this.element.style.width=t.width,this.update();break;case"theme":t.theme&&(this.theme=this.theme&&""!==this.theme?this.toPascalCase(this.theme):"Bootstrap5",this.upperContext.strokeStyle=this.themeColl[this.theme].primaryColor,this.upperContext.fillStyle=this.themeColl[this.theme].secondaryColor,(0,n.xr)()?this.updateToolbar(this.element,"imageLoaded"):this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}));break;case"finetuneSettings":t.finetuneSettings&&(this.finetuneSettings=t.finetuneSettings,this.notify("filter",{prop:"update-finetunes"}));break;case"locale":t.locale&&(this.notify("toolbar",{prop:"setLocale",onPropertyChange:!1,value:{locale:t.locale}}),(0,n.xr)()?this.updateToolbar(this.element,"imageLoaded"):this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}));break;case"allowUndoRedo":this.allowUndoRedo=!!t.allowUndoRedo,(0,n.xr)()?this.updateToolbar(this.element,"imageLoaded"):this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}});break;case"showQuickAccessToolbar":t.showQuickAccessToolbar?(this.showQuickAccessToolbar=!0,(0,n.xr)()||this.notify("toolbar",{prop:"create-qa-toolbar",onPropertyChange:!1}),this.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:r={freehandSelectedIndex:null}}}),this.activeObj.shape?(0,n.xr)()?this.updateToolbar(this.element,"quickAccessToolbar",this.activeObj.shape):this.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}}):r.freehandSelectedIndex&&((0,n.xr)()?this.updateToolbar(this.element,"quickAccessToolbar","pen"):this.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:!0}}))):(this.showQuickAccessToolbar=!1,(0,n.xr)()?this.updateToolbar(this.element,"destroyQuickAccessToolbar"):this.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1}));break;case"zoomSettings":t.zoomSettings&&(this.zoomSettings.zoomTrigger=t.zoomSettings.zoomTrigger),(0,n.le)(this.zoomSettings.zoomTrigger)?(this.zoomSettings.zoomTrigger=oi.MouseWheel|oi.Pinch|oi.Toolbar|oi.Commands,(0,n.xr)()?this.updateToolbar(this.element,"imageLoaded"):this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}})):(t.zoomSettings.zoomTrigger&oi.Toolbar)===oi.Toolbar&&((0,n.xr)()?this.updateToolbar(this.element,"imageLoaded"):this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}));break;case"selectionSettings":t.selectionSettings&&(this.selectionSettings=t.selectionSettings,this.activeObj.shape&&(this.upperContext.clearRect(0,0,this.upperCanvas.width,this.upperCanvas.height),this.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:this.activeObj}})));break;case"toolbar":t.toolbar&&(this.toolbar=t.toolbar,(0,n.xr)()?this.updateToolbar(this.element,"imageLoaded"):this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}}));break;case"toolbarTemplate":t.toolbarTemplate&&((0,n.xr)()||(this.notify("toolbar",{prop:"destroy-bottom-toolbar",onPropertyChange:!1}),this.notify("toolbar",{prop:"destroy-top-toolbar",onPropertyChange:!1}),this.element.appendChild(this.createElement("div",{id:this.element.id+"_toolbarArea",className:"e-toolbar-area"})),this.toolbarTemplateFn()));break;case"quickAccessToolbarTemplate":t.quickAccessToolbarTemplate&&((0,n.xr)()||(this.notify("toolbar",{prop:"destroy-qa-toolbar",onPropertyChange:!1}),this.quickAccessToolbarTemplateFn()))}},i.prototype.destroy=function(){var t=[];this.element.removeAttribute("tabindex"),this.cssClass&&(t=t.concat(this.cssClass.replace(/\s+/g," ").trim().split(" "))),(0,n.IV)([this.element],t),this.element.getAttribute("class")||this.element.removeAttribute("class"),(0,n.xr)()?this.element.classList.remove("e-image-editor"):(this.notify("toolbar",{prop:"destroySubComponents",onPropertyChange:!1}),this.notify("destroyed",null),h.prototype.destroy.call(this)),this.unwireEvent(),this.element.innerHTML=""},i.prototype.initialize=function(){if(this.toolbarTemplate?(this.element.appendChild(this.createElement("div",{id:this.element.id+"_toolbarArea",className:"e-toolbar-area"})),this.toolbarTemplateFn()):(this.notify("toolbar",{prop:"create-toolbar",onPropertyChange:!1}),this.notify("toolbar",{prop:"create-contextual-toolbar",onPropertyChange:!1})),this.createCanvas(),this.element.offsetWidth>359&&this.element.querySelector(".e-ie-min-drop-content")&&this.element.querySelector(".e-ie-drop-content")&&(this.element.querySelector(".e-ie-min-drop-content").style.display="none",this.element.querySelector(".e-ie-drop-content").style.display="block"),this.createDropUploader(),this.showQuickAccessToolbar){document.querySelector("#"+this.element.id+"_canvasWrapper").appendChild(this.createElement("div",{id:this.element.id+"_quickAccessToolbarArea",className:"e-quick-access-toolbar-area"}));var s=document.getElementById(this.element.id+"_quickAccessToolbarArea");s.style.position="absolute",s.style.display="none",this.activeObj&&(s.style.left=this.activeObj.activePoint.startX+"px",s.style.top=this.activeObj.activePoint.startY+"px"),s.style.width="100%"}this.quickAccessToolbarTemplate?this.quickAccessToolbarTemplateFn():this.notify("toolbar",{prop:"create-qa-toolbar",onPropertyChange:!1}),this.wireEvent(),this.lowerContext=this.lowerCanvas.getContext("2d"),this.upperContext=this.upperCanvas.getContext("2d"),this.inMemoryContext=this.inMemoryCanvas.getContext("2d"),this.lowerContext.filter=this.getDefaultFilter(),this.notify("filter",{prop:"setAdjustmentValue",onPropertyChange:!1,value:{adjustmentValue:this.lowerContext.filter}}),this.canvasFilter=this.lowerContext.filter,this.notify("toolbar",{prop:"setInitialAdjustmentValue",onPropertyChange:!1,value:{value:this.lowerContext.filter}}),this.cssClass&&(0,n.cn)([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.element&&Mn({target:this.element}),this.initializeZoomSettings()},i.prototype.createDropUploader=function(){var t=this;new Ol({dropArea:document.getElementsByClassName("e-canvas-wrapper")[0],allowedExtensions:".jpg, .jpeg, .png,.svg",multiple:!1,selected:function(r){if("change"===r.event.type||"drop"===r.event.type){var o=r.filesData[0].type,a="unsupported";"change"!==r.event.type&&("drop"!==r.event.type||1!==r.event.dataTransfer.files.length)||"png"!==o&&"jpg"!==o&&"jpeg"!==o&&"svg"!==o?("drop"===r.event.type&&r.event.dataTransfer.files.length>1&&(a="multi-select-image"),t.showDialogPopup(a)):t.notify("draw",{prop:"fileSelect",value:{inputElement:t.element.querySelector("#"+t.element.id+"_dropfileUpload"),args:r}})}}}).appendTo("#"+this.element.id+"_dropfileUpload")},i.prototype.dlgCloseBtnClick=function(){(0,n.Xr)(document.getElementById(this.element.id+"_dialog"),"dialog").destroy()},i.prototype.showDialogPopup=function(t){var s="";this.element.querySelector("#"+this.element.id+"_dialog").style.display="block";var r,o={key:"OK"};if(this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:o}}),"multi-select-image"===t)this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:r={key:"ImageErrorDialogHeader"}}}),this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:a={key:"ImageErrorDialogContent"}}}),s="<span>"+a.value+"</span>";else{var a;this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:r={key:"AlertDialogHeader"}}}),this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:a={key:"AlertDialogContent"}}});var d={key:"SupportText"};this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:d}}),s="<span>"+a.value+" "+d.value+"<b> JPG, PNG, and SVG</b></span>"}new Ju({header:r.value,closeOnEscape:!0,content:s,target:document.getElementById("target"),width:"285px",isModal:!0,animationSettings:{effect:"Zoom"},close:this.dlgCloseBtnClick.bind(this),buttons:[{click:this.dlgCloseBtnClick.bind(this),buttonModel:{content:o.value,iconCss:"e-icons e-close"}}]}).appendTo("#"+this.element.id+"_dialog")},i.prototype.wireEvent=function(){n.bi.add(document,"keydown",this.keyDownEventHandler,this),n.bi.add(document,"keypress",this.keyUpEventHandler,this),n.bi.add(this.upperCanvas,"mousedown",this.mouseDownEventHandler,this),n.bi.add(this.upperCanvas,"mousemove",this.mouseMoveEventHandler,this),n.bi.add(this.upperCanvas,"mouseup",this.mouseUpEventHandler,this),n.bi.add(document,"mouseup",this.mouseUpEventHandler,this),n.bi.add(this.lowerCanvas,"mousedown",this.canvasMouseDownHandler,this),n.bi.add(this.lowerCanvas,"mousemove",this.canvasMouseMoveHandler,this),n.bi.add(this.lowerCanvas,"mouseup",this.canvasMouseUpHandler,this),n.bi.add(this.upperCanvas,"touchstart",this.touchStartHandler,this),n.bi.add(this.lowerCanvas,"touchstart",this.touchStartHandler,this),n.bi.add(this.lowerCanvas,"mousewheel DOMMouseScroll",this.handleScroll,this),n.bi.add(this.upperCanvas,"mousewheel DOMMouseScroll",this.handleScroll,this),window.addEventListener("resize",this.windowResizeHandler.bind(this)),!n.AR.isIos&&"safari"!==n.AR.info.name&&screen.orientation.addEventListener("change",this.screenOrientation.bind(this)),this.notify("shape",{prop:"wireEvent",onPropertyChange:!1})},i.prototype.unwireEvent=function(){n.bi.remove(document,"keydown",this.keyDownEventHandler),n.bi.remove(document,"keypress",this.keyUpEventHandler),n.bi.remove(this.upperCanvas,"mousedown",this.mouseDownEventHandler),n.bi.remove(this.upperCanvas,"mousemove",this.mouseMoveEventHandler),n.bi.remove(this.upperCanvas,"mouseup",this.mouseUpEventHandler),n.bi.remove(document,"mouseup",this.mouseUpEventHandler),n.bi.remove(this.lowerCanvas,"mousedown",this.canvasMouseDownHandler),n.bi.remove(this.lowerCanvas,"mousemove",this.canvasMouseMoveHandler),n.bi.remove(this.lowerCanvas,"mouseup",this.canvasMouseUpHandler),n.bi.remove(this.upperCanvas,"touchstart",this.touchStartHandler),n.bi.remove(this.lowerCanvas,"touchstart",this.touchStartHandler),n.bi.remove(this.lowerCanvas,"mousewheel DOMMouseScroll",this.handleScroll),n.bi.remove(this.upperCanvas,"mousewheel DOMMouseScroll",this.handleScroll),window.removeEventListener("resize",this.windowResizeHandler.bind(this)),!n.AR.isIos&&"safari"!==n.AR.info.name&&screen.orientation.removeEventListener("change",this.screenOrientation.bind(this)),this.notify("shape",{prop:"unWireEvent",onPropertyChange:!1}),this.notify("selection",{prop:"unWireEvent",onPropertyChange:!1})},i.prototype.createCanvas=function(){this.element.style.boxSizing="border-box";var t={toolbarHeight:0};this.notify("toolbar",{prop:"getToolbarHeight",value:{obj:t}});var s=t.toolbarHeight;this.element.style.width=this.width,this.element.style.height=this.height;var r=this.element.appendChild(this.createElement("div",{id:this.element.id+"_canvasWrapper",className:"e-canvas-wrapper",attrs:{style:"height:"+(this.element.offsetHeight-s-2)+"px; width:"+(this.element.offsetWidth-2)+"px; position: relative; overflow: hidden; margin: 0 auto;"}})),o={key:"DragText"};this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:o}});var a={key:"DropText"};this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:a}});var d={key:"BrowseText"};this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:d}});var c={key:"SupportText"};this.notify("toolbar",{prop:"getLocaleText",onPropertyChange:!1,value:{obj:c}});var p=this.createElement("div",{id:this.element.id+"_dropArea",className:"e-ie-drop-area",attrs:{style:"position: relative;"}}),u=this.createElement("span",{className:"e-ie-drop-icon e-icons e-image",attrs:{style:"position: absolute;"}}),f=this.createElement("span",{className:"e-ie-drop-content",attrs:{style:"position: absolute; display: none;"}});f.textContent=o.value+" ";var v=this.createElement("span",{className:"e-ie-min-drop-content",attrs:{style:"position: absolute;"}});v.textContent=a.value+" ";var g=this.createElement("a",{id:this.element.id+"_dropBrowse",className:"e-ie-drop-browse"});g.textContent=d.value;var b=this.createElement("a",{id:this.element.id+"_dropBrowse",className:"e-ie-drop-browse"});b.textContent=d.value,f.appendChild(g),v.appendChild(b),g.href="",b.href="";var C=this.createElement("span",{className:"e-ie-drop-info",attrs:{position:"absolute"}});C.textContent=c.value+" SVG, PNG, and JPG";var T=p.appendChild(this.createElement("input",{id:this.element.id+"_dropfileUpload",className:"e-fileUpload e-image-upload"}));T.setAttribute("type","file"),T.setAttribute("accept","image/*"),p.appendChild(u),p.appendChild(f),p.appendChild(v),p.appendChild(C),r.appendChild(p),this.lowerCanvas=r.appendChild(this.createElement("canvas",{id:this.element.id+"_lowerCanvas",attrs:{name:"canvasImage"}})),this.upperCanvas=r.appendChild(this.createElement("canvas",{id:this.element.id+"_upperCanvas",attrs:{name:"canvasImage"}})),this.inMemoryCanvas=this.createElement("canvas",{id:this.element.id+"_inMemoryCanvas",attrs:{name:"canvasImage"}}),this.baseImgCanvas=this.createElement("canvas",{id:this.element.id+"_baseImgCanvas",attrs:{name:"canvasImage"}}),this.textArea=r.appendChild(this.createElement("textarea",{id:this.element.id+"_textArea",className:"e-textarea",attrs:{name:"textArea"}})),this.element.appendChild(this.createElement("div",{id:this.element.id+"_dialog",className:"e-dialog"})).style.display="none";var j=this.element.appendChild(this.createElement("input",{id:this.element.id+"_fileUpload",className:"e-fileUpload"}));j.setAttribute("type","file"),j.setAttribute("accept","image/*"),j.style.display="none",this.textArea.setAttribute("spellcheck","false"),this.textArea.style.lineHeight="normal",this.lowerCanvas.style.width=this.upperCanvas.style.width=this.inMemoryCanvas.style.width="100%",this.lowerCanvas.style.height=this.upperCanvas.style.height=this.inMemoryCanvas.style.height="100%",this.upperCanvas.style.position=this.lowerCanvas.style.position=this.textArea.style.position="absolute",this.textArea.style.backgroundColor="transparent",this.textArea.style.display="none",this.textArea.style.resize="none",this.lowerContext=this.lowerCanvas.getContext("2d"),this.baseImg=this.createElement("img",{id:this.element.id+"_orgImg",attrs:{name:"Image",crossorigin:"anonymous"}}),this.upperCanvas.style.cursor=this.cursor="default",this.upperCanvas.style.display="block",this.upperContext=this.upperCanvas.getContext("2d"),g.addEventListener("click",function(Y){return Y.preventDefault(),T.click(),!1}),b.addEventListener("click",function(Y){return Y.preventDefault(),T.click(),!1})},i.prototype.touchStartHandler=function(t){this.notify("selection",{prop:"touchStartHandler",onPropertyChange:!1,value:{e:t}})},i.prototype.mouseDownEventHandler=function(t){"e-ie-drop-browse"!==t.target.className&&this.notify("selection",{prop:"mouseDownEventHandler",onPropertyChange:!1,value:{e:t}})},i.prototype.mouseMoveEventHandler=function(t){this.notify("selection",{prop:"mouseMoveEventHandler",onPropertyChange:!1,value:{e:t}})},i.prototype.mouseUpEventHandler=function(t){"e-ie-drop-browse"!==t.target.className&&this.notify("selection",{prop:"mouseUpEventHandler",onPropertyChange:!1,value:{e:t}})},i.prototype.keyDownEventHandler=function(t){this.notify("selection",{prop:"keyDownEventHandler",onPropertyChange:!1,value:{e:t}})},i.prototype.keyUpEventHandler=function(t){("block"===this.textArea.style.display||"inline-block"===this.textArea.style.display)&&t.target.id===this.element.id+"_textArea"&&this.notify("selection",{prop:"textKeyDown",value:{e:t}})},i.prototype.canvasMouseDownHandler=function(t){"e-ie-drop-browse"!==t.target.className&&this.notify("selection",{prop:"canvasMouseDownHandler",onPropertyChange:!1,value:{e:t}})},i.prototype.canvasMouseMoveHandler=function(t){this.notify("selection",{prop:"canvasMouseMoveHandler",onPropertyChange:!1,value:{e:t}})},i.prototype.canvasMouseUpHandler=function(t){"e-ie-drop-browse"!==t.target.className&&this.notify("selection",{prop:"canvasMouseUpHandler",onPropertyChange:!1,value:{e:t}})},i.prototype.handleScroll=function(t){this.notify("selection",{prop:"handleScroll",onPropertyChange:!1,value:{e:t}})},i.prototype.adjustToScreen=function(){this.update()},i.prototype.screenOrientation=function(){n.AR.isDevice&&setTimeout(this.adjustToScreen.bind(this),100)},i.prototype.windowResizeHandler=function(){!n.AR.isDevice&&this.element.classList.contains("e-image-editor")&&this.adjustToScreen()},i.prototype.notifyResetForAllModules=function(){for(var t=this.requiredModules(),s=0;s<t.length;s++)this.notify(t[s].member,{prop:"reset",onPropertyChange:!1})},i.prototype.allowShape=function(t,s){this.isPublicMethod=!0;var r={inRange:!1};return this.notify("shape",{prop:"isPointsInRange",onPropertyChange:!1,value:{x:t,y:s,obj:r}}),r.inRange},i.prototype.clearSelection=function(){this.notify("selection",{prop:"clearSelection",onPropertyChange:!1})},i.prototype.crop=function(){var t={isCrop:!1};return this.notify("crop",{prop:"crop",onPropertyChange:!1,value:{obj:t}}),t.isCrop},i.prototype.flip=function(t){this.notify("transform",{prop:"flip",value:{direction:t}}),this.notify("draw",{prop:"redrawDownScale"}),this.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}})},i.prototype.getImageData=function(){var t={canvas:null};return this.notify("export",{prop:"exportToCanvas",value:{object:t}}),t.canvas.getContext("2d").getImageData(0,0,t.canvas.width,t.canvas.height)},i.prototype.open=function(t){(0,n.le)(t)||(document.getElementById(this.element.id+"_dropArea").style.display="none",this.notify("draw",{prop:"open",value:{data:t}}))},i.prototype.reset=function(){var t={isErrorImage:!1};if(this.notify("draw",{prop:"getErrorImage",value:{obj:t}}),!this.disabled&&!t.isErrorImage){this.clearContext(this.inMemoryContext),this.clearContext(this.lowerContext),this.clearContext(this.upperContext),this.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),(0,n.xr)()||(this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:!1,isCropping:!1,isZooming:null,cType:null}}),n.AR.isDevice&&document.getElementById(this.element.id+"_bottomToolbar")&&((0,n.Xr)(document.getElementById(this.element.id+"_bottomToolbar"),"toolbar").destroy(),this.notify("toolbar",{prop:"create-bottom-toolbar",onPropertyChange:!1})));var s=this.isImageLoaded;this.currObjType.isUndoAction=this.isUndoRedo=this.togglePan=this.togglePen=this.isImageLoaded=this.isFinetuning=!1,this.isCircleCrop=this.isCropTab=!1,this.objColl=[],this.transform.degree=0,this.upperCanvas.style.display="block",this.transform.currFlipState="",this.allowDownScale=!0,this.upperCanvas.style.cursor=this.cursor=this.lowerCanvas.style.cursor="default",this.lowerContext.lineWidth=this.upperContext.lineWidth=void 0,this.frameDestPoints=null,this.textArea.value=this.textArea.textContent="",this.textArea.style.display="none",this.lowerContext.filter=this.canvasFilter=this.getDefaultFilter(),this.img.destLeft=this.img.destTop=this.img.srcLeft=this.img.srcTop=0,this.img.destWidth=this.img.destHeight=this.img.srcWidth=this.img.srcHeight=null,this.currSelectionPoint=null,this.panPoint.currentPannedPoint={x:0,y:0},this.rotateFlipColl=[],this.points=[],this.pointColl={},this.freehandCounter=0,this.notify("draw",{prop:"resetPanPoints"}),this.lowerCanvas.style.left=this.upperCanvas.style.left="",this.fontSizeColl=[],this.lowerCanvas.style.top=this.upperCanvas.style.top="",this.lowerCanvas.style.maxWidth=this.upperCanvas.style.maxWidth="",this.lowerCanvas.style.maxHeight=this.upperCanvas.style.maxHeight="",this.transform.defaultZoomFactor=this.transform.zoomFactor=0,this.transform.cropZoomFactor=null,this.frameObj={type:"none",color:"#fff",size:20,inset:20,offset:20,radius:0,amount:1,border:"solid",gradientColor:""},this.tempFrameObj={type:"none",color:"#fff",size:20,inset:20,offset:20,radius:0,amount:1,border:"solid",gradientColor:""},this.currObjType={shape:"",isDragging:!1,isActiveObj:!1,isText:!1,isInitialText:!1,isLine:!1,isInitialLine:!1,isCustomCrop:!1,isZoomed:!1,isUndoZoom:!1,isUndoAction:!1,isFiltered:!1,isSave:!1,isResize:!1},this.cropObj={cropZoom:0,defaultZoom:0,totalPannedPoint:{x:0,y:0},totalPannedClientPoint:{x:0,y:0},totalPannedInternalPoint:{x:0,y:0},tempFlipPanPoint:{x:0,y:0},activeObj:{},rotateFlipColl:[],degree:0,currFlipState:"",straighten:0,zoomFactor:0,previousZoomValue:0,destPoints:{startX:0,startY:0,width:0,height:0},frame:"none",srcPoints:{startX:0,startY:0,width:0,height:0},filter:"",isBrightAdjust:!1,aspectWidth:null,aspectHeight:null,straightenZoom:0,adjustmentLevel:{brightness:0,contrast:0,hue:0,opacity:100,saturation:0,blur:0,exposure:0,transparency:100,sharpen:!1,bw:!1},currentFilter:""},this.afterCropActions=[],this.currentFilter="",this.tempFrameZoomLevel=null,this.cxtTbarHeight=null,this.straightenPoint=null,this.transform.straighten=0,this.cancelCropSelection=null,this.aspectWidth=this.aspectHeight=null,this.isResize=!1;var r={initialZoomValue:!1};this.notify("draw",{prop:"getInitialZoomValue",onPropertyChange:!1,value:{obj:r}}),r.initialZoomValue&&this.setProperties({zoomSettings:{zoomFactor:r.initialZoomValue}},!0);var o=document.getElementById(this.element.id+"_quickAccessToolbarArea");if(o&&(o.style.display="none"),this.notifyResetForAllModules(),this.notify("filter",{prop:"update-finetunes"}),(0,n.xr)()||(this.toolbarTemplate?this.toolbarHeight=this.element.querySelector("#"+this.element.id+"_toolbarArea").clientHeight:this.element.querySelector("#"+this.element.id+"_toolbar")&&(this.toolbarHeight=this.element.querySelector("#"+this.element.id+"_toolbar").clientHeight),this.notify("toolbar",{prop:"setToolbarHeight",value:{height:this.toolbarHeight}})),this.isImageLoaded=s,this.straightenBaseImageCanvas(),this.isImageLoaded=!1,this.notify("draw",{prop:"update-canvas",onPropertyChange:!1}),this.isImageLoaded=s,this.prevStraightenedDegree=0,(0,n.xr)())this.activeObj.textSettings.fontFamily=this.defaultFontFamily;else{var a=this.element.querySelector(".e-contextual-toolbar-wrapper");a&&a.classList.add("e-hide"),this.notify("toolbar",{prop:"refresh-dropdown-btn",value:{isDisabled:!1}}),this.notify("toolbar",{prop:"enable-disable-btns"}),n.AR.isDevice&&this.isStraightening&&this.notify("crop",{prop:"resizeWrapper"})}}},i.prototype.rotate=function(t){var s={isRotate:!1};return this.notify("transform",{prop:"rotate",value:{degree:t,obj:s}}),this.notify("draw",{prop:"redrawDownScale"}),this.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),s.isRotate},i.prototype.export=function(t,s){this.notify("export",{prop:"export",onPropertyChange:!1,value:{type:t,fileName:s}})},i.prototype.select=function(t,s,r,o,a){this.notify("toolbar",{prop:"performCropTransformClick",value:{shape:"crop-"+t}}),this.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:t,startX:s,startY:r,width:o,height:a}}),this.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:t,startX:s,startY:r,width:o,height:a}})},i.prototype.freeHandDraw=function(t){this.notify("freehand-draw",{prop:"freeHandDraw",onPropertyChange:!1,value:{value:t}})},i.prototype.freehandDraw=function(t){!this.disabled&&this.isImageLoaded&&this.freeHandDraw(t)},i.prototype.pan=function(t){this.notify("transform",{prop:"pan",onPropertyChange:!1,value:{value:t}})},i.prototype.zoom=function(t,s){this.isZoomBtnClick=!0,this.notify("transform",{prop:"zoom",onPropertyChange:!1,value:{zoomFactor:t,zoomPoint:s}}),this.notify("draw",{prop:"redrawDownScale"})},i.prototype.drawEllipse=function(t,s,r,o,a,d,c,p){var u=!1,f=this.allowShape(t,s);return!this.disabled&&this.isImageLoaded&&(f||(0,n.le)(t)&&(0,n.le)(s))&&(u=!0,this.notify("shape",{prop:"drawEllipse",onPropertyChange:!1,value:{x:t,y:s,radiusX:r,radiusY:o,strokeWidth:a,strokeColor:d,fillColor:c,degree:p}}),this.notify("draw",{prop:"redrawDownScale"})),u},i.prototype.drawLine=function(t,s,r,o,a,d){var c=!1,p=this.allowShape(t,s);return!this.disabled&&this.isImageLoaded&&(p||(0,n.le)(t)&&(0,n.le)(s))&&(c=!0,this.notify("shape",{prop:"drawLine",onPropertyChange:!1,value:{startX:t,startY:s,endX:r,endY:o,strokeWidth:a,strokeColor:d}}),this.notify("draw",{prop:"redrawDownScale"})),c},i.prototype.drawArrow=function(t,s,r,o,a,d,c,p){var u=!1,f=this.allowShape(t,s);return!this.disabled&&this.isImageLoaded&&(f||(0,n.le)(t)&&(0,n.le)(s))&&(u=!0,this.notify("shape",{prop:"drawArrow",onPropertyChange:!1,value:{startX:t,startY:s,endX:r,endY:o,strokeWidth:a,strokeColor:d,arrowStart:c,arrowEnd:p}}),this.notify("draw",{prop:"redrawDownScale"})),u},i.prototype.drawPath=function(t,s,r,o){this.isPublicMethod=!0;var a={inRange:!1},d=!1;if(t&&t.length>0)for(var c=0;c<t.length&&!a.inRange;c++)this.notify("shape",{prop:"isPointsInRange",onPropertyChange:!1,value:{x:t[c].x,y:t[c].y,obj:a}});return!this.disabled&&this.isImageLoaded&&(a.inRange||(0,n.le)(t))&&(d=!0,this.notify("shape",{prop:"drawPath",onPropertyChange:!1,value:{pointColl:t,strokeWidth:s,strokeColor:r}}),this.notify("draw",{prop:"redrawDownScale"})),d},i.prototype.drawRectangle=function(t,s,r,o,a,d,c,p){var u=!1,f=this.allowShape(t,s);return!this.disabled&&this.isImageLoaded&&(f||(0,n.le)(t)&&(0,n.le)(s))&&(u=!0,this.notify("shape",{prop:"drawRectangle",onPropertyChange:!1,value:{x:t,y:s,width:r,height:o,strokeWidth:a,strokeColor:d,fillColor:c,degree:p}}),this.notify("draw",{prop:"redrawDownScale"})),u},i.prototype.drawText=function(t,s,r,o,a,d,c,p){var u=!1,f=this.allowShape(t,s);return!this.disabled&&this.isImageLoaded&&(f||(0,n.le)(t)&&(0,n.le)(s))&&(u=!0,this.notify("shape",{prop:"drawText",onPropertyChange:!1,value:{x:t,y:s,text:r,fontFamily:o,fontSize:a,bold:d,italic:c,color:p}}),this.notify("draw",{prop:"redrawDownScale"})),u},i.prototype.drawImage=function(t,s,r,o,a,d,c,p){var u=!1,f=this.allowShape(s,r);if(!this.disabled&&this.isImageLoaded&&(f||(0,n.le)(s)&&(0,n.le)(r))){var v=this.objColl.length;this.notify("shape",{prop:"drawImage",onPropertyChange:!1,value:{x:s,y:r,width:o,height:a,src:t,degree:c,isAspectRatio:d,opacity:p}}),this.notify("draw",{prop:"redrawDownScale"}),this.objColl.length>v&&(u=!0)}return u},i.prototype.selectShape=function(t){var s={isSelected:!1};return this.notify("shape",{prop:"selectShape",onPropertyChange:!1,value:{id:t,obj:s}}),this.notify("draw",{prop:"redrawDownScale"}),s.isSelected},i.prototype.deleteShape=function(t){this.notify("shape",{prop:"deleteShape",onPropertyChange:!1,value:{id:t}}),this.notify("draw",{prop:"redrawDownScale"})},i.prototype.getShapeSetting=function(t){var s={};return this.notify("shape",{prop:"getShapeSetting",onPropertyChange:!1,value:{id:t,obj:s}}),this.notify("draw",{prop:"redrawDownScale"}),s},i.prototype.getShapeSettings=function(){var t={shapeDetailsColl:[]};return this.notify("shape",{prop:"getShapeSettings",onPropertyChange:!1,value:{obj:t}}),this.notify("draw",{prop:"redrawDownScale"}),t.shapeDetailsColl},i.prototype.update=function(){this.notify("transform",{prop:"update"})},i.prototype.finetuneImage=function(t,s){!this.disabled&&this.isImageLoaded&&(this.notify("filter",{prop:"finetuneImage",value:{value:s,option:t}}),this.notify("draw",{prop:"redrawDownScale"}))},i.prototype.applyImageFilter=function(t){!this.disabled&&this.isImageLoaded&&(this.notify("filter",{prop:"applyImageFilter",value:{option:t.toString()}}),this.notify("draw",{prop:"redrawDownScale"}),this.canvasFilter=this.lowerContext.filter,this.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}))},i.prototype.undo=function(){this.notify("undo-redo",{prop:"undo",onPropertyChange:!1}),this.notify("draw",{prop:"redrawDownScale"})},i.prototype.redo=function(){this.notify("undo-redo",{prop:"redo",onPropertyChange:!1}),this.notify("draw",{prop:"redrawDownScale"})},i.prototype.getImageDimension=function(){return{x:this.img.destLeft,y:this.img.destTop,width:this.img.destWidth,height:this.img.destHeight}},i.prototype.resize=function(t,s,r){var o=!1;if(t.toString().length<=4&&s.toString().length<=4){var a={startX:this.img.destLeft,startY:this.img.destTop,width:this.img.destWidth,height:this.img.destHeight};if((0,n.xr)())this.updateToolbar(this.element,"resize");else{r?(this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"resize",isApplyBtn:!1,isCropping:!1}}),this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"resize",isApplyBtn:!1,isCropping:!1}})):this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"resize",isApplyBtn:!1,isCropping:!1}});var d=this.element.querySelector("#"+this.element.id+"_resizeWidth"),c=this.element.querySelector("#"+this.element.id+"_resizeHeight");d&&c&&((0,n.Xr)(d,"numerictextbox").value=Math.floor(t),d.value=Math.floor(t).toString()+" px",(0,n.Xr)(c,"numerictextbox").value=Math.floor(s),c.value=Math.floor(s).toString()+" px")}this.notify("transform",{prop:"resize",value:{width:t,height:s,isAspectRatio:r}}),a.startX!==this.img.destLeft||a.startY!==this.img.destTop||a.width!==this.img.destWidth||a.height!==this.img.destHeight?(o=!0,this.okBtn()):this.notify("draw",{prop:"performCancel",value:{isContextualToolbar:null}}),this.notify("draw",{prop:"redrawDownScale"})}return o},i.prototype.drawFrame=function(t,s,r,o,a,d,c,p,u){var f=!1,v={frameChangeEventArgs:null};s=s||"#fff",r=r||"",o=o||20,a=a||0,d=d||0,c=c||0,p=p||n_.Solid,u=u||0;var g={type:this.toPascalCase(this.frameObj.type),color:this.frameObj.color,gradientColor:this.frameObj.gradientColor,size:this.frameObj.size,inset:this.frameObj.inset,offset:this.frameObj.offset,borderRadius:this.frameObj.radius,frameLineStyle:this.toPascalCase(this.frameObj.border),lineCount:this.frameObj.amount};return(0,n.l7)(this.tempFrameObj,this.frameObj),this.tempFrameZoomLevel=this.transform.zoomFactor,this.frameDestPoints=(0,n.l7)({},this.img,{},!0),(0,n.xr)()?this.performFrameClick():this.notify("toolbar",{prop:"frameToolbarClick"}),this.frameObj.type=t.toLowerCase(),this.frameObj.color=s,this.frameObj.gradientColor=r,this.frameObj.size=o,this.frameObj.inset=a,this.frameObj.offset=d,this.frameObj.radius=c,this.frameObj.border=p.toLowerCase(),this.frameObj.amount=u,this.notify("draw",{prop:"triggerFrameChange",value:{prevFrameSettings:g,obj:v}}),v.frameChangeEventArgs&&!v.frameChangeEventArgs.cancel?(this.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),JSON.stringify(this.frameObj)!==JSON.stringify(this.tempFrameObj)?(f=!0,this.okBtn()):this.tempFrameZoomLevel=null):(this.notify("draw",{prop:"performCancel",value:{isContextualToolbar:null}}),(0,n.l7)(this.frameObj,this.tempFrameObj),this.tempFrameZoomLevel=null),this.notify("draw",{prop:"redrawDownScale"}),f},i.prototype.straightenImage=function(t){var s=!1;return t>=-45&&t<=45&&(s=!0,this.notify("transform",{prop:"straightenImage",value:{degree:t}}),this.notify("draw",{prop:"redrawDownScale"})),s},i.prototype.updateShape=function(t){var s={isSelected:!1};if(this.notify("shape",{prop:"selectShape",onPropertyChange:!1,value:{id:t.id,obj:s}}),s.isSelected){this.notify("shape",{prop:"updateShapeChangeEventArgs",onPropertyChange:!1,value:{shapeSettings:t}});var r=(0,n.l7)({},this.activeObj,{},!0);this.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:null}}),this.upperContext.clearRect(0,0,this.upperCanvas.width,this.upperCanvas.height),this.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:r}}),this.okBtn(),this.upperContext.clearRect(0,0,this.upperCanvas.width,this.upperCanvas.height),this.notify("draw",{prop:"redrawDownScale"})}return s.isSelected},i.prototype.cloneShape=function(t){var s={isSelected:!1};return"shape"===t.split("_")[0]&&(this.notify("shape",{prop:"selectShape",onPropertyChange:!1,value:{id:t,obj:s}}),s.isSelected&&((0,n.xr)()?this.duplicateShape(!1,!0):this.notify("toolbar",{prop:"duplicateShape",onPropertyChange:!1,value:{isPreventUndoRedo:!1}}),this.okBtn(),this.notify("draw",{prop:"redrawDownScale"}))),s.isSelected},i.prototype.toolbarTemplateFn=function(){var t,s=this.element.id+"_toolbar",r=this.element.querySelector("#"+this.element.id+"_toolbarArea");if(this.toolbarTemplate){if(this.toolbarFn=this.templateParser(this.toolbarTemplate),this.isReact)t=this.toolbarFn({type:"toolbar"},this,"Template",s)[0];else if(this.isAngular){var o=this.toolbarFn({type:"toolbar"},this,"Template",s);t=3===o[0].nodeType?o[1]:o[0]}else t=this.toolbarFn({type:"toolbar"},this,"Template",s)[0];r.appendChild(t),this.toolbarHeight=r.clientHeight,this.notify("toolbar",{prop:"setToolbarHeight",value:{height:this.toolbarHeight}}),this.renderReactTemplates()}},i.prototype.quickAccessToolbarTemplateFn=function(){var t,s=this.element.id+"_quickAccessToolbar",r=this.element.querySelector("#"+this.element.id+"_quickAccessToolbarArea");if(this.quickAccessToolbarTemplate){if(this.qatFn=this.templateParser(this.quickAccessToolbarTemplate),this.isReact)t=this.qatFn({type:"toolbar"},this,"Template",s)[0];else if(this.isAngular){var o=this.qatFn({type:"toolbar"},this,"Template",s);t=3===o[0].nodeType?o[1]:o[0]}else t=this.qatFn({type:"toolbar"},this,"Template",s)[0];r.appendChild(t),this.renderReactTemplates()}},i.prototype.templateParser=function(t){if(t)try{return"function"!=typeof t&&document.querySelectorAll(t).length?(0,n.MY)(document.querySelector(t).innerHTML.trim()):(0,n.MY)(t)}catch{return(0,n.MY)(t)}},i.prototype.getTextFromId=function(t){return{1:"none",2:"bar",3:"arrow",4:"arrowSolid",5:"circle",6:"circleSolid",7:"square",8:"squareSolid"}[""+t]},i.prototype.getFinetuneOption=function(t){return{brightness:Xn.Brightness,contrast:Xn.Contrast,hue:Xn.Hue,saturation:Xn.Saturation,opacity:Xn.Opacity,blur:Xn.Blur,exposure:Xn.Exposure}[""+t]},i.prototype.setPenStroke=function(t){this.notify("freehand-draw",{prop:"setPenStrokeWidth",onPropertyChange:!1,value:{value:parseInt(t,10)}})},i.prototype.updateFreehandDrawColorChange=function(){var t={tempFreeHandDrawEditingStyles:null};this.notify("freehand-draw",{prop:"getTempFreeHandDrawEditingStyles",value:{obj:t}}),this.notify("freehand-draw",{prop:"color-change",value:{color:t.tempFreeHandDrawEditingStyles.strokeColor}})},i.prototype.updateImageTransformColl=function(t){var s;"rotateleft"===t?s=-90:"rotateright"===t?s=90:"horizontalflip"===t?s="horizontal":"verticalflip"===t&&(s="vertical");for(var r=0;r<this.objColl.length;r++){var o=this.objColl[r].shape;if("image"===o||"text"===o){(0,n.le)(this.objColl[r].rotateFlipColl)&&(this.objColl[r].rotateFlipColl=[]),this.objColl[r].rotateFlipColl.push(s);var a={collection:this.objColl[r].rotateFlipColl};this.notify("shape",{prop:"alignRotateFlipColl",onPropertyChange:!1,value:{collection:this.objColl[r].rotateFlipColl,isRotateFlipCollection:!1,obj:a}}),this.objColl[r].rotateFlipColl=a.collection}}},i.prototype.setInitialZoomState=function(){this.objColl.push(this.activeObj),this.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1});var t=this.isUndoRedo;this.isCropTab=!1,this.isUndoRedo=!0,this.notify("transform",this.transform.cropZoomFactor&&this.transform.cropZoomFactor>0?{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-this.transform.cropZoomFactor,zoomPoint:null,isResize:!0}}:{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:Math.abs(this.transform.cropZoomFactor),zoomPoint:null,isResize:!0}}),this.isUndoRedo=t,this.panPoint.totalPannedPoint={x:0,y:0},this.transform.cropZoomFactor=0,this.notify("freehand-draw",{prop:"updateFHDColl",onPropertyChange:!1}),this.activeObj=(0,n.l7)({},this.objColl[this.objColl.length-1],{},!0),this.objColl.pop(),this.isCropTab=!0,this.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:this.activeObj}})},i.prototype.updateCropTransformItems=function(){this.prevCurrSelectionPoint=(0,n.l7)({},this.currSelectionPoint,{},!0),this.notify("draw",{prop:"updateCropSelection",onPropertyChange:!1})},i.prototype.toPascalCase=function(t,s){var r=[];(0,n.le)(t)||(r=t.toLowerCase().split("-"));for(var o=0;o<r.length;o++)r[o]=r[o].charAt(0).toUpperCase()+r[o].slice(1);return s&&(s.maxText=r.join("")),r.join("")},i.prototype.getFontSizes=function(){var s,t=[];this.fontSizeColl=[],s=0===this.transform.degree||this.transform.degree%180==0?this.img.destWidth/25:this.img.destHeight/25;for(var r=1;r<=10;r++)this.fontSizeColl.push({text:(r*Math.round(s/2)).toString()}),t.push({text:r.toString()});return t},i.prototype.okBtn=function(t){var s=this.element.querySelector(".e-contextual-toolbar-wrapper");s&&s.classList.remove("e-frame-wrapper");var o,r=!1;this.isResizeOkBtn=!0;var a=this.element.querySelector("#"+this.element.id+"_aspectratio"),d=this.element.querySelector("#"+this.element.id+"_nonaspectratio"),c=this.element.querySelector(".e-ie-toolbar-aspect-ratio-btn"),p=this.element.querySelector(".e-ie-toolbar-nonaspect-ratio-btn");if(void 0!==this.activeObj.shape&&(o=this.activeObj.shape.split("-")),(void 0===o&&this.currObjType.isCustomCrop||void 0!==o&&"crop"===o[0])&&(r=!0),this.allowDownScale=!0,(this.activeObj.shape&&"image"!==this.activeObj.shape||this.togglePen)&&!r){var u={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:u}});var f=u.shapeSettingsObj;this.togglePen&&(f.type=Un.FreehandDraw);var v={action:"apply",currentShapeSettings:(0,n.l7)({},f,{},!0)};this.triggerShapeChanged(v)}if(a||d||(0,n.xr)()&&"resize-toolbar"===this.currentToolbar){var g={width:null,height:null};this.notify("selection",{prop:"getNumTextValue",onPropertyChange:!1,value:{obj:g}});var b={x:g.width,y:g.height},C={prevCropObj:this.prevCropObj},T={prevObj:this.prevObj};if(b&&b.x&&b.y&&C.prevCropObj&&T.prevObj){d||p&&!p.classList.contains("e-hidden")?this.notify("transform",{prop:"resize",value:{width:b.x,height:b.y,isAspectRatio:!1}}):(a||c&&!c.classList.contains("e-hidden"))&&this.notify("transform",{prop:"resize",value:{width:b.x,height:null,isAspectRatio:!0}}),this.isResize=!1,this.aspectWidth=b.x,this.aspectHeight=b.y,this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:!1,isCropping:!1,isZooming:null,cType:null}}),this.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-this.transform.zoomFactor,zoomPoint:null,isResize:!0}}),this.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:T.prevObj.defaultZoom,zoomPoint:null,isResize:!0}}),T.prevObj.zoomFactor&&this.setProperties({zoomSettings:{zoomFactor:T.prevObj.zoomFactor}},!0),this.notify("transform",{prop:"setPreviousZoomValue",onPropertyChange:!1,value:{previousZoomValue:this.zoomSettings.zoomFactor}}),this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"resize",previousObj:T.prevObj,previousObjColl:T.prevObj.objColl,previousPointColl:T.prevObj.pointColl,previousSelPointColl:T.prevObj.selPointColl,previousCropObj:C.prevCropObj,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}});var O=this.cancelCropSelection;(!(0,n.xr)()&&O&&((0,n.le)(d)||!d)||(0,n.xr)()&&O&&p&&p.classList.contains("e-hidden"))&&(O.previousObj.aspectWidth=O.currentObj.aspectWidth=this.aspectWidth,O.previousObj.aspectHeight=O.currentObj.aspectHeight=this.aspectHeight,O.previousCropObj=(0,n.l7)({},this.cropObj,{},!0),O.currentCropObj=(0,n.l7)({},this.cropObj,{},!0),this.notify("draw",{prop:"updateCropSelObj"})),this.cancelCropSelection=null}else!b||0!==b.x&&0!==b.y?this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:!1,isCropping:!1,isZooming:null,cType:null}}):this.notify("draw",{prop:"performCancel",value:{isContextualToolbar:null}});this.isAspectRatio=!1}var j=this.element.querySelector(".e-contextual-toolbar-wrapper .e-toolbar-item.e-selected"),Y={bool:!1};if(this.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:Y}}),this.notify("toolbar",{prop:"getFrameToolbar",onPropertyChange:!1,value:{obj:{bool:null}}}),j&&(this.currentFilter=j.children[0].children[0].id.replace("Canvas","")),r){if(0!==this.transform.straighten&&(0!==this.panPoint.totalPannedPoint.x||0!==this.panPoint.totalPannedPoint.y||0!==this.panPoint.totalPannedClientPoint.x||0!==this.panPoint.totalPannedClientPoint.y)){var N=this.prevStraightenedDegree;this.prevStraightenedDegree=this.transform.straighten,this.setStraighten(this.transform.straighten-3),this.setStraighten(this.transform.straighten+3),this.prevStraightenedDegree=N}this.isCroppedEvent=this.crop()}else if(this.togglePen)this.freeHandDraw(!1),this.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),this.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),this.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}});else if("block"===this.textArea.style.display||"inline-block"===this.textArea.style.display)this.notify("shape",{prop:"redrawActObj",onPropertyChange:!1,value:{x:null,y:null,isMouseDown:null}}),this.lowerContext.clearRect(0,0,this.lowerCanvas.width,this.lowerCanvas.height),this.notify("draw",{prop:"redrawImgWithObj",onPropertyChange:!1}),(0,n.le)(t)&&this.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),this.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.lowerContext}}),this.notify("draw",{prop:"clearOuterCanvas",onPropertyChange:!1,value:{context:this.upperContext}});else if(!(0,n.xr)()&&document.querySelector("#"+this.element.id+"_sliderWrapper")||(0,n.xr)()&&!this.element.querySelector(".e-ie-contextual-slider").classList.contains("e-hidden")||this.currObjType.isFiltered){this.initialAdjustmentValue=this.canvasFilter=this.lowerContext.filter,this.currObjType.isFiltered=!1;var ne={value:null};this.notify("draw",{prop:"getTempAdjustmentValue",value:{obj:ne}}),ne.value!==this.lowerContext.filter&&this.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),(0!==this.activeObj.activePoint.width&&0!==this.activeObj.activePoint.height||"path"===this.activeObj.shape&&this.activeObj.pointColl.length>0)&&this.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:t}})}else if(Y.bool)this.notify("freehand-draw",{prop:"applyFhd",onPropertyChange:!1}),this.notify("selection",{prop:"setFreehandDrawCustomized",value:{isFreehandDrawCustomized:!1}}),(0,n.xr)()?this.updateToolbar(this.element,"destroyQuickAccessToolbar"):this.notify("toolbar",{prop:"destroy-qa-toolbar"}),this.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}});else if(0!==this.activeObj.activePoint.width&&0!==this.activeObj.activePoint.height||"path"===this.activeObj.shape&&this.activeObj.pointColl.length>0)"image"===this.activeObj.shape&&this.notify("draw",{prop:"setImageApply",onPropertyChange:!1,value:{bool:!0}}),this.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:t}});else{if(JSON.stringify(this.frameObj)!==JSON.stringify(this.tempFrameObj)){var re={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:re}}),this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:re.currObj,previousObjColl:re.currObj.objColl,previousPointColl:re.currObj.pointColl,previousSelPointColl:re.currObj.selPointColl,previousCropObj:(0,n.l7)({},this.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),this.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),this.tempFrameObj=(0,n.l7)({},this.frameObj,{},!0)}this.notify("draw",{prop:"resetFrameZoom",onPropertyChange:!1,value:{isOk:!0}})}(0,n.xr)()||Y.isCropToolbar?(0,n.xr)()&&!Y.isCropToolbar&&("resize-toolbar"==this.currentToolbar||"frame-toolbar"==this.currentToolbar)&&this.updateToolbar(this.element,"imageLoaded"):this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:!1,isCropping:null,isZooming:null,cType:null}}),this.notify("draw",{prop:"setNewPath",value:{bool:!1}}),this.transform.zoomFactor=this.transform.defaultZoomFactor,this.notify("selection",{prop:"setCurrentDrawingShape",onPropertyChange:!1,value:{value:""}}),this.isResizeOkBtn=!1,this.notify("draw",{prop:"redrawDownScale"}),this.isChangesSaved=!1,this.triggerActionComplete()},i.prototype.setTempFilterProperties=function(){this.upperCanvas.style.display="block",this.cropSelectedState();var t={adjustmentLevel:null};this.notify("filter",{prop:"getAdjustmentLevel",onPropertyChange:!1,value:{obj:t}}),this.lowerContext.filter=this.initialAdjustmentValue,this.notify("draw",{prop:"setTempAdjustmentValue",value:{tempAdjustmentValue:this.lowerContext.filter}}),this.notify("filter",{prop:"setTempAdjustmentLevel",onPropertyChange:!1,value:{tempAdjustmentLevel:(0,n.l7)({},t.adjustmentLevel,{},!0)}}),this.notify("draw",{prop:"setTempFilter",value:{tempFilter:this.currentFilter}});var s={undoRedoStep:null};this.notify("undo-redo",{prop:"getUndoRedoStep",value:{obj:s}}),this.notify("draw",{prop:"setTempUndoRedoStep",value:{tempUndoRedoStep:s.undoRedoStep}})},i.prototype.cropSelectedState=function(){this.activeObj.shape&&"crop"===this.activeObj.shape.split("-")[0]&&this.okBtn()},i.prototype.getCurrentCanvasData=function(){var t=(0,n.l7)({},this.frameObj,{},!0);this.frameObj={type:"none",color:"#fff",size:20,inset:20,offset:20,radius:0,amount:1,border:"solid",gradientColor:""};var s=this.lowerContext.filter;this.lowerContext.filter=this.canvasFilter="none";var r=(0,n.l7)([],this.objColl,null,!0),o=(0,n.l7)([],this.pointColl,null,!0);this.objColl=[],this.pointColl=[],this.freehandCounter=0,this.notify("draw",{prop:"render-image",value:{isMouseWheel:!1}});var a=this.element.querySelector(".e-contextual-toolbar-wrapper");a&&a.classList.add("e-hide");var d=this.getImageData();return a&&(a.classList.remove("e-hide"),(0,n.xr)()&&(this.element.querySelector(".e-ie-toolbar-check-btn").classList.remove("e-hidden"),this.element.querySelector(".e-ie-toolbar-close-btn").classList.remove("e-hidden"))),(0,n.xr)()||(n.AR.isDevice||this.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"main",isApplyBtn:!0,isCropping:!1}}),this.element.querySelector("#"+this.element.id+"_contextualToolbarArea").classList.remove("e-hide")),this.objColl=r,this.pointColl=o,this.freehandCounter=o.length,this.notify("shape",{prop:"iterateObjColl",onPropertyChange:!1}),this.lowerContext.filter=this.canvasFilter=s,this.frameObj=t,d},i.prototype.setCurrAdjustmentValue=function(t,s){var r=this,o={finetune:this.getFinetuneOption(t),value:s,cancel:!1};if((0,n.xr)()&&this.events&&!0===this.events.finetuneValueChanging.hasDelegate)o.value=parseInt(o.value.toString()),this.dotNetRef.invokeMethodAsync("OnFinetuneValueChangeAsync","FinetuneValueChanging",o,null).then(function(a){a.cancel||r.notify("filter",{prop:"setCurrAdjValue",value:{type:t.toLowerCase(),value:s}})});else{if(this.trigger("finetuneValueChanging",o),o.cancel)return;this.notify("filter",{prop:"setCurrAdjValue",value:{type:t.toLowerCase(),value:s}})}},i.prototype.getSquarePointForPath=function(t){var s={startX:0,startY:0,endX:0,endY:0,width:0,height:0};if(t.pointColl.length>0){s={startX:t.pointColl[0].x,startY:t.pointColl[0].y,endX:t.pointColl[0].x,endY:t.pointColl[0].y};for(var r=1;r<t.pointColl.length;r++)t.pointColl[r].x<s.startX&&(s.startX=t.pointColl[r].x),t.pointColl[r].y<s.startY&&(s.startY=t.pointColl[r].y),t.pointColl[r].x>s.endX&&(s.endX=t.pointColl[r].x),t.pointColl[r].y>s.endY&&(s.endY=t.pointColl[r].y);s.width=s.endX-s.startX,s.height=s.endY-s.startY}return s},i.prototype.getSelectionType=function(t){return{CropCustom:"Custom",CropSquare:"Square",CropCircle:"Circle","Crop3:2":"3:2","Crop4:3":"4:3","Crop5:4":"5:4","Crop7:5":"7:5","Crop16:9":"16:9","Crop2:3":"2:3","Crop3:4":"3:4","Crop4:5":"4:5","Crop5:7":"5:7","Crop9:16":"9:16"}[""+t]},i.prototype.clearContext=function(t){t.clearRect(0,0,t.canvas.width,t.canvas.height),t.clearRect(0,0,t.canvas.height,t.canvas.width)},i.prototype.updateArrow=function(t,s){this.notify("shape",{prop:"pushActItemIntoObj"});var r=(0,n.l7)({},this.cropObj,{},!0),o={currObj:{}},a={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:a}});var d=a.shapeSettingsObj;this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:o}});var c=o.currObj;c.objColl=(0,n.l7)([],this.objColl,[],!0),c.pointColl=(0,n.l7)([],this.pointColl,[],!0),c.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0),this.objColl.pop(),"startArrow"===t?this.activeObj.start=this.getTextFromId(s):"endArrow"===t&&(this.activeObj.end=this.getTextFromId(s)),this.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:null,strokeColor:null,fillColor:null,strokeWidth:this.activeObj.strokeSettings.strokeWidth}}),this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:c,previousObjColl:c.objColl,previousPointColl:c.pointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}}),(0,n.xr)()||(n.AR.isDevice?document.getElementById(this.element.id+"_bottomToolbar")&&(0,n.Xr)(this.element.id+"_bottomToolbar","toolbar").refreshOverflow():document.getElementById(this.element.id+"_toolbar")&&(0,n.Xr)(this.element.id+"_toolbar","toolbar").refreshOverflow());var f={action:t,currentShapeSettings:(0,n.l7)({},d,{},!0)};this.triggerShapeChanged(f)},i.prototype.updateFontFamily=function(t){this.notify("selection",{prop:"setInitialTextEdit",value:{bool:!1}}),this.notify("shape",{prop:"pushActItemIntoObj"});var s=(0,n.l7)([],this.objColl,[],!0),r=(0,n.l7)({},this.cropObj,{},!0),o={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:o}});var a=o.shapeSettingsObj,d={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:d}});var c=d.currObj;c.objColl=(0,n.l7)([],this.objColl,[],!0),c.pointColl=(0,n.l7)([],this.pointColl,[],!0),c.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var p={selPointColl:null};if(this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:p}}),c.selPointColl=(0,n.l7)([],p.selPointColl,[],!0),this.objColl.pop(),"block"===this.textArea.style.display||"inline-block"===this.textArea.style.display){this.notify("shape",{prop:"updateFontRatio",onPropertyChange:!1,value:{obj:this.activeObj,isTextArea:!0}});var u=this.activeObj.textSettings.fontFamily;this.activeObj.textSettings.fontFamily=this.toPascalCase(t),this.notify("shape",{prop:"redraw-text"}),this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"textAreaCustomization",previousObj:c,previousObjColl:c.objColl,previousPointColl:c.pointColl,previousSelPointColl:c.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.objColl.pop(),this.upperContext.clearRect(0,0,this.upperCanvas.width,this.upperCanvas.height),this.textArea.style.width=this.activeObj.activePoint.width+.25*this.activeObj.textSettings.fontSize+"px",this.textArea.style.fontFamily=this.toPascalCase(t),this.activeObj.textSettings.fontFamily=u,this.notify("shape",{prop:"updateFontStyles",onPropertyChange:!1,value:{isTextBox:null}})}else{this.notify("shape",{prop:"updateFontRatio",onPropertyChange:!1,value:{obj:this.activeObj,isTextArea:null}});var v=this.activeObj.textSettings.fontFamily=this.toPascalCase(t);this.notify("shape",{prop:"setTextSettings",onPropertyChange:!1,value:{textSettings:null,fontFamily:v,fontSize:null}}),this.notify("shape",{prop:"redraw-text"}),this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:c,previousObjColl:s,previousPointColl:(0,n.l7)([],this.pointColl,[],!0),previousSelPointColl:c.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}})}var g={action:"font-family",currentShapeSettings:(0,n.l7)({},a,{},!0)};g.currentShapeSettings.fontFamily=this.textArea.style.fontFamily,this.triggerShapeChanged(g)},i.prototype.updateFontSize=function(t){var s=t;this.notify("selection",{prop:"setInitialTextEdit",value:{bool:!1}}),this.notify("shape",{prop:"pushActItemIntoObj"});var r=(0,n.l7)({},this.cropObj,{},!0),o={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:o}});var a=o.shapeSettingsObj,d={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:d}});var c=d.currObj;c.objColl=(0,n.l7)([],this.objColl,[],!0),c.pointColl=(0,n.l7)([],this.pointColl,[],!0),c.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var p={selPointColl:null};if(this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:p}}),c.selPointColl=(0,n.l7)([],p.selPointColl,[],!0),this.objColl.pop(),"block"===this.textArea.style.display||"inline-block"===this.textArea.style.display){this.notify("shape",{prop:"updateFontRatio",onPropertyChange:!1,value:{obj:this.activeObj,isTextArea:!0}});var u=this.activeObj.textSettings.fontSize;this.activeObj.textSettings.fontSize=parseInt(this.fontSizeColl[parseInt(s,10)-1].text,10),this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"textAreaCustomization",previousObj:c,previousObjColl:c.objColl,previousPointColl:c.pointColl,previousSelPointColl:c.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.objColl.pop();var f="";"bold"===this.textArea.style.fontWeight&&(f="bold "),"italic"===this.textArea.style.fontStyle&&(f="italic "),"bold"===this.textArea.style.fontWeight&&"italic"===this.textArea.style.fontStyle&&(f="italic bold "),this.upperContext.font=f+this.activeObj.textSettings.fontSize+"px "+this.textArea.style.fontFamily;var v=this.textArea.value.split("\n");this.notify("shape",{prop:"getMaxText",onPropertyChange:!1,value:{isTextBox:!0,text:null,obj:g={maxText:""}}});var C=this.upperContext.measureText(g.maxText).width+.5*this.activeObj.textSettings.fontSize;this.textArea.style.width=C+"px",this.textArea.style.height=v.length*(this.activeObj.textSettings.fontSize+.25*this.activeObj.textSettings.fontSize)+"px",this.activeObj.textSettings.fontSize=u,this.upperContext.font=this.activeObj.textSettings.fontSize+"px "+this.activeObj.textSettings.fontFamily,this.textArea.style.fontSize=parseInt(this.fontSizeColl[parseInt(s,10)-1].text,10)+"px","georgia"===this.textArea.style.fontFamily&&(this.textArea.style.width=parseFloat(this.textArea.style.width)+parseFloat(this.textArea.style.fontSize)+"px")}else{this.notify("shape",{prop:"updateFontRatio",onPropertyChange:!1,value:{obj:this.activeObj,isTextArea:null}});var g,T=this.activeObj.textSettings.fontSize=parseInt(this.fontSizeColl[parseInt(s,10)-1].text,10);this.notify("shape",{prop:"setTextSettings",onPropertyChange:!1,value:{textSettings:null,fontFamily:null,fontSize:T}}),this.upperContext.font=this.activeObj.textSettings.fontSize+"px "+this.activeObj.textSettings.fontFamily,v=this.activeObj.keyHistory.split("\n"),this.notify("shape",{prop:"getMaxText",onPropertyChange:!1,value:{isTextBox:null,text:null,obj:g={maxText:""}}}),C=this.upperContext.measureText(g.maxText).width+.5*this.activeObj.textSettings.fontSize,this.notify("selection",{prop:"setTextSelection",onPropertyChange:!1,value:{width:C,height:v.length*(this.activeObj.textSettings.fontSize+.25*this.activeObj.textSettings.fontSize)}}),this.notify("draw",{prop:"updateActiveObject",onPropertyChange:!1,value:{actPoint:this.activeObj.activePoint,obj:this.activeObj,isMouseMove:null,x:null,y:null}}),this.notify("shape",{prop:"redraw-text"}),this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:c,previousObjColl:c.objColl,previousPointColl:c.pointColl,previousSelPointColl:c.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}})}var Y={action:"font-size",currentShapeSettings:(0,n.l7)({},a,{},!0)};Y.currentShapeSettings.fontSize=this.activeObj.textSettings.fontSize,this.triggerShapeChanged(Y)},i.prototype.updateFontColor=function(t){this.notify("selection",{prop:"setInitialTextEdit",value:{bool:!1}}),this.notify("shape",{prop:"pushActItemIntoObj"});var s=(0,n.l7)({},this.cropObj,{},!0),r={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:r}});var o=r.shapeSettingsObj,a={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}});var d=a.currObj;d.objColl=(0,n.l7)([],this.objColl,[],!0),d.pointColl=(0,n.l7)([],this.pointColl,[],!0),d.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var c={selPointColl:null};if(this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:c}}),d.selPointColl=(0,n.l7)([],c.selPointColl,[],!0),this.objColl.pop(),"none"===this.textArea.style.display)this.activeObj.strokeSettings.strokeColor=t,this.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:null,strokeColor:this.activeObj.strokeSettings.strokeColor,fillColor:null,strokeWidth:null}}),this.togglePen||(this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:d,previousObjColl:d.objColl,previousPointColl:d.pointColl,previousSelPointColl:d.selPointColl,previousCropObj:s,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}}));else if("block"===this.textArea.style.display||"inline-block"===this.textArea.style.display){this.textArea.style.color=t;var p=this.activeObj.strokeSettings.strokeColor;this.activeObj.strokeSettings.strokeColor=t,this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"textAreaCustomization",previousObj:d,previousObjColl:d.objColl,previousPointColl:d.pointColl,previousSelPointColl:d.selPointColl,previousCropObj:s,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.objColl.pop(),this.activeObj.strokeSettings.strokeColor=p}else this.togglePen||(this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:d,previousObjColl:d.objColl,previousPointColl:d.pointColl,previousSelPointColl:d.selPointColl,previousCropObj:s,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}}));var u={action:"font-color",currentShapeSettings:(0,n.l7)({},o,{},!0)};u.currentShapeSettings.fillColor=t,this.triggerShapeChanged(u)},i.prototype.updatePenStrokeWidth=function(t){var s=(0,n.l7)([],this.pointColl,[],!0);this.updateFreehandDrawColorChange();var r=(0,n.l7)({},this.cropObj,{},!0),o={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:o}});var a=o.shapeSettingsObj,d={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:d}});var c=d.currObj;c.objColl=(0,n.l7)([],this.objColl,[],!0),c.pointColl=(0,n.l7)([],this.pointColl,[],!0),c.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var p={selPointColl:null};this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:p}}),c.selPointColl=(0,n.l7)([],p.selPointColl,[],!0),this.pointColl=s,this.notify("selection",{prop:"setFreehandDrawCustomized",value:{isFreehandDrawCustomized:!0}}),this.setPenStroke(t);var u={bool:!1};if(this.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:u}}),u.bool){var f={penStrokeWidth:null};this.notify("freehand-draw",{prop:"getPenStrokeWidth",onPropertyChange:!1,value:{obj:f}}),this.upperContext.clearRect(0,0,this.upperCanvas.width,this.upperCanvas.height),this.lowerContext.clearRect(0,0,this.lowerCanvas.width,this.lowerCanvas.height),this.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:null,strokeWidth:f.penStrokeWidth}});var v={freehandSelectedIndex:null};this.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:v}}),this.pointColl[v.freehandSelectedIndex].strokeWidth=f.penStrokeWidth,this.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),this.notify("draw",{prop:"redrawDownScale"}),this.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:null,strokeWidth:f.penStrokeWidth}}),this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"freehanddrawCustomized",previousObj:c,previousObjColl:c.objColl,previousPointColl:c.pointColl,previousSelPointColl:c.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}})}a.type=Un.FreehandDraw;var g={action:"stroke-width",currentShapeSettings:(0,n.l7)({},a,{},!0)};g.currentShapeSettings.strokeWidth=this.activeObj.strokeSettings.strokeWidth,this.triggerShapeChanged(g)},i.prototype.updatePenStrokeColor=function(t){var s=(0,n.l7)([],this.pointColl,[],!0);this.updateFreehandDrawColorChange();var r=(0,n.l7)({},this.cropObj,{},!0),o={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:o}});var a=o.shapeSettingsObj,d={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:d}});var c=d.currObj;c.objColl=(0,n.l7)([],this.objColl,[],!0),c.pointColl=(0,n.l7)([],this.pointColl,[],!0),c.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var p={selPointColl:null};this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:p}}),c.selPointColl=(0,n.l7)([],p.selPointColl,[],!0),this.pointColl=s,this.notify("selection",{prop:"setFreehandDrawCustomized",value:{isFreehandDrawCustomized:!0}}),this.activeObj.strokeSettings.strokeColor=t;var u={freehandSelectedIndex:null};if(this.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:u}}),null!=u.freehandSelectedIndex){this.upperContext.clearRect(0,0,this.upperCanvas.width,this.upperCanvas.height);for(var f=0,v=(0,n.l7)({},this.pointColl,{},!0),g=0;g<this.freehandCounter;g++)parseInt(v[g].id.split("_")[1],10)-1!==u.freehandSelectedIndex&&(this.pointColl[f]=v[g],f++);this.notify("draw",{prop:"render-image",value:{isMouseWheel:null}}),this.notify("draw",{prop:"redrawDownScale"}),this.pointColl=v,this.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:null,strokeWidth:null}})}var b={bool:!1};if(this.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:b}}),b.bool){var C={freehandSelectedIndex:null};this.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:C}}),this.upperContext.clearRect(0,0,this.upperCanvas.width,this.upperCanvas.height),this.pointColl[C.freehandSelectedIndex].strokeColor=t,this.notify("freehand-draw",{prop:"hoverFhd",onPropertyChange:!1,value:{strokeColor:t}}),this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"freehanddrawCustomized",previousObj:c,previousObjColl:c.objColl,previousPointColl:c.pointColl,previousSelPointColl:c.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}})}else this.togglePen||this.notify("selection",{prop:"redrawShape",value:{obj:this.activeObj}});a.type=Un.FreehandDraw;var T={action:"stroke-color",currentShapeSettings:(0,n.l7)({},a,{},!0)};T.currentShapeSettings.strokeColor=t,this.triggerShapeChanged(T)},i.prototype.updateStrokeWidth=function(t){if(this.activeObj.shape&&("path"!==this.activeObj.shape||"path"===this.activeObj.shape&&this.activeObj.pointColl.length>0)){var s={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:s}});var r=s.shapeSettingsObj;this.notify("shape",{prop:"pushActItemIntoObj"});var o=(0,n.l7)({},this.cropObj,{},!0),a={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}});var d=a.currObj;d.objColl=(0,n.l7)([],this.objColl,[],!0),d.pointColl=(0,n.l7)([],this.pointColl,[],!0),d.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var c={selPointColl:null};this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:c}}),d.selPointColl=(0,n.l7)([],c.selPointColl,[],!0),this.objColl.pop(),this.activeObj.strokeSettings.strokeWidth=parseInt(t,10),("rectangle"===this.activeObj.shape||"ellipse"===this.activeObj.shape)&&(this.activeObj.strokeSettings.strokeWidth=parseInt(t,10)-1),this.activeObj.strokeSettings.strokeWidth*=2,this.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:null,strokeColor:null,fillColor:null,strokeWidth:this.activeObj.strokeSettings.strokeWidth}}),this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:d,previousObjColl:d.objColl,previousPointColl:d.pointColl,previousSelPointColl:d.selPointColl,previousCropObj:o,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}});var p={action:"stroke-width",currentShapeSettings:(0,n.l7)({},r,{},!0)};p.currentShapeSettings.strokeWidth=this.activeObj.strokeSettings.strokeWidth,this.triggerShapeChanged(p)}else this.activeObj.shape&&"path"===this.activeObj.shape&&0===this.activeObj.pointColl.length&&(this.activeObj.strokeSettings.strokeWidth=parseInt(t,10),this.activeObj.strokeSettings.strokeWidth*=2,this.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:null,strokeColor:null,fillColor:null,strokeWidth:this.activeObj.strokeSettings.strokeWidth}}))},i.prototype.updateStrokeColor=function(t){var s={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:s}});var r=s.shapeSettingsObj;if(this.activeObj.shape&&("path"!==this.activeObj.shape||"path"===this.activeObj.shape&&this.activeObj.pointColl.length>0)){this.notify("shape",{prop:"pushActItemIntoObj"});var o=(0,n.l7)({},this.cropObj,{},!0),a={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}});var d=a.currObj;d.objColl=(0,n.l7)([],this.objColl,[],!0),d.pointColl=(0,n.l7)([],this.pointColl,[],!0),d.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var c={selPointColl:null};this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:c}}),d.selPointColl=(0,n.l7)([],c.selPointColl,[],!0),this.objColl.pop(),this.activeObj.strokeSettings.strokeColor=t,this.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:null,strokeColor:this.activeObj.strokeSettings.strokeColor,fillColor:null,strokeWidth:null}}),this.togglePen||(this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:d,previousObjColl:d.objColl,previousPointColl:d.pointColl,previousSelPointColl:d.selPointColl,previousCropObj:o,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}}))}else this.activeObj.shape&&"path"===this.activeObj.shape&&0===this.activeObj.pointColl.length&&(this.activeObj.strokeSettings.strokeColor=t,this.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:null,strokeColor:this.activeObj.strokeSettings.strokeColor,fillColor:null,strokeWidth:null}}));var p={action:"stroke-color",currentShapeSettings:(0,n.l7)({},r,{},!0)};p.currentShapeSettings.strokeColor=t,this.triggerShapeChanged(p)},i.prototype.updateFillColor=function(t){var s={shapeSettingsObj:{}};this.notify("selection",{prop:"updatePrevShapeSettings",onPropertyChange:!1,value:{obj:s}});var r=s.shapeSettingsObj;this.notify("shape",{prop:"pushActItemIntoObj"});var o=(0,n.l7)({},this.cropObj,{},!0),a={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}});var d=a.currObj;d.objColl=(0,n.l7)([],this.objColl,[],!0),d.pointColl=(0,n.l7)([],this.pointColl,[],!0),d.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var c={selPointColl:null};this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:c}}),d.selPointColl=(0,n.l7)([],c.selPointColl,[],!0),this.objColl.pop(),this.activeObj.strokeSettings.fillColor=t,this.notify("shape",{prop:"setStrokeSettings",value:{strokeSettings:null,strokeColor:null,fillColor:this.activeObj.strokeSettings.fillColor,strokeWidth:null}}),this.objColl.push(this.activeObj),(0!==this.activeObj.activePoint.width||0!==this.activeObj.activePoint.height)&&this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:d,previousObjColl:d.objColl,previousPointColl:d.pointColl,previousSelPointColl:d.selPointColl,previousCropObj:o,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}});var p={action:"fill-color",currentShapeSettings:(0,n.l7)({},r,{},!0)};this.triggerShapeChanged(p)},i.prototype.horizontalFlip=function(t,s){var r,o;if((0,n.le)(s)){(0,n.le)(this.activeObj.imageRatio)&&this.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),this.notify("shape",{prop:"pushActItemIntoObj"}),r=(0,n.l7)({},this.cropObj,{},!0);var a={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}}),(o=a.currObj).objColl=(0,n.l7)([],this.objColl,[],!0),o.pointColl=(0,n.l7)([],this.pointColl,[],!0),o.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var d={selPointColl:null};this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:d}}),o.selPointColl=(0,n.l7)([],d.selPointColl,[],!0),this.objColl.pop()}(0,n.xr)()||this.notify("toolbar",{prop:"refreshSlider"}),t.clearRect(0,0,this.activeObj.imageCanvas.width,this.activeObj.imageCanvas.height);var c=this.duplicateImage();this.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:this.activeObj.imageCanvas.getContext("2d"),isImgAnnotation:!0,isHFlip:!0,isVFlip:null}}),this.activeObj.activePoint=c,this.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),(0,n.le)(s)&&(this.objColl.push(this.activeObj),this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"imageHFlip",previousObj:o,previousObjColl:o.objColl,previousPointColl:o.pointColl,previousSelPointColl:o.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}}))},i.prototype.verticalFlip=function(t,s){var r,o;if((0,n.le)(s)){(0,n.le)(this.activeObj.imageRatio)&&this.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),this.notify("shape",{prop:"pushActItemIntoObj"}),r=(0,n.l7)({},this.cropObj,{},!0);var a={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}}),(o=a.currObj).objColl=(0,n.l7)([],this.objColl,[],!0),o.pointColl=(0,n.l7)([],this.pointColl,[],!0),o.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var d={selPointColl:null};this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:d}}),o.selPointColl=(0,n.l7)([],d.selPointColl,[],!0),this.objColl.pop()}(0,n.xr)()||this.notify("toolbar",{prop:"refreshSlider"}),t.clearRect(0,0,this.activeObj.imageCanvas.width,this.activeObj.imageCanvas.height);var c=this.duplicateImage();this.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:this.activeObj.imageCanvas.getContext("2d"),isImgAnnotation:!0,isHFlip:null,isVFlip:!0}}),this.activeObj.activePoint=c,this.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),(0,n.le)(s)&&(this.objColl.push(this.activeObj),this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"imageVFlip",previousObj:o,previousObjColl:o.objColl,previousPointColl:o.pointColl,previousSelPointColl:o.selPointColl,previousCropObj:r,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}}))},i.prototype.rotateImage=function(t){var s,r;(0,n.le)(this.activeObj.imageRatio)&&this.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),this.notify("shape",{prop:"pushActItemIntoObj"}),s=(0,n.l7)({},this.cropObj,{},!0);var o={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:o}}),(r=o.currObj).objColl=(0,n.l7)([],this.objColl,[],!0),r.pointColl=(0,n.l7)([],this.pointColl,[],!0),r.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var a={selPointColl:null};this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:a}}),r.selPointColl=(0,n.l7)([],a.selPointColl,[],!0),this.objColl.pop(),(0,n.xr)()||this.notify("toolbar",{prop:"refreshSlider"}),"rotleft"===t?this.activeObj.rotatedAngle-=Math.PI/180*90:this.activeObj.rotatedAngle+=Math.PI/180*90,this.notify("selection",{prop:"updPtCollForShpRot",onPropertyChange:!1,value:{obj:this.activeObj}}),this.upperContext.clearRect(0,0,this.upperCanvas.width,this.upperCanvas.height),this.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),this.objColl.push(this.activeObj),this.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"imageRotate",previousObj:r,previousObjColl:r.objColl,previousPointColl:r.pointColl,previousSelPointColl:r.selPointColl,previousCropObj:s,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),this.notify("selection",{prop:"redrawShape",value:{obj:this.objColl[this.objColl.length-1]}}),(0,n.xr)()?(this.updateToolbar(this.element,"destroyQuickAccessToolbar"),this.updateToolbar(this.element,"quickAccessToolbar","image")):(this.notify("toolbar",{prop:"destroy-qa-toolbar"}),this.notify("toolbar",{prop:"renderQAT",onPropertyChange:!1,value:{isPenEdit:null}}))},i.prototype.pascalToSplitWords=function(t){var s=(t=t.charAt(0).toUpperCase()+t.slice(1)).match(/[A-Z][a-z]+/g);return(0,n.le)(s)?t:s.map(function(r){return r.charAt(0).toUpperCase()+r.slice(1)}).join(" ")},i.prototype.getCurrAdjustmentValue=function(t){var s=100,r={freehandSelectedIndex:null};if(this.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:r}}),"transparency"===t&&this.togglePen)this.notify("freehand-draw",{prop:"getPenOpacity",onPropertyChange:!1,value:{obj:o={penOpacity:1}}}),s=100*o.penOpacity;else if("transparency"===t&&null!=r.freehandSelectedIndex)s=100*this.pointColl[r.freehandSelectedIndex].opacity;else{var o;this.notify("filter",{prop:"getAdjustmentLevel",onPropertyChange:!1,value:{obj:o={adjustmentLevel:null}}}),s={brightness:o.adjustmentLevel.brightness,contrast:o.adjustmentLevel.contrast,hue:o.adjustmentLevel.hue,saturation:o.adjustmentLevel.saturation,opacity:o.adjustmentLevel.opacity,blur:o.adjustmentLevel.blur,exposure:o.adjustmentLevel.exposure,transparency:o.adjustmentLevel.transparency,straighten:this.transform.straighten}[""+t]}return s},i.prototype.transformSelect=function(t){this.isCropToolbar=!0,this.allowDownScale=!1;var s=this.transform.straighten,r=(0,n.l7)({},this.activeObj,{},!0),o=this.transform.zoomFactor;this.prevEventSelectionPoint=(0,n.l7)({},this.activeObj,{},!0);var a={currObj:{}};this.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:a}}),this.prevEventObjPoint=a.currObj,this.prevEventObjPoint.objColl=(0,n.l7)([],this.objColl,[],!0),this.prevEventObjPoint.pointColl=(0,n.l7)([],this.pointColl,[],!0),this.prevEventObjPoint.afterCropActions=(0,n.l7)([],this.afterCropActions,[],!0);var d={selPointColl:null};if(this.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:d}}),this.prevEventObjPoint.selPointColl=(0,n.l7)([],d.selPointColl,[],!0),0!==this.transform.straighten){this.transform.straighten=0,this.straightenBaseImageCanvas();for(var c=0,p=this.objColl.length;c<p;c++)"line"!==(u=this.objColl[c].shape)&&"arrow"!==u&&"path"!==u&&(this.objColl[c].rotatedAngle-=s*(Math.PI/180),this.notify("selection",{prop:"updPtCollForShpRot",onPropertyChange:!1,value:{obj:this.objColl[c]}}));this.notify("draw",{prop:"render-image",value:{isMouseWheel:!1}}),this.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}})}this.setInitialZoomState();var f=(0,n.l7)({},this.activeObj,{},!0);if(this.notify("crop",{prop:"setTransformCrop",onPropertyChange:!1,value:{bool:!0}}),this.cropSelectedState(),this.notify("crop",{prop:"setTransformCrop",onPropertyChange:!1,value:{bool:!1}}),this.notify("draw",{prop:"resetCurrentSelectionPoint"}),this.updateImageTransformColl(t),this.notify("transform",{prop:"performTransformation",value:{text:t}}),this.isCropTab=!0,this.notify("draw",{prop:"moveToSelectionRange",value:{type:t,activeObj:f}}),this.isStraightening&&("horizontalflip"===t||"verticalflip"===t)&&(this.notify("draw",{prop:"resetStraightenDestPoints"}),this.notify("draw",{prop:"setDestForStraighten"})),0!==s){for(this.transform.straighten=s,this.straightenBaseImageCanvas(),c=0,p=this.objColl.length;c<p;c++){var u;"line"!==(u=this.objColl[c].shape)&&"arrow"!==u&&"path"!==u&&(this.objColl[c].rotatedAngle+=s*(Math.PI/180),this.notify("selection",{prop:"updPtCollForShpRot",onPropertyChange:!1,value:{obj:this.objColl[c]}}))}this.notify("shape",{prop:"zoomObjColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.notify("freehand-draw",{prop:"zoomFHDColl",onPropertyChange:!1,value:{isPreventApply:null}}),this.notify("draw",{prop:"render-image",value:{isMouseWheel:!1}}),this.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:r}}),this.notify("draw",{prop:"setStraightenActObj",value:{activeObj:null}}),this.notify("draw",{prop:"setStraightenInitZoom",value:{zoomFactor:o}}),(this.isStraightening&&("horizontalflip"===t||"verticalflip"===t)&&(0,n.le)(this.transform.zoomFactor)||0===this.transform.zoomFactor)&&(0===this.transform.degree?this.transform.zoomFactor+=.025:0===this.transform.zoomFactor&&(this.transform.zoomFactor=null)),this.notify("draw",{prop:"zoomToSel",value:{activeObj:r,isToolbar:!1}})}this.isCropToolbar=!1;var v=this.element.querySelector(".e-ie-straighten-value-span");v&&(v.innerHTML=this.transform.straighten.toString()+"&#176")},i.prototype.getDefaultFilter=function(){return"brightness(1) contrast(100%) hue-rotate(0deg) saturate(100%) opacity(1) blur(0px) sepia(0%) grayscale(0%) invert(0%)"},i.prototype.setStraighten=function(t,s){var r={cancel:!1,previousDegree:this.transform.straighten,currentDegree:t};(0,n.xr)()?this.prevStraightenEvent=this.transform.straighten:this.trigger("rotating",r),r.cancel||this.performStraighten(r)},i.prototype.duplicateImage=function(){var t=(0,n.l7)({},this.activeObj.activePoint,{},!0),s={width:0,height:0};return this.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:this.activeObj.imageElement.width,height:this.activeObj.imageElement.height,obj:s,isImgShape:null}}),this.activeObj.activePoint.width=s.width,this.activeObj.activePoint.height=s.height,t},i.prototype.performStraighten=function(t){var s=t.currentDegree,r=this.element.querySelector(".e-ie-straighten-value-span");r&&(r.innerHTML=s.toString()+"&#176");var a=(0,n.l7)({},this.activeObj,null,!0);this.notify("freehand-draw",{prop:"setCenterSelPoints"}),this.transform.straighten=s,this.straightenPoint={x:this.activeObj.activePoint.startX+this.activeObj.activePoint.width/2,y:this.activeObj.activePoint.startY+this.activeObj.activePoint.height/2},this.straightenBaseImageCanvas();for(var d=0,c=this.objColl.length;d<c;d++){var p=this.objColl[d].shape;"line"!==p&&"arrow"!==p&&"path"!==p&&(this.objColl[d].rotatedAngle+=(this.transform.straighten-this.prevStraightenedDegree)*(Math.PI/180),this.notify("selection",{prop:"updPtCollForShpRot",onPropertyChange:!1,value:{obj:this.objColl[d]}}))}this.transform.degree%90==0&&this.transform.degree%180!=0?(0===this.transform.straighten&&(this.transform.straighten=360),this.notify("draw",{prop:"performPointZoom",onPropertyChange:!1,value:{x:this.activeObj.activePoint.startX+this.activeObj.activePoint.width/2,y:this.activeObj.activePoint.startY+this.activeObj.activePoint.height/2,type:"zoomIn",isResize:!0}}),this.notify("draw",{prop:"performPointZoom",onPropertyChange:!1,value:{x:this.activeObj.activePoint.startX+this.activeObj.activePoint.width/2,y:this.activeObj.activePoint.startY+this.activeObj.activePoint.height/2,type:"zoomOut",isResize:!0}}),360===this.transform.straighten&&(this.transform.straighten=0)):this.notify("draw",{prop:"render-image",value:{isMouseWheel:!0,isPreventClearRect:null,isFrame:null,isStraighten:!0}}),this.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:a}}),this.notify("draw",{prop:"zoomToSel",value:{activeObj:a,isToolbar:!0}}),this.notify("transform",{prop:"disableZoomOutBtn",value:{isZoomOut:!0}}),this.prevStraightenedDegree=this.transform.straighten},i.prototype.straightenBaseImageCanvas=function(){if(this.isImageLoaded){var a,t=this.getStraightenFlipState(),s="horizontal"===t||"vertical"===t?-this.transform.straighten:this.transform.straighten,r=this.baseImgCanvas.getContext("2d");r.canvas.width!==this.lowerContext.canvas.width&&r.canvas.height!==this.lowerContext.canvas.height&&this.notify("crop",{prop:"calcRatio",onPropertyChange:!1,value:{obj:{width:0,height:0},dimension:{width:r.canvas.width,height:r.canvas.height}}}),a=this.getRotatedCanvasDim(this.baseImg.width,this.baseImg.height,this.transform.straighten),this.img.srcWidth=r.canvas.width=a.width,this.img.srcHeight=r.canvas.height=a.height;var d=r.canvas.width/2,c=r.canvas.height/2;r.clearRect(0,0,r.canvas.width,r.canvas.height),r.translate(d,c),r.rotate(s*Math.PI/180),r.drawImage(this.baseImg,-this.baseImg.width/2,-this.baseImg.height/2,this.baseImg.width,this.baseImg.height),r.setTransform(1,0,0,1,0,0),this.notify("crop",{prop:"calcRatio",onPropertyChange:!1,value:{obj:{width:0,height:0},dimension:{width:r.canvas.width,height:r.canvas.height}}})}},i.prototype.getRotatedCanvasDim=function(t,s,r){var o=r*Math.PI/180,a=Math.cos(o),d=Math.sin(o),c=Math.min(0,t*a,s*Math.cos(Math.PI/2-o),t*a+s*Math.cos(Math.PI/2-o)),p=Math.max(0,t*a,s*Math.cos(Math.PI/2-o),t*a+s*Math.cos(Math.PI/2-o)),u=Math.min(0,t*d,s*Math.sin(Math.PI/2-o),t*d+s*Math.sin(Math.PI/2-o)),f=Math.max(0,t*d,s*Math.sin(Math.PI/2-o),t*d+s*Math.sin(Math.PI/2-o));return{width:Math.ceil(p-c),height:Math.ceil(f-u)}},i.prototype.getStraightenFlipState=function(){var t="";if(this.rotateFlipColl.length>0)for(var s=0,r=this.rotateFlipColl.length;s<r;s++){var o=this.rotateFlipColl[s];"horizontal"===o?t+="horizontal":"vertical"===o&&(t+="vertical"),("horizontalvertical"===t||"verticalhorizontal"===t)&&(t="")}return t},i.prototype.initializeImageEditor=function(t,s){this.element=t,(0,n.xr)()&&this.element.querySelector(".place-holder")&&this.element.querySelector(".place-holder").remove(),this.element.offsetWidth>359&&this.element.querySelector(".e-ie-min-drop-content")&&this.element.querySelector(".e-ie-drop-content")&&(this.element.querySelector(".e-ie-min-drop-content").style.display="none",this.element.querySelector(".e-ie-drop-content").style.display="block"),(0,n.xr)()&&this.element.querySelector(".e-ie-drop-area")&&(this.element.querySelector(".e-ie-drop-area").style.display="block"),(0,n.xr)()&&this.element.querySelector(".e-toolbar-area")&&(this.element.querySelector(".e-toolbar-area").style.display="block");var r=this.element.querySelector(".e-canvas-wrapper");this.toolbarHeight=this.element.querySelector("#"+this.element.id+"_toolbarArea")?this.element.querySelector("#"+this.element.id+"_toolbarArea").scrollHeight:0,r.style.height=this.element.offsetHeight-this.toolbarHeight-2+"px",r.style.width=this.element.offsetWidth-2+"px",this.lowerCanvas=this.element.querySelector(".e-lower-canvas"),this.upperCanvas=this.element.querySelector(".e-upper-canvas"),this.lowerCanvas.id=this.element.id+"_lowerCanvas",this.upperCanvas.id=this.element.id+"_upperCanvas",this.textArea=this.element.querySelector(".e-textarea"),this.inMemoryCanvas=this.createElement("canvas",{id:this.element.id+"_inMemoryCanvas",attrs:{name:"canvasImage"}}),this.baseImgCanvas=this.createElement("canvas",{id:this.element.id+"_baseImgCanvas",attrs:{name:"canvasImage"}}),this.upperCanvas.width=this.lowerCanvas.width=this.inMemoryCanvas.width=this.element.offsetWidth,this.upperCanvas.height=this.lowerCanvas.height=this.inMemoryCanvas.height=this.element.offsetHeight-this.toolbarHeight,this.lowerContext=this.lowerCanvas.getContext("2d"),this.baseImg=this.createElement("img",{id:this.element.id+"_orgImg",attrs:{name:"Image",crossorigin:"anonymous"}}),this.upperContext=this.upperCanvas.getContext("2d"),this.inMemoryContext=this.inMemoryCanvas.getContext("2d"),s&&(this.dotNetRef=s),this.prerender(),this.wireEvent(),this.lowerContext.filter=this.getDefaultFilter(),this.notify("filter",{prop:"setAdjustmentValue",onPropertyChange:!1,value:{adjustmentValue:this.lowerContext.filter}}),this.canvasFilter=this.initialAdjustmentValue=this.lowerContext.filter,this.cssClass&&(0,n.cn)([this.element],this.cssClass.replace(/\s+/g," ").trim().split(" ")),this.element&&Mn({target:this.element}),this.initializeZoomSettings()},i.prototype.prerender=function(){this.element.id=this.element.id||(0,n.QI)("ej2-image-editor"),n.AR.isDevice&&this.element.classList.add("e-device"),this.initializeThemeColl()},i.prototype.initializeZoomSettings=function(){((0,n.le)(this.zoomSettings.zoomTrigger)||0===this.zoomSettings.zoomTrigger)&&(this.zoomSettings.zoomTrigger=oi.MouseWheel|oi.Pinch|oi.Toolbar|oi.Commands),(0,n.le)(this.selectionSettings.strokeColor)&&(this.selectionSettings.strokeColor=this.themeColl[this.theme].primaryColor),(0,n.le)(this.selectionSettings.fillColor)&&(this.selectionSettings.fillColor=this.themeColl[this.theme].secondaryColor)},i.prototype.initializeThemeColl=function(){this.themeColl={Bootstrap5:{primaryColor:"#0d6efd",secondaryColor:"#fff"},Bootstrap5Dark:{primaryColor:"#0d6efd",secondaryColor:"#fff"},Tailwind:{primaryColor:"#4f46e5",secondaryColor:"#fff"},TailwindDark:{primaryColor:"#22d3ee",secondaryColor:"#fff"},Fluent:{primaryColor:"#0078d4",secondaryColor:"#fff"},FluentDark:{primaryColor:"#0078d4",secondaryColor:"#fff"},Bootstrap4:{primaryColor:"#007bff",secondaryColor:"#fff"},Bootstrap:{primaryColor:"#317ab9",secondaryColor:"#fff"},BootstrapDark:{primaryColor:"#317ab9",secondaryColor:"#fff"},Material:{primaryColor:"#e3165b",secondaryColor:"#fff"},MaterialDark:{primaryColor:"#00b0ff",secondaryColor:"#fff"},Fabric:{primaryColor:"#0078d6",secondaryColor:"#fff"},FabricDark:{primaryColor:"#0074cc",secondaryColor:"#fff"},Highcontrast:{primaryColor:"#000000",secondaryColor:"#fff"},Material3:{primaryColor:"#6750a4",secondaryColor:"#fff"},Material3Dark:{primaryColor:"#d0bcff",secondaryColor:"#fff"}}},i.prototype.updateToolbar=function(t,s,r){},i.prototype.triggerShapeChanged=function(t){(0,n.xr)()&&this.events&&!0===this.events.shapeChanged.hasDelegate?this.dotNetRef.invokeMethodAsync("ShapeEventAsync","ShapeChanged",null,{action:t.action,shapeSettings:t.currentShapeSettings}):this.trigger("shapeChange",t)},i.prototype.triggerActionComplete=function(){var t=this.curFrameObjEvent,s=this.curFinetuneObjEvent,r=this.curFilterObjEvent;if((0,n.xr)()){if(this.isFrameBtnClick&&this.events&&!0===this.events.frameChanged.hasDelegate&&this.dotNetRef.invokeMethodAsync("OnFrameChangingAsync","FrameChanged",null,{frameSettings:t.currentFrameSetting}),this.isFinetuneBtnClick&&this.events&&!0===this.events.finetuneValueChanged.hasDelegate){var a={finetune:this.toPascalCase(s.finetune),value:parseInt(s.value.toString())};this.dotNetRef.invokeMethodAsync("OnFinetuneValueChangeAsync","FinetuneValueChanged",null,a)}if(this.isFilterCanvasClick&&this.events&&!0===this.events.imageFiltered.hasDelegate){var d={filter:this.toPascalCase(r.filter)};this.dotNetRef.invokeMethodAsync("OnImageFilterEventAsync","ImageFiltered",null,d)}}this.isFilterCanvasClick=this.isFinetuneBtnClick=this.isFrameBtnClick=!1},Ue([(0,n.Z9)("")],i.prototype,"cssClass",void 0),Ue([(0,n.Z9)(!1)],i.prototype,"disabled",void 0),Ue([(0,n.Z9)("100%")],i.prototype,"height",void 0),Ue([(0,n.Z9)("Bootstrap5")],i.prototype,"theme",void 0),Ue([(0,n.Z9)()],i.prototype,"toolbar",void 0),Ue([(0,n.Z9)()],i.prototype,"toolbarTemplate",void 0),Ue([(0,n.Z9)("100%")],i.prototype,"width",void 0),Ue([(0,n.Z9)(!0)],i.prototype,"allowUndoRedo",void 0),Ue([(0,n.Z9)(!0)],i.prototype,"showQuickAccessToolbar",void 0),Ue([(0,n.Z9)()],i.prototype,"quickAccessToolbarTemplate",void 0),Ue([(0,n.Z9)(!1)],i.prototype,"isReadOnly",void 0),Ue([(0,n.Z9)(!1)],i.prototype,"enableRtl",void 0),Ue([(0,n.Z9)(!1)],i.prototype,"enablePersistence",void 0),Ue([(0,n.Zz)({},tT)],i.prototype,"finetuneSettings",void 0),Ue([(0,n.Zz)({},iT)],i.prototype,"zoomSettings",void 0),Ue([(0,n.Zz)({},sT)],i.prototype,"selectionSettings",void 0),Ue([(0,n.Zz)({},rT)],i.prototype,"fontFamily",void 0),Ue([(0,n.ju)()],i.prototype,"beforeSave",void 0),Ue([(0,n.ju)()],i.prototype,"created",void 0),Ue([(0,n.ju)()],i.prototype,"destroyed",void 0),Ue([(0,n.ju)()],i.prototype,"zooming",void 0),Ue([(0,n.ju)()],i.prototype,"panning",void 0),Ue([(0,n.ju)()],i.prototype,"cropping",void 0),Ue([(0,n.ju)()],i.prototype,"rotating",void 0),Ue([(0,n.ju)()],i.prototype,"flipping",void 0),Ue([(0,n.ju)()],i.prototype,"shapeChanging",void 0),Ue([(0,n.ju)()],i.prototype,"selectionChanging",void 0),Ue([(0,n.ju)()],i.prototype,"fileOpened",void 0),Ue([(0,n.ju)()],i.prototype,"saved",void 0),Ue([(0,n.ju)()],i.prototype,"toolbarCreated",void 0),Ue([(0,n.ju)()],i.prototype,"toolbarUpdating",void 0),Ue([(0,n.ju)()],i.prototype,"toolbarItemClicked",void 0),Ue([(0,n.ju)()],i.prototype,"imageFiltering",void 0),Ue([(0,n.ju)()],i.prototype,"finetuneValueChanging",void 0),Ue([(0,n.ju)()],i.prototype,"click",void 0),Ue([(0,n.ju)()],i.prototype,"shapeChange",void 0),Ue([(0,n.ju)()],i.prototype,"quickAccessToolbarOpen",void 0),Ue([(0,n.ju)()],i.prototype,"resizing",void 0),Ue([(0,n.ju)()],i.prototype,"quickAccessToolbarItemClick",void 0),Ue([(0,n.ju)()],i.prototype,"frameChange",void 0),e=Ue([n.Zl],i)}(n.wA),jm=function(h){return h.Horizontal="Horizontal",h.Vertical="Vertical",h}(jm||{}),Un=function(h){return h.Rectangle="Rectangle",h.Ellipse="Ellipse",h.Line="Line",h.Arrow="Arrow",h.Path="Path",h.Text="Text",h.FreehandDraw="FreehandDraw",h.Image="Image",h}(Un||{}),oi=function(h){return h[h.MouseWheel=1]="MouseWheel",h[h.Pinch=2]="Pinch",h[h.Commands=4]="Commands",h[h.Toolbar=8]="Toolbar",h}(oi||{}),Xn=function(h){return h.Brightness="Brightness",h.Contrast="Contrast",h.Hue="Hue",h.Saturation="Saturation",h.Exposure="Exposure",h.Opacity="Opacity",h.Blur="Blur",h}(Xn||{}),n_=function(h){return h.Solid="Solid",h.Dashed="Dashed",h.Dotted="Dotted",h}(n_||{}),pT=function(){function h(i){this.defToolbarItems=[],this.toolbarHeight=46,this.currToolbar="",this.preventZoomBtn=!1,this.currentToolbar="main",this.selFhdColor="#42a5f5",this.preventEnableDisableUr=!1,this.isAspectRatio=!0,this.isFrameToolbar=!1,this.presetColors={custom:["#000000","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"]},this.parent=i,this.addEventListener(),this.initLocale()}return h.prototype.destroy=function(){this.parent.isDestroyed||this.removeEventListener()},h.prototype.addEventListener=function(){this.parent.on("toolbar",this.toolbar,this),this.parent.on("destroyed",this.destroy,this)},h.prototype.removeEventListener=function(){this.parent.off("toolbar",this.toolbar),this.parent.off("destroyed",this.destroy)},h.prototype.initLocale=function(){this.defaultLocale={Crop:"Crop",ZoomIn:"Zoom In",ZoomOut:"Zoom Out",Undo:"Undo",Redo:"Redo",Transform:"Transform",Annotation:"Annotation",Finetune:"Finetune",Brightness:"Brightness",Contrast:"Contrast",Hue:"Hue",Saturation:"Saturation",Opacity:"Opacity",Blur:"Blur",Sharpen:"Sharpen",Exposure:"Exposure",Filter:"Filter",Default:"Default",Chrome:"Chrome",Cold:"Cold",Warm:"Warm",Grayscale:"Grayscale",BlackAndWhite:"Black and White",Sepia:"Sepia",Invert:"Invert",Text:"Add Text",Pen:"Pen",Reset:"Reset",Save:"Save",Select:"Select",RotateLeft:"Rotate Left",RotateRight:"Rotate Right",HorizontalFlip:"Horizontal Flip",VerticalFlip:"Vertical Flip",OK:"Apply",Cancel:"Discard",FillColor:"Fill Color",StrokeColor:"Stroke Color",StrokeWidth:"Stroke Width",FontFamily:"Font Family",FontStyle:"Font Style",FontSize:"Font Size",FontColor:"Font Color",Pan:"Pan",Move:"Move",Load:"Load",Custom:"Custom",Square:"Square",Circle:"Circle",Ellipse:"Ellipse",Rectangle:"Rectangle",Line:"Line",Arrow:"Arrow",Path:"Path",Bold:"Bold",Italic:"Italic",BoldItalic:"Bold Italic",XSmall:"X-Small",Small:"Small",Medium:"Medium",Large:"Large",XLarge:"X-Large",ABC:"ABC",Browse:"Browse",Duplicate:"Duplicate",Remove:"Remove",EditText:"Edit Text",Start:"Start",End:"End",Bar:"Bar",ArrowSolid:"Arrow Solid",CircleSolid:"Circle Solid",SquareSolid:"Square Solid",None:"None",CropAndTransform:"Crop and Transform",CropSelection:"Crop Selection",Image:"Add Image",Transparency:"Transparency",Height:"Height",Width:"Width",AspectRatio:"Maintain aspect ratio",W:"W",H:"H",DragText:"Drag and drop your image here or",DropText:"Drop your image here or",BrowseText:"Browse here...",SupportText:"Supports:",Frame:"Frame",Mat:"Mat",Bevel:"Bevel",Inset:"Inset",Hook:"Hook",Color:"Color",Size:"Size",Offset:"Offset",Radius:"Radius",Amount:"Amount",Resize:"Resize",0:"0%",20:"20%",40:"40%",60:"60%",80:"80%",100:"100%",1:"1",2:"2",3:"3",4:"4",5:"5",Border:"Border",Solid:"Solid",Dashed:"Dashed",Dotted:"Dotted",GradientColor:"Gradient Color",ConfirmDialogHeader:"Confirm Save Changes",ConfirmDialogContent:"Do you want to save the changes you made to the image?",AlertDialogHeader:"Unsupported file",AlertDialogContent:"The dropped file is unsupported.",Yes:"Yes",No:"No",ImageErrorDialogHeader:"Image Selection Error",ImageErrorDialogContent:"Please select only one image to open.",Straighten:"Straighten",NoOutline:"No outline"},this.l10n=new n.E7("image-editor",this.defaultLocale,this.parent.locale)},h.prototype.toolbar=function(i){var e=this.parent;switch(this.updatePrivateVariables(),i.prop){case"create-toolbar":this.createToolbar();break;case"create-contextual-toolbar":this.createContextualToolbar();break;case"update-toolbar-items":this.updateToolbarItems();break;case"refresh-toolbar":this.refreshToolbar(i.value.type,i.value.isApplyBtn,i.value.isCropping,i.value.isZooming,i.value.cType);break;case"renderQAT":this.renderQAT(i.value.isPenEdit);break;case"enable-disable-btns":this.enableDisableTbrBtn();break;case"init-main-toolbar":this.initMainToolbar(i.value.isApplyBtn,i.value.isDevice,i.value.isOkBtn,i.value.isResize,i.value.isFrame,i.value.isMainToolbar);break;case"create-bottom-toolbar":this.createBottomToolbar();break;case"refresh-main-toolbar":this.refreshMainToolbar();break;case"create-qa-toolbar":this.createQuickAccessToolbar();break;case"destroy-qa-toolbar":this.destroyQuickAccessToolbar();break;case"zoom-up-handler":this.zoomBtnMouseUpHandler();break;case"refresh-dropdown-btn":this.refreshDropDownBtn(i.value.isDisabled);break;case"close-contextual-toolbar":this.closeContextualToolbar();break;case"destroy-bottom-toolbar":this.destroyBottomToolbar();break;case"destroy-top-toolbar":this.destroyTopToolbar();break;case"destroySubComponents":this.destroySubComponents();break;case"setLocale":this.l10n.setLocale(i.value.locale);break;case"setPreventZoomBtn":this.preventZoomBtn=i.value.isPrevent;break;case"getToolbarHeight":i.value.obj.toolbarHeight=this.toolbarHeight;break;case"setToolbarHeight":this.toolbarHeight=i.value.height;break;case"setCurrentToolbar":this.currentToolbar=i.value.type;break;case"setSelectedFreehandColor":this.selFhdColor=i.value.color;break;case"getCurrentFilter":i.value.obj.currentFilter=e.currentFilter;break;case"setCurrentFilter":e.currentFilter=i.value.filter;break;case"setInitialAdjustmentValue":e.initialAdjustmentValue=i.value.value;break;case"getCanvasFilter":i.value.obj.canvasFilter=e.canvasFilter;break;case"getDefToolbarItems":i.value.obj.defToolbarItems=this.defToolbarItems;break;case"getPenStroke":this.getPenStroke(i.value.value);break;case"performDefToolbarClickAction":this.performDefTbrClick(i.value.type,i.value.isContextualToolbar,i.value.isDisabledAdjustment,i.value.isDisabledFilter,i.value.isFilterFinetune);break;case"setTempFilterProperties":e.setTempFilterProperties();break;case"refreshSlider":this.refreshSlider();break;case"renderSlider":this.renderSlider(i.value.type);break;case"getCurrAdjustmentValue":e.getCurrAdjustmentValue(i.value.type);break;case"setCurrAdjustmentValue":e.setCurrAdjustmentValue(i.value.type,i.value.value);break;case"refreshShapeDrawing":this.refreshShapeDrawing();break;case"getCropToolbar":i.value.obj.isCropToolbar=e.isCropToolbar;break;case"getPrevCurrSelectionPoint":i.value.obj.prevCurrSelectionPoint=e.prevCurrSelectionPoint;break;case"setPrevCurrSelectionPoint":e.prevCurrSelectionPoint=i.value.point;break;case"updateCropTransformItems":e.updateCropTransformItems();break;case"setEnableDisableUndoRedo":this.preventEnableDisableUr=i.value.isPrevent;break;case"reset":this.reset();break;case"getLocaleText":i.value.obj.value=this.l10n.getConstant(i.value.obj.key);break;case"initResizeToolbar":this.initResizeToolbar();break;case"getFrameToolbar":i.value.obj.bool=this.isFrameToolbar;break;case"callFrameToolbar":this.callFrameToolbar();break;case"resizeClick":this.resizeClick();break;case"frameToolbarClick":this.frameToolbarClick();break;case"performCropTransformClick":this.performCropTransformClick(i.value.shape);break;case"duplicateShape":this.duplicateShape(i.value.isPreventUndoRedo,!0)}},h.prototype.updatePrivateVariables=function(){var i=this.parent;this.inMemoryCanvas=i.inMemoryCanvas,i.lowerCanvas&&(this.lowerContext=i.lowerCanvas.getContext("2d")),i.upperCanvas&&(this.upperContext=i.upperCanvas.getContext("2d")),this.inMemoryCanvas&&(this.inMemoryContext=this.inMemoryCanvas.getContext("2d"))},h.prototype.reset=function(){var i=this.parent;this.defToolbarItems=[],this.toolbarHeight=46,i.prevCurrSelectionPoint=null,this.zoomBtnHold=null,this.currToolbar="",i.cxtTbarHeight=null,this.currentToolbar="main",this.selFhdColor="#42a5f5",i.currentFilter="",this.preventZoomBtn=i.isCropToolbar=this.preventEnableDisableUr=this.isFrameToolbar=!1,i.initialAdjustmentValue=i.canvasFilter="brightness(1) contrast(100%) hue-rotate(0deg) saturate(100%) opacity(1) blur(0px) sepia(0%) grayscale(0%) invert(0%)",i.tempStraighten=0,i.isStraightening=!1},h.prototype.destroyTopToolbar=function(){var e=document.getElementById(this.parent.element.id+"_toolbar");this.isToolbar()&&e&&e.classList.contains("e-control")&&(0,n.Xr)(e,"toolbar").destroy()},h.prototype.destroyBottomToolbar=function(){var e=document.getElementById(this.parent.element.id+"_bottomToolbar");e&&e.classList.contains("e-control")&&(0,n.Xr)(e,"toolbar").destroy()},h.prototype.isToolbar=function(){var i=this.parent;return(0,n.le)(i.toolbar)||i.toolbar&&i.toolbar.length>0||!(0,n.le)(i.toolbarTemplate)},h.prototype.createToolbar=function(){var i=this,e=this.parent,t=e.element.id;if((0,n.le)(e.toolbar)||e.toolbar&&e.toolbar.length>0){e.element.appendChild(e.createElement("div",{id:t+"_toolbarArea",className:"e-toolbar-area"}));var s={cssClass:"e-image-upload",align:"Left",type:"Input",tooltipText:this.l10n.getConstant("Browse"),template:new Ol({allowedExtensions:".jpg, .jpeg, .png,.svg",multiple:!1})};(0,n.le)(this.defToolbarItems)&&(this.defToolbarItems=[]),this.defToolbarItems.push(s);var r=document.getElementById(t+"_toolbarArea"),o=e.createElement("div",{id:t+"_toolbar"});r.appendChild(o);var a=[{cssClass:"e-image-upload",align:"Left",type:"Input",tooltipText:this.l10n.getConstant("Browse"),template:new Ol({allowedExtensions:".jpg, .jpeg, .png,.svg",multiple:!1,selected:function(){var p=document.getElementById(t+"_toolbar"),u=document.getElementById(t+"_bottomToolbar");e.disabled||(n.AR.isDevice?(i.defToolbarItems.length>0&&p&&(0,n.Xr)(p,"toolbar").destroy(),u&&(0,n.Xr)(u,"toolbar").destroy(),i.initMainToolbar(!1,n.AR.isDevice,null),i.createBottomToolbar()):(i.defToolbarItems.length>0&&p&&(0,n.Xr)(p,"toolbar").destroy(),i.initMainToolbar(!1,!1,null)))}})}];new ws({items:a,width:"100%",created:function(){e.trigger("toolbarCreated",{toolbarType:"main"})},clicked:this.defToolbarClicked.bind(this)}).appendTo("#"+t+"_toolbar"),this.createLeftToolbarControls();var c=document.getElementById(t+"_toolbar");o&&(this.toolbarHeight=c.clientHeight)}else this.toolbarHeight=0},h.prototype.createContextualToolbar=function(){var i=this.parent,e=i.element.id;if((0,n.le)(i.toolbar)||i.toolbar&&i.toolbar.length>0){i.element.appendChild(i.createElement("div",{id:e+"_contextualToolbarArea",className:"e-contextual-toolbar-wrapper e-hide",attrs:{style:"position: absolute;"}}));var t=document.getElementById(e+"_contextualToolbarArea"),s=i.createElement("div",{id:e+"_contextualToolbar"});t.appendChild(s)}},h.prototype.createBottomToolbar=function(){var i=this.parent,e=i.element.id;if(i.element.querySelector("#"+e+"_bottomToolbarArea")&&i.element.querySelector("#"+e+"_bottomToolbarArea").remove(),(0,n.le)(i.toolbar)||i.toolbar&&i.toolbar.length>0){if(i.element.appendChild(i.createElement("div",{id:e+"_bottomToolbarArea",className:"e-bottom-toolbar"})),!i.toolbarTemplate){var t=document.getElementById(e+"_bottomToolbarArea"),s=i.createElement("div",{id:e+"_bottomToolbar"});t.appendChild(s)}this.initBottomToolbar()}},h.prototype.createQuickAccessToolbar=function(){var i=this.parent,e=i.element.id;if(i.showQuickAccessToolbar){var t={cssClass:"e-image-upload",align:"Left",type:"Input",tooltipText:this.l10n.getConstant("Browse"),template:new Ol({allowedExtensions:".jpg, .jpeg, .png,.svg",multiple:!1})};(0,n.le)(this.defToolbarItems)&&(this.defToolbarItems=[]),this.defToolbarItems.push(t);var s=document.getElementById(e+"_quickAccessToolbarArea"),r=i.createElement("div",{id:e+"_quickAccessToolbar"});s.appendChild(r),new ws({clicked:this.defToolbarClicked.bind(this)}).appendTo("#"+e+"_quickAccessToolbar")}},h.prototype.initMainToolbar=function(i,e,t,s,r,o){var a=this,d=this.parent,c=d.element.id;if(this.isToolbar()){var p=this.getLeftToolbarItem(t,s),u=this.getRightToolbarItem(t,o),f=this.getMainToolbarItem(i,r),v=this.getZoomToolbarItem();this.defToolbarItems=e?r?f:p.concat(u):p.concat(f,u,v);var g={toolbarType:"main",toolbarItems:this.defToolbarItems};d.trigger("toolbarUpdating",g),this.defToolbarItems=g.toolbarItems,new ws({width:"100%",items:this.defToolbarItems,clicked:this.defToolbarClicked.bind(this),created:function(){e||a.renderAnnotationBtn(),a.wireZoomBtnEvents(),a.renderSaveBtn(),d.trigger("toolbarCreated",{toolbarType:"main"})}}).appendTo(e&&r?"#"+c+"_bottomToolbar":"#"+c+"_toolbar"),this.createLeftToolbarControls(),this.enableDisableTbrBtn(),this.isToolbar()&&document.getElementById(c+"_toolbar")&&(0,n.Xr)(c+"_toolbar","toolbar").refreshOverflow()}},h.prototype.initBottomToolbar=function(){var i=this,e=this.parent,t=e.element.id;if((0,n.le)(e.toolbar)||e.toolbar&&e.toolbar.length>0){var s=this.getMainToolbarItem(),r={toolbarType:"bottom-toolbar",toolbarItems:s};e.trigger("toolbarUpdating",r),new ws({items:s=r.toolbarItems,width:"100%",created:function(){i.renderAnnotationBtn(),i.renderCropBtn(),i.renderTransformBtn(),e.trigger("toolbarCreated",{toolbarType:"main"})},clicked:this.defToolbarClicked.bind(this)}).appendTo("#"+t+"_bottomToolbar"),this.defToolbarItems.length>0&&document.getElementById(t+"_bottomToolbar")&&(0,n.Xr)(t+"_bottomToolbar","toolbar").refreshOverflow()}},h.prototype.getLeftToolbarItem=function(i,e){var t=this.parent,s=t.element.id,r=[];(!i||e)&&(r.push({id:s+"_upload",cssClass:"e-image-upload",align:"Left",type:"Input",template:new Ol({allowedExtensions:".jpg, .jpeg, .png,.svg",multiple:!1})}),r.push({visible:!1,cssClass:"e-image-position e-btn e-flat",tooltipText:this.l10n.getConstant("Browse"),align:"Left"})),t.allowUndoRedo&&!e&&(((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("Undo")>-1)&&r.push({id:s+"_undo",prefixIcon:"e-icons e-undo",cssClass:"top-icon e-undo",tooltipText:this.l10n.getConstant("Undo"),align:"Left"}),((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("Redo")>-1)&&r.push({id:s+"_redo",prefixIcon:"e-icons e-redo",cssClass:"top-icon e-redo",tooltipText:this.l10n.getConstant("Redo"),align:"Left"})),!this.preventZoomBtn&&(t.zoomSettings.zoomTrigger&oi.Toolbar)===oi.Toolbar&&!e&&(((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("ZoomOut")>-1)&&r.push({id:s+"_zoomOut",prefixIcon:"e-icons e-zoom-out",cssClass:"top-icon e-dec-zoom",tooltipText:this.l10n.getConstant("ZoomOut"),align:"Left"}),((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("ZoomIn")>-1)&&r.push({id:s+"_zoomIn",prefixIcon:"e-icons e-zoom-in",cssClass:"top-icon e-inc-zoom",tooltipText:this.l10n.getConstant("ZoomIn"),align:"Left"}));for(var o=this.processToolbar("left"),a=0,d=o.length;a<d;a++)r.push(o[a]);return r},h.prototype.getRightToolbarItem=function(i,e){var t=this.parent,s=t.element.id,r=[];i&&(r.push({id:s+"_ok",prefixIcon:"e-icons e-check",cssClass:"top-icon e-tick",tooltipText:this.l10n.getConstant("OK"),align:"Right"}),r.push({id:s+"_cancel",prefixIcon:"e-icons e-close",cssClass:"top-icon e-save",tooltipText:this.l10n.getConstant("Cancel"),align:"Right"})),(e||!n.AR.isDevice)&&((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("Reset")>-1)&&r.push({id:s+"_reset",prefixIcon:"e-icons e-btn-reset",cssClass:"top-icon e-img-reset",tooltipText:this.l10n.getConstant("Reset"),align:"Right"}),i||((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("Save")>-1)&&r.push({id:s+"_save",prefixIcon:"e-icons e-btn-save",cssClass:"top-icon e-save",tooltipText:this.l10n.getConstant("Save"),align:"Right",template:'<button id="'+s+'_saveBtn"></button>'});for(var o=this.processToolbar("right"),a=0,d=o.length;a<d;a++)r.push(o[a]);return r},h.prototype.getMainToolbarItem=function(i,e){var t=this.parent,s=t.element.id,r=[];e?(((0,n.le)(t.toolbar)||!(0,n.le)(t.toolbar)&&t.toolbar.indexOf("None")>-1)&&r.push({id:s+"_none",prefixIcon:"e-icons e-frame-none",cssClass:"top-icon e-frame-none",tooltipText:this.l10n.getConstant("None"),align:"Center"}),((0,n.le)(t.toolbar)||!(0,n.le)(t.toolbar)&&t.toolbar.indexOf("Mat")>-1)&&r.push({id:s+"_mat",prefixIcon:"e-icons e-frame-mat",cssClass:"top-icon e-frame-mat",tooltipText:this.l10n.getConstant("Mat"),align:"Center"}),((0,n.le)(t.toolbar)||!(0,n.le)(t.toolbar)&&t.toolbar.indexOf("Bevel")>-1)&&r.push({id:s+"_bevel",prefixIcon:"e-icons e-frame-bevel",cssClass:"top-icon e-frame-bevel",tooltipText:this.l10n.getConstant("Bevel"),align:"Center"}),((0,n.le)(t.toolbar)||!(0,n.le)(t.toolbar)&&t.toolbar.indexOf("Line")>-1)&&r.push({id:s+"_line",prefixIcon:"e-icons e-frame-line",cssClass:"top-icon e-frame-line",tooltipText:this.l10n.getConstant("Line"),align:"Center"}),((0,n.le)(t.toolbar)||!(0,n.le)(t.toolbar)&&t.toolbar.indexOf("Inset")>-1)&&r.push({id:s+"_inset",prefixIcon:"e-icons e-frame-inset",cssClass:"top-icon e-frame-inset",tooltipText:this.l10n.getConstant("Inset"),align:"Center"}),((0,n.le)(t.toolbar)||!(0,n.le)(t.toolbar)&&t.toolbar.indexOf("Hook")>-1)&&r.push({id:s+"_hook",prefixIcon:"e-icons e-frame-hook",cssClass:"top-icon e-frame-hook",tooltipText:this.l10n.getConstant("Hook"),align:"Center"})):(((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("Crop")>-1)&&r.push({id:s+"_cropTransform",prefixIcon:"e-icons e-crop",cssClass:"top-icon e-crop",tooltipText:this.l10n.getConstant("CropAndTransform"),align:"Center"}),((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("Annotate")>-1)&&r.push({id:s+"_annotation",tooltipText:this.l10n.getConstant("Annotation"),align:"Center",template:'<button id="'+s+'_annotationBtn"></button>'}),((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("Finetune")>-1)&&r.push({id:s+"_adjustment",prefixIcon:"e-icons e-adjustment",cssClass:"top-icon e-adjustment",tooltipText:this.l10n.getConstant("Finetune"),align:"Center"}),((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("Filter")>-1)&&r.push({id:s+"_filter",prefixIcon:"e-icons e-filters",cssClass:"top-icon e-filters",tooltipText:this.l10n.getConstant("Filter"),align:"Center"}),((0,n.le)(t.toolbar)||!(0,n.le)(t.toolbar)&&t.toolbar.indexOf("Frame")>-1)&&r.push({id:s+"_frame",prefixIcon:"e-icons e-border-frame",cssClass:"top-icon e-border-frame",tooltipText:this.l10n.getConstant("Frame"),align:"Center"}),((0,n.le)(t.toolbar)||!(0,n.le)(t.toolbar)&&t.toolbar.indexOf("Resize")>-1)&&r.push({id:s+"_resize",prefixIcon:"e-icons e-resize",cssClass:"top-icon e-resize",tooltipText:this.l10n.getConstant("Resize"),align:"Center"}));for(var o=this.processToolbar("center"),a=0,d=o.length;a<d;a++)r.push(o[a]);return i&&(r.push({id:s+"_ok",prefixIcon:"e-icons e-check",cssClass:"top-icon e-tick",tooltipText:this.l10n.getConstant("OK"),align:"Right"}),r.push({id:s+"_cancel",prefixIcon:"e-icons e-close",cssClass:"top-icon e-save",tooltipText:this.l10n.getConstant("Cancel"),align:"Right"})),r},h.prototype.getZoomToolbarItem=function(){return[]},h.prototype.updateContextualToolbar=function(i,e,t){var s=this.parent,r=s.element.id,o=s.element.querySelector("#"+r+"_toolbarArea"),a=s.element.querySelector("#"+r+"_contextualToolbarArea");if(a.classList.remove("e-hide"),a.style.left=o.offsetLeft+"px","filter"===i){var d=document.getElementById(r+"_toolbar");d&&this.defToolbarItems.length>0&&(0,n.Xr)(d,"toolbar").destroy(),n.AR.isDevice?this.initMainToolbar(!1,!0,!0):this.initMainToolbar(!0,null,null),this.refreshSlider(),this.initFilterToolbarItem()}else(c=document.querySelector("#"+r+"_contextualToolbar")).classList.contains("e-control")&&(0,n.Xr)(c,"toolbar").destroy(),this.refreshSlider(),"frame"===i?this.initFrameToolbarItem():this.renderSlider(e,t);if((0,n.xr)()||(s.toolbarTemplate?this.toolbarHeight=s.element.querySelector("#"+s.element.id+"_toolbarArea").clientHeight:s.element.querySelector("#"+s.element.id+"_toolbar")&&(this.toolbarHeight=s.element.querySelector("#"+s.element.id+"_toolbar").clientHeight),s.toolbarHeight=this.toolbarHeight),n.AR.isDevice){var p=a.offsetHeight+1,u=s.element.querySelector("#"+r+"_customizeWrapper");this.isFrameToolbar&&u&&(p=u.offsetHeight+2);var c,f=s.element.querySelector("#"+r+"_canvasWrapper").offsetHeight;a.style.top=this.toolbarHeight+1+f-p+"px","straighten"===e&&(s.isStraightening=!0,"absolute"===(c=s.element.querySelector("#"+r+"_contextualToolbarArea")).style.position&&(c.style.position="",s.element.insertBefore(c,s.element.querySelector("#"+r+"_bottomToolbarArea")),s.update(),t&&s.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:this.getCropTextContent(document.getElementById(r+"_cropBtn")).toLowerCase(),startX:null,startY:null,width:null,height:null}})))}else a.style.top=this.toolbarHeight+1+"px"},h.prototype.processToolbar=function(i){var e=this.parent,t=[];if(e.toolbar)for(var s=0,r=e.toolbar.length;s<r;s++)"object"==typeof e.toolbar[s]&&((0,n.le)(e.toolbar[s].align)?"left"===i&&t.push(e.toolbar[s]):e.toolbar[s].align.toLowerCase()===i&&t.push(e.toolbar[s]));return t},h.prototype.processSubToolbar=function(i){var e=[];if(i)for(var t=0,s=i.length;t<s;t++)"object"==typeof i[t]&&(i[t].align="Center",e.push(i[t]));return e},h.prototype.wireZoomBtnEvents=function(){var i=document.querySelector("#"+this.parent.element.id+"_zoomIn"),e=document.querySelector("#"+this.parent.element.id+"_zoomOut");i&&(i.addEventListener("mousedown",this.zoomInBtnMouseDownHandler.bind(this)),i.addEventListener("mouseup",this.zoomBtnMouseUpHandler.bind(this)),i.addEventListener("click",this.zoomInBtnClickHandler.bind(this)),i.addEventListener("touchstart",this.zoomInBtnClickHandler.bind(this))),e&&(e.addEventListener("mousedown",this.zoomOutBtnMouseDownHandler.bind(this)),e.addEventListener("mouseup",this.zoomBtnMouseUpHandler.bind(this)),e.addEventListener("click",this.zoomOutBtnClickHandler.bind(this)),i.addEventListener("touchstart",this.zoomInBtnClickHandler.bind(this)))},h.prototype.widthPress=function(i){109!==i.keyCode||i.preventDefault()},h.prototype.heightPress=function(i){109!==i.keyCode||i.preventDefault()},h.prototype.widthAspectRatio=function(i){if(109!==i.keyCode){var e=this.parent,t=e.element.querySelector("#"+e.element.id+"_resizeHeight"),s=e.element.querySelector("#"+e.element.id+"_resizeWidth"),r=e.element.querySelector("#"+e.element.id+"_aspectratio"),o=e.img.destWidth,a=e.img.destHeight,c=parseFloat(t.value)/(a/o),p=c%1>=.5||c%1<=-.5?Math.round(c):c<0?Math.ceil(c):Math.floor(c),u=(0,n.Xr)(s,"numerictextbox"),f=(0,n.Xr)(s,"numerictextbox");r&&(null==p||isNaN(p)?(0,n.le)(u.value)?(u.placeholder="0 px",s.placeholder="0 px",(0,n.le)(f.value)&&!(0,n.le)(f.placeholder)&&(u.placeholder=""+e.img.srcWidth,s.placeholder=""+e.img.srcWidth)):(u.value=0,s.value="0 px"):(0,n.le)(u.value)?(u.placeholder=p+" px",s.placeholder=p.toString()+" px"):(u.value=p,s.value=p.toString()+" px"))}},h.prototype.heightAspectRatio=function(i){if(109!==i.keyCode){var e=this.parent,t=e.element.id,s=e.element.querySelector("#"+t+"_resizeHeight"),r=e.element.querySelector("#"+t+"_resizeWidth"),o=e.element.querySelector("#"+t+"_aspectratio"),a=e.img.destWidth,d=e.img.destHeight,p=parseFloat(r.value)/(a/d),u=p%1>=.5||p%1<=-.5?Math.round(p):p<0?Math.ceil(p):Math.floor(p),f=(0,n.Xr)(s,"numerictextbox"),v=(0,n.Xr)(r,"numerictextbox");o&&(isNaN(u)?(0,n.le)(f.value)?(f.placeholder="0 px",s.placeholder="0 px",(0,n.le)(v.value)&&!(0,n.le)(v.placeholder)&&(f.placeholder=""+e.img.srcHeight,s.placeholder=""+e.img.srcHeight)):(f.value=0,s.value="0 px"):(0,n.le)(f.value)?(f.placeholder=u+" px",s.placeholder=u.toString()+" px"):(f.value=u,s.value=u.toString()+" px"))}},h.prototype.getResizeToolbarItem=function(){var i=this.parent,e=i.element.id,t=!(!i.aspectWidth||!i.aspectHeight),s=this.parent.transform.degree%90==0&&this.parent.transform.degree%180!=0?Math.ceil(this.parent.img.srcHeight).toString():Math.ceil(this.parent.img.srcWidth).toString(),r=this.parent.transform.degree%90==0&&this.parent.transform.degree%180!=0?Math.ceil(this.parent.img.srcWidth).toString():Math.ceil(this.parent.img.srcHeight).toString(),o=[],a=document.createElement("span");a.innerHTML=this.l10n.getConstant("W"),o.push({id:e+"_width",cssClass:"e-ie-resize-width",template:a,align:"Center"}),o.push({id:e+"_resizeWidth",prefixIcon:"e-icons e-anti-clock-wise",tooltipText:this.l10n.getConstant("Width"),align:"Center",type:"Input",template:new ia({width:75,htmlAttributes:{maxLength:"4"},showSpinButton:!1,value:t?i.aspectWidth:null,placeholder:t?null:s,format:"###.## px"})});var d=document.createElement("span");return d.innerHTML=this.l10n.getConstant("H"),o.push({id:e+"_height",cssClass:"e-ie-resize-height",template:d,align:"Center"}),o.push({id:e+"_resizeHeight",prefixIcon:"e-icons e-clock-wise",tooltipText:this.l10n.getConstant("Height"),align:"Center",type:"Input",template:new ia({width:75,htmlAttributes:{maxLength:"4"},showSpinButton:!1,value:t?i.aspectHeight:null,placeholder:t?null:r,format:"###.## px"})}),this.isAspectRatio?(o.push({id:e+"_nonaspectratio",prefixIcon:"e-icons e-unlock",align:"Center",tooltipText:this.l10n.getConstant("AspectRatio"),type:"Button"}),this.isAspectRatio=!1):(o.push({id:e+"_aspectratio",prefixIcon:"e-icons e-lock",align:"Center",tooltipText:this.l10n.getConstant("AspectRatio"),type:"Button"}),this.isAspectRatio=!0),n.AR.isDevice||(o.push({id:e+"_ok",prefixIcon:"e-icons e-check",cssClass:"top-icon e-tick",tooltipText:this.l10n.getConstant("OK"),align:"Right"}),o.push({id:e+"_cancel",prefixIcon:"e-icons e-close",cssClass:"top-icon e-save",tooltipText:this.l10n.getConstant("Cancel"),align:"Right"})),o},h.prototype.initResizeToolbar=function(){var i=this,e=this.parent,t=e.element.id,s=this.getLeftToolbarItem(!1,!0),r=this.getRightToolbarItem(),o=this.getResizeToolbarItem(),a=this.getZoomToolbarItem();this.defToolbarItems=n.AR.isDevice?o:s.concat(a,o,r);var d={toolbarType:"resize",toolbarItems:this.defToolbarItems};e.trigger("toolbarUpdating",d),this.defToolbarItems=d.toolbarItems;var c=new ws({width:"100%",items:this.defToolbarItems,clicked:this.defToolbarClicked.bind(this),created:function(){i.wireResizeBtnEvents(),n.AR.isDevice||i.renderSaveBtn(),e.trigger("toolbarCreated",{toolbarType:"shapes"}),n.AR.isDevice?i.defToolbarItems.length>0&&!(0,n.le)(document.getElementById(t+"_bottomToolbar"))&&c.refreshOverflow():(i.createLeftToolbarControls(),i.defToolbarItems.length>0&&!(0,n.le)(document.getElementById(t+"_toolbar"))&&c.refreshOverflow())}});c.appendTo(n.AR.isDevice?"#"+t+"_bottomToolbar":"#"+t+"_toolbar"),e.isResize=!1,this.enableDisableTbrBtn(),e.isResize=!0,e.notify("transform",{prop:"disableZoomOutBtn",value:{isZoomOut:!0}})},h.prototype.wireResizeBtnEvents=function(){var i=this.parent,e=i.element.id,t=i.element.querySelector("#"+e+"_resizeHeight"),s=i.element.querySelector("#"+e+"_resizeWidth");(0,n.le)(t)||(t.addEventListener("keydown",this.widthPress.bind(this)),s.addEventListener("keyup",this.heightAspectRatio.bind(this))),(0,n.le)(s)||(s.addEventListener("keydown",this.heightPress.bind(this)),t.addEventListener("keyup",this.widthAspectRatio.bind(this)))},h.prototype.enableDisableTbrBtn=function(){var i=this.parent,e=i.element.id;if(!this.preventEnableDisableUr){var t={appliedUndoRedoColl:[]};i.notify("undo-redo",{prop:"getAppliedUndoRedoColl",value:{obj:t}});var s={undoRedoStep:null};i.notify("undo-redo",{prop:"getUndoRedoStep",value:{obj:s}});var r=i.element.querySelector("#"+e+"_undo");r&&0===s.undoRedoStep?(r.classList.add("e-disabled"),r.parentElement.classList.add("e-overlay")):r&&s.undoRedoStep>0&&(r.classList.remove("e-disabled"),r.parentElement.classList.remove("e-overlay"));var o=i.element.querySelector("#"+e+"_redo");o&&s.undoRedoStep===t.appliedUndoRedoColl.length?(o.classList.add("e-disabled"),o.parentElement.classList.add("e-overlay")):(o&&0===s.undoRedoStep&&t.appliedUndoRedoColl.length>0||o&&s.undoRedoStep>0)&&(o.classList.remove("e-disabled"),o.parentElement.classList.remove("e-overlay"))}var a=document.querySelector("#"+e+"_zoomIn");a&&i.zoomSettings.zoomFactor>=i.zoomSettings.maxZoomFactor?(a.classList.add("e-disabled"),a.parentElement.classList.add("e-overlay")):a&&(a.classList.remove("e-disabled"),a.parentElement.classList.remove("e-overlay"));var d=document.querySelector("#"+e+"_zoomOut");d&&i.zoomSettings.zoomFactor<=i.zoomSettings.minZoomFactor?(d.classList.add("e-disabled"),d.parentElement.classList.add("e-overlay")):d&&(d.classList.remove("e-disabled"),d.parentElement.classList.remove("e-overlay"));var c=document.querySelector("#"+e+"_frame");c&&(i.currSelectionPoint&&"crop-circle"===i.currSelectionPoint.shape||i.isCircleCrop)?c.classList.add("e-disabled"):c&&c.classList.remove("e-disabled")},h.prototype.createLeftToolbarControls=function(){var i=this.parent,e=i.element.id;if(void 0!==this.defToolbarItems&&this.defToolbarItems.length>0&&document.getElementById(e+"_toolbar")){var t=document.getElementById(e+"_toolbar").querySelector(".e-image-upload");if(t){var s=t.getElementsByTagName("input")[0],r=t.getElementsByTagName("button")[0];r.className="e-tbar-btn e-tbtn-txt top-icon",r.innerHTML="",r.appendChild(i.createElement("span",{className:"e-btn-icon e-icons e-upload-icon e-icon-left"})),s.onchange=this.fileSelect.bind(this,s)}}},h.prototype.fileSelect=function(i,e){var t=i.files[0].type.split("/")[1];["png","jpg","jpeg","svg","svg+xml"].indexOf(t)>-1?this.parent.notify("draw",{prop:"fileSelect",value:{inputElement:i,args:e}}):this.parent.showDialogPopup()},h.prototype.renderAnnotationBtn=function(i){var e=this,t=this.parent,s=!1,r=[],o=t.element.id,a=["Ellipse","Arrow","Line","Rectangle","Pen","Path","Text"];if(t.toolbar)for(var d=0;d<a.length;d++)if(-1!==t.toolbar.indexOf(a[d])){s=!0;break}((0,n.le)(t.toolbar)||!s||t.toolbar&&t.toolbar.indexOf("Pen")>-1)&&r.push({text:this.l10n.getConstant("Pen"),id:"pen",iconCss:"e-icons e-free-pen"}),((0,n.le)(t.toolbar)||!s||t.toolbar&&t.toolbar.indexOf("Line")>-1)&&r.push({text:this.l10n.getConstant("Line"),id:"line",iconCss:"e-icons e-line"}),((0,n.le)(t.toolbar)||!s||t.toolbar&&t.toolbar.indexOf("Rectangle")>-1)&&r.push({text:this.l10n.getConstant("Rectangle"),id:"rectangle",iconCss:"e-icons e-rectangle"}),((0,n.le)(t.toolbar)||!s||t.toolbar&&t.toolbar.indexOf("Ellipse")>-1)&&r.push({text:this.l10n.getConstant("Ellipse"),id:"ellipse",iconCss:"e-icons e-circle"}),((0,n.le)(t.toolbar)||!s||t.toolbar&&t.toolbar.indexOf("Arrow")>-1)&&r.push({text:this.l10n.getConstant("Arrow"),id:"arrow",iconCss:"e-icons e-arrow-right-up"}),((0,n.le)(t.toolbar)||!s||t.toolbar&&t.toolbar.indexOf("Path")>-1)&&r.push({text:this.l10n.getConstant("Path"),id:"path",iconCss:"e-icons e-critical-path"}),((0,n.le)(t.toolbar)||!s||t.toolbar&&t.toolbar.indexOf("Text")>-1)&&r.push({text:this.l10n.getConstant("Text"),id:"text",iconCss:"e-icons e-add-text"}),((0,n.le)(t.toolbar)||!(0,n.le)(t.toolbar)&&t.toolbar.indexOf("Image")>-1)&&r.push({text:this.l10n.getConstant("Image"),id:"image",iconCss:"e-icons e-image"});var c={freehandDrawSelectedId:null};t.notify("freehand-draw",{prop:"getFreehandDrawSelectedId",onPropertyChange:!1,value:{obj:c}});var p=document.querySelector("#"+o+"_duplicate"),u=document.querySelector("#"+o+"_remove"),f=document.querySelector("#"+o+"_editText");0===t.activeObj.activePoint.width&&0===t.activeObj.activePoint.height&&((0,n.le)(t.activeObj.pointColl)||t.activeObj.pointColl&&0===t.activeObj.pointColl.length)&&(0,n.le)(c.freehandDrawSelectedId)?(p&&p.classList.add("e-disabled"),u&&u.classList.add("e-disabled"),f&&f.classList.add("e-disabled")):(p&&p.classList.remove("e-disabled"),u&&u.classList.remove("e-disabled"),f&&f.classList.remove("e-disabled"));var v=i?this.getCurrentShapeIcon(t.activeObj.shape):"e-annotation",g=new ai({items:r,iconCss:"e-icons "+v,cssClass:"e-image-popup",open:function(b){t.currObjType.isFiltered&&(t.okBtn(),t.element.querySelector("#"+o+"_annotationBtn").click()),n.AR.isDevice&&(b.element.parentElement.style.top=g.element.getBoundingClientRect().top-b.element.parentElement.offsetHeight+"px"),t.activeObj.shape?document.getElementById(t.activeObj.shape).classList.add("e-selected"):t.togglePen&&document.getElementById("pen").classList.add("e-selected")},select:function(b){t.okBtn();var T,C=!1;void 0!==t.activeObj.shape&&(T=t.activeObj.shape.split("-")),(void 0===T&&t.currObjType.isCustomCrop||void 0!==T&&"crop"===T[0])&&(C=!0),t.currObjType.isCustomCrop=!1,(C||t.togglePan)&&(t.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),e.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),e.refreshToolbar("main"));var O={currentFreehandDrawIndex:null};switch(t.notify("freehand-draw",{prop:"getCurrentFreehandDrawIndex",value:{obj:O}}),g.iconCss="e-icons "+e.getCurrentShapeIcon(b.item.id),b.item.id){case"pen":t.notify("draw",{prop:"setTempFreehandCounter",value:{tempFreehandCounter:t.freehandCounter}}),t.notify("draw",{prop:"setTempCurrentFreehandDrawIndex",value:{tempCurrentFreehandDrawIndex:O.currentFreehandDrawIndex}}),e.currentToolbar="pen",t.freeHandDraw(!0);break;case"text":e.currentToolbar="text",t.notify("shape",{prop:"draw-shape-text"});break;case"image":e.currentToolbar="shapes",t.element.querySelector("#"+o+"_fileUpload").click();break;default:e.currentToolbar="shapes",e.setInitialShapeSettings(b),t.notify("selection",{prop:"annotate",value:{shape:b.item.id}}),t.notify("toolbar",{prop:"refresh-toolbar",onPropertyChange:!1,value:{type:"shapes",isApplyBtn:null,isCropping:null,isZooming:null,cType:null}})}e.updateToolbarItems();var j=t.togglePen;"pen"===b.item.id&&(t.togglePen=!1),t.notify("draw",{prop:"redrawDownScale"}),t.togglePen=j}});g.appendTo("#"+o+"_annotationBtn")},h.prototype.renderStraightenSlider=function(){var i=this.parent,e=i.element.id;if(((0,n.le)(i.toolbar)||i.toolbar&&i.toolbar.indexOf("Straightening")>-1)&&i.element.querySelector("#"+e+"_straightenSlider")){var t=this.createSlider(-45,45,i.cropObj.straighten,"straighten");t.appendTo("#"+e+"_straightenSlider");var s=t.element.querySelector(".e-handle");s&&!n.AR.isDevice&&(s.addEventListener("mousedown",function(r){r.preventDefault(),r.stopPropagation()}),s.addEventListener("touchstart",function(r){r.preventDefault(),r.stopPropagation()}))}},h.prototype.renderCropBtn=function(i){var d,c,e=this,t=this.parent,s=[],r=!1,o=["CustomSelection","CircleSelection","SquareSelection","RatioSelection"];if(t.toolbar)for(var a=0;a<o.length;a++)if(-1!==t.toolbar.indexOf(o[a])){r=!0;break}((0,n.le)(t.toolbar)||!r||t.toolbar&&t.toolbar.indexOf("CustomSelection")>-1)&&s.push({text:this.l10n.getConstant("Custom"),id:"custom",iconCss:"e-icons e-custom"}),((0,n.le)(t.toolbar)||!r||t.toolbar&&t.toolbar.indexOf("CircleSelection")>-1)&&s.push({text:this.l10n.getConstant("Circle"),id:"circle",iconCss:"e-icons e-circle"}),((0,n.le)(t.toolbar)||!r||t.toolbar&&t.toolbar.indexOf("SquareSelection")>-1)&&s.push({text:this.l10n.getConstant("Square"),id:"square",iconCss:"e-icons e-square"}),((0,n.le)(t.toolbar)||!r||t.toolbar&&t.toolbar.indexOf("RatioSelection")>-1)&&(s.push({text:"2:3",id:"2:3",iconCss:"e-icons e-custom-f"}),s.push({text:"3:2",id:"3:2",iconCss:"e-icons e-custom-a"}),s.push({text:"3:4",id:"3:4",iconCss:"e-icons e-custom-g"}),s.push({text:"4:3",id:"4:3",iconCss:"e-icons e-custom-b"}),s.push({text:"4:5",id:"4:5",iconCss:"e-icons e-custom-h"}),s.push({text:"5:4",id:"5:4",iconCss:"e-icons e-custom-c"}),s.push({text:"5:7",id:"5:7",iconCss:"e-icons e-custom-i"}),s.push({text:"7:5",id:"7:5",iconCss:"e-icons e-custom-d"}),s.push({text:"9:16",id:"9:16",iconCss:"e-icons e-custom-j"}),s.push({text:"16:9",id:"16:9",iconCss:"e-icons e-custom-e"})),i?(d=this.getCurrentShapeIcon(i),c=i):t.activeObj.shape?(d=this.getCurrentShapeIcon(t.activeObj.shape),c=t.activeObj.shape):t.currSelectionPoint?(d=this.getCurrentShapeIcon(t.currSelectionPoint.shape),c=t.currSelectionPoint.shape):(d=s[0].iconCss,c=s[0].id);var p=new ai({open:function(u){if(t.togglePan&&e.cancelPan(),n.AR.isDevice&&(u.element.parentElement.style.top=p.element.getBoundingClientRect().top-u.element.parentElement.offsetHeight+"px"),t.activeObj.shape&&t.activeObj.shape.split("-").length>1){var f=document.getElementById(t.activeObj.shape.split("-")[1]);f.classList.add("e-selected"),f.focus()}t.notify("transform",{prop:"disableZoomOutBtn",value:{isZoomOut:!0}})},items:s,select:function(u){e.cropSelect(u),p.iconCss="e-icons "+e.getCurrentShapeIcon("crop-"+u.item.id),p.content=n.AR.isDevice?null:t.toPascalCase(u.item.id)},iconCss:"e-icons "+d,cssClass:"e-image-popup e-ie-crop-ddb-popup",content:n.AR.isDevice?null:t.toPascalCase(c.replace("crop-",""))});p.appendTo("#"+t.element.id+"_cropBtn")},h.prototype.renderTransformBtn=function(){var i=this.parent,e=[];((0,n.le)(i.toolbar)||i.toolbar&&i.toolbar.indexOf("RotateLeft")>-1)&&e.push({text:this.l10n.getConstant("RotateLeft"),id:"rotateleft",iconCss:"e-icons e-anti-clock-wise"}),((0,n.le)(i.toolbar)||i.toolbar&&i.toolbar.indexOf("RotateRight")>-1)&&e.push({text:this.l10n.getConstant("RotateRight"),id:"rotateright",iconCss:"e-icons e-clock-wise"}),((0,n.le)(i.toolbar)||i.toolbar&&i.toolbar.indexOf("FlipHorizontal")>-1)&&e.push({text:this.l10n.getConstant("HorizontalFlip"),id:"horizontalflip",iconCss:"e-icons e-horizontal-flip"}),((0,n.le)(i.toolbar)||i.toolbar&&i.toolbar.indexOf("FlipVertical")>-1)&&e.push({text:this.l10n.getConstant("VerticalFlip"),id:"verticalflip",iconCss:"e-icons e-vertical-flip"});var t=new ai({open:function(s){if(n.AR.isDevice){var r=s.element.parentElement,o=r.offsetHeight;r.style.display="none",r.style.top=t.element.getBoundingClientRect().top-o+"px",r.style.display="block"}},items:e,select:i.transformSelect.bind(this),iconCss:"e-icons e-transform",cssClass:"e-image-popup"});t.appendTo("#"+i.element.id+"_transformBtn")},h.prototype.renderSaveBtn=function(){var i=this.parent,e=i.element.id;document.getElementById(e+"_saveBtn")&&new ai({items:[{text:"JPEG",id:"jpeg"},{text:"PNG",id:"png"},{text:"SVG",id:"svg"}],cssClass:"e-caret-hide e-image-popup",iconCss:"e-icons e-save",select:function(o){i.export(o.item.text),i.isChangesSaved=!0,i.notify("draw",{prop:"redrawDownScale"})}}).appendTo("#"+e+"_saveBtn")},h.prototype.getCropTransformToolbarItem=function(){var i=this.parent,e=i.element.id,t=[];if(t.push({id:e+"_crop",tooltipText:this.l10n.getConstant("CropSelection"),align:"Center",template:'<button id="'+e+'_cropBtn"></button>'}),t.push({align:"Center",type:"Separator"}),((0,n.le)(i.toolbar)||i.toolbar&&(i.toolbar.indexOf("Transform")>-1||i.toolbar.indexOf("RotateLeft")>-1))&&t.push({id:e+"_rotateLeft",prefixIcon:"e-icons e-anti-clock-wise",tooltipText:this.l10n.getConstant("RotateLeft"),align:"Center"}),((0,n.le)(i.toolbar)||i.toolbar&&(i.toolbar.indexOf("Transform")>-1||i.toolbar.indexOf("RotateRight")>-1))&&t.push({id:e+"_rotateRight",prefixIcon:"e-icons e-clock-wise",tooltipText:this.l10n.getConstant("RotateRight"),align:"Center"}),t.length>2&&t.push({align:"Center",type:"Separator"}),((0,n.le)(i.toolbar)||i.toolbar&&(i.toolbar.indexOf("Transform")>-1||i.toolbar.indexOf("HorizontalFlip")>-1))&&t.push({id:e+"_horizontalFlip",prefixIcon:"e-icons e-horizontal-flip",tooltipText:this.l10n.getConstant("HorizontalFlip"),align:"Center"}),((0,n.le)(i.toolbar)||i.toolbar&&(i.toolbar.indexOf("Transform")>-1||i.toolbar.indexOf("VerticalFlip")>-1))&&t.push({id:e+"_verticalFlip",prefixIcon:"e-icons e-vertical-flip",tooltipText:this.l10n.getConstant("VerticalFlip"),align:"Center"}),((0,n.le)(i.toolbar)||i.toolbar&&i.toolbar.indexOf("Straightening")>-1)&&!n.AR.isDevice&&(t.push({align:"Center",type:"Separator"}),(0,n.le)(i.toolbar)||i.toolbar&&(i.toolbar.indexOf("Straighten")>-1||i.toolbar.indexOf("Straighten")>-1))){var s=document.createElement("span");s.innerHTML=this.l10n.getConstant("Straighten"),t.push({id:e+"_straightenSpan",cssClass:"e-ie-straighten-span",template:s,align:"Center"}),t.push({id:e+"_straighten",cssClass:"top-icon e-straighten",tooltipText:this.l10n.getConstant("Straighten"),align:"Center",type:"Input",template:'<div id="'+e+'_straightenSlider"></div>'});var r=document.createElement("span");r.innerHTML=i.transform.straighten.toString()+"&#176",t.push({id:e+"_straightenSpan",cssClass:"e-ie-straighten-value-span",template:r,align:"Center"})}return n.AR.isDevice||(t.push({id:e+"_ok",prefixIcon:"e-icons e-check",cssClass:"top-icon e-tick",tooltipText:this.l10n.getConstant("OK"),align:"Right"}),t.push({id:e+"_cancel",prefixIcon:"e-icons e-close",cssClass:"top-icon e-save",tooltipText:this.l10n.getConstant("Cancel"),align:"Right"})),t},h.prototype.getShapesToolbarItem=function(i){var e=this.parent,t=e.element.id,s=[];((0,n.le)(e.toolbar)||e.toolbar)&&s.push({id:t+"_annotation",tooltipText:this.l10n.getConstant("Annotation"),align:"Center",template:'<button id="'+t+'_annotationBtn"></button>'}),i.indexOf("fillColor")>-1&&s.push({prefixIcon:"e-icons e-copy",id:t+"_fillcolor",cssClass:"top-icon e-fill",tooltipText:this.l10n.getConstant("FillColor"),align:"Center",type:"Input",template:'<button id="'+t+'_fillColorBtn"></button>'}),i.indexOf("strokeColor")>-1&&s.push({prefixIcon:"e-icons e-copy",id:t+"_strokecolor",cssClass:"top-icon e-stroke",tooltipText:this.l10n.getConstant("StrokeColor"),align:"Center",type:"Input",template:'<button id="'+t+'_borderColorBtn"></button>'}),i.indexOf("strokeWidth")>-1&&s.push({id:t+"_strokeWidth",cssClass:"top-icon e-size",tooltipText:"Stroke Width",align:"Center",type:"Input",template:'<button id="'+t+'_borderWidthBtn"></button>'}),i.indexOf("start")>-1&&s.push({id:t+"_start",cssClass:"top-icon e-size",tooltipText:"Start",align:"Center",type:"Input",template:'<button id="'+t+'_startBtn"></button>'}),i.indexOf("end")>-1&&s.push({id:t+"_end",cssClass:"top-icon e-size",tooltipText:"End",align:"Center",type:"Input",template:'<button id="'+t+'_endBtn"></button>'}),i.indexOf("flip")>-1&&(s.push({id:t+"_rotLeft",prefixIcon:"e-anti-clock-wise",tooltipText:this.l10n.getConstant("RotateLeft"),align:"Center"}),s.push({id:t+"_rotRight",prefixIcon:"e-clock-wise",tooltipText:this.l10n.getConstant("RotateRight"),align:"Center"}),s.push({id:t+"_hFlip",prefixIcon:"e-horizontal-flip",tooltipText:this.l10n.getConstant("HorizontalFlip"),align:"Center"}),s.push({id:t+"_vFlip",prefixIcon:"e-vertical-flip",tooltipText:this.l10n.getConstant("VerticalFlip"),align:"Center"})),i.indexOf("transparency")>-1&&(s.push({align:"Center",type:"Separator"}),s.push({id:t+"_transparency",prefixIcon:"e-opacity",tooltipText:this.l10n.getConstant("Opacity"),align:"Center"})),s.push({align:"Center",type:"Separator"}),i.indexOf("duplicate")>-1&&s.push({id:t+"_duplicate",prefixIcon:"e-icons e-order",cssClass:"top-icon e-order",tooltipText:this.l10n.getConstant("Duplicate"),align:"Center"}),i.indexOf("remove")>-1&&s.push({id:t+"_remove",prefixIcon:"e-icons e-trash",cssClass:"top-icon e-trash",tooltipText:this.l10n.getConstant("Remove"),align:"Center"}),i.indexOf("text")>-1&&s.push({id:t+"_editText",prefixIcon:"e-icons e-annotation-edit",cssClass:"top-icon e-annotation-edit",tooltipText:this.l10n.getConstant("EditText"),align:"Center"});for(var r=this.processSubToolbar(i),o=0,a=r.length;o<a;o++)s.push(r[o]);if(!n.AR.isDevice){var d={shape:null};e.notify("selection",{prop:"getCurrentDrawingShape",value:{obj:d}}),"path"!==d.shape&&(s.push({id:t+"_ok",prefixIcon:"e-icons e-check",cssClass:"top-icon e-tick",tooltipText:this.l10n.getConstant("OK"),align:"Right"}),s.push({id:t+"_cancel",prefixIcon:"e-icons e-close",cssClass:"top-icon e-save",tooltipText:this.l10n.getConstant("Cancel"),align:"Right"}))}return s},h.prototype.initCropTransformToolbar=function(i){var e=this,t=this.parent,s=t.element.id,r=this.getLeftToolbarItem(),o=this.getRightToolbarItem(),a=this.getCropTransformToolbarItem(),d=this.getZoomToolbarItem();this.defToolbarItems=n.AR.isDevice?a:r.concat(d,a,o);var c={toolbarType:"crop-transform",toolbarItems:this.defToolbarItems};t.trigger("toolbarUpdating",c),this.defToolbarItems=c.toolbarItems;var p=new ws({width:"100%",items:this.defToolbarItems,clicked:this.defToolbarClicked.bind(this),created:function(){e.renderCropBtn(i),e.renderStraightenSlider(),e.wireZoomBtnEvents(),n.AR.isDevice||e.renderSaveBtn(),t.trigger("toolbarCreated",{toolbarType:"shapes"}),n.AR.isDevice?e.defToolbarItems.length>0&&document.getElementById(s+"_bottomToolbar")&&(p.refreshOverflow(),p.refreshOverflow(),p.refreshOverflow()):(e.createLeftToolbarControls(),e.defToolbarItems.length>0&&document.getElementById(s+"_toolbar")&&p.refreshOverflow()),document.getElementById(s+"_cropBtn")&&(n.AR.isDevice||t.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:e.getCropTextContent(document.getElementById(s+"_cropBtn")).toLowerCase(),startX:null,startY:null,width:null,height:null}}))}});p.appendTo(n.AR.isDevice?"#"+s+"_bottomToolbar":"#"+s+"_toolbar");var u=t.element.querySelector("#"+s+"_straightenSlider");((0,n.le)(t.toolbar)||t.toolbar&&t.toolbar.indexOf("Straightening")>-1)&&u&&u.parentElement.clientHeight>this.toolbarHeight&&(this.toolbarHeight=t.toolbarHeight=u.parentElement.clientHeight),this.enableDisableTbrBtn(),t.notify("transform",{prop:"disableZoomOutBtn",value:{isZoomOut:!0}})},h.prototype.getCropTextContent=function(i){if(i){var e={"e-custom":"Custom","e-circle":"Circle","e-square":"Square","e-custom-a":"3:2","e-custom-b":"4:3","e-custom-c":"5:4","e-custom-d":"7:5","e-custom-e":"16:9","e-custom-f":"2:3","e-custom-g":"3:4","e-custom-h":"4:5","e-custom-i":"5:7","e-custom-j":"9:16"},t=i.children[0].classList;for(var s in e)if(t.contains(s))return e[s]}return""},h.prototype.getCurrentShapeIcon=function(i){return{rectangle:"e-rectangle",ellipse:"e-circle",line:"e-line",arrow:"e-arrow-right-up",path:"e-critical-path",text:"e-add-text",image:"e-image",pen:"e-free-pen","crop-custom":"e-custom","crop-circle":"e-circle","crop-square":"e-square","crop-3:2":"e-custom-a","crop-4:3":"e-custom-b","crop-5:4":"e-custom-c","crop-7:5":"e-custom-d","crop-16:9":"e-custom-e","crop-2:3":"e-custom-f","crop-3:4":"e-custom-g","crop-4:5":"e-custom-h","crop-5:7":"e-custom-i","crop-9:16":"e-custom-j"}[i]||"e-free-pen"},h.prototype.initShapesToolbarItem=function(i){var e=this,t=this.parent,s=t.element.id,r=this.getLeftToolbarItem(),o=this.getRightToolbarItem(),a=this.getShapesToolbarItem(i),d=this.getZoomToolbarItem();this.defToolbarItems=n.AR.isDevice?a:r.concat(d,a,o);var c={toolbarType:t.activeObj.shape?t.activeObj.shape:"shapes",toolbarItems:this.defToolbarItems};t.trigger("toolbarUpdating",c),this.isToolbarString(c.toolbarItems)?(i=c.toolbarItems,this.excludeItems(c.toolbarItems)):this.defToolbarItems=c.toolbarItems;var p=new ws({width:"100%",items:this.defToolbarItems,clicked:this.defToolbarClicked.bind(this),created:function(){e.renderAnnotationBtn(!0),e.createShapeColor(i),e.createShapeBtn(i),"arrow"===t.activeObj.shape&&(i.some(function(u){return u.toLowerCase().indexOf("start")>-1})&&e.createStartBtn(),i.some(function(u){return u.toLowerCase().indexOf("end")>-1})&&e.createEndBtn()),e.wireZoomBtnEvents(),n.AR.isDevice||e.renderSaveBtn(),t.trigger("toolbarCreated",{toolbarType:"shapes"}),n.AR.isDevice?e.defToolbarItems.length>0&&document.getElementById(s+"_bottomToolbar")&&(p.refreshOverflow(),p.refreshOverflow(),p.refreshOverflow()):(e.createLeftToolbarControls(),e.defToolbarItems.length>0&&document.getElementById(s+"_toolbar")&&p.refreshOverflow())}});p.appendTo(n.AR.isDevice?"#"+s+"_bottomToolbar":"#"+s+"_toolbar"),this.enableDisableTbrBtn()},h.prototype.beforeModeSwitch=function(i,e){this.popupLeft=i.element.offsetParent.style.left,"Picker"===i.mode?(e.showButtons=!0,e.dataBind(),i.element.querySelector(".e-apply").title=this.l10n.getConstant("Apply"),i.element.querySelector(".e-cancel").title=this.l10n.getConstant("Cancel"),i.element.querySelector(".e-mode-switch-btn").title=this.l10n.getConstant("StandardColors")):(e.showButtons=!1,e.dataBind(),i.element.querySelector(".e-mode-switch-btn").title=this.l10n.getConstant("MoreColors"))},h.prototype.createShapeColor=function(i){var e=this,t=this.parent,s=t.element.id;if(i.indexOf("fillColor")>-1){t.element.querySelector(".e-template.e-fill").appendChild(t.createElement("input",{id:s+"_shape_fill"}));var r=new la({modeSwitcher:!0,noColor:!0,value:"",inline:!0,showButtons:!1,mode:"Palette",cssClass:"e-shape-fill-color",beforeModeSwitch:function(c){return e.beforeModeSwitch(c,r)},presetColors:{custom:["","#f44336","#e91e63","#9c27b0","#673ab7","#2196f3","#03a9f4","#00bcd4","#009688","#ffeb3b","#ffffff","#ffebee","#fce4ec","#f3e5f5","#ede7f6","#e3f2fd","#e1f5fe","#e0f7fa","#e0f2f1","#fffde7","#f2f2f2","#ffcdd2","#f8bbd0","#e1bee7","#d1c4e9","#bbdefb","#b3e5fc","#b2ebf2","#b2dfdb","#fff9c4","#e6e6e6","#ef9a9a","#f48fb1","#ce93d8","#b39ddb","#90caf9","#81d4fa","#80deea","#80cbc4","#fff59d","#cccccc","#e57373","#f06292","#ba68c8","#9575cd","#64b5f6","#4fc3f7","#4dd0e1","#4db6ac","#fff176","#b3b3b3","#ef5350","#ec407a","#ab47bc","#7e57c2","#42a5f5","#29b6f6","#26c6da","#26a69a","#ffee58","#999999","#e53935","#d81b60","#8e24aa","#5e35b1","#1e88e5","#039be5","#00acc1","#00897b","#fdd835","#808080","#d32f2f","#c2185b","#7b1fa2","#512da8","#1976d2","#0288d1","#0097a7","#00796b","#fbc02d","#666666","#c62828","#ad1457","#6a1b9a","#4527a0","#1565c0","#0277bd","#00838f","#00695c","#f9a825","#4d4d4d","#b71c1c","#880e4f","#4a148c","#311b92","#0d47a1","#01579b","#006064","#004d40","#f57f17"]},beforeTileRender:function(c){""===c.value&&c.element.classList.add("e-nocolor-item")},change:function(c){t.updateFillColor(c.value),""===c.currentValue.rgba?o.element.children[0].classList.add("e-nocolor-item"):(o.element.children[0].classList.remove("e-nocolor-item"),o.element.children[0].style.backgroundColor=c.currentValue.rgba),o.toggle()},onModeSwitch:function(c){n.AR.isDevice&&(c.element.parentElement.parentElement.style.left=e.popupLeft,c.element.parentElement.parentElement.style.top=o.element.getBoundingClientRect().top-c.element.parentElement.parentElement.offsetHeight+"px")},beforeClose:function(){o.toggle()}},"#"+s+"_shape_fill"),o=new ai({open:function(c){var p=c.element.parentElement;n.AR.isDevice&&(p.style.top=o.element.getBoundingClientRect().top-p.offsetHeight+"px",p.style.left=t.element.offsetLeft+"px")},target:".e-shape-fill-color",iconCss:"e-dropdownbtn-preview",cssClass:"e-ie-ddb-popup"},"#"+s+"_fillColorBtn");r.inline=!0,r.value=r.getValue(r.value,"rgba"),t.element.querySelector(".e-fill.e-template .e-dropdownbtn-preview").classList.add("e-nocolor-item")}if(i.indexOf("strokeColor")>-1){t.element.querySelector(".e-template.e-stroke").appendChild(t.createElement("input",{id:s+"_shape_stroke"}));var a=new la({modeSwitcher:!0,noColor:!1,value:"#fff",inline:!0,showButtons:!1,mode:"Palette",cssClass:"e-shape-stroke-color",beforeModeSwitch:function(c){e.popupLeft=c.element.offsetParent.style.left,a.value="#fff"!==t.activeObj.strokeSettings.strokeColor?t.activeObj.strokeSettings.strokeColor:"#008000ff",e.beforeModeSwitch(c,a)},presetColors:this.presetColors,change:function(c){t.updateStrokeColor(c.value),d.element.children[0].style.backgroundColor=c.currentValue.rgba,d.toggle()},onModeSwitch:function(c){n.AR.isDevice&&(c.element.parentElement.parentElement.style.left=e.popupLeft,c.element.parentElement.parentElement.style.top=d.element.getBoundingClientRect().top-c.element.parentElement.parentElement.offsetHeight+"px")},beforeClose:function(){d.toggle()}},"#"+s+"_shape_stroke"),d=new ai({open:function(c){var p=c.element.parentElement;n.AR.isDevice&&(p.style.top=d.element.getBoundingClientRect().top-p.offsetHeight+"px",p.style.left=t.element.offsetLeft+"px")},target:".e-shape-stroke-color",iconCss:"e-dropdownbtn-preview",cssClass:"e-ie-ddb-popup"},"#"+s+"_borderColorBtn");a.inline=!0,a.value=a.getValue(a.value,"rgba"),t.element.querySelector(".e-stroke.e-template .e-dropdownbtn-preview").style.background="#fff"}},h.prototype.createShapeBtn=function(i){var e=this.parent,t=e.element.id;if(i.indexOf("strokeWidth")>-1){var s=[{id:"1",text:this.l10n.getConstant("XSmall")},{id:"2",text:this.l10n.getConstant("Small")},{id:"3",text:this.l10n.getConstant("Medium")},{id:"4",text:this.l10n.getConstant("Large")},{id:"5",text:this.l10n.getConstant("XLarge")}];e.activeObj.shape&&("rectangle"===e.activeObj.shape||"ellipse"===e.activeObj.shape)&&(s=[{id:"1",text:this.l10n.getConstant("NoOutline")},{id:"2",text:this.l10n.getConstant("XSmall")},{id:"3",text:this.l10n.getConstant("Small")},{id:"4",text:this.l10n.getConstant("Medium")},{id:"5",text:this.l10n.getConstant("Large")},{id:"6",text:this.l10n.getConstant("XLarge")}]);var r=document.getElementById(t+"_borderWidthBtn"),o=document.createElement("span");o.innerHTML=this.l10n.getConstant("XSmall"),o.className="e-shape-stroke-width",r.appendChild(o);var a=new ai({items:s,open:function(d){n.AR.isDevice&&(d.element.parentElement.style.top=a.element.getBoundingClientRect().top-d.element.parentElement.offsetHeight+"px");var c=o.innerHTML;""!==c&&d.element.querySelector('[aria-label = "'+c+'"]').classList.add("e-selected-btn")},select:function(d){o.textContent=d.item.text,e.updateStrokeWidth(d.item.id),n.AR.isDevice?document.getElementById(t+"_bottomToolbar")&&(0,n.Xr)(t+"_bottomToolbar","toolbar").refreshOverflow():document.getElementById(t+"_toolbar")&&(0,n.Xr)(t+"_toolbar","toolbar").refreshOverflow()}});a.appendTo("#"+t+"_borderWidthBtn")}},h.prototype.createStartBtn=function(){var i=this.parent,e=i.element.id,t=[{id:"1",text:this.l10n.getConstant("None")},{id:"2",text:this.l10n.getConstant("Bar")},{id:"3",text:this.l10n.getConstant("Arrow")},{id:"4",text:this.l10n.getConstant("ArrowSolid")},{id:"5",text:this.l10n.getConstant("Circle")},{id:"6",text:this.l10n.getConstant("CircleSolid")},{id:"7",text:this.l10n.getConstant("Square")},{id:"8",text:this.l10n.getConstant("SquareSolid")}],s=document.getElementById(e+"_startBtn"),r=document.createElement("span");(0,n.le)(i.activeObj.start)&&(i.activeObj.start="none"),r.innerHTML=i.pascalToSplitWords(i.activeObj.start),r.className="e-shape-start",s.appendChild(r);var o=new ai({items:t,open:function(a){n.AR.isDevice&&(a.element.parentElement.style.top=o.element.getBoundingClientRect().top-a.element.parentElement.offsetHeight+"px");var d=r.innerHTML;""!==d&&a.element.querySelector('[aria-label = "'+d+'"]').classList.add("e-selected-btn")},select:function(a){r.textContent=a.item.text,i.updateArrow("startArrow",a.item.id)}});o.appendTo("#"+e+"_startBtn")},h.prototype.createEndBtn=function(){var i=this.parent,e=i.element.id,t=[{id:"1",text:this.l10n.getConstant("None")},{id:"2",text:this.l10n.getConstant("Bar")},{id:"3",text:this.l10n.getConstant("Arrow")},{id:"4",text:this.l10n.getConstant("ArrowSolid")},{id:"5",text:this.l10n.getConstant("Circle")},{id:"6",text:this.l10n.getConstant("CircleSolid")},{id:"7",text:this.l10n.getConstant("Square")},{id:"8",text:this.l10n.getConstant("SquareSolid")}],s=document.getElementById(e+"_endBtn"),r=document.createElement("span");(0,n.le)(i.activeObj.end)&&(i.activeObj.end="arrowSolid"),r.innerHTML=i.pascalToSplitWords(i.activeObj.end),r.className="e-shape-end",s.appendChild(r);var o=new ai({items:t,open:function(a){n.AR.isDevice&&(a.element.parentElement.style.top=o.element.getBoundingClientRect().top-a.element.parentElement.offsetHeight+"px");var d=r.innerHTML;""!==d&&a.element.querySelector('[aria-label = "'+d+'"]').classList.add("e-selected-btn")},select:function(a){r.textContent=a.item.text,i.updateArrow("endArrow",a.item.id)}});o.appendTo("#"+e+"_endBtn")},h.prototype.getTextToolbarItem=function(i){var e=this.parent,t=e.element.id,s=[];((0,n.le)(e.toolbar)||e.toolbar)&&s.push({id:t+"_annotation",tooltipText:this.l10n.getConstant("Annotation"),align:"Center",template:'<button id="'+t+'_annotationBtn"></button>'}),i.indexOf("fontFamily")>-1&&s.push({id:t+"_fontFamily",cssClass:"top-icon e-img-font-family",tooltipText:this.l10n.getConstant("FontFamily"),align:"Center",template:'<button id="'+t+'_fontFamilyBtn"></button>'}),i.indexOf("fontSize")>-1&&s.push({id:t+"_fontSize",cssClass:"top-icon e-img-font-size",tooltipText:this.l10n.getConstant("FontSize"),align:"Center",template:'<button id="'+t+'_fontSizeBtn"></button>'}),i.indexOf("fontColor")>-1&&s.push({cssClass:"top-icon e-text-font-color",id:t+"_text_strokecolor",tooltipText:this.l10n.getConstant("FontColor"),align:"Center",type:"Input",template:'<button id="'+t+'_fontColorBtn"></button>'}),i.indexOf("bold")>-1&&s.push({id:t+"_bold",prefixIcon:"e-icons e-bold",cssClass:"top-icon e-bold",tooltipText:this.l10n.getConstant("Bold"),align:"Center"}),i.indexOf("italic")>-1&&s.push({id:t+"_italic",prefixIcon:"e-icons e-italic",cssClass:"top-icon e-italic",tooltipText:this.l10n.getConstant("Italic"),align:"Center"}),i.indexOf("transparency")>-1&&s.push({id:t+"_transparency",prefixIcon:"e-opacity",tooltipText:this.l10n.getConstant("Opacity"),align:"Center"}),s.push({align:"Center",type:"Separator"}),i.indexOf("duplicate")>-1&&s.push({id:t+"_duplicate",prefixIcon:"e-icons e-order",cssClass:"top-icon e-order",tooltipText:this.l10n.getConstant("Duplicate"),align:"Center",disabled:"block"===e.textArea.style.display||"inline-block"===e.textArea.style.display}),i.indexOf("remove")>-1&&s.push({id:t+"_remove",prefixIcon:"e-icons e-trash",cssClass:"top-icon e-trash",tooltipText:this.l10n.getConstant("Remove"),align:"Center",disabled:"block"===e.textArea.style.display||"inline-block"===e.textArea.style.display}),i.indexOf("text")>-1&&s.push({id:t+"_editText",prefixIcon:"e-icons e-annotation-edit",cssClass:"top-icon e-annotation-edit",tooltipText:this.l10n.getConstant("EditText"),align:"Center",disabled:"block"===e.textArea.style.display||"inline-block"===e.textArea.style.display});for(var r=this.processSubToolbar(i),o=0,a=r.length;o<a;o++)s.push(r[o]);return n.AR.isDevice||(s.push({id:t+"_ok",prefixIcon:"e-icons e-check",cssClass:"top-icon e-tick",tooltipText:this.l10n.getConstant("OK"),align:"Right"}),s.push({id:t+"_cancel",prefixIcon:"e-icons e-close",cssClass:"top-icon e-save",tooltipText:this.l10n.getConstant("Cancel"),align:"Right"})),s},h.prototype.getFontFamilyItems=function(){var i=this.parent;return i.fontFamily&&i.fontFamily.items&&i.fontFamily.items.length>0?i.fontFamily.items:n.AR.isDevice?[{id:"arial",text:"ABC"},{id:"calibri",text:"ABC"},{id:"georgia",text:"ABC"},{id:"roboto",text:"ABC"},{id:"tahoma",text:"ABC"}]:[{id:"arial",text:"Arial"},{id:"calibri",text:"Calibri"},{id:"georgia",text:"Georgia"},{id:"roboto",text:"Roboto"},{id:"tahoma",text:"Tahoma"}]},h.prototype.initTextToolbarItem=function(i){var e=this,t=this.parent,s=t.element.id,r=this.getLeftToolbarItem(),o=this.getRightToolbarItem(),a=this.getTextToolbarItem(i),d=this.getZoomToolbarItem();this.defToolbarItems=n.AR.isDevice?a:r.concat(d,a,o);var c={toolbarType:"text",toolbarItems:this.defToolbarItems};t.trigger("toolbarUpdating",c),this.isToolbarString(c.toolbarItems)?(i=c.toolbarItems,this.excludeItems(c.toolbarItems)):this.defToolbarItems=c.toolbarItems;var p=new ws({width:"100%",items:this.defToolbarItems,clicked:this.defToolbarClicked.bind(this),created:function(){e.renderAnnotationBtn(!0),e.createTextColor(i),e.createTextBtn(i),e.wireZoomBtnEvents(),n.AR.isDevice||e.renderSaveBtn(),t.trigger("toolbarCreated",{toolbarType:"text"}),n.AR.isDevice?e.defToolbarItems.length>0&&document.getElementById(s+"_bottomToolbar")&&(p.refreshOverflow(),p.refreshOverflow(),p.refreshOverflow()):(e.createLeftToolbarControls(),e.defToolbarItems.length>0&&document.getElementById(s+"_toolbar")&&p.refreshOverflow())}});p.appendTo(n.AR.isDevice?"#"+s+"_bottomToolbar":"#"+s+"_toolbar"),this.enableDisableTbrBtn()},h.prototype.createTextColor=function(i){var e=this,t=this.parent,s=t.element.id;if(i.indexOf("fontColor")>-1&&t.element.querySelector(".e-template.e-text-font-color")){t.element.querySelector(".e-template.e-text-font-color").appendChild(t.createElement("input",{id:s+"_text_font"}));var r=new la({modeSwitcher:!0,noColor:!1,value:"#fff",inline:!0,showButtons:!1,mode:"Palette",cssClass:"e-text-fontt-color",beforeModeSwitch:function(a){e.popupLeft=a.element.offsetParent.style.left,r.value="#fff"!==t.activeObj.strokeSettings.strokeColor?t.activeObj.strokeSettings.strokeColor:"#008000ff",e.beforeModeSwitch(a,r)},presetColors:this.presetColors,change:function(a){t.updateFontColor(a.value),o.element.children[0].style.backgroundColor=a.currentValue.rgba,o.toggle()},onModeSwitch:function(a){n.AR.isDevice&&(a.element.parentElement.parentElement.style.left=e.popupLeft,a.element.parentElement.parentElement.style.top=o.element.getBoundingClientRect().top-a.element.parentElement.parentElement.offsetHeight+"px")},beforeClose:function(){o.toggle()}},"#"+s+"_text_font"),o=new ai({open:function(a){var d=a.element.parentElement;n.AR.isDevice&&(d.style.top=o.element.getBoundingClientRect().top-d.offsetHeight+"px",d.style.left=t.element.offsetLeft+"px")},target:".e-text-fontt-color",iconCss:"e-dropdownbtn-preview",cssClass:"e-ie-ddb-popup"},"#"+s+"_fontColorBtn");r.inline=!0,r.value=r.getValue(r.value,"rgba"),t.element.querySelector(".e-text-font-color.e-template .e-dropdownbtn-preview").style.background="#fff"}},h.prototype.createTextBtn=function(i){var e=this.parent,t=e.element.id;if(i.indexOf("fontFamily")>-1){var s=document.getElementById(t+"_fontFamilyBtn"),r=document.createElement("span");n.AR.isDevice?(r.innerHTML="ABC",r.setAttribute("style","font-family: "+e.fontFamily.default.toLowerCase()+"'")):r.innerHTML=e.fontFamily.default,r.className="e-text-font-family",s&&s.appendChild(r);var o=new ai({items:this.getFontFamilyItems(),cssClass:"e-font-family",createPopupOnClick:!0,beforeItemRender:function(u){u.element.setAttribute("style","font-family:"+u.element.id)},open:function(u){n.AR.isDevice&&(u.element.parentElement.style.top=o.element.getBoundingClientRect().top-u.element.parentElement.offsetHeight+"px");var v=u.element.querySelector('[id *= "'+("block"===e.textArea.style.display||"inline-block"===e.textArea.style.display?e.textArea.style.fontFamily:e.activeObj.textSettings.fontFamily).toLowerCase()+'"]');v&&v.classList.add("e-selected-btn")},select:function(u){r.textContent=u.item.text,n.AR.isDevice&&r.setAttribute("style","font-family:"+u.item.id),e.updateFontFamily(u.item.id)}});o.appendTo("#"+t+"_fontFamilyBtn")}if(i.indexOf("fontSize")>-1){var a=document.getElementById(t+"_fontSizeBtn"),d=document.createElement("span"),c=e.getFontSizes();d.innerHTML=c[0].text,d.className="e-text-font-size",a.appendChild(d);var p=new ai({cssClass:"e-font-size",items:c,open:function(u){n.AR.isDevice&&(u.element.parentElement.style.top=p.element.getBoundingClientRect().top-u.element.parentElement.offsetHeight+"px"),u.element.querySelector('[aria-label *= "'+d.innerHTML+'"]').classList.add("e-selected-btn")},select:function(u){d.textContent=u.item.text,e.updateFontSize(u.item.text)}});p.appendTo("#"+t+"_fontSizeBtn")}},h.prototype.refreshToolbar=function(i,e,t,s,r,o){var a=this.parent,d=a.element.id;if(a.isImageLoaded&&!a.isCropToolbar){var p,u,c={};if("filter"!==i&&"color"!==i){var f=document.getElementById(d+"_toolbar"),v=document.getElementById(d+"_customizeWrapper"),g=document.getElementById(d+"_bottomToolbar");v&&(0,n.Xr)(v,"toolbar")&&this.defToolbarItems.length>0&&((0,n.Xr)(v,"toolbar").destroy(),v.innerHTML=""),f&&this.defToolbarItems.length>0&&((0,n.Xr)(f,"toolbar").destroy(),f.innerHTML=""),g&&this.defToolbarItems.length>0&&g.className.indexOf("e-control")>-1&&((0,n.Xr)(g,"toolbar").destroy(),g.innerHTML="")}switch(this.refreshSlider(),document.querySelector(".e-slider-tooltip")&&document.querySelector(".e-slider-tooltip").remove(),this.isFrameToolbar=!1,a.isCropTab=!1,i){case"main":n.AR.isDevice?this.initMainToolbar(!1,!0,!!t||null,!1,!1,!0):(!n.AR.isDevice||s)&&this.initMainToolbar(e,n.AR.isDevice,null),n.AR.isDevice&&this.initBottomToolbar();break;case"shapes":n.AR.isDevice&&this.initMainToolbar(!1,!0,!0),c.toolbarItems="line"===a.activeObj.shape||"path"===a.activeObj.shape?["strokeColor","strokeWidth","duplicate","remove"]:"arrow"===a.activeObj.shape?["strokeColor","strokeWidth","start","end","duplicate","remove"]:"image"===a.activeObj.shape?["flip","duplicate","remove","transparency"]:["fillColor","strokeColor","strokeWidth","duplicate","remove"],this.initShapesToolbarItem(c.toolbarItems);break;case"text":n.AR.isDevice&&this.initMainToolbar(!1,!0,!0),c.toolbarItems=["fontFamily","fontSize","fontColor","bold","italic","duplicate","remove","text"],this.initTextToolbarItem(c.toolbarItems);break;case"pen":n.AR.isDevice&&this.initMainToolbar(!1,!0,!0),c.toolbarItems=["strokeColor","strokeWidth","remove","transparency"],this.initPenToolbarItem(c.toolbarItems);break;case"adjustment":n.AR.isDevice&&this.initMainToolbar(!1,!0,!0),this.initAdjustmentToolbarItem();break;case"filter":this.updateContextualToolbar(i);break;case"resize":(a.isCircleCrop||a.currSelectionPoint&&"crop-circle"===a.currSelectionPoint.shape)&&(a.aspectHeight=a.aspectWidth,this.isAspectRatio=!1),this.initResizeToolbar(),n.AR.isDevice&&this.initMainToolbar(!1,!0,!0,!0),p=a.element.querySelector("#"+d+"_aspectratio"),u=a.element.querySelector("#"+d+"_nonaspectratio"),a.aspectWidth&&a.aspectHeight&&(u?a.notify("transform",{prop:"resize",value:{width:a.aspectWidth,height:a.aspectHeight,isAspectRatio:!1}}):p&&a.notify("transform",{prop:"resize",value:{width:a.aspectWidth,height:null,isAspectRatio:!0}}));break;case"color":this.updateContextualToolbar(i,r);break;case"croptransform":a.allowDownScale=!1,a.isCropTab=!0,n.AR.isDevice&&this.initMainToolbar(!1,!0,!0),a.updateCropTransformItems(),this.initCropTransformToolbar(o),n.AR.isDevice&&this.updateContextualToolbar("color","straighten",!0);break;case"frame":this.isFrameToolbar=!0,n.AR.isDevice?(this.initMainToolbar(!1,!0,!0),this.initMainToolbar(!1,!0,!0,!1,!0)):this.initMainToolbar(!0,null,null,!1,!0);var b=a.element.querySelector("#"+d+"_"+a.frameObj.type);b&&b.classList.add("e-selected-btn"),"none"!==a.frameObj.type&&this.updateContextualToolbar(i,r),a.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}})}this.currToolbar=i,this.refreshDropDownBtn(t)}},h.prototype.performCropTransformClick=function(i){var e=this.parent;e.notify("draw",{prop:"setTempStraightenZoomDeg"}),e.tempStraighten=e.transform.straighten,e.currObjType.isFiltered&&e.okBtn(),e.isStraightening=!0,this.refreshToolbar("croptransform",null,null,null,null,i),e.notify("draw",{prop:"setDestForStraighten"}),e.notify("draw",{prop:"setTempDestForStraighten"})},h.prototype.getAdjustmentToolbarItem=function(){var i=[],e=this.parent,t=!1,s=e.element.id,r=["Brightness","Contrast","Hue","Saturation","Exposure","Opacity","Blur"];if(e.toolbar)for(var o=0;o<r.length;o++)if(-1!==e.toolbar.indexOf(r[o])){t=!0;break}((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Brightness")>-1)&&i.push({id:s+"_brightness",prefixIcon:"e-icons e-brightness",cssClass:"top-icon e-brightness",tooltipText:this.l10n.getConstant("Brightness"),align:"Center"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Contrast")>-1)&&i.push({id:s+"_contrast",prefixIcon:"e-icons e-contrast",cssClass:"top-icon e-contrast",tooltipText:this.l10n.getConstant("Contrast"),align:"Center"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Hue")>-1)&&i.push({id:s+"_hue",prefixIcon:"e-icons e-fade",cssClass:"top-icon e-fade",tooltipText:this.l10n.getConstant("Hue"),align:"Center"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Saturation")>-1)&&i.push({id:s+"_saturation",prefixIcon:"e-icons e-saturation",cssClass:"top-icon e-saturation",tooltipText:this.l10n.getConstant("Saturation"),align:"Center"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Exposure")>-1)&&i.push({id:s+"_exposure",prefixIcon:"e-icons e-grain",cssClass:"top-icon e-grain",tooltipText:this.l10n.getConstant("Exposure"),align:"Center"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Opacity")>-1)&&i.push({id:s+"_opacity",prefixIcon:"e-icons e-opacity",cssClass:"top-icon e-opacity",tooltipText:this.l10n.getConstant("Opacity"),align:"Center"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Blur")>-1)&&i.push({id:s+"_blur",prefixIcon:"e-icons e-tint",cssClass:"top-icon e-tint",tooltipText:this.l10n.getConstant("Blur"),align:"Center"});for(var a=this.processToolbar("center"),d=(o=0,a.length);o<d;o++)i.push(a[o]);return n.AR.isDevice||(i.push({id:s+"_ok",prefixIcon:"e-icons e-check",cssClass:"top-icon e-tick",tooltipText:this.l10n.getConstant("OK"),align:"Right"}),i.push({id:s+"_cancel",prefixIcon:"e-icons e-close",cssClass:"top-icon e-save",tooltipText:this.l10n.getConstant("Cancel"),align:"Right"})),i},h.prototype.getFrameToolbarItem=function(){var i=this.parent,e=i.element.id,t=[];return t.push({prefixIcon:"e-icons e-copy",id:e+"_frameColor",cssClass:"top-icon e-stroke",tooltipText:this.l10n.getConstant("Color"),align:"Center",type:"Input",template:"<span>"+this.l10n.getConstant("Color")+'</span><button id="'+e+'_frameColorBtn"></button>'}),t.push({prefixIcon:"e-icons e-copy",id:e+"_frameGradient",cssClass:"top-icon e-frame-stroke",tooltipText:this.l10n.getConstant("GradientColor"),align:"Center",type:"Input",template:"<span>"+this.l10n.getConstant("GradientColor")+'</span><button id="'+e+'_frameGradientColorBtn"></button>'}),t.push({id:e+"_frameSize",cssClass:"top-icon e-size",tooltipText:this.l10n.getConstant("Size"),align:"Center",type:"Input",template:"<span>"+this.l10n.getConstant("Size")+'</span><button id="'+e+'_frameSizeBtn"></button>'}),("line"===i.frameObj.type||"inset"===i.frameObj.type||"hook"===i.frameObj.type)&&t.push({id:e+"_frameInset",cssClass:"top-icon e-size",tooltipText:this.l10n.getConstant("Inset"),align:"Center",type:"Input",template:"<span>"+this.l10n.getConstant("Inset")+'</span><button id="'+e+'_frameInsetBtn"></button>'}),("line"===i.frameObj.type||"inset"===i.frameObj.type)&&t.push({id:e+"_frameOffset",cssClass:"top-icon e-size",tooltipText:this.l10n.getConstant("Offset"),align:"Center",type:"Input",template:"<span>"+this.l10n.getConstant("Offset")+'</span><button id="'+e+'_frameOffsetBtn"></button>'}),"line"===i.frameObj.type&&(t.push({id:e+"_frameRadius",cssClass:"top-icon e-size",tooltipText:this.l10n.getConstant("Radius"),align:"Center",type:"Input",template:"<span>"+this.l10n.getConstant("Radius")+'</span><button id="'+e+'_frameRadiusBtn"></button>'}),t.push({id:e+"_frameAmount",cssClass:"top-icon e-size",tooltipText:this.l10n.getConstant("Amount"),align:"Center",type:"Input",template:"<span>"+this.l10n.getConstant("Amount")+'</span><button id="'+e+'_frameAmountBtn"></button>'}),t.push({id:e+"_frameBorder",cssClass:"top-icon e-size",tooltipText:this.l10n.getConstant("Border"),align:"Center",type:"Input",template:"<span>"+this.l10n.getConstant("Border")+'</span><button id="'+e+'_frameBorderBtn"></button>'})),t},h.prototype.getFilterToolbarItem=function(){var i=[],e=this.parent,t=!1,s=e.element.id,r=["Default","Chrome","Cold","Warm","Grayscale","Sepia","Invert"];if(e.toolbar)for(var o=0;o<r.length;o++)if(-1!==e.toolbar.indexOf(r[o])){t=!0;break}((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Default")>-1)&&i.push({id:s+"_default",prefixIcon:"e-icons e-none",cssClass:"top-icon e-none",tooltipText:this.l10n.getConstant("Default"),align:"Center",template:'<div class="filter-wrapper" style="box-sizing: content-box;"><canvas id='+s+'_defaultCanvas></canvas><div style="text-align:center;"><span>'+this.l10n.getConstant("Default")+"</span></div></div>"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Chrome")>-1)&&i.push({id:s+"_chrome",prefixIcon:"e-icons e-none",cssClass:"top-icon e-none",tooltipText:this.l10n.getConstant("Chrome"),align:"Center",template:'<div class="filter-wrapper" style="box-sizing: content-box;"><canvas id='+s+'_chromeCanvas></canvas><div style="text-align:center;"><span>'+this.l10n.getConstant("Chrome")+"</span></div></div>"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Cold")>-1)&&i.push({id:s+"_cold",prefixIcon:"e-icons e-none",cssClass:"top-icon e-none",tooltipText:this.l10n.getConstant("Cold"),align:"Center",template:'<div class="filter-wrapper" style="box-sizing: content-box;"><canvas id='+s+'_coldCanvas></canvas><div style="text-align:center;"><span>'+this.l10n.getConstant("Cold")+"</span></div></div>"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Warm")>-1)&&i.push({id:s+"_warm",prefixIcon:"e-icons e-none",cssClass:"top-icon e-none",tooltipText:this.l10n.getConstant("Warm"),align:"Center",template:'<div class="filter-wrapper" style="box-sizing: content-box;"><canvas id='+s+'_warmCanvas></canvas><div style="text-align:center;"><span>'+this.l10n.getConstant("Warm")+"</span></div></div>"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Grayscale")>-1)&&i.push({id:s+"_grayscale",prefixIcon:"e-icons e-none",cssClass:"top-icon e-none",tooltipText:this.l10n.getConstant("Grayscale"),align:"Center",template:'<div class="filter-wrapper" style="box-sizing: content-box;"><canvas id='+s+'_grayscaleCanvas></canvas><div style="text-align:center;"><span>'+this.l10n.getConstant("Grayscale")+"</span></div></div>"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Sepia")>-1)&&i.push({id:s+"_sepia",prefixIcon:"e-icons e-none",cssClass:"top-icon e-none",tooltipText:this.l10n.getConstant("Sepia"),align:"Center",template:'<div class="filter-wrapper" style="box-sizing: content-box;"><canvas id='+s+'_sepiaCanvas></canvas><div style="text-align:center;"><span>'+this.l10n.getConstant("Sepia")+"</span></div></div>"}),((0,n.le)(e.toolbar)||!t||e.toolbar&&e.toolbar.indexOf("Invert")>-1)&&i.push({id:s+"_invert",prefixIcon:"e-icons e-none",cssClass:"top-icon e-none",tooltipText:this.l10n.getConstant("Invert"),align:"Center",template:'<div class="filter-wrapper" style="box-sizing: content-box;"><canvas id='+s+'_invertCanvas></canvas><div style="text-align:center;"><span>'+this.l10n.getConstant("Invert")+"</span></div></div>"});for(var a=this.processToolbar("center"),d=(o=0,a.length);o<d;o++)i.push(a[o]);return i},h.prototype.getPenToolbarItem=function(i){var e=this.parent,t=e.element.id,s=[];((0,n.le)(e.toolbar)||e.toolbar)&&s.push({id:t+"_annotation",tooltipText:this.l10n.getConstant("Annotation"),align:"Center",template:'<button id="'+t+'_annotationBtn"></button>'}),i.indexOf("strokeColor")>-1&&s.push({prefixIcon:"e-icons e-copy",id:t+"_pen_strokecolor",cssClass:"top-icon e-pen-stroke-color",tooltipText:this.l10n.getConstant("StrokeColor"),align:"Center",type:"Input",template:'<button id="'+t+'_penColorBtn"></button>'}),i.indexOf("strokeWidth")>-1&&s.push({prefixIcon:"e-icons e-copy",id:t+"_pen_strokewidth",cssClass:"top-icon e-size",tooltipText:this.l10n.getConstant("StrokeWidth"),align:"Center",type:"Input",template:'<button id="'+t+'_penStrokeWidth"></button>'}),s.push({align:"Center",type:"Separator"}),i.indexOf("remove")>-1&&s.push({id:t+"_remove",prefixIcon:"e-icons e-trash",cssClass:"top-icon e-trash",tooltipText:this.l10n.getConstant("Remove"),align:"Center"});for(var r=this.processSubToolbar(i),o=0,a=r.length;o<a;o++)s.push(r[o]);return n.AR.isDevice||(s.push({id:t+"_ok",prefixIcon:"e-icons e-check",cssClass:"top-icon e-tick",tooltipText:this.l10n.getConstant("OK"),align:"Right"}),s.push({id:t+"_cancel",prefixIcon:"e-icons e-close",cssClass:"top-icon e-save",tooltipText:this.l10n.getConstant("Cancel"),align:"Right"})),s},h.prototype.initPenToolbarItem=function(i){var e=this,t=this.parent,s=t.element.id,r=this.getLeftToolbarItem(),o=this.getRightToolbarItem(),a=this.getPenToolbarItem(i),d=this.getZoomToolbarItem();this.defToolbarItems=n.AR.isDevice?a:r.concat(d,a,o);var c={toolbarType:"pen",toolbarItems:this.defToolbarItems};t.trigger("toolbarUpdating",c),this.isToolbarString(c.toolbarItems)?(i=c.toolbarItems,this.excludeItems(c.toolbarItems)):this.defToolbarItems=c.toolbarItems;var p=new ws({width:"100%",items:this.defToolbarItems,clicked:this.defToolbarClicked.bind(this),created:function(){e.renderAnnotationBtn(!0),e.createPenColor(i),e.createPenBtn(i),e.wireZoomBtnEvents(),n.AR.isDevice||e.renderSaveBtn(),t.trigger("toolbarCreated",{toolbarType:"pen"}),n.AR.isDevice?e.defToolbarItems.length>0&&document.getElementById(s+"_toolbar")&&(p.refreshOverflow(),p.refreshOverflow()):(e.createLeftToolbarControls(),e.defToolbarItems.length>0&&document.getElementById(s+"_toolbar")&&p.refreshOverflow())}});p.appendTo(n.AR.isDevice?"#"+s+"_bottomToolbar":"#"+s+"_toolbar"),this.enableDisableTbrBtn()},h.prototype.createPenColor=function(i){var e=this,t=this.parent,s=t.element.id;if(i.indexOf("strokeColor")>-1){t.element.querySelector(".e-template.e-pen-stroke-color").appendChild(t.createElement("input",{id:s+"_pen_stroke"}));var r=new la({modeSwitcher:!1,value:"#fff",showButtons:!1,mode:"Palette",cssClass:"e-pen-color",change:function(c){t.updatePenStrokeColor(c.currentValue.hex),e.selFhdColor=c.currentValue.hex,o.element.children[0].style.backgroundColor=c.currentValue.rgba,o.toggle()}},"#"+s+"_pen_stroke"),o=new ai({open:function(c){var p=c.element.parentElement;n.AR.isDevice&&(p.style.top=o.element.getBoundingClientRect().top-p.offsetHeight+"px",p.style.left=t.element.offsetLeft+"px")},target:".e-pen-color",iconCss:"e-dropdownbtn-preview",cssClass:"e-ie-ddb-popup"},"#"+s+"_penColorBtn");r.inline=!0,r.value=r.getValue(t.activeObj.strokeSettings.strokeColor,"rgba");var a={tempFreeHandDrawEditingStyles:null};t.notify("freehand-draw",{prop:"getTempFreeHandDrawEditingStyles",value:{obj:a}});var d={freehandSelectedIndex:null};t.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:d}}),!(0,n.le)(d.freehandSelectedIndex)&&d.freehandSelectedIndex>-1?t.element.querySelector(".e-pen-stroke-color.e-template .e-dropdownbtn-preview").style.background="#42a5f5"===this.selFhdColor?a.tempFreeHandDrawEditingStyles.strokeColor:t.pointColl[d.freehandSelectedIndex].strokeColor:t.element.querySelector(".e-pen-stroke-color.e-template .e-dropdownbtn-preview").style.background=r.value}},h.prototype.createPenBtn=function(i){var e=this.parent,t=e.element.id,s=[{id:"1",text:this.l10n.getConstant("XSmall")},{id:"2",text:this.l10n.getConstant("Small")},{id:"3",text:this.l10n.getConstant("Medium")},{id:"4",text:this.l10n.getConstant("Large")},{id:"5",text:this.l10n.getConstant("XLarge")}];if(i.indexOf("strokeWidth")>-1){var r=document.getElementById(t+"_penStrokeWidth"),o=document.createElement("span"),a={freehandSelectedIndex:null};e.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:a}}),o.innerHTML=!(0,n.le)(a.freehandSelectedIndex)&&a.freehandSelectedIndex>-1?this.getPenStroke(e.pointColl[a.freehandSelectedIndex].strokeWidth):this.l10n.getConstant("Small"),o.className="e-pen-stroke-width",r.appendChild(o);var d=new ai({items:s,open:function(c){n.AR.isDevice&&(c.element.parentElement.style.top=d.element.getBoundingClientRect().top-c.element.parentElement.offsetHeight+"px"),c.element.querySelector('[aria-label = "'+o.innerHTML+'"]').classList.add("e-selected-btn")},select:function(c){o.textContent=c.item.text,e.updatePenStrokeWidth(c.item.id),n.AR.isDevice?document.getElementById(t+"_bottomToolbar")&&(0,n.Xr)(t+"_bottomToolbar","toolbar").refreshOverflow():document.getElementById(t+"_toolbar")&&(0,n.Xr)(t+"_toolbar","toolbar").refreshOverflow()}});d.appendTo("#"+t+"_penStrokeWidth")}},h.prototype.getPenStroke=function(i){var e="",t={1:this.l10n.getConstant("XSmall"),2:this.l10n.getConstant("Small"),3:this.l10n.getConstant("Medium"),4:this.l10n.getConstant("Large"),5:this.l10n.getConstant("XLarge")};return i>=1&&i<=5&&(e=t[i]),e},h.prototype.initAdjustmentToolbarItem=function(){var i=this,e=this.parent,t=e.element.id,s=this.getLeftToolbarItem(null),r=this.getRightToolbarItem(),o=this.getAdjustmentToolbarItem(),a=this.getZoomToolbarItem();this.defToolbarItems=n.AR.isDevice?o:s.concat(a,o,r);var d={toolbarType:"finetune",toolbarItems:this.defToolbarItems};e.trigger("toolbarUpdating",d),this.defToolbarItems=d.toolbarItems;var c=new ws({width:"100%",items:this.defToolbarItems,clicked:this.defToolbarClicked.bind(this),created:function(){i.wireZoomBtnEvents(),n.AR.isDevice||i.renderSaveBtn(),n.AR.isDevice||i.createLeftToolbarControls(),i.defToolbarItems.length>0&&document.getElementById(t+"_toolbar")&&c.refreshOverflow()}});c.appendTo(n.AR.isDevice?"#"+t+"_bottomToolbar":"#"+t+"_toolbar"),this.enableDisableTbrBtn()},h.prototype.initFrameToolbarItem=function(){var i=this,e=this.parent,t=e.element.id,s=document.querySelector("#"+t+"_contextualToolbarArea"),r=document.querySelector("#"+t+"_frameWrapper");r?r.style.display="block":r=s.appendChild(e.createElement("div",{id:t+"_frameWrapper",className:"e-frame-wrapper",styles:"position: relative"})),r.appendChild(e.createElement("div",{id:t+"_customizeWrapper",styles:"position: absolute"}));var o=this.getFrameToolbarItem(),a={toolbarType:"frame",toolbarItems:o};e.trigger("toolbarUpdating",a);var d=new ws({width:"100%",items:o=a.toolbarItems,clicked:this.defToolbarClicked.bind(this),created:function(){i.createFrameColor(),i.createFrameSize();var c=e.frameObj.type;"line"===c&&i.createFrameRadius(),("line"===c||"inset"===c||"hook"===c)&&i.createFrameInset(),("line"===c||"inset"===c)&&i.createFrameOffset(),"line"===c&&(i.createFrameAmount(),i.createFrameBorder()),i.createFrameGradientColor(),n.AR.isDevice?i.defToolbarItems.length>0&&document.getElementById(t+"_bottomToolbar")&&(d.refreshOverflow(),d.refreshOverflow(),d.refreshOverflow()):(i.createLeftToolbarControls(),i.defToolbarItems.length>0&&document.getElementById(t+"_toolbar")&&d.refreshOverflow()),e.element.querySelector("#"+t+"_"+c).focus()}});d.appendTo("#"+t+"_customizeWrapper")},h.prototype.createFrameGradientColor=function(){var e,i=this.parent,t={frameChangeEventArgs:null},s=i.element.id;i.element.querySelector(".e-template.e-frame-stroke").appendChild(i.createElement("input",{id:s+"_frame_gradient_fill"}));var r=new la({modeSwitcher:!1,noColor:!0,value:i.frameObj.gradientColor,showButtons:!1,mode:"Palette",cssClass:"e-frame-gradient-fill-color",change:function(a){e={type:i.toPascalCase(i.frameObj.type),color:i.frameObj.color,gradientColor:i.frameObj.gradientColor,size:i.frameObj.size,inset:i.frameObj.inset,offset:i.frameObj.offset,borderRadius:i.frameObj.radius,frameLineStyle:i.toPascalCase(i.frameObj.border),lineCount:i.frameObj.amount};var d=i.frameObj.gradientColor,c={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:c}}),i.frameObj.gradientColor=a.currentValue.hex,i.notify("draw",{prop:"triggerFrameChange",value:{prevFrameSettings:e,obj:t}}),t.frameChangeEventArgs&&!t.frameChangeEventArgs.cancel?(i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:c.currObj,previousObjColl:c.currObj.objColl,previousPointColl:c.currObj.pointColl,previousSelPointColl:c.currObj.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),i.notify("draw",{prop:"redrawDownScale"}),""===a.currentValue.rgba?o.element.children[0].classList.add("e-nocolor-item"):(o.element.children[0].classList.remove("e-nocolor-item"),o.element.children[0].style.backgroundColor=a.currentValue.rgba),i.curFrameObjEvent={previousFrameSetting:t.frameChangeEventArgs.previousFrameSetting,currentFrameSetting:t.frameChangeEventArgs.currentFrameSetting},i.isFrameBtnClick=!0):i.frameObj.gradientColor=d,o.toggle()}},"#"+s+"_frame_gradient_fill"),o=new ai({open:function(a){if(n.AR.isDevice){var d=a.element.parentElement;d.style.top=o.element.getBoundingClientRect().top-d.offsetHeight+"px",d.style.left=i.element.offsetLeft+"px"}},target:".e-frame-gradient-fill-color",iconCss:"e-dropdownbtn-preview",cssClass:"e-ie-ddb-popup"},"#"+s+"_frameGradientColorBtn");r.inline=!0,""===i.frameObj.gradientColor?i.element.querySelector(".e-frame-stroke.e-template .e-dropdownbtn-preview").classList.add("e-nocolor-item"):i.element.querySelector(".e-frame-stroke.e-template .e-dropdownbtn-preview").style.background=i.frameObj.gradientColor},h.prototype.createFrameColor=function(){var e,i=this.parent,t={frameChangeEventArgs:null},s=i.element.id;i.element.querySelector(".e-template.e-stroke").appendChild(i.createElement("input",{id:s+"_frame_fill"}));var r=new la({modeSwitcher:!1,value:i.frameObj.color,showButtons:!1,mode:"Palette",cssClass:"e-frame-fill-color",change:function(a){e={type:i.toPascalCase(i.frameObj.type),color:i.frameObj.color,gradientColor:i.frameObj.gradientColor,size:i.frameObj.size,inset:i.frameObj.inset,offset:i.frameObj.offset,borderRadius:i.frameObj.radius,frameLineStyle:i.toPascalCase(i.frameObj.border),lineCount:i.frameObj.amount};var d=i.frameObj.color,c={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:c}}),i.frameObj.color=a.currentValue.hex,i.notify("draw",{prop:"triggerFrameChange",value:{prevFrameSettings:e,obj:t}}),t.frameChangeEventArgs&&!t.frameChangeEventArgs.cancel?(i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:c.currObj,previousObjColl:c.currObj.objColl,previousPointColl:c.currObj.pointColl,previousSelPointColl:c.currObj.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),i.notify("draw",{prop:"redrawDownScale"}),""===a.currentValue.rgba?o.element.children[0].classList.add("e-nocolor-item"):(o.element.children[0].classList.remove("e-nocolor-item"),o.element.children[0].style.backgroundColor=a.currentValue.rgba),i.curFrameObjEvent={previousFrameSetting:t.frameChangeEventArgs.previousFrameSetting,currentFrameSetting:t.frameChangeEventArgs.currentFrameSetting},i.isFrameBtnClick=!0):i.frameObj.color=d,o.toggle()}},"#"+s+"_frame_fill"),o=new ai({open:function(a){if(n.AR.isDevice){var d=a.element.parentElement;d.style.top=o.element.getBoundingClientRect().top-d.offsetHeight+"px",d.style.left=i.element.offsetLeft+"px"}},target:".e-frame-fill-color",iconCss:"e-dropdownbtn-preview",cssClass:"e-ie-ddb-popup"},"#"+s+"_frameColorBtn");r.inline=!0,i.element.querySelector(".e-stroke.e-template .e-dropdownbtn-preview").style.background=i.frameObj.color},h.prototype.createFrameSize=function(){var e,i=this.parent,t={frameChangeEventArgs:null},s=i.element.id,r=[{id:"1",text:this.l10n.getConstant("20")},{id:"2",text:this.l10n.getConstant("40")},{id:"3",text:this.l10n.getConstant("60")},{id:"4",text:this.l10n.getConstant("80")},{id:"5",text:this.l10n.getConstant("100")}],o=document.getElementById(s+"_frameSizeBtn"),a=document.createElement("span");a.innerHTML=this.l10n.getConstant(i.frameObj.size.toString()),a.className="e-frame-stroke-width",o.appendChild(a);var d=new ai({items:r,open:function(c){if(n.AR.isDevice){var p=c.element.parentElement;p.style.top=d.element.getBoundingClientRect().top-p.offsetHeight+"px"}var u=d.element.childNodes[0].textContent;""!==u&&c.element.querySelector('[aria-label = "'+u+'"]').classList.add("e-selected-btn")},select:function(c){e={type:i.toPascalCase(i.frameObj.type),color:i.frameObj.color,gradientColor:i.frameObj.gradientColor,size:i.frameObj.size,inset:i.frameObj.inset,offset:i.frameObj.offset,borderRadius:i.frameObj.radius,frameLineStyle:i.toPascalCase(i.frameObj.border),lineCount:i.frameObj.amount};var p=i.frameObj.size,u={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:u}}),i.frameObj.size=parseInt(c.item.text,10),i.notify("draw",{prop:"triggerFrameChange",value:{prevFrameSettings:e,obj:t}}),t.frameChangeEventArgs&&!t.frameChangeEventArgs.cancel?(i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:u.currObj,previousObjColl:u.currObj.objColl,previousPointColl:u.currObj.pointColl,previousSelPointColl:u.currObj.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),i.notify("draw",{prop:"redrawDownScale"}),d.content=c.item.text,i.curFrameObjEvent={previousFrameSetting:t.frameChangeEventArgs.previousFrameSetting,currentFrameSetting:t.frameChangeEventArgs.currentFrameSetting},i.isFrameBtnClick=!0):i.frameObj.size=p,n.AR.isDevice?document.getElementById(s+"_bottomToolbar")&&(0,n.Xr)(s+"_bottomToolbar","toolbar").refreshOverflow():document.getElementById(s+"_toolbar")&&(0,n.Xr)(s+"_toolbar","toolbar").refreshOverflow()}});d.appendTo("#"+s+"_frameSizeBtn")},h.prototype.createFrameInset=function(){var e,i=this.parent,t={frameChangeEventArgs:null},s=i.element.id,r=[{id:"1",text:this.l10n.getConstant("20")},{id:"2",text:this.l10n.getConstant("40")},{id:"3",text:this.l10n.getConstant("60")},{id:"4",text:this.l10n.getConstant("80")},{id:"5",text:this.l10n.getConstant("100")}],o=document.getElementById(s+"_frameInsetBtn"),a=document.createElement("span");a.innerHTML=this.l10n.getConstant(i.frameObj.inset.toString()),a.className="e-frame-inset",o.appendChild(a);var d=new ai({items:r,open:function(c){if(n.AR.isDevice){var p=c.element.parentElement;p.style.top=d.element.getBoundingClientRect().top-p.offsetHeight+"px"}var u=d.element.childNodes[0].textContent;""!==u&&c.element.querySelector('[aria-label = "'+u+'"]').classList.add("e-selected-btn")},select:function(c){e={type:i.toPascalCase(i.frameObj.type),color:i.frameObj.color,gradientColor:i.frameObj.gradientColor,size:i.frameObj.size,inset:i.frameObj.inset,offset:i.frameObj.offset,borderRadius:i.frameObj.radius,frameLineStyle:i.toPascalCase(i.frameObj.border),lineCount:i.frameObj.amount};var p=i.frameObj.inset,u={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:u}}),i.frameObj.inset=parseInt(c.item.text,10),i.notify("draw",{prop:"triggerFrameChange",value:{prevFrameSettings:e,obj:t}}),t.frameChangeEventArgs&&!t.frameChangeEventArgs.cancel?(i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:u.currObj,previousObjColl:u.currObj.objColl,previousPointColl:u.currObj.pointColl,previousSelPointColl:u.currObj.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),i.notify("draw",{prop:"redrawDownScale"}),d.content=c.item.text,i.curFrameObjEvent={previousFrameSetting:t.frameChangeEventArgs.previousFrameSetting,currentFrameSetting:t.frameChangeEventArgs.currentFrameSetting},i.isFrameBtnClick=!0):i.frameObj.inset=p,n.AR.isDevice?document.getElementById(s+"_bottomToolbar")&&(0,n.Xr)(s+"_bottomToolbar","toolbar").refreshOverflow():document.getElementById(s+"_toolbar")&&(0,n.Xr)(s+"_toolbar","toolbar").refreshOverflow()}});d.appendTo("#"+s+"_frameInsetBtn")},h.prototype.createFrameOffset=function(){var e,i=this.parent,t={frameChangeEventArgs:null},s=i.element.id,r=[{id:"1",text:this.l10n.getConstant("20")},{id:"2",text:this.l10n.getConstant("40")},{id:"3",text:this.l10n.getConstant("60")},{id:"4",text:this.l10n.getConstant("80")},{id:"5",text:this.l10n.getConstant("100")}],o=document.getElementById(s+"_frameOffsetBtn"),a=document.createElement("span");a.innerHTML=this.l10n.getConstant(i.frameObj.offset.toString()),a.className="e-frame-offset",o.appendChild(a);var d=new ai({items:r,open:function(c){if(n.AR.isDevice){var p=c.element.parentElement;p.style.top=d.element.getBoundingClientRect().top-p.offsetHeight+"px"}var u=d.element.childNodes[0].textContent;""!==u&&c.element.querySelector('[aria-label = "'+u+'"]').classList.add("e-selected-btn")},select:function(c){e={type:i.toPascalCase(i.frameObj.type),color:i.frameObj.color,gradientColor:i.frameObj.gradientColor,size:i.frameObj.size,inset:i.frameObj.inset,offset:i.frameObj.offset,borderRadius:i.frameObj.radius,frameLineStyle:i.toPascalCase(i.frameObj.border),lineCount:i.frameObj.amount};var p=i.frameObj.offset,u={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:u}}),i.frameObj.offset=parseInt(c.item.text,10),i.notify("draw",{prop:"triggerFrameChange",value:{prevFrameSettings:e,obj:t}}),t.frameChangeEventArgs&&!t.frameChangeEventArgs.cancel?(i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:u.currObj,previousObjColl:u.currObj.objColl,previousPointColl:u.currObj.pointColl,previousSelPointColl:u.currObj.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),i.notify("draw",{prop:"redrawDownScale"}),d.content=c.item.text,i.curFrameObjEvent={previousFrameSetting:t.frameChangeEventArgs.previousFrameSetting,currentFrameSetting:t.frameChangeEventArgs.currentFrameSetting},i.isFrameBtnClick=!0):i.frameObj.offset=p,n.AR.isDevice?document.getElementById(s+"_bottomToolbar")&&(0,n.Xr)(s+"_bottomToolbar","toolbar").refreshOverflow():document.getElementById(s+"_toolbar")&&(0,n.Xr)(s+"_toolbar","toolbar").refreshOverflow()}});d.appendTo("#"+s+"_frameOffsetBtn")},h.prototype.createFrameRadius=function(){var e,i=this.parent,t={frameChangeEventArgs:null},s=i.element.id,r=[{id:"1",text:this.l10n.getConstant("0")},{id:"2",text:this.l10n.getConstant("20")},{id:"3",text:this.l10n.getConstant("40")},{id:"4",text:this.l10n.getConstant("60")},{id:"5",text:this.l10n.getConstant("80")},{id:"6",text:this.l10n.getConstant("100")}],o=document.getElementById(s+"_frameRadiusBtn"),a=document.createElement("span");a.innerHTML=this.l10n.getConstant(i.frameObj.radius.toString()),a.className="e-frame-radius",o.appendChild(a);var d=new ai({items:r,open:function(c){if(n.AR.isDevice){var p=c.element.parentElement;p.style.top=d.element.getBoundingClientRect().top-p.offsetHeight+"px"}var u=d.element.childNodes[0].textContent;""!==u&&c.element.querySelector('[aria-label = "'+u+'"]').classList.add("e-selected-btn")},select:function(c){e={type:i.toPascalCase(i.frameObj.type),color:i.frameObj.color,gradientColor:i.frameObj.gradientColor,size:i.frameObj.size,inset:i.frameObj.inset,offset:i.frameObj.offset,borderRadius:i.frameObj.radius,frameLineStyle:i.toPascalCase(i.frameObj.border),lineCount:i.frameObj.amount};var p=i.frameObj.radius,u={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:u}}),i.frameObj.radius=parseInt(c.item.text,10),i.notify("draw",{prop:"triggerFrameChange",value:{prevFrameSettings:e,obj:t}}),t.frameChangeEventArgs&&!t.frameChangeEventArgs.cancel?(i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:u.currObj,previousObjColl:u.currObj.objColl,previousPointColl:u.currObj.pointColl,previousSelPointColl:u.currObj.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),i.notify("draw",{prop:"redrawDownScale"}),d.content=c.item.text,i.curFrameObjEvent={previousFrameSetting:t.frameChangeEventArgs.previousFrameSetting,currentFrameSetting:t.frameChangeEventArgs.currentFrameSetting},i.isFrameBtnClick=!0):i.frameObj.radius=p,n.AR.isDevice?document.getElementById(s+"_bottomToolbar")&&(0,n.Xr)(s+"_bottomToolbar","toolbar").refreshOverflow():document.getElementById(s+"_toolbar")&&(0,n.Xr)(s+"_toolbar","toolbar").refreshOverflow()}});d.appendTo("#"+s+"_frameRadiusBtn")},h.prototype.createFrameAmount=function(){var e,i=this.parent,t={frameChangeEventArgs:null},s=i.element.id,r=[{id:"1",text:this.l10n.getConstant("1")},{id:"2",text:this.l10n.getConstant("2")},{id:"3",text:this.l10n.getConstant("3")},{id:"4",text:this.l10n.getConstant("4")},{id:"5",text:this.l10n.getConstant("5")}],o=document.getElementById(s+"_frameAmountBtn"),a=document.createElement("span");a.innerHTML=this.l10n.getConstant(i.frameObj.amount.toString()),a.className="e-frame-amount",o.appendChild(a);var d=new ai({items:r,open:function(c){if(n.AR.isDevice){var p=c.element.parentElement;p.style.top=d.element.getBoundingClientRect().top-p.offsetHeight+"px"}var u=d.element.childNodes[0].textContent;""!==u&&c.element.querySelector('[aria-label = "'+u+'"]').classList.add("e-selected-btn")},select:function(c){e={type:i.toPascalCase(i.frameObj.type),color:i.frameObj.color,gradientColor:i.frameObj.gradientColor,size:i.frameObj.size,inset:i.frameObj.inset,offset:i.frameObj.offset,borderRadius:i.frameObj.radius,frameLineStyle:i.toPascalCase(i.frameObj.border),lineCount:i.frameObj.amount};var p=i.frameObj.amount,u={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:u}}),i.frameObj.amount=parseInt(c.item.text,10),i.notify("draw",{prop:"triggerFrameChange",value:{prevFrameSettings:e,obj:t}}),t.frameChangeEventArgs&&!t.frameChangeEventArgs.cancel?(i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:u.currObj,previousObjColl:u.currObj.objColl,previousPointColl:u.currObj.pointColl,previousSelPointColl:u.currObj.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),i.notify("draw",{prop:"redrawDownScale"}),d.content=c.item.text,i.curFrameObjEvent={previousFrameSetting:t.frameChangeEventArgs.previousFrameSetting,currentFrameSetting:t.frameChangeEventArgs.currentFrameSetting},i.isFrameBtnClick=!0):i.frameObj.amount=p,n.AR.isDevice?document.getElementById(s+"_bottomToolbar")&&(0,n.Xr)(s+"_bottomToolbar","toolbar").refreshOverflow():document.getElementById(s+"_toolbar")&&(0,n.Xr)(s+"_toolbar","toolbar").refreshOverflow()}});d.appendTo("#"+s+"_frameAmountBtn")},h.prototype.createFrameBorder=function(){var e,i=this.parent,t={frameChangeEventArgs:null},s=i.element.id,r=[{id:"1",text:this.l10n.getConstant("Solid")},{id:"2",text:this.l10n.getConstant("Dashed")},{id:"3",text:this.l10n.getConstant("Dotted")}],o=document.getElementById(s+"_frameBorderBtn"),a=document.createElement("span");a.innerHTML=this.l10n.getConstant(i.toPascalCase(i.frameObj.border)),a.className="e-frame-border",o.appendChild(a);var d=new ai({items:r,open:function(c){if(n.AR.isDevice){var p=c.element.parentElement;p.style.top=d.element.getBoundingClientRect().top-p.offsetHeight+"px"}var u=d.element.childNodes[0].textContent;""!==u&&c.element.querySelector('[aria-label = "'+u+'"]').classList.add("e-selected-btn")},select:function(c){e={type:i.toPascalCase(i.frameObj.type),color:i.frameObj.color,gradientColor:i.frameObj.gradientColor,size:i.frameObj.size,inset:i.frameObj.inset,offset:i.frameObj.offset,borderRadius:i.frameObj.radius,frameLineStyle:i.toPascalCase(i.frameObj.border),lineCount:i.frameObj.amount};var p=i.frameObj.border,u={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:u}}),i.frameObj.border=c.item.text.toLowerCase(),i.notify("draw",{prop:"triggerFrameChange",value:{prevFrameSettings:e,obj:t}}),t.frameChangeEventArgs&&!t.frameChangeEventArgs.cancel?(i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:u.currObj,previousObjColl:u.currObj.objColl,previousPointColl:u.currObj.pointColl,previousSelPointColl:u.currObj.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),i.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),i.notify("draw",{prop:"redrawDownScale"}),d.content=c.item.text,i.curFrameObjEvent={previousFrameSetting:t.frameChangeEventArgs.previousFrameSetting,currentFrameSetting:t.frameChangeEventArgs.currentFrameSetting},i.isFrameBtnClick=!0):i.frameObj.border=p,n.AR.isDevice?document.getElementById(s+"_bottomToolbar")&&(0,n.Xr)(s+"_bottomToolbar","toolbar").refreshOverflow():document.getElementById(s+"_toolbar")&&(0,n.Xr)(s+"_toolbar","toolbar").refreshOverflow()}});d.appendTo("#"+s+"_frameBorderBtn")},h.prototype.initFilterToolbarItem=function(){var i=this,e=this.parent,t=e.element.id,s=this.getFilterToolbarItem(),r={toolbarType:"filter",toolbarItems:s};e.trigger("toolbarUpdating",r),s=r.toolbarItems,document.querySelector("#"+t+"_contextualToolbar").classList.contains("e-control")&&(0,n.Xr)(document.getElementById(t+"_contextualToolbar"),"toolbar").destroy();var o=new ws({width:"100%",items:s,clicked:this.contextualToolbarClicked.bind(this),created:function(){i.updatePrivateVariables(),i.createCanvasFilter(),""===e.currentFilter&&(e.currentFilter=t+"_default");var a=document.querySelector("#"+t+"_headWrapper");a&&(a.style.display="none");var d=document.getElementById(e.currentFilter+"Canvas");d&&d.parentElement.parentElement.classList.add("e-selected"),i.enableDisableTbrBtn(),o.refreshOverflow()}});o.appendTo("#"+t+"_contextualToolbar")},h.prototype.drawDashedLine=function(i){i.beginPath(),i.setLineDash([5]),i.rect(10,10,280,130),i.stroke(),i.closePath()},h.prototype.createCanvasFilter=function(){var i=this.parent;us(i.element),i.element.style.opacity="0.5";var e=i.getCurrentCanvasData();this.inMemoryCanvas.width=e.width,this.inMemoryCanvas.height=e.height,this.inMemoryContext.putImageData(e,0,0),this.updateFilterCanvas("_defaultCanvas","default"),this.updateFilterCanvas("_chromeCanvas","chrome"),this.updateFilterCanvas("_coldCanvas","cold"),this.updateFilterCanvas("_warmCanvas","warm"),this.updateFilterCanvas("_grayscaleCanvas","grayscale"),this.updateFilterCanvas("_sepiaCanvas","sepia"),this.updateFilterCanvas("_invertCanvas","invert"),Ji(i.element),i.element.style.opacity="1",i.initialAdjustmentValue=this.lowerContext.filter},h.prototype.updateFilterCanvas=function(i,e){var t=this.parent,s=t.element.querySelector("#"+t.element.id+i);if(s){var r=s.getContext("2d");r=s.getContext("2d"),s.style.width="100px",s.style.height="100px",t.notify("filter",{prop:"updateAdj",value:{type:e,value:null,isPreview:!0,ctx:r}}),r.drawImage(this.inMemoryCanvas,0,0,300,150)}},h.prototype.getQuickAccessToolbarItem=function(i){var e=this.parent,t=e.element.id,s={cancel:!1,toolbarItems:[]},r=[];(0,n.le)(i)?("image"===e.activeObj.shape&&r.push("Flip"),r.push("Clone"),r.push("Delete"),"text"===e.activeObj.shape&&r.push("EditText"),s.shape=e.toPascalCase(e.activeObj.shape)):i&&(r.push("Delete"),s.shape="Freehand draw"),s.toolbarItems=(0,n.l7)([],r,null,!0),e.trigger("quickAccessToolbarOpen",s);var o=[];if(s.cancel)o=[];else for(var a=0;a<s.toolbarItems.length;a++)switch(s.toolbarItems[a]){case"Clone":o.push({id:t+"_duplicate",prefixIcon:"e-icons e-order",cssClass:"top-icon e-order",tooltipText:this.l10n.getConstant("Duplicate"),align:"Left"});break;case"Delete":o.push({id:t+"_remove",prefixIcon:"e-icons e-trash",cssClass:"top-icon e-trash",tooltipText:this.l10n.getConstant("Remove"),align:"Left"});break;case"EditText":o.push({id:t+"_editText",prefixIcon:"e-icons e-annotation-edit",cssClass:"top-icon e-annotation-edit",tooltipText:this.l10n.getConstant("EditText"),align:"Left"});break;case"Flip":o.push({id:t+"_hFlip",prefixIcon:"e-icons e-horizontal-flip",tooltipText:this.l10n.getConstant("HorizontalFlip"),align:"Left"}),o.push({id:t+"_vFlip",prefixIcon:"e-icons e-vertical-flip",tooltipText:this.l10n.getConstant("VerticalFlip"),align:"Left"});break;default:o.push(s.toolbarItems[a])}return o},h.prototype.renderQAT=function(i){var e=this.parent,t=e.element.id;if(e.activeObj&&e.showQuickAccessToolbar){var s=document.getElementById(t+"_quickAccessToolbarArea");s&&(this.destroyQuickAccessToolbar(),s.style.display="block");var r=this.getQuickAccessToolbarItem(i);if(0===r.length)return;(0,n.le)(e.quickAccessToolbarTemplate)&&new ws({items:r,clicked:this.quickAccessToolbarClicked.bind(this)}).appendTo("#"+t+"_quickAccessToolbar");var a=this.toolbarHeight&&0!==this.toolbarHeight?this.toolbarHeight:s.clientHeight;if((0,n.le)(i)){s.style.width="auto",e.activeObj.activePoint.width=Math.abs(e.activeObj.activePoint.width),e.activeObj.activePoint.height=Math.abs(e.activeObj.activePoint.height);var d=e.activeObj.activePoint.startX<e.activeObj.activePoint.endX?e.activeObj.activePoint.startX:e.activeObj.activePoint.endX,c=e.activeObj.activePoint.startY<e.activeObj.activePoint.endY?e.activeObj.activePoint.startY:e.activeObj.activePoint.endY,p=e.activeObj.activePoint.width;if(0!==e.activeObj.rotatedAngle&&"arrow"!==e.activeObj.shape){var u={activePoint:null};e.notify("shape",{prop:"getSquarePointForRotatedShape",onPropertyChange:!1,value:{obj:e.activeObj,object:u}}),d=(f=u.activePoint).startX,c=f.startY,p=f.width}else if("path"===e.activeObj.shape){var v=e.getSquarePointForPath(e.activeObj);d=v.startX,c=v.startY,p=v.width}if(s.style.left=d+p/2-25*r.length+"px",parseFloat(s.style.left)+s.clientWidth/2!==d+p/2){var g=d+p/2-(parseFloat(s.style.left)+s.clientWidth/2);s.style.left=parseFloat(s.style.left)+g+"px"}s.style.top=c-(a+a/1.5)<e.img.destTop?e.img.destTop+"px":c-(a+a/1.5)+"px"}else if(i){var b={activePoint:null},C={freehandSelectedIndex:null};e.notify("freehand-draw",{prop:"getFreehandSelectedIndex",onPropertyChange:!1,value:{obj:C}}),e.notify("freehand-draw",{prop:"getSqPtFD",value:{idx:C.freehandSelectedIndex,obj:b}});var f=b.activePoint;s.style.width="auto",s.style.left=f.startX+f.width/2-27*r.length+"px",s.style.top=f.startY-(a+a/1.5)<e.img.destTop?e.img.destTop+"px":f.startY-(a+a/1.5)+"px"}parseFloat(s.style.top)<0&&(s.style.top="0px")}},h.prototype.refreshDropDownBtn=function(i){if(!(0,n.le)(i)){var t=this.parent.element.id,s=document.querySelector("#"+t+"_annotationBtn");s&&(i?(s.classList.add("e-disabled"),s.parentElement.classList.add("e-overlay")):(s.classList.remove("e-disabled"),s.parentElement.classList.remove("e-overlay")),(0,n.Xr)(s,"dropdown-btn").disabled=i);var r=document.querySelector("#"+t+"_transformBtn");r&&(i?(r.classList.add("e-disabled"),r.parentElement.classList.add("e-overlay")):(r.classList.remove("e-disabled"),r.parentElement.classList.remove("e-overlay")),(0,n.Xr)(r,"dropdown-btn").disabled=i);var o=document.querySelector("#"+t+"_adjustment");o&&(i?(o.classList.add("e-disabled"),o.parentElement.classList.add("e-overlay")):(o.classList.remove("e-disabled"),o.parentElement.classList.remove("e-overlay")),(0,n.Xr)(o,"btn").disabled=i);var a=document.querySelector("#"+t+"_filter");a&&(i?(a.classList.add("e-disabled"),a.parentElement.classList.add("e-overlay")):(a.classList.remove("e-disabled"),a.parentElement.classList.remove("e-overlay")),(0,n.Xr)(a,"btn").disabled=i)}},h.prototype.cropSelect=function(i){var e=this.parent;e.isCropTab=!0,(0,n.le)(e.transform.cropZoomFactor)&&(e.transform.cropZoomFactor=e.transform.zoomFactor,e.notify("draw",{prop:"setTempZoomFactor",onPropertyChange:!1,value:{tempZoomFactor:e.transform.zoomFactor}})),e.transform.zoomFactor=e.transform.cropZoomFactor;var t=i.item.id;this.currentToolbar="crop",e.currSelectionPoint=null,e.notify("draw",{prop:"setIsCropSelect",value:{bool:!0}});var s={prevObj:null};e.notify("crop",{prop:"getPreviousCropCurrentObj",value:{obj:s}}),e.notify("draw",{prop:"select",onPropertyChange:!1,value:{type:t,startX:null,startY:null,width:null,height:null}}),e.notify("crop",{prop:"setPreviousCropCurrentObj",value:{obj:s.prevObj}}),this.enableDisableTbrBtn(),e.notify("transform",{prop:"disableZoomOutBtn",value:{isZoomOut:!0}})},h.prototype.quickAccessToolbarClicked=function(i,e){var t=this.parent,s=t.element.id,r={x:t.activeObj.activePoint.startX,y:t.activeObj.activePoint.startY};if(i.item){var o=null,d={tempObj:null};t.notify("draw",{prop:"getPrevActObj",onPropertyChange:!1,value:{obj:{prevActObj:null}}}),t.notify("selection",{prop:"getTempActObj",onPropertyChange:!1,value:{obj:d}}),d.tempObj.activePoint.height=Math.abs(d.tempObj.activePoint.height);var c={isNewPath:null},p=void 0;t.notify("draw",{prop:"getNewPath",value:{obj:c}});var u=i.item.id.replace(s+"_","").toLowerCase(),f=void 0,v=void 0;switch(u){case"duplicate":t.element.querySelector("#"+s+"_duplicate").classList.contains("e-disabled")||(this.refreshSlider(),!c.isNewPath&&JSON.stringify(d.tempObj)===JSON.stringify(t.activeObj)&&(o=!0),this.duplicateShape(o));break;case"remove":t.element.querySelector("#"+s+"_remove").classList.contains("e-disabled")||(this.refreshSlider(),t.notify("selection",{prop:"deleteItem",onPropertyChange:!1}));break;case"edittext":if(!t.element.querySelector("#"+s+"_editText").classList.contains("e-disabled")){if(this.upperContext.clearRect(0,0,t.upperCanvas.width,t.upperCanvas.height),t.notify("selection",{prop:"setTempActObj",onPropertyChange:!1,value:{obj:(0,n.l7)({},t.activeObj,{},!0)}}),t.notify("selection",{prop:"setInitialTextEdit",onPropertyChange:!1,value:{bool:!0}}),t.notify("draw",{prop:"setPrevActObj",onPropertyChange:!1,value:{prevActObj:(0,n.l7)({},t.activeObj,{},!0)}}),0!==t.activeObj.rotatedAngle){var g={x:r.x,y:r.y};t.notify("shape",{prop:"getTextBoxPosition",onPropertyChange:!1,value:{obj:t.activeObj,object:g}}),r.x=g.x,r.y=g.y;var b={x:r.x,y:r.y};t.notify("shape",{prop:"setFlipState",onPropertyChange:!1,value:{x:r.x,y:r.y,obj:t.activeObj,object:b}}),r.x=b.x,r.y=b.y}t.notify("shape",{prop:"renderTextArea",onPropertyChange:!1,value:{x:r.x,y:r.y,actObj:t.activeObj}}),(0,n.le)(t.activeObj.currIndex)&&t.notify("draw",{prop:"setShapeTextInsert",onPropertyChange:!1,value:{bool:!0}}),document.getElementById(s+"_quickAccessToolbarArea")&&(document.getElementById(s+"_quickAccessToolbarArea").style.display="none")}break;case"rotleft":case"rotright":f=t.element.querySelector("#"+s+"_rotLeft"),v=t.element.querySelector("#"+s+"_rotRight"),(f&&!f.classList.contains("e-disabled")||v&&!v.classList.contains("e-disabled"))&&t.rotateImage(i.item.id.replace(s+"_","").toLowerCase());break;case"hflip":t.element.querySelector("#"+s+"_hFlip").classList.contains("e-disabled")||(p=t.activeObj.imageCanvas.getContext("2d"),t.horizontalFlip(p));break;case"vflip":t.element.querySelector("#"+s+"_vFlip").classList.contains("e-disabled")||(p=t.activeObj.imageCanvas.getContext("2d"),t.verticalFlip(p))}("duplicate"===u||"remove"===u)&&t.notify("draw",{prop:"redrawDownScale"})}(0,n.le)(e)&&t.trigger("quickAccessToolbarItemClick",i)},h.prototype.duplicateShape=function(i,e){var t=this.parent;t.notify("selection",{prop:"setTempActObj",onPropertyChange:!1,value:{obj:{activePoint:{startX:0,startY:0,endX:0,endY:0,width:0,height:0},flipObjColl:[],triangle:[],triangleRatio:[]}}});var r={prevActObj:null};t.notify("draw",{prop:"getPrevActObj",onPropertyChange:!1,value:{obj:r}});var o={isNewPath:null};t.notify("draw",{prop:"getNewPath",value:{obj:o}});var a,d=(0,n.l7)({},t.activeObj,{},!0);if("image"===d.shape&&(a=(0,n.l7)([],t.objColl,[],!0),t.notify("undo-redo",{prop:"updateUrObj",onPropertyChange:!1,value:{objColl:a}})),(0,n.le)(t.activeObj.currIndex)?t.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:i}}):r.prevActObj||e?(t.activeObj.currIndex=null,d.currIndex=null,t.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:i}})):t.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:!0}}),o.isNewPath&&t.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}}),a=(0,n.l7)([],t.objColl,[],!0),d.activePoint.startX+=10,d.activePoint.startY-=10,d.activePoint.endX+=10,d.activePoint.endY-=10,"path"===d.shape)for(var c=0;c<d.pointColl.length;c++)d.pointColl[c].x+=10,d.pointColl[c].y-=10;else"image"===d.shape&&(d.imageCanvas=t.createElement("canvas"));if(t.activeObj=(0,n.l7)({},d,{},!0),"image"===t.activeObj.shape){var p=(0,n.l7)({},d.activePoint,{},!0),u={width:0,height:0};t.notify("transform",{prop:"calcMaxDimension",onPropertyChange:!1,value:{width:t.activeObj.imageElement.width,height:t.activeObj.imageElement.height,obj:u,isImgShape:null}}),t.activeObj.activePoint.width=u.width,t.activeObj.activePoint.height=u.height,t.activeObj.isHorImageFlip&&t.activeObj.isVerImageFlip?(t.activeObj.isHorImageFlip=t.activeObj.isVerImageFlip=!1,t.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:d.imageCanvas.getContext("2d"),isImgAnnotation:!0,isHFlip:!0,isVFlip:!0}}),t.activeObj.isHorImageFlip=t.activeObj.isVerImageFlip=!0):t.activeObj.isHorImageFlip?(t.activeObj.isHorImageFlip=!1,t.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:d.imageCanvas.getContext("2d"),isImgAnnotation:!0,isHFlip:!0,isVFlip:null}}),t.activeObj.isHorImageFlip=!0):t.activeObj.isVerImageFlip?(t.activeObj.isVerImageFlip=!1,t.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:d.imageCanvas.getContext("2d"),isImgAnnotation:!0,isHFlip:null,isVFlip:!0}}),t.activeObj.isVerImageFlip=!0):t.notify("draw",{prop:"downScaleImgCanvas",onPropertyChange:!1,value:{ctx:d.imageCanvas.getContext("2d"),isImgAnnotation:!0,isHFlip:null,isVFlip:null}}),t.activeObj.activePoint=p}("line"===t.activeObj.shape||"arrow"===t.activeObj.shape)&&t.notify("shape",{prop:"setPointCollForLineArrow",onPropertyChange:!1,value:{obj:t.activeObj}}),t.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate",obj:t.activeObj,isCropRatio:null,points:null,isPreventDrag:!0}}),t.notify("undo-redo",{prop:"updateUrObj",onPropertyChange:!1,value:{objColl:a}}),this.renderQAT()},h.prototype.defToolbarClicked=function(i){var e=this.parent,t=e.element.id,s=!1,r=!1;if(!this.isFrameToolbar&&e.element.querySelector(".e-contextual-toolbar-wrapper")&&(e.element.querySelector(".e-contextual-toolbar-wrapper").classList.contains("e-hide")||(s=r=!0),(!n.AR.isDevice||n.AR.isDevice&&!e.isStraightening)&&e.element.querySelector(".e-contextual-toolbar-wrapper").classList.add("e-hide")),i.item){var a=i.item.id.replace(t+"_","").toLowerCase();if("duplicate"===a||"remove"===a||"edittext"===a||"hflip"===a||"vflip"===a||"rotleft"===a||"rotright"===a)this.quickAccessToolbarClicked(i,!0),e.trigger("toolbarItemClicked",i);else{var d=!1,c=!1,p=document.querySelector("#"+t+"_adjustment");p&&p.classList.contains("e-disabled")&&(c=!0);var u=document.querySelector("#"+t+"_filter");u&&u.classList.contains("e-disabled")&&(d=!0),this.enableDisableTbrBtn(),this.performDefTbrClick(a,s,c,d,r),e.trigger("toolbarItemClicked",i),e.isStraightening&&e.notify("transform",{prop:"disableZoomOutBtn",value:{isZoomOut:!0}}),-1!==["undo","redo","cancel","aspectratio","nonaspectratio","save","duplicate","filter","frame","none","mat","bevel","line","inset","hook","resize","remove"].indexOf(a)&&e.notify("draw",{prop:"redrawDownScale"})}}},h.prototype.performDefTbrClick=function(i,e,t,s,r){var f,v,o=this.parent,a=o.element.id,d=o.element.querySelector("#"+a+"_zoomIn"),c=o.element.querySelector("#"+o.element.id+"_resizeHeight"),p=o.element.querySelector("#"+o.element.id+"_resizeWidth"),u=!1;if(void 0!==o.activeObj.shape&&(v=o.activeObj.shape.split("-")),(void 0===v&&o.currObjType.isCustomCrop||void 0!==v&&"crop"===v[0])&&(u=!0),!o.disabled)switch(i){case"pan":o.currObjType.isCustomCrop=o.currObjType.isFiltered=!1,o.currObjType.isUndoAction&&o.notify("undo-redo",{prop:"refreshUrc",value:{bool:null}}),u&&(o.currObjType.isCustomCrop=!1,o.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.upperContext.clearRect(0,0,o.upperCanvas.width,o.upperCanvas.height),this.refreshToolbar("main")),o.togglePan?(this.cancelPan(),o.notify("transform",{prop:"setDisablePan",onPropertyChange:!1,value:{bool:!0}}),"pen"===this.currentToolbar&&o.freehandDraw(!0)):((f=o.element.querySelector(".e-img-pan .e-btn"))&&f.classList.add("e-selected-btn"),o.pan(!0),o.notify("transform",{prop:"setDisablePan",onPropertyChange:!1,value:{bool:!1}})),d&&o.zoomSettings.zoomFactor>=o.zoomSettings.maxZoomFactor?(d.classList.add("e-disabled"),d.parentElement.classList.add("e-overlay")):d&&(d.classList.remove("e-disabled"),d.parentElement.classList.remove("e-overlay")),this.refreshToolbar("main");break;case"cancel":o.notify("draw",{prop:"performCancel",value:{isContextualToolbar:e}});break;case"ok":o.okBtn(),this.refreshDropDownBtn(!1),this.currentToolbar="main",o.isStraightening=!1;break;case"crop":o.notify("transform",{prop:"disableZoomOutBtn",value:{isZoomOut:!0}}),n.AR.isDevice&&this.updateContextualToolbar("color","straighten");break;case"reset":o.reset(),this.imageHeight=null,this.imageWidth=null,o.aspectHeight=null,o.aspectWidth=null,this.isAspectRatio=!0,this.currentToolbar="main";break;case"undo":o.togglePen&&o.notify("draw",{prop:"performCancel",value:{isContextualToolbar:e}}),o.notify("undo-redo",{prop:"call-undo"});break;case"redo":o.togglePen&&o.notify("draw",{prop:"performCancel",value:{isContextualToolbar:e}}),o.notify("undo-redo",{prop:"call-redo"});break;case"aspectratio":(!o.isCircleCrop&&(0,n.le)(o.currSelectionPoint)||o.currSelectionPoint&&"crop-circle"!==o.currSelectionPoint.shape)&&((0,n.Xr)(p,"numerictextbox").value?(o.aspectWidth=(0,n.Xr)(p,"numerictextbox").value,o.aspectHeight=(0,n.Xr)(c,"numerictextbox").value,o.notify("transform",{prop:"resize",value:{width:o.aspectWidth,height:null,isAspectRatio:!0}})):(0,n.Xr)(c,"numerictextbox").value&&(o.aspectWidth=parseFloat((0,n.Xr)(p,"numerictextbox").placeholder),o.aspectHeight=(0,n.Xr)(c,"numerictextbox").value,o.notify("transform",{prop:"resize",value:{width:o.aspectWidth,height:o.aspectHeight,isAspectRatio:!0}})),o.resizeSrc={startX:o.img.srcLeft,startY:o.img.srcTop,width:o.img.srcWidth,height:o.img.srcHeight},this.refreshToolbar("resize"));break;case"nonaspectratio":((0,n.Xr)(p,"numerictextbox").value||(0,n.Xr)(c,"numerictextbox").value)&&(o.aspectWidth=(0,n.Xr)(p,"numerictextbox").value?(0,n.Xr)(p,"numerictextbox").value:parseFloat((0,n.Xr)(p,"numerictextbox").placeholder),o.aspectHeight=(0,n.Xr)(c,"numerictextbox").value?(0,n.Xr)(c,"numerictextbox").value:parseFloat((0,n.Xr)(c,"numerictextbox").placeholder),o.notify("transform",{prop:"resize",value:{width:o.aspectWidth,height:o.aspectHeight,isAspectRatio:!1}})),o.cancelCropSelection=null,o.resizeSrc={startX:o.img.srcLeft,startY:o.img.srcTop,width:o.img.srcWidth,height:o.img.srcHeight},this.refreshToolbar("resize");break;case"resize":o.currObjType.isFiltered&&o.okBtn(),this.resizeClick();break;case"adjustment":t||(o.currObjType.isFiltered&&o.okBtn(),this.refreshToolbar("adjustment"),o.setTempFilterProperties(),o.notify("draw",{prop:"updateFinetune"}),o.notify("filter",{prop:"setTempAdjVal"}),this.openSlider("brightness"));break;case"brightness":case"contrast":case"hue":case"saturation":case"opacity":case"blur":case"exposure":this.openSlider(i);break;case"filter":s||(us(o.element),this.refreshToolbar("filter"),o.setTempFilterProperties(),Ji(o.element));break;case"default":case"chrome":case"cold":case"warm":case"grayscale":case"blackandwhite":case"sepia":case"invert":case"sharpen":o.currObjType.isFiltered=!0,o.notify("filter",{prop:"applyImageFilter",value:{option:i}});break;case"upload":r&&o.element.querySelector(".e-contextual-toolbar-wrapper").classList.remove("e-hide");break;case"bold":o.notify("selection",{prop:"setInitialTextEdit",value:{bool:!1}}),o.activeObj.textSettings.bold&&o.activeObj.textSettings.italic?o.notify("shape",{prop:"applyFontStyle",onPropertyChange:!1,value:{item:"italic"}}):o.activeObj.textSettings.bold&&!o.activeObj.textSettings.italic?o.notify("shape",{prop:"applyFontStyle",onPropertyChange:!1,value:{item:"default"}}):!o.activeObj.textSettings.bold&&o.activeObj.textSettings.italic?o.notify("shape",{prop:"applyFontStyle",onPropertyChange:!1,value:{item:"bolditalic"}}):!o.activeObj.textSettings.bold&&!o.activeObj.textSettings.italic&&o.notify("shape",{prop:"applyFontStyle",onPropertyChange:!1,value:{item:"bold"}}),o.element.querySelector("#"+a+"_bold").classList.contains("e-selected-btn")?o.element.querySelector("#"+a+"_bold").classList.remove("e-selected-btn"):o.element.querySelector("#"+a+"_bold").classList.add("e-selected-btn");break;case"italic":o.notify("selection",{prop:"setInitialTextEdit",value:{bool:!1}}),o.activeObj.textSettings.bold&&o.activeObj.textSettings.italic?o.notify("shape",{prop:"applyFontStyle",onPropertyChange:!1,value:{item:"bold"}}):o.activeObj.textSettings.bold&&!o.activeObj.textSettings.italic?o.notify("shape",{prop:"applyFontStyle",onPropertyChange:!1,value:{item:"bolditalic"}}):!o.activeObj.textSettings.bold&&o.activeObj.textSettings.italic?o.notify("shape",{prop:"applyFontStyle",onPropertyChange:!1,value:{item:"default"}}):!o.activeObj.textSettings.bold&&!o.activeObj.textSettings.italic&&o.notify("shape",{prop:"applyFontStyle",onPropertyChange:!1,value:{item:"italic"}}),o.element.querySelector("#"+a+"_italic").classList.contains("e-selected-btn")?o.element.querySelector("#"+a+"_italic").classList.remove("e-selected-btn"):o.element.querySelector("#"+a+"_italic").classList.add("e-selected-btn");break;case"croptransform":this.performCropTransformClick();break;case"rotateleft":case"rotateright":case"horizontalflip":case"verticalflip":o.transformSelect(i),("rotateleft"===i||"rotateright"===i)&&(o.notify("draw",{prop:"resetStraightenDestPoints"}),o.notify("draw",{prop:"setDestForStraighten"})),o.notify("transform",{prop:"disableZoomOutBtn",value:{isZoomOut:!0}}),n.AR.isDevice&&this.updateContextualToolbar("color","straighten");break;case"save":if(o.element.querySelector("#"+a+"_saveBtn").classList.contains("e-hide")){o.element.querySelector("#"+a+"_saveBtn").classList.remove("e-hide"),o.element.querySelector("#"+a+"_saveBtn").focus();break}o.okBtn(),o.element.querySelector("#"+a+"_saveBtn").classList.add("e-hide"),o.element.querySelector("#"+a+"_saveBtn").click();break;case"transparency":this.updateContextualToolbar("transparency","transparency");break;case"frame":this.frameToolbarClick();break;case"none":case"mat":case"bevel":case"line":case"inset":case"hook":this.unselectFrameBtn(),o.element.querySelector("#"+a+"_"+i)&&o.element.querySelector("#"+a+"_"+i).classList.add("e-selected-btn"),o.frameObj.type=i,o.frameObj.size=20,o.frameObj.inset=20,o.frameObj.radius=0,o.frameObj.amount=1,o.frameObj.offset="inset"===i?60:20,this.refreshToolbar("frame"),o.notify("draw",{prop:"render-image",value:{isMouseWheel:null,isPreventClearRect:null,isFrame:!0}}),o.isFrameBtnClick=!0,o.curFrameObjEvent={previousFrameSetting:o.tempFrameObj,currentFrameSetting:o.frameObj}}},h.prototype.frameToolbarClick=function(){var s,r,o,i=this.parent,e=i.element.id,t=document.querySelector("#"+e+"_frame");i.notify("draw",{prop:"updateCropSelection",onPropertyChange:!1}),i.currObjType.isFiltered&&i.okBtn(),t&&!t.classList.contains("e-disabled")&&(s=i.transform.zoomFactor,i.frameDestPoints=(0,n.l7)({},i.img,{},!0),(0,n.le)(i.cxtTbarHeight)&&(r=(0,n.l7)({},i.frameObj,{},!0),o=(0,n.l7)({},i.tempFrameObj,{},!0),this.callFrameToolbar(),i.frameObj.type="mat",this.callFrameToolbar(),i.cxtTbarHeight=i.element.querySelector("#"+e+"_customizeWrapper").scrollHeight,i.frameObj=r,i.tempFrameObj=o),this.zoomToFrameRange(),i.tempFrameZoomLevel=s,n.AR.isDevice?i.img.destTop-=i.cxtTbarHeight/2:i.img.destTop+=i.cxtTbarHeight/2,this.callFrameToolbar())},h.prototype.zoomToFrameRange=function(){var i=this.parent;for(this.isFrameToolbar=!1,i.notify("transform",{prop:"resetZoom",onPropertyChange:!1});!(this.toolbarHeight+i.img.destTop>=this.toolbarHeight+i.cxtTbarHeight);)i.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-.1,zoomPoint:null,isResize:!0}});this.isFrameToolbar=!0},h.prototype.resizeClick=function(){var i=this.parent;i.notify("draw",{prop:"updateCropSelection",onPropertyChange:!1}),i.upperCanvas.style.cursor="default",i.notify("transform",{prop:"updateResize",value:{bool:!1}}),this.isAspectRatio=!this.isAspectRatio,i.isResize=!0,this.refreshToolbar("resize")},h.prototype.callFrameToolbar=function(){var i=this.parent;(0,n.l7)(i.tempFrameObj,i.frameObj);var e={appliedUndoRedoColl:[]};if(i.notify("undo-redo",{prop:"getAppliedUndoRedoColl",value:{obj:e}}),0===e.appliedUndoRedoColl.length){var t={currObj:{}};i.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:t}}),i.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"frame",previousObj:t.currObj,previousObjColl:t.currObj.objColl,previousPointColl:t.currObj.pointColl,previousSelPointColl:t.currObj.selPointColl,previousCropObj:(0,n.l7)({},i.cropObj,{},!0),previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}})}this.refreshToolbar("frame")},h.prototype.contextualToolbarClicked=function(i){var e=this.parent,t=e.element.querySelector(".e-contextual-toolbar-wrapper .e-toolbar-item.e-selected");t&&t.classList.remove("e-selected");var s=i.item.id.replace(e.element.id,"").split("_")[1],r={filter:e.toPascalCase(s),cancel:!1};e.trigger("imageFiltering",r),!r.cancel&&(document.getElementById(i.item.id+"Canvas").parentElement.parentElement.classList.add("e-selected"),e.currObjType.isFiltered=!0,e.notify("filter",{prop:"applyImageFilter",value:{option:s.toLowerCase()}}),e.notify("draw",{prop:"redrawDownScale"}),e.currentFilter=i.item.id,this.enableDisableTbrBtn(),e.isFilterCanvasClick=!0,e.curFilterObjEvent=r)},h.prototype.refreshShapeDrawing=function(){var i=this.parent,e={shape:""};i.notify("selection",{prop:"getCurrentDrawingShape",onPropertyChange:!1,value:{obj:e}}),""!==e.shape&&(i.notify("selection",{prop:"setCurrentDrawingShape",onPropertyChange:!1,value:{value:""}}),i.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),this.refreshToolbar("main",!1))},h.prototype.zoomInBtnClickHandler=function(i){if(i){var e=this.parent;if((e.zoomSettings.zoomTrigger&oi.Toolbar)===oi.Toolbar){if(e.currObjType.isFiltered&&e.okBtn(),this.refreshShapeDrawing(),n.AR.isDevice&&"touchstart"===i.type){if(!i.returnValue)return;i.preventDefault()}var t=document.querySelector("#"+e.element.id+"_zoomIn");n.bi.trigger(t,"click");var s={bool:!1};e.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:s}}),s.bool&&(e.notify("freehand-draw",{prop:"applyFhd",onPropertyChange:!1}),this.destroyQuickAccessToolbar()),e.isZoomBtnClick=!0,this.applyPreviewFilter(),e.currObjType.isFiltered=!1,e.togglePen&&(e.currObjType.isZoomed=!0,e.freeHandDraw(!1),e.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}})),e.notify("draw",{prop:"resetCurrentSelectionPoint"}),e.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:.1,zoomPoint:null,isResize:null}}),e.notify("draw",{prop:"redrawDownScale"}),(e.isCropTab||e.activeObj.shape)&&(e.notify("draw",{prop:"setStraightenActObj",value:{activeObj:null}}),e.notify("freehand-draw",{prop:"resetStraightenPoint"})),e.isStraightening&&(e.notify("draw",{prop:"resetStraightenDestPoints"}),e.notify("draw",{prop:"setDestForStraighten"}))}}},h.prototype.zoomOutBtnClickHandler=function(i){if(i){var e=this.parent;if((e.zoomSettings.zoomTrigger&oi.Toolbar)===oi.Toolbar){if(e.currObjType.isFiltered&&e.okBtn(),this.refreshShapeDrawing(),n.AR.isDevice&&"touchstart"===i.type){if(!i.returnValue)return;i.preventDefault()}var t=document.querySelector("#"+e.element.id+"_zoomOut");n.bi.trigger(t,"click");var s={bool:!1};e.notify("selection",{prop:"getFreehandDrawEditing",onPropertyChange:!1,value:{obj:s}}),s.bool&&(e.notify("freehand-draw",{prop:"applyFhd",onPropertyChange:!1}),this.destroyQuickAccessToolbar()),e.isZoomBtnClick=!0,this.applyPreviewFilter(),e.currObjType.isFiltered=!1,e.togglePen&&(e.currObjType.isZoomed=!0,e.freeHandDraw(!1),e.notify("undo-redo",{prop:"updateCurrUrc",value:{type:"ok"}})),e.notify("draw",{prop:"resetCurrentSelectionPoint"}),e.notify("transform",{prop:"zoomAction",onPropertyChange:!1,value:{zoomFactor:-.1,zoomPoint:null,isResize:null}}),e.notify("draw",{prop:"redrawDownScale"}),(e.isCropTab||e.activeObj.shape)&&(e.notify("draw",{prop:"setStraightenActObj",value:{activeObj:null}}),e.notify("freehand-draw",{prop:"resetStraightenPoint"})),e.isStraightening&&(e.notify("draw",{prop:"resetStraightenDestPoints"}),e.notify("draw",{prop:"setDestForStraighten"}))}}},h.prototype.zoomInBtnMouseDownHandler=function(i){i.preventDefault(),this.zoomBtnHold=setInterval(this.zoomInBtnClickHandler.bind(this),250)},h.prototype.zoomOutBtnMouseDownHandler=function(i){i.preventDefault(),this.zoomBtnHold=setInterval(this.zoomOutBtnClickHandler.bind(this),250)},h.prototype.zoomBtnMouseUpHandler=function(){clearInterval(this.zoomBtnHold),this.zoomBtnHold=0},h.prototype.closeContextualToolbar=function(){var i=this.parent,e=i.element.id,t=!1;return(!n.AR.isDevice||n.AR.isDevice&&!i.isStraightening)&&(i.element.querySelector("#"+e+"_contextualToolbar")&&!i.element.querySelector("#"+e+"_contextualToolbar").parentElement.classList.contains("e-hide")||i.element.querySelector("#"+e+"_headWrapper")&&!i.element.querySelector("#"+e+"_headWrapper").parentElement.classList.contains("e-hide"))&&(i.element.querySelector(".e-contextual-toolbar-wrapper").classList.add("e-hide"),i.okBtn(),this.refreshMainToolbar(),t=!0),t},h.prototype.destroyQuickAccessToolbar=function(){var e=this.parent.element.id,t=document.getElementById(e+"_quickAccessToolbar");t&&t.classList.contains("e-control")&&(0,n.Xr)(t,"toolbar").destroy();var s=document.getElementById(e+"_quickAccessToolbarArea");s&&(s.style.display="none")},h.prototype.renderSlider=function(i,e){var t=this.parent,s=t.element.id,r=document.querySelector("#"+s+"_contextualToolbarArea"),o=document.querySelector("#"+s+"_headWrapper"),a=document.querySelector("#"+s+"_labelWrapper");o&&(o.remove(),a.remove()),(a=(o=r.appendChild(t.createElement("div",{id:s+"_headWrapper",styles:"position: relative"}))).appendChild(t.createElement("label","transparency"===i?{id:s+"_labelWrapper",className:"e-ie-finetune-slider-label",styles:n.AR.isDevice?"position: absolute; top: 31%; left: calc(50% - 150px); font-size: 15px; text-transform: capitalize; font-weight: 400;":"position: absolute; top: 31%; left: calc(50% - 220px); font-size: 15px; text-transform: capitalize; font-weight: 400;"}:{id:s+"_labelWrapper",className:"e-ie-finetune-slider-label",styles:n.AR.isDevice?"position: absolute; top: 31%; left: calc(50% - 160px); font-size: 15px; text-transform: capitalize; font-weight: 400;":"position: absolute; top: 25%; left: calc(50% - 226px); font-size: 15px; text-transform: capitalize; font-weight: 400;"}))).textContent=this.l10n.getConstant(t.toPascalCase("transparency"===i?"opacity":i));var p,u,f,d=o.appendChild(t.createElement("div",{id:s+"_sliderWrapper",className:"e-ie-finetune-slider-wrap",styles:"position: absolute"})),c=t.getCurrAdjustmentValue(i);e&&"straighten"===i&&n.AR.isDevice&&(c=t.cropObj.straighten),"brightness"===i||"contrast"===i||"saturation"===i||"exposure"===i?(t.finetuneSettings?"brightness"===i&&t.finetuneSettings.brightness?(p=t.finetuneSettings.brightness.min,u=t.finetuneSettings.brightness.max):"contrast"===i&&t.finetuneSettings.contrast?(p=t.finetuneSettings.contrast.min,u=t.finetuneSettings.contrast.max):"saturation"===i&&t.finetuneSettings.saturation?(p=t.finetuneSettings.saturation.min,u=t.finetuneSettings.saturation.max):"exposure"===i&&t.finetuneSettings.exposure?(p=t.finetuneSettings.exposure.min,u=t.finetuneSettings.exposure.max):(p=-100,u=100):(p=-100,u=100),f=this.createSlider(p,u,c,i)):"hue"===i||"blur"===i||"opacity"===i?(t.finetuneSettings?"hue"===i&&t.finetuneSettings.hue?(p=t.finetuneSettings.hue.min,u=t.finetuneSettings.hue.max):"blur"===i&&t.finetuneSettings.blur?(p=t.finetuneSettings.blur.min,u=t.finetuneSettings.blur.max):"opacity"===i&&t.finetuneSettings.opacity?(p=t.finetuneSettings.opacity.min,u=t.finetuneSettings.opacity.max):(p=0,u=100):(p=0,u=100),f=this.createSlider(p,u,c,i)):"transparency"===i?f=this.createSlider(p=0,u=100,c,i):"straighten"===i&&(f=this.createSlider(p=-45,u=45,c,i)),f.appendTo("#"+s+"_sliderWrapper"),d.style.left=(parseFloat(r.style.width)-parseFloat(f.width))/2+"px","straighten"===i&&n.AR.isDevice&&(o.appendChild(t.createElement("label",{id:s+"_sLabelWrapper",className:"e-ie-straighten-value-span e-ie-finetune-value-span",styles:"position: absolute; top: 31%; margin-left: 20px; font-size: 15px; text-transform: capitalize; font-weight: 400;"})).innerHTML=t.transform.straighten.toString()+"&#176",d.parentElement.classList.add("e-straighten-slider")),"straighten"!==i&&(o.appendChild(t.createElement("label",{id:s+"_finetuneSpan",className:"e-ie-finetune-value-span",styles:n.AR.isDevice?"position: absolute; top: 25%; margin-left: 20px; font-size: 15px; text-transform: capitalize; font-weight: 400;":"position: absolute; top: 25%; left: calc(50% + 190px); font-size: 15px; text-transform: capitalize; font-weight: 400;"})),d.parentElement.classList.add("e-finetune-slider"),"transparency"===i&&n.AR.isDevice&&d.parentElement.classList.add("e-ie-device-transparency-slider"),this.updateFinetuneSpan(i))},h.prototype.createSlider=function(i,e,t,s){var r=this,o=this.parent;return new gf({value:t,type:"MinRange",min:i,max:e,step:"straighten"===s?3:1,width:n.AR.isDevice?"180px":"straighten"===s?"200px":"300px",cssClass:"e-slider",change:function(d){if(o.notify("selection",{prop:"setSliderActive",onPropertyChange:!1,value:{bool:!0}}),"transparency"===s){if(o.activeObj.shape){var c,p=void 0;(0,n.le)(o.activeObj.imageRatio)&&o.notify("shape",{prop:"updImgRatioForActObj",onPropertyChange:!1}),o.notify("shape",{prop:"pushActItemIntoObj"}),c=(0,n.l7)({},o.cropObj,{},!0);var u={currObj:{}};o.notify("filter",{prop:"getCurrentObj",onPropertyChange:!1,value:{object:u}}),(p=u.currObj).objColl=(0,n.l7)([],o.objColl,[],!0),p.pointColl=(0,n.l7)([],o.pointColl,[],!0),p.afterCropActions=(0,n.l7)([],o.afterCropActions,[],!0);var f={selPointColl:null};o.notify("freehand-draw",{prop:"getSelPointColl",onPropertyChange:!1,value:{obj:f}}),p.selPointColl=(0,n.l7)([],f.selPointColl,[],!0),o.objColl.pop(),o.activeObj.opacity=d.value/100,r.upperContext.clearRect(0,0,o.upperCanvas.width,o.upperCanvas.height),o.notify("draw",{prop:"drawObject",onPropertyChange:!1,value:{canvas:"duplicate"}}),o.objColl.push(o.activeObj),o.notify("undo-redo",{prop:"updateUndoRedoColl",onPropertyChange:!1,value:{operation:"shapeTransform",previousObj:p,previousObjColl:p.objColl,previousPointColl:p.pointColl,previousSelPointColl:p.selPointColl,previousCropObj:c,previousText:null,currentText:null,previousFilter:null,isCircleCrop:null}}),o.notify("selection",{prop:"redrawShape",value:{obj:o.objColl[o.objColl.length-1]}}),r.updateFinetuneSpan(s)}}else"straighten"===s?o.setStraighten(d.value):(o.transform.zoomFactor&&o.transform.zoomFactor<0&&(o.isFinetuning=!0),o.notify("selection",{prop:"setSliding",value:{bool:!0}}),o.setCurrAdjustmentValue(s,d.value),r.updateFinetuneSpan(s),r.enableDisableTbrBtn(),o.isFinetuning=!1)},changed:function(){"transparency"!==s&&"straighten"!==s&&(o.notify("selection",{prop:"setSliding",value:{bool:!1}}),o.notify("draw",{prop:"redrawDownScale"})),o.notify("selection",{prop:"setSliderActive",onPropertyChange:!1,value:{bool:!1}})}})},h.prototype.updateFinetuneSpan=function(i){var e=this.parent,t=e.element.querySelector(".e-ie-finetune-value-span");if(t){var s={adjustmentLevel:null};e.notify("filter",{prop:"getAdjustmentLevel",onPropertyChange:!1,value:{obj:s}}),t.innerHTML=Math.round(s.adjustmentLevel[i]).toString()}},h.prototype.applyPreviewFilter=function(){var i=this.parent;(document.querySelector("#"+i.element.id+"_sliderWrapper")||i.currObjType.isFiltered)&&(i.initialAdjustmentValue=this.lowerContext.filter,i.canvasFilter=this.lowerContext.filter,i.currObjType.isFiltered=!1)},h.prototype.unselectBtn=function(){for(var e=this.parent.element.id,s=0,r=["#"+e+"_brightness","#"+e+"_contrast","#"+e+"_hue","#"+e+"_saturation","#"+e+"_opacity","#"+e+"_blur","#"+e+"_exposure"];s<r.length;s++){var a=document.querySelector(r[s]);if(a&&a.classList.contains("e-selected-btn")){a.classList.remove("e-selected-btn");break}}},h.prototype.openSlider=function(i){this.unselectBtn(),this.parent.currObjType.isFiltered=!0,this.refreshToolbar("color",null,null,null,i),document.getElementById(this.parent.element.id+"_"+i).classList.add("e-selected-btn")},h.prototype.refreshSlider=function(){var i=this.parent.element.id,e=document.querySelector("#"+i+"_sliderWrapper"),t=document.querySelector(".e-slider"),s=document.querySelector("#"+i+"_headWrapper");s&&(s.style.display="none"),e&&t&&(t.ej2_instances[0].destroy(),e.remove())},h.prototype.unselectFrameBtn=function(){for(var e=this.parent.element.id,s=0,r=["#"+e+"_none","#"+e+"_mat","#"+e+"_line","#"+e+"_inset","#"+e+"_bevel","#"+e+"_hook"];s<r.length;s++){var a=document.querySelector(r[s]);if(a.classList.contains("e-selected-btn")){a.classList.remove("e-selected-btn");break}}},h.prototype.updateToolbarItems=function(){var i=this.parent,e=i.element.id;if(i.isImageLoaded){var t=i.element.querySelector(".e-fill.e-template .e-dropdownbtn-preview"),s=i.element.querySelector(".e-stroke.e-template .e-dropdownbtn-preview"),r=i.element.querySelector(".e-text-font-color.e-template .e-dropdownbtn-preview"),o=i.element.querySelector(".e-pen-stroke-color.e-template .e-dropdownbtn-preview"),a=i.element.querySelector(".e-shape-stroke-width"),d=i.element.querySelector(".e-text-font-family"),c=i.element.querySelector(".e-text-font-size"),p=i.element.querySelector("#"+e+"_bold"),u=i.element.querySelector("#"+e+"_italic");if(i.activeObj.strokeSettings&&i.activeObj.textSettings){if((0,n.le)(i.activeObj.strokeSettings.strokeWidth)&&(i.activeObj.strokeSettings.strokeWidth=2),t){var f=i.activeObj.strokeSettings.fillColor;""===i.activeObj.strokeSettings.fillColor?t.classList.add("e-nocolor-item"):(t.classList.remove("e-nocolor-item"),t.style.background=f),document.querySelector("#"+e+"_shape_fill")&&((0,n.Xr)(e+"_shape_fill","colorpicker").value=f)}if(s&&(s.style.background=f=i.activeObj.strokeSettings.strokeColor,document.querySelector("#"+e+"_shape_stroke")&&((0,n.Xr)(e+"_shape_stroke","colorpicker").value=f)),r&&(r.style.background=f=i.activeObj.strokeSettings.strokeColor,document.querySelector("#"+e+"_text_font")&&((0,n.Xr)(e+"_text_font","colorpicker").value=f)),o&&(o.style.background=f=i.activeObj.strokeSettings.strokeColor,document.querySelector("#"+e+"_pen_stroke")&&((0,n.Xr)(e+"_pen_stroke","colorpicker").value=f),i.notify("freehand-draw",{prop:"getPenOpacity",onPropertyChange:!1,value:{obj:{penOpacity:1}}})),d&&(n.AR.isDevice?d.setAttribute("style","font-family:"+i.activeObj.textSettings.fontFamily.toLowerCase()):d.textContent=i.activeObj.textSettings.fontFamily),c)for(var g=0;g<i.fontSizeColl.length;g++)if(parseInt(i.fontSizeColl[g].text,10)>=Math.round(i.activeObj.textSettings.fontSize)){c.textContent=(g+1).toString();break}if(p&&(i.activeObj.textSettings.bold?p.classList.add("e-selected-btn"):p.classList.remove("e-selected-btn")),u&&(i.activeObj.textSettings.italic?u.classList.add("e-selected-btn"):u.classList.remove("e-selected-btn")),a){var b=Math.round(i.activeObj.strokeSettings.strokeWidth).toString();a.textContent=this.getStrokeWidth(b)}}}},h.prototype.getStrokeWidth=function(i){var e;switch(parseInt(i,10)/2){case 0:e=this.l10n.getConstant("NoOutline");break;case 1:e=this.l10n.getConstant("XSmall");break;case 2:e=this.l10n.getConstant("Small");break;case 3:e=this.l10n.getConstant("Medium");break;case 4:e=this.l10n.getConstant("Large");break;case 5:e=this.l10n.getConstant("XLarge")}return e},h.prototype.cancelPan=function(){var i=this.parent;i.notify("shape",{prop:"applyActObj",onPropertyChange:!1,value:{isMouseDown:!0}});var e=i.element.querySelector(".e-img-pan .e-btn");e&&e.classList.remove("e-selected-btn"),i.pan(!1)},h.prototype.refreshMainToolbar=function(){"main"!==this.currToolbar&&this.refreshToolbar("main")},h.prototype.destroySubComponents=function(){for(var i=this.parent,e=i.element.querySelectorAll("input.e-control"),t=i.element.querySelectorAll("button.e-control"),s=0,r=e.length;s<r;s++)e[s].classList.contains("e-color-picker")&&((0,n.Xr)(e[s],"color-picker").destroy(),(0,n.og)((0,n.Ys)("input#"+e[s].id,i.element)));for(s=0,r=t.length;s<r;s++)t[s].classList.contains("e-dropdown-btn")?((0,n.Xr)(t[s],"dropdown-btn").destroy(),(0,n.og)((0,n.Ys)("button#"+t[s].id,i.element))):t[s].classList.contains("e-btn")&&((0,n.Xr)(t[s],"btn").destroy(),(0,n.og)((0,n.Ys)("button#"+t[s].id,i.element)))},h.prototype.setInitialShapeSettings=function(i){var e=this.parent;e.notify("shape",{prop:"refreshActiveObj",onPropertyChange:!1}),e.currObjType.shape=i.item.id,e.activeObj.shape=e.currObjType.shape.toLowerCase(),e.currObjType.isDragging=e.currObjType.isCustomCrop=!1,e.activeObj.shapeDegree=e.transform.degree,e.activeObj.shapeFlip=e.transform.currFlipState,e.activeObj.textFlip=e.transform.currFlipState,e.activeObj.flipObjColl=[]},h.prototype.isToolbarString=function(i){for(var e=!1,t=0;t<i.length;t++)if("string"==typeof i[t]){e=!0;break}return e},h.prototype.excludeItems=function(i){for(var e=[],t=0;t<i.length;t++){var s=this.getIndex(i[t]);-1!==s&&e.push(s)}var r=[];for(t=0;t<this.defToolbarItems.length;t++)"Center"===this.defToolbarItems[t].align&&!this.isSameIndex(e,t)&&this.defToolbarItems[t].id!==this.parent.element.id+"_annotation"&&r.push(t);for(t=r.length-1;t>=0;t--)this.defToolbarItems.splice(r[t],1)},h.prototype.isSameIndex=function(i,e){for(var t=0;t<i.length;t++)if(i[t]===e)return!0;return!1},h.prototype.getIndex=function(i){var e=-1,t=!1;"rotateLeft"===i&&(i="rotLeft"),"rotateRight"===i&&(i="rotRight"),"horizontalFlip"===i&&(i="hflip"),"verticalFlip"===i&&(i="vflip"),"arrowStart"===i&&(i="start"),"arrowEnd"===i&&(i="end"),"fontColor"===i&&(i="strokeColor",t=!0);for(var s=0;s<this.defToolbarItems.length;s++){var r=this.defToolbarItems[s].id;if(r&&-1!==r.toLowerCase().indexOf(i.toLowerCase())){e=s;break}}return t&&(i="fontColor"),e},h.prototype.getModuleName=function(){return"toolbar-module"},h}();const uT=["toolbarTemplate"],fT=["beforeSave","click","created","cropping","destroyed","fileOpened","finetuneValueChanging","flipping","frameChange","imageFiltering","panning","quickAccessToolbarItemClick","quickAccessToolbarOpen","resizing","rotating","saved","selectionChanging","shapeChange","shapeChanging","toolbarCreated","toolbarItemClicked","toolbarUpdating","zooming"],mT=[""];let vT=(()=>{let h=class extends nT{constructor(e,t,s,r){super(),this.ngEle=e,this.srenderer=t,this.viewContainerRef=s,this.injector=r,this.element=this.ngEle.nativeElement,this.injectedModules=this.injectedModules||[],this.registerEvents(fT),this.addTwoWay.call(this,mT),function zp(h,i,e){for(var t=h.replace(/\[/g,".").replace(/\]/g,"").split("."),s=e||{},r=0;r<t.length;r++){var o=t[r];r+1===t.length?s[o]=void 0===i?{}:i:void 0===s[o]&&(s[o]={}),s=s[o]}}("currentInstance",this,this.viewContainerRef),this.context=new Uh}ngOnInit(){this.context.ngOnInit(this)}ngAfterViewInit(){this.context.ngAfterViewInit(this)}ngOnDestroy(){this.context.ngOnDestroy(this)}ngAfterContentChecked(){this.context.ngAfterContentChecked(this)}};return h.\u0275fac=function(e){return new(e||h)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.s_b),l.Y36(l.zs3))},h.\u0275cmp=l.Xpm({type:h,selectors:[["ejs-imageeditor"]],contentQueries:function(e,t,s){if(1&e&&l.Suo(s,uT,5),2&e){let r;l.iGM(r=l.CRH())&&(t.toolbarTemplate=r.first)}},inputs:{allowUndoRedo:"allowUndoRedo",cssClass:"cssClass",disabled:"disabled",enablePersistence:"enablePersistence",enableRtl:"enableRtl",finetuneSettings:"finetuneSettings",fontFamily:"fontFamily",height:"height",isReadOnly:"isReadOnly",locale:"locale",quickAccessToolbarTemplate:"quickAccessToolbarTemplate",selectionSettings:"selectionSettings",showQuickAccessToolbar:"showQuickAccessToolbar",theme:"theme",toolbar:"toolbar",toolbarTemplate:"toolbarTemplate",width:"width",zoomSettings:"zoomSettings"},outputs:{beforeSave:"beforeSave",click:"click",created:"created",cropping:"cropping",destroyed:"destroyed",fileOpened:"fileOpened",finetuneValueChanging:"finetuneValueChanging",flipping:"flipping",frameChange:"frameChange",imageFiltering:"imageFiltering",panning:"panning",quickAccessToolbarItemClick:"quickAccessToolbarItemClick",quickAccessToolbarOpen:"quickAccessToolbarOpen",resizing:"resizing",rotating:"rotating",saved:"saved",selectionChanging:"selectionChanging",shapeChange:"shapeChange",shapeChanging:"shapeChanging",toolbarCreated:"toolbarCreated",toolbarItemClicked:"toolbarItemClicked",toolbarUpdating:"toolbarUpdating",zooming:"zooming"},features:[l.qOj],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),(0,qh.gn)([rr()],h.prototype,"toolbarTemplate",void 0),h=(0,qh.gn)([Bp([Uh])],h),h})(),o_=(()=>{class h{}return h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({imports:[[x.ez]]}),h})();var Lo=I(20553),Jn=I(65118);const gT=["imageEditor"];let a_=(()=>{var h;class i{constructor(t,s){(0,_.Z)(this,"dialogRef",void 0),(0,_.Z)(this,"config",void 0),(0,_.Z)(this,"imageEditorObj",void 0),(0,_.Z)(this,"baseUrl",Lo.N.remoteServiceBaseUrl),(0,_.Z)(this,"toolbar",["Crop","CustomSelection","CircleSelection","Annotate","Line","Rectangle","Ellipse","Arrow","Path","Text"]),this.dialogRef=t,this.config=s}created(){this.imageEditorObj.open(`${this.baseUrl}/Quotes/QDetails/${this.config.data}`)}onSave(){const t=this.imageEditorObj.getImageData(),s=this.getBase64Image(t),r=this.dataURLtoFile(s,this.config.data);this.dialogRef.close(r)}onCloseDiallog(){this.dialogRef.close()}getBase64Image(t){const s=document.createElement("canvas");return s.width=t.width,s.height=t.height,s.getContext("2d").putImageData(t,0,0),s.toDataURL()}dataURLtoFile(t,s){let r=t.split(","),o=r[0].match(/:(.*?);/)[1],a=atob(r[r.length-1]),d=a.length,c=new Uint8Array(d);for(;d--;)c[d]=a.charCodeAt(d);return new File([c],s,{type:o})}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(Jn.E7),l.Y36(Jn.S))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["image-editor"]],viewQuery:function(t,s){if(1&t&&l.Gf(gT,5),2&t){let r;l.iGM(r=l.CRH())&&(s.imageEditorObj=r.first)}},standalone:!0,features:[l.jDz],decls:8,vars:1,consts:[[1,"image-editor"],[3,"toolbar","created"],["imageEditor",""],[1,"d-flex","justify-content-end","mt-4","actions"],[1,"btn","btn-danger","me-3",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(t,s){1&t&&(l.TgZ(0,"div",0)(1,"ejs-imageeditor",1,2),l.NdJ("created",function(){return s.created()}),l.qZA(),l.TgZ(3,"div",3)(4,"button",4),l.NdJ("click",function(){return s.onCloseDiallog()}),l._uU(5,"Discard Changes"),l.qZA(),l.TgZ(6,"button",5),l.NdJ("click",function(){return s.onSave()}),l._uU(7,"Save Changes"),l.qZA()()()),2&t&&(l.xp6(1),l.Q6J("toolbar",s.toolbar))},dependencies:[x.ez,o_,vT],styles:[".image-editor[_ngcontent-%COMP%]{height:calc(100% - 5rem);padding-top:1rem}.image-editor[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{border-top:1px solid rgba(50,107,246,.1490196078);padding-top:1rem}.image-editor[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%], .image-editor[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{color:red!important;background-color:#ff000026!important}.image-editor[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:6px 1.5rem!important;border-radius:20px!important;font-size:1rem}"]})),i})();var yT=I(21051),bT=I(54968),$e=I(44328),CT=I(35732),jc=6e4,Rc="millisecond",Ia="second",Gn="minute",Ea="hour",Gs="day",Qn="week",yr="month",p_="quarter",Qs="year",Da="date",u_="YYYY-MM-DDTHH:mm:ssZ",f_="Invalid Date",xT=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,PT=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;const TT={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(i){var e=["th","st","nd","rd"],t=i%100;return"["+i+(e[(t-20)%10]||e[t]||e[0])+"]"}};var Rm=function(i,e,t){var s=String(i);return!s||s.length>=e?i:""+Array(e+1-s.length).join(t)+i};const IT={s:Rm,z:function(i){var e=-i.utcOffset(),t=Math.abs(e),s=Math.floor(t/60),r=t%60;return(e<=0?"+":"-")+Rm(s,2,"0")+":"+Rm(r,2,"0")},m:function h(i,e){if(i.date()<e.date())return-h(e,i);var t=12*(e.year()-i.year())+(e.month()-i.month()),s=i.clone().add(t,yr),r=e-s<0,o=i.clone().add(t+(r?-1:1),yr);return+(-(t+(e-s)/(r?s-o:o-s))||0)},a:function(i){return i<0?Math.ceil(i)||0:Math.floor(i)},p:function(i){return{M:yr,y:Qs,w:Qn,d:Gs,D:Da,h:Ea,m:Gn,s:Ia,ms:Rc,Q:p_}[i]||String(i||"").toLowerCase().replace(/s$/,"")},u:function(i){return void 0===i}};var lh="en",Oo={};Oo[lh]=TT;var m_="$isDayjsObject",Ym=function(i){return i instanceof Fc||!(!i||!i[m_])},Yc=function h(i,e,t){var s;if(!i)return lh;if("string"==typeof i){var r=i.toLowerCase();Oo[r]&&(s=r),e&&(Oo[r]=e,s=r);var o=i.split("-");if(!s&&o.length>1)return h(o[0])}else{var a=i.name;Oo[a]=i,s=a}return!t&&s&&(lh=s),s||!t&&lh},Vi=function(i,e){if(Ym(i))return i.clone();var t="object"==typeof e?e:{};return t.date=i,t.args=arguments,new Fc(t)},Wt=IT;Wt.l=Yc,Wt.i=Ym,Wt.w=function(i,e){return Vi(i,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var Fc=function(){function h(e){this.$L=Yc(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[m_]=!0}var i=h.prototype;return i.parse=function(t){this.$d=function(i){var e=i.date,t=i.utc;if(null===e)return new Date(NaN);if(Wt.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(xT);if(s){var r=s[2]-1||0,o=(s[7]||"0").substring(0,3);return t?new Date(Date.UTC(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,o)):new Date(s[1],r,s[3]||1,s[4]||0,s[5]||0,s[6]||0,o)}}return new Date(e)}(t),this.init()},i.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},i.$utils=function(){return Wt},i.isValid=function(){return this.$d.toString()!==f_},i.isSame=function(t,s){var r=Vi(t);return this.startOf(s)<=r&&r<=this.endOf(s)},i.isAfter=function(t,s){return Vi(t)<this.startOf(s)},i.isBefore=function(t,s){return this.endOf(s)<Vi(t)},i.$g=function(t,s,r){return Wt.u(t)?this[s]:this.set(r,t)},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this.$d.getTime()},i.startOf=function(t,s){var r=this,o=!!Wt.u(s)||s,a=Wt.p(t),d=function(T,O){var j=Wt.w(r.$u?Date.UTC(r.$y,O,T):new Date(r.$y,O,T),r);return o?j:j.endOf(Gs)},c=function(T,O){return Wt.w(r.toDate()[T].apply(r.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(O)),r)},p=this.$W,u=this.$M,f=this.$D,v="set"+(this.$u?"UTC":"");switch(a){case Qs:return o?d(1,0):d(31,11);case yr:return o?d(1,u):d(0,u+1);case Qn:var g=this.$locale().weekStart||0,b=(p<g?p+7:p)-g;return d(o?f-b:f+(6-b),u);case Gs:case Da:return c(v+"Hours",0);case Ea:return c(v+"Minutes",1);case Gn:return c(v+"Seconds",2);case Ia:return c(v+"Milliseconds",3);default:return this.clone()}},i.endOf=function(t){return this.startOf(t,!1)},i.$set=function(t,s){var r,o=Wt.p(t),a="set"+(this.$u?"UTC":""),d=(r={},r[Gs]=a+"Date",r[Da]=a+"Date",r[yr]=a+"Month",r[Qs]=a+"FullYear",r[Ea]=a+"Hours",r[Gn]=a+"Minutes",r[Ia]=a+"Seconds",r[Rc]=a+"Milliseconds",r)[o],c=o===Gs?this.$D+(s-this.$W):s;if(o===yr||o===Qs){var p=this.clone().set(Da,1);p.$d[d](c),p.init(),this.$d=p.set(Da,Math.min(this.$D,p.daysInMonth())).$d}else d&&this.$d[d](c);return this.init(),this},i.set=function(t,s){return this.clone().$set(t,s)},i.get=function(t){return this[Wt.p(t)]()},i.add=function(t,s){var o,r=this;t=Number(t);var a=Wt.p(s),d=function(f){var v=Vi(r);return Wt.w(v.date(v.date()+Math.round(f*t)),r)};if(a===yr)return this.set(yr,this.$M+t);if(a===Qs)return this.set(Qs,this.$y+t);if(a===Gs)return d(1);if(a===Qn)return d(7);var c=(o={},o[Gn]=jc,o[Ea]=36e5,o[Ia]=1e3,o)[a]||1,p=this.$d.getTime()+t*c;return Wt.w(p,this)},i.subtract=function(t,s){return this.add(-1*t,s)},i.format=function(t){var s=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f_;var o=t||u_,a=Wt.z(this),d=this.$H,c=this.$m,p=this.$M,u=r.weekdays,f=r.months,g=function(j,Y,H,N){return j&&(j[Y]||j(s,o))||H[Y].slice(0,N)},b=function(j){return Wt.s(d%12||12,j,"0")},C=r.meridiem||function(O,j,Y){var H=O<12?"AM":"PM";return Y?H.toLowerCase():H};return o.replace(PT,function(O,j){return j||function(j){switch(j){case"YY":return String(s.$y).slice(-2);case"YYYY":return Wt.s(s.$y,4,"0");case"M":return p+1;case"MM":return Wt.s(p+1,2,"0");case"MMM":return g(r.monthsShort,p,f,3);case"MMMM":return g(f,p);case"D":return s.$D;case"DD":return Wt.s(s.$D,2,"0");case"d":return String(s.$W);case"dd":return g(r.weekdaysMin,s.$W,u,2);case"ddd":return g(r.weekdaysShort,s.$W,u,3);case"dddd":return u[s.$W];case"H":return String(d);case"HH":return Wt.s(d,2,"0");case"h":return b(1);case"hh":return b(2);case"a":return C(d,c,!0);case"A":return C(d,c,!1);case"m":return String(c);case"mm":return Wt.s(c,2,"0");case"s":return String(s.$s);case"ss":return Wt.s(s.$s,2,"0");case"SSS":return Wt.s(s.$ms,3,"0");case"Z":return a}return null}(O)||a.replace(":","")})},i.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},i.diff=function(t,s,r){var f,o=this,a=Wt.p(s),d=Vi(t),c=(d.utcOffset()-this.utcOffset())*jc,p=this-d,u=function(){return Wt.m(o,d)};switch(a){case Qs:f=u()/12;break;case yr:f=u();break;case p_:f=u()/3;break;case Qn:f=(p-c)/6048e5;break;case Gs:f=(p-c)/864e5;break;case Ea:f=p/36e5;break;case Gn:f=p/jc;break;case Ia:f=p/1e3;break;default:f=p}return r?f:Wt.a(f)},i.daysInMonth=function(){return this.endOf(yr).$D},i.$locale=function(){return Oo[this.$L]},i.locale=function(t,s){if(!t)return this.$L;var r=this.clone(),o=Yc(t,s,!0);return o&&(r.$L=o),r},i.clone=function(){return Wt.w(this.$d,this)},i.toDate=function(){return new Date(this.valueOf())},i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toISOString=function(){return this.$d.toISOString()},i.toString=function(){return this.$d.toUTCString()},h}(),v_=Fc.prototype;Vi.prototype=v_,[["$ms",Rc],["$s",Ia],["$m",Gn],["$H",Ea],["$W",Gs],["$M",yr],["$y",Qs],["$D",Da]].forEach(function(h){v_[h[1]]=function(i){return this.$g(i,h[0],h[1])}}),Vi.extend=function(h,i){return h.$i||(h(i,Fc,Vi),h.$i=!0),Vi},Vi.locale=Yc,Vi.isDayjs=Ym,Vi.unix=function(h){return Vi(1e3*h)},Vi.en=Oo[lh],Vi.Ls=Oo,Vi.p={};const vt=Vi;var g_=function(i){return i.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,s){return t||s.slice(1)})},y_={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},b_=function(i,e){return i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,s,r){var o=r&&r.toUpperCase();return s||e[r]||y_[r]||g_(e[o])})};const C_=function(h,i,e){var s=function(p){return p&&(p.indexOf?p:p.s)},r=function(p,u,f,v,g){var b=p.name?p:p.$locale(),C=s(b[u]),T=s(b[f]),O=C||T.map(function(Y){return Y.slice(0,v)});if(!g)return O;var j=b.weekStart;return O.map(function(Y,H){return O[(H+(j||0))%7]})},o=function(){return e.Ls[e.locale()]},a=function(p,u){return p.formats[u]||g_(p.formats[u.toUpperCase()])},d=function(){var p=this;return{months:function(f){return f?f.format("MMMM"):r(p,"months")},monthsShort:function(f){return f?f.format("MMM"):r(p,"monthsShort","months",3)},firstDayOfWeek:function(){return p.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):r(p,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):r(p,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):r(p,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return a(p.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.prototype.localeData=function(){return d.bind(this)()},e.localeData=function(){var c=o();return{firstDayOfWeek:function(){return c.weekStart||0},weekdays:function(){return e.weekdays()},weekdaysShort:function(){return e.weekdaysShort()},weekdaysMin:function(){return e.weekdaysMin()},months:function(){return e.months()},monthsShort:function(){return e.monthsShort()},longDateFormat:function(u){return a(c,u)},meridiem:c.meridiem,ordinal:c.ordinal}},e.months=function(){return r(o(),"months")},e.monthsShort=function(){return r(o(),"monthsShort","months",3)},e.weekdays=function(c){return r(o(),"weekdays",null,null,c)},e.weekdaysShort=function(c){return r(o(),"weekdaysShort","weekdays",3,c)},e.weekdaysMin=function(c){return r(o(),"weekdaysMin","weekdays",2,c)}};var HT=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,Hc=/\d\d/,Hr=/\d\d?/,hh=/\d*[^-_:/,()\s\d]+/,$n={},__=function(i){return(i=+i)+(i>68?1900:2e3)},Ls=function(i){return function(e){this[i]=+e}},w_=[/[+-]\d\d:?(\d\d)?|Z/,function(h){(this.zone||(this.zone={})).offset=function WT(h){if(!h||"Z"===h)return 0;var i=h.match(/([+-]|\d\d)/g),e=60*i[1]+(+i[2]||0);return 0===e?0:"+"===i[0]?-e:e}(h)}],Fm=function(i){var e=$n[i];return e&&(e.indexOf?e:e.s.concat(e.f))},S_=function(i,e){var t,r=$n.meridiem;if(r){for(var o=1;o<=24;o+=1)if(i.indexOf(r(o,0,e))>-1){t=o>12;break}}else t=i===(e?"pm":"PM");return t},ZT={A:[hh,function(h){this.afternoon=S_(h,!1)}],a:[hh,function(h){this.afternoon=S_(h,!0)}],S:[/\d/,function(h){this.milliseconds=100*+h}],SS:[Hc,function(h){this.milliseconds=10*+h}],SSS:[/\d{3}/,function(h){this.milliseconds=+h}],s:[Hr,Ls("seconds")],ss:[Hr,Ls("seconds")],m:[Hr,Ls("minutes")],mm:[Hr,Ls("minutes")],H:[Hr,Ls("hours")],h:[Hr,Ls("hours")],HH:[Hr,Ls("hours")],hh:[Hr,Ls("hours")],D:[Hr,Ls("day")],DD:[Hc,Ls("day")],Do:[hh,function(h){var e=$n.ordinal,t=h.match(/\d+/);if(this.day=t[0],e)for(var s=1;s<=31;s+=1)e(s).replace(/\[|\]/g,"")===h&&(this.day=s)}],M:[Hr,Ls("month")],MM:[Hc,Ls("month")],MMM:[hh,function(h){var i=Fm("months"),t=(Fm("monthsShort")||i.map(function(s){return s.slice(0,3)})).indexOf(h)+1;if(t<1)throw new Error;this.month=t%12||t}],MMMM:[hh,function(h){var e=Fm("months").indexOf(h)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,Ls("year")],YY:[Hc,function(h){this.year=__(h)}],YYYY:[/\d{4}/,Ls("year")],Z:w_,ZZ:w_},QT=/[+-]\d\d(?::?\d\d)?/g,$T=/([+-]|\d\d)/g;const tk=["pickerContainer"],ik=function(h){return{active:h}};function sk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"li")(1,"button",8),l.NdJ("click",function(s){const o=l.CHM(e).$implicit,a=l.oxw(2);return l.KtG(a.clickRange(s,o))}),l._uU(2),l.qZA()()}if(2&h){const e=i.$implicit,t=l.oxw(2);l.xp6(1),l.Q6J("disabled",t.disableRange(e))("ngClass",l.VKq(3,ik,e===t.chosenRange)),l.xp6(1),l.hij(" ",e," ")}}function rk(h,i){if(1&h&&(l.ynx(0),l.TgZ(1,"div",6)(2,"ul"),l.YNc(3,sk,3,5,"li",7),l.qZA()(),l.BQk()),2&h){const e=l.oxw();l.xp6(3),l.Q6J("ngForOf",e.rangesArray)}}function nk(h,i){1&h&&l._UZ(0,"th")}function ok(h,i){if(1&h){const e=l.EpF();l.ynx(0),l.TgZ(1,"th",19),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.clickPrev(s.sideEnum.left))}),l.qZA(),l.BQk()}}function ak(h,i){1&h&&(l.ynx(0),l._UZ(1,"th"),l.BQk())}function lk(h,i){if(1&h&&(l.TgZ(0,"option",25),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=l.oxw(4);l.Q6J("disabled",t.calendarVariables.left.dropdowns.inMinYear&&e<t.calendarVariables.left.minDate.month()||t.calendarVariables.left.dropdowns.inMaxYear&&e>t.calendarVariables.left.maxDate.month())("value",e)("selected",t.calendarVariables.left.dropdowns.currentMonth===e),l.xp6(1),l.hij(" ",t.locale.monthNames[e]," ")}}function hk(h,i){if(1&h&&(l.TgZ(0,"option",26),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=l.oxw(4);l.Q6J("selected",e===t.calendarVariables.left.dropdowns.currentYear),l.xp6(1),l.hij(" ",e," ")}}function dk(h,i){if(1&h){const e=l.EpF();l.ynx(0),l.TgZ(1,"div",20),l._uU(2),l.TgZ(3,"select",21),l.NdJ("change",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.monthChanged(s,r.sideEnum.left))}),l.YNc(4,lk,2,4,"option",22),l.qZA()(),l.TgZ(5,"div",20),l._uU(6),l.TgZ(7,"select",23),l.NdJ("change",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.yearChanged(s,r.sideEnum.left))}),l.YNc(8,hk,2,2,"option",24),l.qZA()(),l.BQk()}if(2&h){const e=l.oxw(3);l.xp6(2),l.hij(" ",e.locale.monthNames[null==e.calendarVariables||null==e.calendarVariables.left?null:e.calendarVariables.left.calendar[1][1].month()]," "),l.xp6(2),l.Q6J("ngForOf",e.calendarVariables.left.dropdowns.monthArrays),l.xp6(2),l.hij(" ",null==e.calendarVariables||null==e.calendarVariables.left?null:e.calendarVariables.left.calendar[1][1].format(" YYYY")," "),l.xp6(2),l.Q6J("ngForOf",e.calendarVariables.left.dropdowns.yearArrays)}}function ck(h,i){if(1&h&&(l.ynx(0),l._uU(1),l.BQk()),2&h){const e=l.oxw(3);l.xp6(1),l.AsE(" ",e.locale.monthNames[null==e.calendarVariables||null==e.calendarVariables.left?null:e.calendarVariables.left.calendar[1][1].month()]," ",null==e.calendarVariables||null==e.calendarVariables.left?null:e.calendarVariables.left.calendar[1][1].format(" YYYY")," ")}}function pk(h,i){if(1&h){const e=l.EpF();l.ynx(0),l.TgZ(1,"th",27),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.clickNext(s.sideEnum.left))}),l.qZA(),l.BQk()}}function uk(h,i){1&h&&(l.ynx(0),l._UZ(1,"th"),l.BQk())}function fk(h,i){if(1&h&&(l.TgZ(0,"th",28)(1,"span"),l._uU(2),l.qZA()()),2&h){const e=l.oxw(3);l.xp6(2),l.Oqu(e.locale.weekLabel)}}function mk(h,i){if(1&h&&(l.TgZ(0,"th")(1,"span"),l._uU(2),l.qZA()()),2&h){const e=i.$implicit;l.xp6(2),l.Oqu(e)}}function vk(h,i){if(1&h&&(l.TgZ(0,"td",28)(1,"span"),l._uU(2),l.qZA()()),2&h){const e=l.oxw().$implicit,t=l.oxw(3);l.xp6(2),l.Oqu(t.calendarVariables.left.calendar[e][0].week())}}function gk(h,i){if(1&h&&(l.TgZ(0,"td",28)(1,"span"),l._uU(2),l.qZA()()),2&h){const e=l.oxw().$implicit,t=l.oxw(3);l.xp6(2),l.Oqu(t.calendarVariables.left.calendar[e][0].isoWeek())}}function yk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(s){const o=l.CHM(e).$implicit,a=l.oxw().$implicit,d=l.oxw(3);return l.KtG(d.clickDate(s,d.sideEnum.left,a,o))})("mouseenter",function(s){const o=l.CHM(e).$implicit,a=l.oxw().$implicit,d=l.oxw(3);return l.KtG(d.hoverDate(s,d.sideEnum.left,a,o))}),l.TgZ(1,"span"),l._uU(2),l.qZA()()}if(2&h){const e=i.$implicit,t=l.oxw().$implicit,s=l.oxw(3);l.Tol(s.calendarVariables.left.classes[t][e]),l.xp6(2),l.Oqu(s.calendarVariables.left.calendar[t][e].date())}}function bk(h,i){if(1&h&&(l.TgZ(0,"tr"),l.YNc(1,vk,3,1,"td",16),l.YNc(2,gk,3,1,"td",16),l.YNc(3,yk,3,3,"td",29),l.qZA()),2&h){const e=i.$implicit,t=l.oxw(3);l.Tol(t.calendarVariables.left.classes[e].classList),l.xp6(1),l.Q6J("ngIf",t.showWeekNumbers),l.xp6(1),l.Q6J("ngIf",t.showISOWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.calendarVariables.left.calCols)}}function Ck(h,i){if(1&h&&(l.TgZ(0,"table",13)(1,"thead")(2,"tr"),l.YNc(3,nk,1,0,"th",2),l.YNc(4,ok,2,0,"ng-container",2),l.YNc(5,ak,2,0,"ng-container",2),l.TgZ(6,"th",14),l.YNc(7,dk,9,4,"ng-container",2),l.YNc(8,ck,2,2,"ng-container",2),l.qZA(),l.YNc(9,pk,2,0,"ng-container",2),l.YNc(10,uk,2,0,"ng-container",2),l.qZA(),l.TgZ(11,"tr",15),l.YNc(12,fk,3,1,"th",16),l.YNc(13,mk,3,1,"th",7),l.qZA()(),l.TgZ(14,"tbody",17),l.YNc(15,bk,4,5,"tr",18),l.qZA()()),2&h){const e=l.oxw(2);l.xp6(3),l.Q6J("ngIf",e.showWeekNumbers||e.showISOWeekNumbers),l.xp6(1),l.Q6J("ngIf",!e.calendarVariables.left.minDate||e.calendarVariables.left.minDate.isBefore(e.calendarVariables.left.calendar.firstDay)&&(!e.linkedCalendars||!0)),l.xp6(1),l.Q6J("ngIf",!(!e.calendarVariables.left.minDate||e.calendarVariables.left.minDate.isBefore(e.calendarVariables.left.calendar.firstDay))),l.xp6(2),l.Q6J("ngIf",e.showDropdowns&&e.calendarVariables.left.dropdowns),l.xp6(1),l.Q6J("ngIf",!e.showDropdowns||!e.calendarVariables.left.dropdowns),l.xp6(1),l.Q6J("ngIf",(!e.calendarVariables.left.maxDate||e.calendarVariables.left.maxDate.isAfter(e.calendarVariables.left.calendar.lastDay))&&(!e.linkedCalendars||e.singleDatePicker)),l.xp6(1),l.Q6J("ngIf",!((!e.calendarVariables.left.maxDate||e.calendarVariables.left.maxDate.isAfter(e.calendarVariables.left.calendar.lastDay))&&(!e.linkedCalendars||e.singleDatePicker))),l.xp6(2),l.Q6J("ngIf",e.showWeekNumbers||e.showISOWeekNumbers),l.xp6(1),l.Q6J("ngForOf",e.locale.daysOfWeek),l.xp6(2),l.Q6J("ngForOf",e.calendarVariables.left.calRows)}}function _k(h,i){if(1&h&&(l.TgZ(0,"option",40),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=l.oxw(3);l.Q6J("value",e)("disabled",t.timepickerVariables.left.disabledHours.indexOf(e)>-1),l.xp6(1),l.hij(" ",e," ")}}function wk(h,i){if(1&h&&(l.TgZ(0,"option",40),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=i.index,s=l.oxw(3);l.Q6J("value",e)("disabled",s.timepickerVariables.left.disabledMinutes.indexOf(e)>-1),l.xp6(1),l.hij(" ",s.timepickerVariables.left.minutesLabel[t]," ")}}function Sk(h,i){if(1&h&&(l.TgZ(0,"option",40),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=i.index,s=l.oxw(4);l.Q6J("value",e)("disabled",s.timepickerVariables.left.disabledSeconds.indexOf(e)>-1),l.xp6(1),l.hij(" ",s.timepickerVariables.left.secondsLabel[t]," ")}}function xk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"select",41),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.timepickerVariables.left.selectedSecond=s)})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.timeChanged(s,r.sideEnum.left))}),l.YNc(1,Sk,2,3,"option",34),l.qZA()}if(2&h){const e=l.oxw(3);l.Q6J("disabled",!e.startDate)("ngModel",e.timepickerVariables.left.selectedSecond),l.xp6(1),l.Q6J("ngForOf",e.timepickerVariables.left.seconds)}}function Pk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"select",42),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.timepickerVariables.left.ampmModel=s)})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.timeChanged(s,r.sideEnum.left))}),l.TgZ(1,"option",43),l._uU(2,"AM"),l.qZA(),l.TgZ(3,"option",44),l._uU(4,"PM"),l.qZA()()}if(2&h){const e=l.oxw(3);l.Q6J("ngModel",e.timepickerVariables.left.ampmModel),l.xp6(1),l.Q6J("disabled",e.timepickerVariables.left.amDisabled),l.xp6(2),l.Q6J("disabled",e.timepickerVariables.left.pmDisabled)}}function Tk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",31)(1,"div",32)(2,"select",33),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.timepickerVariables.left.selectedHour=s)})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.timeChanged(s,r.sideEnum.left))}),l.YNc(3,_k,2,3,"option",34),l.qZA()(),l.TgZ(4,"div",32)(5,"select",35),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.timepickerVariables.left.selectedMinute=s)})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.timeChanged(s,r.sideEnum.left))}),l.YNc(6,wk,2,3,"option",34),l.qZA(),l._UZ(7,"span",36)(8,"span",37),l.qZA(),l.TgZ(9,"div",32),l.YNc(10,xk,2,3,"select",38),l._UZ(11,"span",36)(12,"span",37),l.qZA(),l.TgZ(13,"div",32),l.YNc(14,Pk,5,3,"select",39),l._UZ(15,"span",36)(16,"span",37),l.qZA()()}if(2&h){const e=l.oxw(2);l.xp6(2),l.Q6J("disabled",!e.startDate)("ngModel",e.timepickerVariables.left.selectedHour),l.xp6(1),l.Q6J("ngForOf",e.timepickerVariables.left.hours),l.xp6(2),l.Q6J("disabled",!e.startDate)("ngModel",e.timepickerVariables.left.selectedMinute),l.xp6(1),l.Q6J("ngForOf",e.timepickerVariables.left.minutes),l.xp6(4),l.Q6J("ngIf",e.timePickerSeconds),l.xp6(4),l.Q6J("ngIf",!e.timePicker24Hour)}}const kk=function(h,i){return{right:h,left:i}};function Lk(h,i){if(1&h&&(l.TgZ(0,"div",9)(1,"div",10),l.YNc(2,Ck,16,10,"table",11),l.qZA(),l.YNc(3,Tk,17,8,"div",12),l.qZA()),2&h){const e=l.oxw();l.Q6J("ngClass",l.WLB(3,kk,e.singleDatePicker,!e.singleDatePicker)),l.xp6(2),l.Q6J("ngIf",e.calendarVariables),l.xp6(1),l.Q6J("ngIf",e.timePicker)}}function Ok(h,i){1&h&&l._UZ(0,"th")}function Mk(h,i){if(1&h){const e=l.EpF();l.ynx(0),l.TgZ(1,"th",19),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.clickPrev(s.sideEnum.right))}),l.qZA(),l.BQk()}}function Ak(h,i){1&h&&(l.ynx(0),l._UZ(1,"th"),l.BQk())}function Ik(h,i){if(1&h&&(l.TgZ(0,"option",25),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=l.oxw(4);l.Q6J("disabled",t.calendarVariables.right.dropdowns.inMinYear&&t.calendarVariables.right.minDate&&e<t.calendarVariables.right.minDate.month()||t.calendarVariables.right.dropdowns.inMaxYear&&t.calendarVariables.right.maxDate&&e>t.calendarVariables.right.maxDate.month())("value",e)("selected",t.calendarVariables.right.dropdowns.currentMonth===e),l.xp6(1),l.hij(" ",t.locale.monthNames[e]," ")}}function Ek(h,i){if(1&h&&(l.TgZ(0,"option",26),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=l.oxw(4);l.Q6J("selected",e===t.calendarVariables.right.dropdowns.currentYear),l.xp6(1),l.hij(" ",e," ")}}function Dk(h,i){if(1&h){const e=l.EpF();l.ynx(0),l.TgZ(1,"div",20),l._uU(2),l.TgZ(3,"select",21),l.NdJ("change",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.monthChanged(s,r.sideEnum.right))}),l.YNc(4,Ik,2,4,"option",22),l.qZA()(),l.TgZ(5,"div",20),l._uU(6),l.TgZ(7,"select",23),l.NdJ("change",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.yearChanged(s,r.sideEnum.right))}),l.YNc(8,Ek,2,2,"option",24),l.qZA()(),l.BQk()}if(2&h){const e=l.oxw(3);l.xp6(2),l.hij(" ",e.locale.monthNames[null==e.calendarVariables||null==e.calendarVariables.right?null:e.calendarVariables.right.calendar[1][1].month()]," "),l.xp6(2),l.Q6J("ngForOf",e.calendarVariables.right.dropdowns.monthArrays),l.xp6(2),l.hij(" ",null==e.calendarVariables||null==e.calendarVariables.right?null:e.calendarVariables.right.calendar[1][1].format(" YYYY")," "),l.xp6(2),l.Q6J("ngForOf",e.calendarVariables.right.dropdowns.yearArrays)}}function jk(h,i){if(1&h&&(l.ynx(0),l._uU(1),l.BQk()),2&h){const e=l.oxw(3);l.xp6(1),l.AsE(" ",e.locale.monthNames[null==e.calendarVariables||null==e.calendarVariables.right?null:e.calendarVariables.right.calendar[1][1].month()]," ",null==e.calendarVariables||null==e.calendarVariables.right?null:e.calendarVariables.right.calendar[1][1].format(" YYYY")," ")}}function Rk(h,i){if(1&h){const e=l.EpF();l.ynx(0),l.TgZ(1,"th",27),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.clickNext(s.sideEnum.right))}),l.qZA(),l.BQk()}}function Yk(h,i){1&h&&(l.ynx(0),l._UZ(1,"th"),l.BQk())}function Fk(h,i){if(1&h&&(l.TgZ(0,"th",28)(1,"span"),l._uU(2),l.qZA()()),2&h){const e=l.oxw(3);l.xp6(2),l.Oqu(e.locale.weekLabel)}}function Hk(h,i){if(1&h&&(l.TgZ(0,"th")(1,"span"),l._uU(2),l.qZA()()),2&h){const e=i.$implicit;l.xp6(2),l.Oqu(e)}}function Nk(h,i){if(1&h&&(l.TgZ(0,"td",28)(1,"span"),l._uU(2),l.qZA()()),2&h){const e=l.oxw().$implicit,t=l.oxw(3);l.xp6(2),l.Oqu(t.calendarVariables.right.calendar[e][0].week())}}function Bk(h,i){if(1&h&&(l.TgZ(0,"td",28)(1,"span"),l._uU(2),l.qZA()()),2&h){const e=l.oxw().$implicit,t=l.oxw(3);l.xp6(2),l.Oqu(t.calendarVariables.right.calendar[e][0].isoWeek())}}function zk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"td",30),l.NdJ("click",function(s){const o=l.CHM(e).$implicit,a=l.oxw().$implicit,d=l.oxw(3);return l.KtG(d.clickDate(s,d.sideEnum.right,a,o))})("mouseenter",function(s){const o=l.CHM(e).$implicit,a=l.oxw().$implicit,d=l.oxw(3);return l.KtG(d.hoverDate(s,d.sideEnum.right,a,o))}),l.TgZ(1,"span"),l._uU(2),l.qZA()()}if(2&h){const e=i.$implicit,t=l.oxw().$implicit,s=l.oxw(3);l.Tol(s.calendarVariables.right.classes[t][e]),l.xp6(2),l.Oqu(s.calendarVariables.right.calendar[t][e].date())}}function Vk(h,i){if(1&h&&(l.TgZ(0,"tr"),l.YNc(1,Nk,3,1,"td",16),l.YNc(2,Bk,3,1,"td",16),l.YNc(3,zk,3,3,"td",29),l.qZA()),2&h){const e=i.$implicit,t=l.oxw(3);l.Tol(t.calendarVariables.right.classes[e].classList),l.xp6(1),l.Q6J("ngIf",t.showWeekNumbers),l.xp6(1),l.Q6J("ngIf",t.showISOWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.calendarVariables.right.calCols)}}function qk(h,i){if(1&h&&(l.TgZ(0,"table",13)(1,"thead")(2,"tr"),l.YNc(3,Ok,1,0,"th",2),l.YNc(4,Mk,2,0,"ng-container",2),l.YNc(5,Ak,2,0,"ng-container",2),l.TgZ(6,"th",46),l.YNc(7,Dk,9,4,"ng-container",2),l.YNc(8,jk,2,2,"ng-container",2),l.qZA(),l.YNc(9,Rk,2,0,"ng-container",2),l.YNc(10,Yk,2,0,"ng-container",2),l.qZA(),l.TgZ(11,"tr",15),l.YNc(12,Fk,3,1,"th",16),l.YNc(13,Hk,3,1,"th",7),l.qZA()(),l.TgZ(14,"tbody"),l.YNc(15,Vk,4,5,"tr",18),l.qZA()()),2&h){const e=l.oxw(2);l.xp6(3),l.Q6J("ngIf",e.showWeekNumbers||e.showISOWeekNumbers),l.xp6(1),l.Q6J("ngIf",(!e.calendarVariables.right.minDate||e.calendarVariables.right.minDate.isBefore(e.calendarVariables.right.calendar.firstDay))&&!e.linkedCalendars),l.xp6(1),l.Q6J("ngIf",!((!e.calendarVariables.right.minDate||e.calendarVariables.right.minDate.isBefore(e.calendarVariables.right.calendar.firstDay))&&!e.linkedCalendars)),l.xp6(2),l.Q6J("ngIf",e.showDropdowns&&e.calendarVariables.right.dropdowns),l.xp6(1),l.Q6J("ngIf",!e.showDropdowns||!e.calendarVariables.right.dropdowns),l.xp6(1),l.Q6J("ngIf",!e.calendarVariables.right.maxDate||e.calendarVariables.right.maxDate.isAfter(e.calendarVariables.right.calendar.lastDay)&&(!e.linkedCalendars||e.singleDatePicker||!0)),l.xp6(1),l.Q6J("ngIf",!(!e.calendarVariables.right.maxDate||e.calendarVariables.right.maxDate.isAfter(e.calendarVariables.right.calendar.lastDay))),l.xp6(2),l.Q6J("ngIf",e.showWeekNumbers||e.showISOWeekNumbers),l.xp6(1),l.Q6J("ngForOf",e.locale.daysOfWeek),l.xp6(2),l.Q6J("ngForOf",e.calendarVariables.right.calRows)}}function Wk(h,i){if(1&h&&(l.TgZ(0,"option",40),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=l.oxw(3);l.Q6J("value",e)("disabled",t.timepickerVariables.right.disabledHours.indexOf(e)>-1),l.xp6(1),l.hij(" ",e," ")}}function Zk(h,i){if(1&h&&(l.TgZ(0,"option",40),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=i.index,s=l.oxw(3);l.Q6J("value",e)("disabled",s.timepickerVariables.right.disabledMinutes.indexOf(e)>-1),l.xp6(1),l.hij(" ",s.timepickerVariables.right.minutesLabel[t]," ")}}function Uk(h,i){if(1&h&&(l.TgZ(0,"option",40),l._uU(1),l.qZA()),2&h){const e=i.$implicit,t=i.index,s=l.oxw(4);l.Q6J("value",e)("disabled",s.timepickerVariables.right.disabledSeconds.indexOf(e)>-1),l.xp6(1),l.hij(" ",s.timepickerVariables.right.secondsLabel[t]," ")}}function Xk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"select",41),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.timepickerVariables.right.selectedSecond=s)})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.timeChanged(s,r.sideEnum.right))}),l.YNc(1,Uk,2,3,"option",34),l.qZA()}if(2&h){const e=l.oxw(3);l.Q6J("disabled",!e.startDate)("ngModel",e.timepickerVariables.right.selectedSecond),l.xp6(1),l.Q6J("ngForOf",e.timepickerVariables.right.seconds)}}function Jk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"select",42),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.timepickerVariables.right.ampmModel=s)})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.timeChanged(s,r.sideEnum.right))}),l.TgZ(1,"option",43),l._uU(2,"AM"),l.qZA(),l.TgZ(3,"option",44),l._uU(4,"PM"),l.qZA()()}if(2&h){const e=l.oxw(3);l.Q6J("ngModel",e.timepickerVariables.right.ampmModel),l.xp6(1),l.Q6J("disabled",e.timepickerVariables.right.amDisabled),l.xp6(2),l.Q6J("disabled",e.timepickerVariables.right.pmDisabled)}}function Gk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",31)(1,"div",32)(2,"select",47),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.timepickerVariables.right.selectedHour=s)})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.timeChanged(s,r.sideEnum.right))}),l.YNc(3,Wk,2,3,"option",34),l.qZA(),l._UZ(4,"span",36)(5,"span",37),l.qZA(),l.TgZ(6,"div",32)(7,"select",35),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.timepickerVariables.right.selectedMinute=s)})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.timeChanged(s,r.sideEnum.right))}),l.YNc(8,Zk,2,3,"option",34),l.qZA(),l._UZ(9,"span",36)(10,"span",37),l.qZA(),l.TgZ(11,"div",32),l.YNc(12,Xk,2,3,"select",38),l._UZ(13,"span",36)(14,"span",37),l.qZA(),l.TgZ(15,"div",32),l.YNc(16,Jk,5,3,"select",39),l._UZ(17,"span",36)(18,"span",37),l.qZA()()}if(2&h){const e=l.oxw(2);l.xp6(2),l.Q6J("disabled",!e.startDate)("ngModel",e.timepickerVariables.right.selectedHour),l.xp6(1),l.Q6J("ngForOf",e.timepickerVariables.right.hours),l.xp6(4),l.Q6J("disabled",!e.startDate)("ngModel",e.timepickerVariables.right.selectedMinute),l.xp6(1),l.Q6J("ngForOf",e.timepickerVariables.right.minutes),l.xp6(4),l.Q6J("ngIf",e.timePickerSeconds),l.xp6(4),l.Q6J("ngIf",!e.timePicker24Hour)}}function Qk(h,i){if(1&h&&(l.TgZ(0,"div",45)(1,"div",10),l.YNc(2,qk,16,10,"table",11),l.qZA(),l.YNc(3,Gk,19,8,"div",12),l.qZA()),2&h){const e=l.oxw();l.xp6(2),l.Q6J("ngIf",e.calendarVariables),l.xp6(1),l.Q6J("ngIf",e.timePicker)}}function $k(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"button",53),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(2);return l.KtG(s.clear())}),l._uU(1),l.O4$(),l.TgZ(2,"svg",54),l._UZ(3,"path",55),l.qZA()()}if(2&h){const e=l.oxw(2);l.Q6J("title",e.locale.clearLabel),l.xp6(1),l.hij(" ",e.locale.clearLabel," ")}}function Kk(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"button",56),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.clickCancel(s))}),l._uU(1),l.qZA()}if(2&h){const e=l.oxw(2);l.xp6(1),l.Oqu(e.locale.cancelLabel)}}function e1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",48)(1,"div",49),l.YNc(2,$k,4,2,"button",50),l.YNc(3,Kk,2,1,"button",51),l.TgZ(4,"button",52),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw();return l.KtG(r.clickApply(s))}),l._uU(5),l.qZA()()()}if(2&h){const e=l.oxw();l.xp6(2),l.Q6J("ngIf",e.showClearButton),l.xp6(1),l.Q6J("ngIf",e.showCancel),l.xp6(1),l.Q6J("disabled",e.applyBtn.disabled),l.xp6(1),l.Oqu(e.locale.applyLabel)}}const t1=function(h,i,e,t,s,r,o){return{ltr:h,rtl:i,shown:e,hidden:t,inline:s,double:r,"show-ranges":o}};vt.extend(C_);const Hm=new l.OlP("daterangepicker.config"),Nc={direction:"ltr",separator:" - ",weekLabel:"W",applyLabel:"Apply",cancelLabel:"Cancel",clearLabel:"Clear",customRangeLabel:"Custom range",daysOfWeek:vt.weekdaysMin(),monthNames:vt.monthsShort(),firstDay:vt.localeData().firstDayOfWeek()};let Bc=(()=>{class h{constructor(e){this.configHolder=e}get config(){return this.configHolder?{...Nc,...this.configHolder}:Nc}configWithLocale(e){return this.configHolder||e?{...Nc,daysOfWeek:e.weekdaysMin,monthNames:e.monthsShort,firstDay:e.weekStart,...this.configHolder}:Nc}}return h.\u0275fac=function(e){return new(e||h)(l.LFG(Hm))},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac}),h})();vt.extend(C_),vt.extend(function(h,i,e){var t=i.prototype,s=t.format;e.en.formats=y_,t.format=function(r){void 0===r&&(r=u_);var a=this.$locale().formats,c=b_(r,void 0===a?{}:a);return s.call(this,c)}}),vt.extend(function(h,i,e){var s=function(d){return d.add(4-d.isoWeekday(),Gs)},r=i.prototype;r.isoWeekYear=function(){return s(this).year()},r.isoWeek=function(a){if(!this.$utils().u(a))return this.add(7*(a-this.isoWeek()),Gs);var d=s(this),c=function(d,c){var p=(c?e.utc:e)().year(d).startOf(Qs),u=4-p.isoWeekday();return p.isoWeekday()>4&&(u+=7),p.add(u,Gs)}(this.isoWeekYear(),this.$u);return d.diff(c,Qn)+1},r.isoWeekday=function(a){return this.$utils().u(a)?this.day()||7:this.day(this.day()%7?a:a-7)};var o=r.startOf;r.startOf=function(a,d){var c=this.$utils(),p=!!c.u(d)||d;return"isoweek"===c.p(a)?p?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):o.bind(this)(a,d)}}),vt.extend(function(h,i,e){var t=i.prototype;t.week=function(s){if(void 0===s&&(s=null),null!==s)return this.add(7*(s-this.week()),Gs);var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=e(this).startOf(Qs).add(1,Qs).date(r),a=e(this).endOf(Qn);if(o.isBefore(a))return 1}var c=e(this).startOf(Qs).date(r).startOf(Qn).subtract(1,Rc),p=this.diff(c,Qn,!0);return p<0?e(this).startOf("week").week():Math.ceil(p)},t.weeks=function(s){return void 0===s&&(s=null),this.week(s)}}),vt.extend(function(h,i,e){e.p.customParseFormat=!0,h&&h.parseTwoDigitYear&&(__=h.parseTwoDigitYear);var t=i.prototype,s=t.parse;t.parse=function(r){var o=r.date,a=r.utc,d=r.args;this.$u=a;var c=d[1];if("string"==typeof c){var p=!0===d[2],u=!0===d[3],f=p||u,v=d[2];u&&(v=d[2]),$n=this.$locale(),!p&&v&&($n=e.Ls[v]),this.$d=function(i,e,t){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*i);var s=function XT(h){for(var i=(h=b_(h,$n&&$n.formats)).match(HT),e=i.length,t=0;t<e;t+=1){var s=i[t],r=ZT[s],a=r&&r[1];i[t]=a?{regex:r&&r[0],parser:a}:s.replace(/^\[|\]$/g,"")}return function(d){for(var c={},p=0,u=0;p<e;p+=1){var f=i[p];if("string"==typeof f)u+=f.length;else{var v=f.regex,g=f.parser,b=d.slice(u),T=v.exec(b)[0];g.call(c,T),d=d.replace(T,"")}}return function UT(h){var i=h.afternoon;if(void 0!==i){var e=h.hours;i?e<12&&(h.hours+=12):12===e&&(h.hours=0),delete h.afternoon}}(c),c}}(e),r=s(i),o=r.year,a=r.month,d=r.day,c=r.hours,p=r.minutes,u=r.seconds,f=r.milliseconds,v=r.zone,g=new Date,b=d||(o||a?1:g.getDate()),C=o||g.getFullYear(),T=0;o&&!a||(T=a>0?a-1:g.getMonth());var O=c||0,j=p||0,Y=u||0,H=f||0;return v?new Date(Date.UTC(C,T,b,O,j,Y,H+60*v.offset*1e3)):t?new Date(Date.UTC(C,T,b,O,j,Y,H)):new Date(C,T,b,O,j,Y,H)}catch{return new Date("")}}(o,c,a),this.init(),v&&!0!==v&&(this.$L=this.locale(v).$L),f&&o!=this.format(c)&&(this.$d=new Date("")),$n={}}else if(c instanceof Array)for(var g=c.length,b=1;b<=g;b+=1){d[1]=c[b-1];var C=e.apply(this,d);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}b===g&&(this.$d=new Date(""))}else s.call(this,r)}}),vt.extend(function(h,i,e){var t=i.prototype;e.utc=function(u){return new i({date:u,utc:!0,args:arguments})},t.utc=function(u){var f=e(this.toDate(),{locale:this.$L,utc:!0});return u?f.add(this.utcOffset(),Gn):f},t.local=function(){return e(this.toDate(),{locale:this.$L,utc:!1})};var s=t.parse;t.parse=function(u){u.utc&&(this.$u=!0),this.$utils().u(u.$offset)||(this.$offset=u.$offset),s.call(this,u)};var r=t.init;t.init=function(){if(this.$u){var u=this.$d;this.$y=u.getUTCFullYear(),this.$M=u.getUTCMonth(),this.$D=u.getUTCDate(),this.$W=u.getUTCDay(),this.$H=u.getUTCHours(),this.$m=u.getUTCMinutes(),this.$s=u.getUTCSeconds(),this.$ms=u.getUTCMilliseconds()}else r.call(this)};var o=t.utcOffset;t.utcOffset=function(u,f){var g=this.$utils().u;if(g(u))return this.$u?0:g(this.$offset)?o.call(this):this.$offset;if("string"==typeof u&&(u=function KT(h){void 0===h&&(h="");var i=h.match(QT);if(!i)return null;var e=(""+i[0]).match($T)||["-",0,0],o=60*+e[1]+ +e[2];return 0===o?0:"+"===e[0]?o:-o}(u),null===u))return this;var b=Math.abs(u)<=16?60*u:u,C=this;if(f)return C.$offset=b,C.$u=0===u,C;if(0!==u){var T=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(C=this.local().add(b+T,Gn)).$offset=b,C.$x.$localOffset=T}else C=this.utc();return C};var a=t.format;t.format=function(u){return a.call(this,u||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},t.valueOf=function(){var u=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-u*jc},t.isUTC=function(){return!!this.$u},t.toISOString=function(){return this.toDate().toISOString()},t.toString=function(){return this.toDate().toUTCString()};var c=t.toDate;t.toDate=function(u){return"s"===u&&this.$offset?e(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var p=t.diff;t.diff=function(u,f,v){if(u&&this.$u===u.$u)return p.call(this,u,f,v);var g=this.local(),b=e(u).local();return p.call(g,b,f,v)}});var Mt=function(h){return h.left="left",h.right="right",h}(Mt||{});let s1=(()=>{class h{constructor(e,t,s){this.el=e,this.ref=t,this.localeHolderService=s,this.startDate=vt().utc(!0).startOf("day"),this.endDate=vt().utc(!0).endOf("day"),this.dateLimit=null,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.linkedCalendars=!1,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.maxSpan=!1,this.lockStartDate=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.showClearButton=!1,this.firstMonthDayClass=null,this.lastMonthDayClass=null,this.emptyWeekRowClass=null,this.emptyWeekColumnClass=null,this.firstDayOfNextMonthClass=null,this.lastDayOfPreviousMonthClass=null,this.showCancel=!1,this.keepCalendarOpeningWithRange=!1,this.showRangeLabelOnInput=!1,this.customRangeDirection=!1,this.closeOnAutoApply=!0,this.calendarVariables={},this.timepickerVariables={},this.daterangepicker={start:new Be.NI,end:new Be.NI},this.applyBtn={disabled:!1},this.sideEnum=Mt,this.rangesArray=[],this.isShown=!1,this.inline=!0,this.leftCalendar={month:null,calendar:[]},this.rightCalendar={month:null,calendar:[]},this.showCalInRanges=!1,this.nowHoveredDate=null,this.pickingDate=!1,this.localeHolder={},this.rangesHolder={},this.cachedVersion={start:null,end:null},this.clickNext=r=>{r===Mt.left?this.leftCalendar.month=this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month=this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&(this.leftCalendar.month=this.leftCalendar.month.add(1,"month"))),this.updateCalendars()},this.choosedDate=new l.vpe,this.rangeClicked=new l.vpe,this.datesUpdated=new l.vpe,this.startDateChanged=new l.vpe,this.endDateChanged=new l.vpe,this.cancelClicked=new l.vpe,this.clearClicked=new l.vpe}get minDate(){return this.minDateHolder}set minDate(e){this.minDateHolder=vt.isDayjs(e)?e:"string"==typeof e?vt(e).utc(!0):null}get locale(){return this.localeHolder}set locale(e){this.localeHolder={...this.localeHolderService.config,...e},e.locale&&(this.localeHolder=this.localeHolderService.configWithLocale(e.locale))}get ranges(){return this.rangesHolder}set ranges(e){this.rangesHolder=e,this.renderRanges()}get maxDate(){return this.maxDateHolder}set maxDate(e){this.maxDateHolder=vt.isDayjs(e)?e:"string"==typeof e?vt(e).utc(!0):null}isInvalidDate(e){return!1}isCustomDate(e){return!1}isTooltipDate(e){return null}handleInternalClick(e){return e.stopPropagation()}ngOnChanges(e){(e.startDate||e.endDate)&&this.inline&&this.updateView()}ngOnInit(){this.buildLocale();const e=[...this.locale.daysOfWeek];if(this.locale.firstDay=this.locale.firstDay%7,0!==this.locale.firstDay){let t=this.locale.firstDay;for(;t>0;)e.push(e.shift()),t--}this.locale.daysOfWeek=e,this.inline&&(this.cachedVersion.start=this.startDate.clone(),this.cachedVersion.end=this.endDate.clone()),this.startDate&&this.timePicker&&(this.setStartDate(this.startDate),this.renderTimePicker(Mt.left)),this.endDate&&this.timePicker&&(this.setEndDate(this.endDate),this.renderTimePicker(Mt.right)),this.updateMonthsInView(),this.renderCalendar(Mt.left),this.renderCalendar(Mt.right),this.renderRanges()}renderRanges(){let e,t;if(this.rangesArray=[],"object"==typeof this.ranges){for(const s in this.ranges)if(this.ranges[s]){e="string"==typeof this.ranges[s][0]?vt(this.ranges[s][0],this.locale.format).utc(!0):vt(this.ranges[s][0]).utc(!0),t="string"==typeof this.ranges[s][1]?vt(this.ranges[s][1],this.locale.format).utc(!0):vt(this.ranges[s][1]).utc(!0),this.minDate&&e.isBefore(this.minDate)&&(e=this.minDate.clone());let r=this.maxDate;if(this.maxSpan&&r&&e.clone().add(this.maxSpan).isAfter(r)&&(r=e.clone().add(this.maxSpan)),r&&t.isAfter(r)&&(t=r.clone()),this.minDate&&t.isBefore(this.minDate,this.timePicker?"minute":"day")||r&&e.isAfter(r,this.timePicker?"minute":"day"))continue;const o=document.createElement("textarea");o.innerHTML=s,this.ranges[o.value]=[e,t]}for(const s in this.ranges)this.ranges[s]&&this.rangesArray.push(s);this.showCustomRangeLabel&&this.rangesArray.push(this.locale.customRangeLabel),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"))}}renderTimePicker(e){let t,s;const r=this.maxDate;e===Mt.left?(t=this.startDate.clone(),s=this.minDate):e===Mt.right&&this.endDate?(t=this.endDate.clone(),s=this.startDate):e===Mt.right&&!this.endDate&&(t=this.getDateWithTime(this.startDate,Mt.right),t.isBefore(this.startDate)&&(t=this.startDate.clone()),s=this.startDate);const o=this.timePicker24Hour?0:1,a=this.timePicker24Hour?23:12;this.timepickerVariables[e]={hours:[],minutes:[],minutesLabel:[],seconds:[],secondsLabel:[],disabledHours:[],disabledMinutes:[],disabledSeconds:[],selectedHour:0,selectedMinute:0,selectedSecond:0,selected:t};for(let d=o;d<=a;d++){let c=d;this.timePicker24Hour||(c=t.hour()>=12?12===d?12:d+12:12===d?0:d);const p=t.clone().hour(c);let u=!1;s&&p.minute(59).isBefore(s)&&(u=!0),r&&p.minute(0).isAfter(r)&&(u=!0),this.timepickerVariables[e].hours.push(d),c!==t.hour()||u?u&&this.timepickerVariables[e].disabledHours.push(d):this.timepickerVariables[e].selectedHour=d}for(let d=0;d<60;d+=this.timePickerIncrement){const c=d<10?`0${d}`:`${d}`,p=t.clone().minute(d);let u=!1;s&&p.second(59).isBefore(s)&&(u=!0),r&&p.second(0).isAfter(r)&&(u=!0),this.timepickerVariables[e].minutes.push(d),this.timepickerVariables[e].minutesLabel.push(c),t.minute()!==d||u?u&&this.timepickerVariables[e].disabledMinutes.push(d):this.timepickerVariables[e].selectedMinute=d}if(this.timePickerSeconds)for(let d=0;d<60;d++){const c=d<10?`0${d}`:`${d}`,p=t.clone().second(d);let u=!1;s&&p.isBefore(s)&&(u=!0),r&&p.isAfter(r)&&(u=!0),this.timepickerVariables[e].seconds.push(d),this.timepickerVariables[e].secondsLabel.push(c),t.second()!==d||u?u&&this.timepickerVariables[e].disabledSeconds.push(d):this.timepickerVariables[e].selectedSecond=d}this.timePicker24Hour||(s&&t.clone().hour(12).minute(0).second(0).isBefore(s)&&(this.timepickerVariables[e].amDisabled=!0),r&&t.clone().hour(0).minute(0).second(0).isAfter(r)&&(this.timepickerVariables[e].pmDisabled=!0),this.timepickerVariables[e].ampmModel=t.hour()>=12?"PM":"AM"),this.timepickerVariables[e].selected=t}renderCalendar(e){const t=e===Mt.left?this.leftCalendar:this.rightCalendar,s=t.month.month(),r=t.month.year(),o=t.month.hour(),a=t.month.minute(),d=t.month.second(),c=vt(new Date(r,s)).utc(!0).daysInMonth(),p=vt(new Date(r,s,1)).utc(!0),u=vt(new Date(r,s,c)).utc(!0),f=vt(p).utc(!0).subtract(1,"month").month(),v=vt(p).utc(!0).subtract(1,"month").year(),g=vt(new Date(v,f)).utc(!0).daysInMonth(),b=p.day(),C=[];C.firstDay=p,C.lastDay=u;for(let H=0;H<6;H++)C[H]=[];let T=g-b+this.locale.firstDay+1;T>g&&(T-=7),b===this.locale.firstDay&&(T=g-6);let O=vt(new Date(v,f,T,12,a,d)).utc(!0);for(let H=0,N=0,ne=0;H<42;H++,N++,O=vt(O).utc(!0).add(24,"hours"))H>0&&N%7==0&&(N=0,ne++),C[ne][N]=O.clone().hour(o).minute(a).second(d),O=O.hour(12),this.minDate&&C[ne][N].format("YYYY-MM-DD")===this.minDate.format("YYYY-MM-DD")&&C[ne][N].isBefore(this.minDate)&&"left"===e&&(C[ne][N]=this.minDate.clone()),this.maxDate&&C[ne][N].format("YYYY-MM-DD")===this.maxDate.format("YYYY-MM-DD")&&C[ne][N].isAfter(this.maxDate)&&"right"===e&&(C[ne][N]=this.maxDate.clone());e===Mt.left?this.leftCalendar.calendar=C:this.rightCalendar.calendar=C;let j="left"===e?this.minDate:this.startDate,Y=this.maxDate;if(null===this.endDate&&this.dateLimit){const H=this.startDate.clone().add(this.dateLimit,"day").endOf("day");if((!Y||H.isBefore(Y))&&(Y=H),this.customRangeDirection){j=this.minDate;const N=this.startDate.clone().subtract(this.dateLimit,"day").endOf("day");(!j||N.isAfter(j))&&(j=N)}}if(this.calendarVariables[e]={month:s,year:r,hour:o,minute:a,second:d,daysInMonth:c,firstDay:p,lastDay:u,lastMonth:f,lastYear:v,daysInLastMonth:g,dayOfWeek:b,calRows:Array.from(Array(6).keys()),calCols:Array.from(Array(7).keys()),classes:{},minDate:j,maxDate:Y,calendar:C},this.showDropdowns){const H=C[1][1].month(),N=C[1][1].year(),ne=vt().utc(!0).year(),re=Y&&Y.year()||ne+5,ce=j&&j.year()||ne-50,Ye=N===ce,K=N===re,te=[];for(let J=ce;J<=re;J++)te.push(J);this.calendarVariables[e].dropdowns={currentMonth:H,currentYear:N,maxYear:re,minYear:ce,inMinYear:Ye,inMaxYear:K,monthArrays:Array.from(Array(12).keys()),yearArrays:te}}this.buildCells(C,e)}setStartDate(e){"string"==typeof e&&(this.startDate=vt(e,this.locale.format).utc(!0)),"object"==typeof e&&(this.pickingDate=!0,this.startDate=vt(e).utc(!0)),this.timePicker||(this.pickingDate=!0,this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&(this.startDate=this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&(this.startDate=this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement))),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&(this.startDate=this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement))),this.isShown||this.updateElement(),this.startDateChanged.emit({startDate:this.startDate}),this.updateMonthsInView()}setEndDate(e){"string"==typeof e&&(this.endDate=vt(e,this.locale.format).utc(!0)),"object"==typeof e&&(this.pickingDate=!1,this.endDate=vt(e).utc(!0)),this.timePicker||(this.pickingDate=!1,this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.dateLimit&&this.startDate.clone().add(this.dateLimit,"day").isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit,"day")),this.endDateChanged.emit({endDate:this.endDate}),this.updateMonthsInView()}updateView(){this.timePicker&&(this.renderTimePicker(Mt.left),this.renderTimePicker(Mt.right)),this.updateMonthsInView(),this.updateCalendars()}updateMonthsInView(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate&&this.leftCalendar&&this.startDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.startDate&&this.rightCalendar&&this.startDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")===this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")===this.rightCalendar.month.format("YYYY-MM")))return;this.startDate&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.linkedCalendars||this.endDate.month()===this.startDate.month()&&this.endDate.year()===this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2))}else this.leftCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!==this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))}updateCalendars(){this.renderCalendar(Mt.left),this.renderCalendar(Mt.right),null!==this.endDate&&this.calculateChosenLabel()}updateElement(){const e=this.locale.displayFormat?this.locale.displayFormat:this.locale.format;!this.singleDatePicker&&this.autoUpdateInput?this.startDate&&this.endDate&&(this.chosenLabel=this.rangesArray.length&&!0===this.showRangeLabelOnInput&&this.chosenRange&&this.locale.customRangeLabel!==this.chosenRange?this.chosenRange:this.startDate.format(e)+this.locale.separator+this.endDate.format(e)):this.autoUpdateInput&&(this.chosenLabel=this.startDate.format(e))}remove(){this.isShown=!1}calculateChosenLabel(){(!this.locale||!this.locale.separator)&&this.buildLocale();let e=!0,t=0;if(this.rangesArray.length>0){for(const s in this.ranges)if(this.ranges[s]){if(this.timePicker){const r=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(r)===this.ranges[s][0].format(r)&&this.endDate.format(r)===this.ranges[s][1].format(r)){e=!1,this.chosenRange=this.rangesArray[t];break}}else if(this.startDate.format("YYYY-MM-DD")===this.ranges[s][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")===this.ranges[s][1].format("YYYY-MM-DD")){e=!1,this.chosenRange=this.rangesArray[t];break}t++}e&&(this.chosenRange=this.showCustomRangeLabel?this.locale.customRangeLabel:null,this.showCalInRanges=!0)}this.updateElement()}clickApply(e){if(!this.singleDatePicker&&this.startDate&&!this.endDate&&(this.endDate=this.getDateWithTime(this.startDate,Mt.right),this.calculateChosenLabel()),this.isInvalidDate&&this.startDate&&this.endDate){let t=this.startDate.clone();for(;t.isBefore(this.endDate);){if(this.isInvalidDate(t)){this.endDate=t.subtract(1,"days"),this.calculateChosenLabel();break}t=t.add(1,"days")}}this.chosenLabel&&this.choosedDate.emit({chosenLabel:this.chosenLabel,startDate:this.startDate,endDate:this.endDate}),this.datesUpdated.emit({startDate:this.startDate,endDate:this.endDate}),(e||this.closeOnAutoApply&&!e)&&this.hide()}clickCancel(e){this.startDate=this.cachedVersion.start,this.endDate=this.cachedVersion.end,this.inline&&this.updateView(),this.cancelClicked.emit(),this.hide()}monthChanged(e,t){const s=this.calendarVariables[t].dropdowns.currentYear,r=parseInt(e.target.value,10);this.monthOrYearChanged(r,s,t)}yearChanged(e,t){const s=this.calendarVariables[t].dropdowns.currentMonth,r=parseInt(e.target.value,10);this.monthOrYearChanged(s,r,t)}timeChanged(e,t){let s=parseInt(String(this.timepickerVariables[t].selectedHour),10);const r=parseInt(String(this.timepickerVariables[t].selectedMinute),10),o=this.timePickerSeconds?parseInt(String(this.timepickerVariables[t].selectedSecond),10):0;if(!this.timePicker24Hour){const a=this.timepickerVariables[t].ampmModel;"PM"===a&&s<12&&(s+=12),"AM"===a&&12===s&&(s=0)}if(t===Mt.left){let a=this.startDate.clone();a=a.hour(s),a=a.minute(r),a=a.second(o),this.setStartDate(a),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")===a.format("YYYY-MM-DD")&&this.endDate.isBefore(a)?this.setEndDate(a.clone()):!this.endDate&&this.timePicker&&this.getDateWithTime(a,Mt.right).isBefore(a)&&(this.timepickerVariables[Mt.right].selectedHour=s,this.timepickerVariables[Mt.right].selectedMinute=r,this.timepickerVariables[Mt.right].selectedSecond=o)}else if(this.endDate){let a=this.endDate.clone();a=a.hour(s),a=a.minute(r),a=a.second(o),this.setEndDate(a)}this.updateCalendars(),this.renderTimePicker(Mt.left),this.renderTimePicker(Mt.right),this.autoApply&&this.clickApply()}monthOrYearChanged(e,t,s){const r=s===Mt.left;let o=e,a=t;r||(a<this.startDate.year()||a===this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a===this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a===this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),a=this.maxDate.year()),this.calendarVariables[s].dropdowns.currentYear=a,this.calendarVariables[s].dropdowns.currentMonth=o,r?(this.leftCalendar.month=this.leftCalendar.month.month(o).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month=this.rightCalendar.month.month(o).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()}clickPrev(e){e===Mt.left?(this.leftCalendar.month=this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&(this.rightCalendar.month=this.rightCalendar.month.subtract(1,"month"))):this.rightCalendar.month=this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()}hoverDate(e,t,s,r){this.pickingDate&&(this.nowHoveredDate=t===Mt.left?this.calendarVariables.left.calendar[s][r]:this.calendarVariables.right.calendar[s][r],this.renderCalendar(Mt.left),this.renderCalendar(Mt.right))}clickDate(e,t,s,r){if("TD"===e.target.tagName){if(!e.target.classList.contains("available"))return}else if("SPAN"===e.target.tagName&&!e.target.parentElement.classList.contains("available"))return;this.rangesArray.length&&(this.chosenRange=this.locale.customRangeLabel);let o=t===Mt.left?this.leftCalendar.calendar[s][r]:this.rightCalendar.calendar[s][r];(this.endDate||o.isBefore(this.startDate,"day")&&!1===this.customRangeDirection)&&!1===this.lockStartDate?(this.timePicker&&(o=this.getDateWithTime(o,Mt.left)),this.endDate=null,this.setStartDate(o.clone())):!this.endDate&&o.isBefore(this.startDate)&&!1===this.customRangeDirection?this.setEndDate(this.startDate.clone()):(this.timePicker&&(o=this.getDateWithTime(o,Mt.right)),!0===o.isBefore(this.startDate,"day")&&!0===this.customRangeDirection?(this.setEndDate(this.startDate),this.setStartDate(o.clone())):this.setEndDate(o.clone()),this.autoApply&&this.calculateChosenLabel()),this.singleDatePicker&&(this.setEndDate(this.startDate),this.updateElement(),this.autoApply&&this.clickApply()),this.updateView(),this.autoApply&&this.startDate&&this.endDate&&this.clickApply(),e.stopPropagation()}clickRange(e,t){if(this.chosenRange=t,t===this.locale.customRangeLabel)this.isShown=!0,this.showCalInRanges=!0;else{const s=this.ranges[t];if(console.log("1 ",s),this.startDate=s[0].clone(),this.endDate=s[1].clone(),this.showRangeLabelOnInput&&t!==this.locale.customRangeLabel?this.chosenLabel=t:this.calculateChosenLabel(),this.showCalInRanges=!this.rangesArray.length||this.alwaysShowCalendars,this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.alwaysShowCalendars||(this.isShown=!1),this.rangeClicked.emit({label:t,dates:s}),!this.keepCalendarOpeningWithRange||this.autoApply)this.clickApply();else{if(!this.alwaysShowCalendars)return this.clickApply();if(this.maxDate&&this.maxDate.isSame(s[0],"month"))this.rightCalendar.month=this.rightCalendar.month.month(s[0].month()),this.rightCalendar.month=this.rightCalendar.month.year(s[0].year()),this.leftCalendar.month=this.leftCalendar.month.month(s[0].month()-1),this.leftCalendar.month=this.leftCalendar.month.year(s[1].year());else{this.leftCalendar.month=this.leftCalendar.month.month(s[0].month()),this.leftCalendar.month=this.leftCalendar.month.year(s[0].year());const r=this.linkedCalendars?s[0].clone().add(1,"month"):s[1].clone();this.rightCalendar.month=this.rightCalendar.month.month(r.month()),this.rightCalendar.month=this.rightCalendar.month.year(r.year())}this.updateCalendars(),this.timePicker&&(this.renderTimePicker(Mt.left),this.renderTimePicker(Mt.right))}}}show(e){this.isShown||(this.cachedVersion.start=this.startDate.clone(),this.cachedVersion.end=this.endDate.clone(),this.isShown=!0,this.updateView())}hide(e){this.isShown&&(this.endDate||(this.cachedVersion.start&&(this.startDate=this.cachedVersion.start.clone()),this.cachedVersion.end&&(this.endDate=this.cachedVersion.end.clone())),!this.startDate.isSame(this.cachedVersion.start)||this.endDate.isSame(this.cachedVersion.end),this.updateElement(),this.isShown=!1,this.ref.detectChanges())}updateLocale(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.locale[t]=e[t],"customRangeLabel"===t&&this.renderRanges())}clear(){this.startDate=vt().utc(!0).startOf("day"),this.endDate=vt().utc(!0).endOf("day"),this.choosedDate.emit({chosenLabel:"",startDate:null,endDate:null}),this.datesUpdated.emit({startDate:null,endDate:null}),this.clearClicked.emit(),this.hide()}disableRange(e){if(e===this.locale.customRangeLabel)return!1;const t=this.ranges[e],s=t.every(o=>!!this.minDate&&o.isBefore(this.minDate)),r=t.every(o=>!!this.maxDate&&o.isAfter(this.maxDate));return s||r}getDateWithTime(e,t){let s=parseInt(String(this.timepickerVariables[t].selectedHour),10);if(!this.timePicker24Hour){const a=this.timepickerVariables[t].ampmModel;"PM"===a&&s<12&&(s+=12),"AM"===a&&12===s&&(s=0)}const r=parseInt(String(this.timepickerVariables[t].selectedMinute),10),o=this.timePickerSeconds?parseInt(String(this.timepickerVariables[t].selectedSecond),10):0;return e.clone().hour(s).minute(r).second(o)}buildLocale(){this.locale={...this.localeHolderService.config,...this.locale},this.locale.format||(this.locale.format=this.timePicker?vt.localeData().longDateFormat("lll"):vt.localeData().longDateFormat("L"))}buildCells(e,t){for(let s=0;s<6;s++){this.calendarVariables[t].classes[s]={classList:""};const r=[];this.emptyWeekRowClass&&Array.from(Array(7).keys()).some(o=>e[s][o].month()!==this.calendarVariables[t].month)&&r.push(this.emptyWeekRowClass);for(let o=0;o<7;o++){const a=[];this.emptyWeekColumnClass&&e[s][o].month()!==this.calendarVariables[t].month&&a.push(this.emptyWeekColumnClass),e[s][o].isSame(vt().utc(!0),"day")&&a.push("today"),e[s][o].isoWeekday()>5&&a.push("weekend"),e[s][o].month()!==e[1][1].month()&&(a.push("off"),this.lastDayOfPreviousMonthClass&&(e[s][o].month()<e[1][1].month()||0===e[1][1].month())&&e[s][o].date()===this.calendarVariables[t].daysInLastMonth&&a.push(this.lastDayOfPreviousMonthClass),this.firstDayOfNextMonthClass&&(e[s][o].month()>e[1][1].month()||0===e[s][o].month())&&1===e[s][o].date()&&a.push(this.firstDayOfNextMonthClass)),this.firstMonthDayClass&&e[s][o].month()===e[1][1].month()&&e[s][o].date()===e.firstDay.date()&&a.push(this.firstMonthDayClass),this.lastMonthDayClass&&e[s][o].month()===e[1][1].month()&&e[s][o].date()===e.lastDay.date()&&a.push(this.lastMonthDayClass),this.minDate&&e[s][o].isBefore(this.minDate,"day")&&a.push("off","disabled"),this.calendarVariables[t].maxDate&&e[s][o].isAfter(this.calendarVariables[t].maxDate,"day")&&a.push("off","disabled"),this.isInvalidDate(e[s][o])&&a.push("off","disabled","invalid"),this.startDate&&e[s][o].format("YYYY-MM-DD")===this.startDate.format("YYYY-MM-DD")&&a.push("active","start-date"),null!=this.endDate&&e[s][o].format("YYYY-MM-DD")===this.endDate.format("YYYY-MM-DD")&&a.push("active","end-date"),(null!=this.nowHoveredDate&&this.pickingDate||null!=this.endDate)&&e[s][o]>this.startDate&&(e[s][o]<this.endDate||e[s][o]<this.nowHoveredDate&&this.pickingDate)&&!a.find(u=>"off"===u)&&a.push("in-range");const d=this.isCustomDate(e[s][o]);!1!==d&&("string"==typeof d?a.push(d):Array.prototype.push.apply(a,d));let c="",p=!1;for(const u of a)c+=u+" ","disabled"===u&&(p=!0);p||(c+="available"),this.calendarVariables[t].classes[s][o]=c.replace(/^\s+|\s+$/g,"")}this.calendarVariables[t].classes[s].classList=r.join(" ")}}}return h.\u0275fac=function(e){return new(e||h)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Bc))},h.\u0275cmp=l.Xpm({type:h,selectors:[["ngx-daterangepicker-material"]],viewQuery:function(e,t){if(1&e&&l.Gf(tk,7),2&e){let s;l.iGM(s=l.CRH())&&(t.pickerContainer=s.first)}},hostBindings:function(e,t){1&e&&l.NdJ("click",function(r){return t.handleInternalClick(r)})},inputs:{startDate:"startDate",endDate:"endDate",dateLimit:"dateLimit",autoApply:"autoApply",singleDatePicker:"singleDatePicker",showDropdowns:"showDropdowns",showWeekNumbers:"showWeekNumbers",showISOWeekNumbers:"showISOWeekNumbers",linkedCalendars:"linkedCalendars",autoUpdateInput:"autoUpdateInput",alwaysShowCalendars:"alwaysShowCalendars",maxSpan:"maxSpan",lockStartDate:"lockStartDate",timePicker:"timePicker",timePicker24Hour:"timePicker24Hour",timePickerIncrement:"timePickerIncrement",timePickerSeconds:"timePickerSeconds",showClearButton:"showClearButton",firstMonthDayClass:"firstMonthDayClass",lastMonthDayClass:"lastMonthDayClass",emptyWeekRowClass:"emptyWeekRowClass",emptyWeekColumnClass:"emptyWeekColumnClass",firstDayOfNextMonthClass:"firstDayOfNextMonthClass",lastDayOfPreviousMonthClass:"lastDayOfPreviousMonthClass",showCustomRangeLabel:"showCustomRangeLabel",showCancel:"showCancel",keepCalendarOpeningWithRange:"keepCalendarOpeningWithRange",showRangeLabelOnInput:"showRangeLabelOnInput",customRangeDirection:"customRangeDirection",drops:"drops",opens:"opens",closeOnAutoApply:"closeOnAutoApply",minDate:"minDate",locale:"locale",ranges:"ranges",maxDate:"maxDate",isInvalidDate:"isInvalidDate",isCustomDate:"isCustomDate",isTooltipDate:"isTooltipDate"},outputs:{choosedDate:"choosedDate",rangeClicked:"rangeClicked",datesUpdated:"datesUpdated",startDateChanged:"startDateChanged",endDateChanged:"endDateChanged",cancelClicked:"cancelClicked",clearClicked:"clearClicked"},features:[l._Bn([{provide:Be.JU,useExisting:(0,l.Gpc)(()=>h),multi:!0}]),l.TTD],decls:6,vars:15,consts:[[1,"md-drppicker",3,"ngClass"],["pickerContainer",""],[4,"ngIf"],["class","calendar",3,"ngClass",4,"ngIf"],["class","calendar right",4,"ngIf"],["class","buttons",4,"ngIf"],[1,"ranges"],[4,"ngFor","ngForOf"],["type","button",3,"disabled","ngClass","click"],[1,"calendar",3,"ngClass"],[1,"calendar-table"],["class","table-condensed",4,"ngIf"],["class","calendar-time",4,"ngIf"],[1,"table-condensed"],["colspan","5",1,"month","drp-animate"],[1,"week-days"],["class","week",4,"ngIf"],[1,"drp-animate"],[3,"class",4,"ngFor","ngForOf"],[1,"prev","available",3,"click"],[1,"dropdowns"],[1,"monthselect",3,"change"],[3,"disabled","value","selected",4,"ngFor","ngForOf"],[1,"yearselect",3,"change"],[3,"selected",4,"ngFor","ngForOf"],[3,"disabled","value","selected"],[3,"selected"],[1,"next","available",3,"click"],[1,"week"],[3,"class","click","mouseenter",4,"ngFor","ngForOf"],[3,"click","mouseenter"],[1,"calendar-time"],[1,"select"],[1,"hourselect","select-item",3,"disabled","ngModel","ngModelChange"],[3,"value","disabled",4,"ngFor","ngForOf"],[1,"select-item","minuteselect",3,"disabled","ngModel","ngModelChange"],[1,"select-highlight"],[1,"select-bar"],["class","select-item secondselect",3,"disabled","ngModel","ngModelChange",4,"ngIf"],["class","select-item ampmselect",3,"ngModel","ngModelChange",4,"ngIf"],[3,"value","disabled"],[1,"select-item","secondselect",3,"disabled","ngModel","ngModelChange"],[1,"select-item","ampmselect",3,"ngModel","ngModelChange"],["value","AM",3,"disabled"],["value","PM",3,"disabled"],[1,"calendar","right"],["colspan","5",1,"month"],[1,"select-item","hourselect",3,"disabled","ngModel","ngModelChange"],[1,"buttons"],[1,"buttons_input"],["class","btn btn-default clear","type","button",3,"title","click",4,"ngIf"],["class","btn btn-default","type","button",3,"click",4,"ngIf"],["type","button",1,"btn",3,"disabled","click"],["type","button",1,"btn","btn-default","clear",3,"title","click"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 -5 24 24"],["d","M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"],["type","button",1,"btn","btn-default",3,"click"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0,1),l.YNc(2,rk,4,1,"ng-container",2),l.YNc(3,Lk,4,6,"div",3),l.YNc(4,Qk,4,2,"div",4),l.YNc(5,e1,6,4,"div",5),l.qZA()),2&e&&(l.Tol("drops-"+t.drops+"-"+t.opens),l.Q6J("ngClass",l.Hh0(7,t1,"ltr"===t.locale.direction,"rtl"===t.locale.direction,t.isShown||t.inline,!t.isShown&&!t.inline,t.inline,!t.singleDatePicker&&t.showCalInRanges,t.rangesArray.length)),l.xp6(2),l.Q6J("ngIf",t.rangesArray.length),l.xp6(1),l.Q6J("ngIf",t.showCalInRanges),l.xp6(1),l.Q6J("ngIf",t.showCalInRanges&&!t.singleDatePicker),l.xp6(1),l.Q6J("ngIf",!t.autoApply&&(!t.rangesArray.length||t.showCalInRanges&&!t.singleDatePicker)))},dependencies:[x.mk,x.O5,x.sg,Be.YN,Be.Kr,Be.EJ,Be.JJ,Be.On],styles:['.md-drppicker{position:absolute;font-family:Roboto,sans-serif;color:inherit;border-radius:4px;width:278px;padding:4px;margin-top:-10px;overflow:hidden;z-index:1000;font-size:14px;background-color:#fff;box-shadow:0 2px 4px #00000029,0 2px 8px #0000001f}.md-drppicker.double{width:auto}.md-drppicker.inline{position:relative;display:inline-block}.md-drppicker:before,.md-drppicker:after{position:absolute;display:inline-block;border-bottom-color:#0003;content:""}.md-drppicker.openscenter:before{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.openscenter:after{left:0;right:0;width:0;margin-left:auto;margin-right:auto}.md-drppicker.single .ranges,.md-drppicker.single .calendar{float:none}.md-drppicker.shown{transform:scale(1);transition:all .1s ease-in-out;transform-origin:0 0;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.shown.drops-up-left{transform-origin:100% 100%}.md-drppicker.shown.drops-up-right{transform-origin:0 100%}.md-drppicker.shown.drops-down-left{transform-origin:100% 0}.md-drppicker.shown.drops-down-right{transform-origin:0 0}.md-drppicker.shown.drops-down-center{transform-origin:NaN%}.md-drppicker.shown.drops-up-center{transform-origin:50%}.md-drppicker.shown .calendar{display:block}.md-drppicker.hidden{transition:all .1s ease;transform:scale(0);transform-origin:0 0;cursor:default;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.md-drppicker.hidden.drops-up-left{transform-origin:100% 100%}.md-drppicker.hidden.drops-up-right{transform-origin:0 100%}.md-drppicker.hidden.drops-down-left{transform-origin:100% 0}.md-drppicker.hidden.drops-down-right{transform-origin:0 0}.md-drppicker.hidden.drops-down-center{transform-origin:50% 0}.md-drppicker.hidden.drops-up-center{transform-origin:50% 100%}.md-drppicker.hidden .calendar{display:none}.md-drppicker .calendar{max-width:270px;margin:4px}.md-drppicker .calendar.single .calendar-table{border:none}.md-drppicker .calendar th,.md-drppicker .calendar td{padding:0;white-space:nowrap;text-align:center;min-width:32px}.md-drppicker .calendar th span,.md-drppicker .calendar td span{pointer-events:none}.md-drppicker .calendar-table{border:1px solid #fff;padding:4px;border-radius:4px;background-color:#fff}.md-drppicker table{width:100%;margin:0}.md-drppicker th{color:#988c8c}.md-drppicker td,.md-drppicker th{text-align:center;width:20px;height:20px;border-radius:4px;border:1px solid transparent;white-space:nowrap;cursor:pointer;height:2em;width:2em}.md-drppicker td.available.prev,.md-drppicker th.available.prev{display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.prev:hover,.md-drppicker th.available.prev:hover{margin:0}.md-drppicker td.available.next,.md-drppicker th.available.next{transform:rotate(180deg);display:block;background-image:url(data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMy43IDYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDMuNyA2IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxwYXRoIGQ9Ik0zLjcsMC43TDEuNCwzbDIuMywyLjNMMyw2TDAsM2wzLTNMMy43LDAuN3oiLz4NCjwvZz4NCjwvc3ZnPg0K);background-repeat:no-repeat;background-size:.5em;background-position:center;opacity:.8;transition:background-color .2s ease;border-radius:2em}.md-drppicker td.available.next:hover,.md-drppicker th.available.next:hover{margin:0;transform:rotate(180deg)}.md-drppicker td.available:hover,.md-drppicker th.available:hover{background-color:#eee;border-color:transparent;color:inherit;background-repeat:no-repeat;background-size:.5em;background-position:center;margin:.25em 0;opacity:.8;border-radius:2em;transform:scale(1);transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.md-drppicker td.week,.md-drppicker th.week{font-size:80%;color:#ccc}.md-drppicker td{margin:.25em 0;opacity:.8;transition:background-color .2s ease;border-radius:2em;transform:scale(1);transition:all .45s cubic-bezier(.23,1,.32,1) 0ms}.md-drppicker td.off,.md-drppicker td.off.in-range,.md-drppicker td.off.start-date,.md-drppicker td.off.end-date{background-color:#fff;border-color:transparent;color:#999}.md-drppicker td.in-range{background-color:#dde2e4;border-color:transparent;color:#000;border-radius:0}.md-drppicker td.start-date{border-radius:2em 0 0 2em}.md-drppicker td.end-date{border-radius:0 2em 2em 0}.md-drppicker td.start-date.end-date{border-radius:4px}.md-drppicker td.active{transition:background .3s ease-out;background:rgba(0,0,0,.1)}.md-drppicker td.active,.md-drppicker td.active:hover{background-color:#3f51b5;border-color:transparent;color:#fff}.md-drppicker th.month{width:auto}.md-drppicker td.disabled,.md-drppicker option.disabled{color:#999;cursor:not-allowed;text-decoration:line-through}.md-drppicker .dropdowns{background-repeat:no-repeat;background-size:10px;background-position-y:center;background-position-x:right;width:50px;background-image:url(data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTYuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDI1NSAyNTUiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDI1NSAyNTU7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGc+Cgk8ZyBpZD0iYXJyb3ctZHJvcC1kb3duIj4KCQk8cG9seWdvbiBwb2ludHM9IjAsNjMuNzUgMTI3LjUsMTkxLjI1IDI1NSw2My43NSAgICIgZmlsbD0iIzk4OGM4YyIvPgoJPC9nPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=)}.md-drppicker .dropdowns select{display:inline-block;background-color:#ffffffe6;width:100%;padding:5px;border:1px solid #f2f2f2;border-radius:2px;height:3rem}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{font-size:12px;padding:1px;height:auto;margin:0;cursor:default}.md-drppicker .dropdowns select.hourselect,.md-drppicker .dropdowns select.minuteselect,.md-drppicker .dropdowns select.secondselect,.md-drppicker .dropdowns select.ampmselect{width:50px;margin:0 auto;background:#eee;border:1px solid #eee;padding:2px;outline:0;font-size:12px}.md-drppicker .dropdowns select.monthselect,.md-drppicker .dropdowns select.yearselect{cursor:pointer;opacity:0;position:absolute;top:0;left:0;margin:0;padding:0}.md-drppicker th.month>div{position:relative;display:inline-block}.md-drppicker .calendar-time{text-align:center;margin:4px auto 0;line-height:30px;position:relative}.md-drppicker .calendar-time .select{display:inline}.md-drppicker .calendar-time .select .select-item{display:inline-block;width:auto;position:relative;font-family:inherit;background-color:transparent;padding:10px 10px 10px 0;font-size:18px;border-radius:0;border:none;border-bottom:1px solid rgba(0,0,0,.12)}.md-drppicker .calendar-time .select .select-item:after{position:absolute;top:18px;right:10px;width:0;height:0;padding:0;content:"";border-left:6px solid transparent;border-right:6px solid transparent;border-top:6px solid rgba(0,0,0,.12);pointer-events:none}.md-drppicker .calendar-time .select .select-item:focus{outline:none}.md-drppicker .calendar-time .select .select-item .select-label{color:#00000042;font-size:16px;font-weight:400;position:absolute;pointer-events:none;left:0;top:10px;transition:.2s ease all}.md-drppicker .calendar-time select.disabled{color:#ccc;cursor:not-allowed}.md-drppicker .label-input{border:1px solid #ccc;border-radius:4px;color:#555;height:30px;line-height:30px;display:block;vertical-align:middle;margin:0 auto 5px;padding:0 0 0 28px;width:100%}.md-drppicker .label-input.active{border:1px solid #08c;border-radius:4px}.md-drppicker .md-drppicker_input{position:relative;padding:0 30px 0 0}.md-drppicker .md-drppicker_input i,.md-drppicker .md-drppicker_input svg{position:absolute;left:8px;top:8px}.md-drppicker.rtl .label-input{padding-right:28px;padding-left:6px}.md-drppicker.rtl .md-drppicker_input i,.md-drppicker.rtl .md-drppicker_input svg{left:auto;right:8px}.md-drppicker .show-ranges .drp-calendar.left{border-left:1px solid #ddd}.md-drppicker .ranges{float:none;text-align:left;margin:0}.md-drppicker .ranges ul{list-style:none;margin:0 auto;padding:0;width:100%}.md-drppicker .ranges ul li{font-size:12px}.md-drppicker .ranges ul li button{padding:8px 12px;width:100%;background:none;border:none;text-align:left;cursor:pointer}.md-drppicker .ranges ul li button.active{background-color:#3f51b5;color:#fff}.md-drppicker .ranges ul li button[disabled]{opacity:.3}.md-drppicker .ranges ul li button:active{background:transparent}.md-drppicker .ranges ul li:hover{background-color:#eee}.md-drppicker .show-calendar .ranges{margin-top:8px}.md-drppicker [hidden]{display:none}.md-drppicker .buttons{text-align:right;margin:0 5px 5px 0}.md-drppicker .btn{position:relative;overflow:hidden;border-width:0;outline:none;padding:0 6px;cursor:pointer;border-radius:2px;box-shadow:0 1px 4px #0009;background-color:#3f51b5;color:#ecf0f1;transition:background-color .4s;height:auto;text-transform:uppercase;line-height:36px;border:none}.md-drppicker .btn:hover,.md-drppicker .btn:focus{background-color:#3f51b5}.md-drppicker .btn>*{position:relative}.md-drppicker .btn span{display:block;padding:12px 24px}.md-drppicker .btn:before{content:"";position:absolute;top:50%;left:50%;display:block;width:0;padding-top:0;border-radius:100%;background-color:#ecf0f14d;transform:translate(-50%,-50%)}.md-drppicker .btn:active:before{width:120%;padding-top:120%;transition:width .2s ease-out,padding-top .2s ease-out}.md-drppicker .btn:disabled{opacity:.5}.md-drppicker .btn.btn-default{color:#000;background-color:#dcdcdc}.md-drppicker .clear{box-shadow:none;background-color:#fff!important}.md-drppicker .clear svg{color:#eb3232;fill:currentColor}@media (min-width: 564px){.md-drppicker{width:auto}.md-drppicker.single .calendar.left{clear:none}.md-drppicker.ltr{direction:ltr;text-align:left}.md-drppicker.ltr .calendar.left{clear:left}.md-drppicker.ltr .calendar.left .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.ltr .calendar.right{margin-left:0}.md-drppicker.ltr .calendar.right .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.ltr .left .md-drppicker_input,.md-drppicker.ltr .right .md-drppicker_input{padding-right:35px}.md-drppicker.ltr .calendar.left .calendar-table{padding-right:12px}.md-drppicker.ltr .ranges,.md-drppicker.ltr .calendar{float:left}.md-drppicker.rtl{direction:rtl;text-align:right}.md-drppicker.rtl .calendar.left{clear:right;margin-left:0}.md-drppicker.rtl .calendar.left .calendar-table{border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.md-drppicker.rtl .calendar.right{margin-right:0}.md-drppicker.rtl .calendar.right .calendar-table{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.md-drppicker.rtl .left .md-drppicker_input,.md-drppicker.rtl .calendar.left .calendar-table{padding-left:12px}.md-drppicker.rtl .ranges,.md-drppicker.rtl .calendar{text-align:right;float:right}.drp-animate{transform:translate(0);transition:transform .2s ease,opacity .2s ease}.drp-animate.drp-picker-site-this{transition-timing-function:linear}.drp-animate.drp-animate-right{transform:translate(10%);opacity:0}.drp-animate.drp-animate-left{transform:translate(-10%);opacity:0}}@media (min-width: 730px){.md-drppicker .ranges{width:auto}.md-drppicker.ltr .ranges{float:left}.md-drppicker.rtl .ranges{float:right}.md-drppicker .calendar.left{clear:none!important}}\n'],encapsulation:2}),h})(),r1=(()=>{class h{constructor(e,t,s,r,o,a,d){this.viewContainerRef=e,this.ref=t,this.el=s,this.renderer=r,this.differs=o,this.localeHolderService=a,this.elementRef=d,this.onChange=new l.vpe,this.rangeClicked=new l.vpe,this.datesUpdated=new l.vpe,this.startDateChanged=new l.vpe,this.endDateChanged=new l.vpe,this.clearClicked=new l.vpe,this.dateLimit=null,this.showCancel=!1,this.lockStartDate=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.closeOnAutoApply=!0,this.notForChangesProperty=["locale","endKey","startKey"],this.onChangeFn=Function.prototype,this.onTouched=Function.prototype,this.validatorChange=Function.prototype,this.localeHolder={},this.endKey="endDate",this.startKey="startDate",this.drops="down",this.opens="auto",e.clear();const c=e.createComponent(s1);this.picker=c.instance,this.picker.inline=!1}get disabled(){return this.disabledHolder}set startKey(e){this.startKeyHolder=null!==e?e:"startDate"}get locale(){return this.localeHolder}set locale(e){this.localeHolder={...this.localeHolderService.config,...e}}set endKey(e){this.endKeyHolder=null!==e?e:"endDate"}get value(){return this.valueHolder||null}set value(e){this.valueHolder=e,this.onChangeFn(e),this.ref.markForCheck()}outsideClick(e){e.target&&(e.target.classList.contains("ngx-daterangepicker-action")||this.elementRef.nativeElement.contains(e.target)||this.hide())}hide(e){this.picker.hide(e)}onBlur(){this.onTouched()}inputChanged(e){if("input"!==e.target.tagName.toLowerCase()||!e.target.value.length)return;const t=e.target.value.split(this.picker.locale.separator);let s=null,r=null;2===t.length&&(s=vt(t[0],this.picker.locale.format),r=vt(t[1],this.picker.locale.format)),(this.singleDatePicker||null===s||null===r)&&(s=vt(e.target.value,this.picker.locale.format),r=s),s.isValid()&&r.isValid()&&(this.picker.setStartDate(s),this.picker.setEndDate(r),this.picker.updateView())}open(e){this.disabled||(this.picker.show(e),setTimeout(()=>{this.setPosition()}))}ngOnInit(){this.picker.startDateChanged.asObservable().subscribe(e=>{this.startDateChanged.emit(e)}),this.picker.endDateChanged.asObservable().subscribe(e=>{this.endDateChanged.emit(e)}),this.picker.rangeClicked.asObservable().subscribe(e=>{this.rangeClicked.emit(e)}),this.picker.datesUpdated.asObservable().subscribe(e=>{this.datesUpdated.emit(e)}),this.picker.clearClicked.asObservable().subscribe(()=>{this.clearClicked.emit()}),this.picker.choosedDate.asObservable().subscribe(e=>{if(e){const t={[this.startKeyHolder]:e.startDate,[this.endKeyHolder]:e.endDate};this.value=t,this.onChange.emit(t),"string"==typeof e.chosenLabel&&(this.el.nativeElement.value=e.chosenLabel)}}),this.picker.firstMonthDayClass=this.firstMonthDayClass,this.picker.lastMonthDayClass=this.lastMonthDayClass,this.picker.emptyWeekRowClass=this.emptyWeekRowClass,this.picker.emptyWeekColumnClass=this.emptyWeekColumnClass,this.picker.firstDayOfNextMonthClass=this.firstDayOfNextMonthClass,this.picker.lastDayOfPreviousMonthClass=this.lastDayOfPreviousMonthClass,this.picker.drops=this.drops,this.picker.opens=this.opens,this.localeDiffer=this.differs.find(this.locale).create(),this.picker.closeOnAutoApply=this.closeOnAutoApply}ngOnChanges(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&-1===this.notForChangesProperty.indexOf(t)&&(this.picker[t]=e[t].currentValue)}ngDoCheck(){this.localeDiffer&&this.localeDiffer.diff(this.locale)&&this.picker.updateLocale(this.locale)}toggle(e){this.picker.isShown?this.hide(e):this.open(e)}clear(){this.picker.clear()}writeValue(e){this.setValue(e)}registerOnChange(e){this.onChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabledHolder=e}setPosition(){let e,t;const s=this.picker.pickerContainer.nativeElement,r=this.el.nativeElement;if(t=this.drops&&"up"===this.drops?r.offsetTop-s.clientHeight+"px":"auto","left"===this.opens)e={top:t,left:r.offsetLeft-s.clientWidth+r.clientWidth+"px",right:"auto"};else if("center"===this.opens)e={top:t,left:r.offsetLeft+r.clientWidth/2-s.clientWidth/2+"px",right:"auto"};else if("right"===this.opens)e={top:t,left:r.offsetLeft+"px",right:"auto"};else{const o=r.offsetLeft+r.clientWidth/2-s.clientWidth/2;e=o<0?{top:t,left:r.offsetLeft+"px",right:"auto"}:{top:t,left:o+"px",right:"auto"}}e&&(this.renderer.setStyle(s,"top",e.top),this.renderer.setStyle(s,"left",e.left),this.renderer.setStyle(s,"right",e.right))}setValue(e){e?(this.value=e,e[this.startKeyHolder]&&this.picker.setStartDate(e[this.startKeyHolder]),e[this.endKeyHolder]&&this.picker.setEndDate(e[this.endKeyHolder]),this.picker.calculateChosenLabel(),this.picker.chosenLabel&&(this.el.nativeElement.value=this.picker.chosenLabel)):this.picker.clear()}}return h.\u0275fac=function(e){return new(e||h)(l.Y36(l.s_b),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.aQg),l.Y36(Bc),l.Y36(l.SBq))},h.\u0275dir=l.lG2({type:h,selectors:[["input","ngxDaterangepickerMd",""]],hostVars:1,hostBindings:function(e,t){1&e&&l.NdJ("click",function(r){return t.outsideClick(r)},!1,l.evT)("keyup.esc",function(r){return t.hide(r)})("blur",function(){return t.onBlur()})("keyup",function(r){return t.inputChanged(r)})("click",function(r){return t.open(r)}),2&e&&l.Ikx("disabled",t.disabled)},inputs:{minDate:"minDate",maxDate:"maxDate",autoApply:"autoApply",alwaysShowCalendars:"alwaysShowCalendars",showCustomRangeLabel:"showCustomRangeLabel",linkedCalendars:"linkedCalendars",dateLimit:"dateLimit",singleDatePicker:"singleDatePicker",showWeekNumbers:"showWeekNumbers",showISOWeekNumbers:"showISOWeekNumbers",showDropdowns:"showDropdowns",isInvalidDate:"isInvalidDate",isCustomDate:"isCustomDate",isTooltipDate:"isTooltipDate",showClearButton:"showClearButton",customRangeDirection:"customRangeDirection",ranges:"ranges",opens:"opens",drops:"drops",firstMonthDayClass:"firstMonthDayClass",lastMonthDayClass:"lastMonthDayClass",emptyWeekRowClass:"emptyWeekRowClass",emptyWeekColumnClass:"emptyWeekColumnClass",firstDayOfNextMonthClass:"firstDayOfNextMonthClass",lastDayOfPreviousMonthClass:"lastDayOfPreviousMonthClass",keepCalendarOpeningWithRange:"keepCalendarOpeningWithRange",showRangeLabelOnInput:"showRangeLabelOnInput",showCancel:"showCancel",lockStartDate:"lockStartDate",timePicker:"timePicker",timePicker24Hour:"timePicker24Hour",timePickerIncrement:"timePickerIncrement",timePickerSeconds:"timePickerSeconds",closeOnAutoApply:"closeOnAutoApply",endKeyHolder:"endKeyHolder",startKey:"startKey",locale:"locale",endKey:"endKey"},outputs:{onChange:"change",rangeClicked:"rangeClicked",datesUpdated:"datesUpdated",startDateChanged:"startDateChanged",endDateChanged:"endDateChanged",clearClicked:"clearClicked"},features:[l._Bn([{provide:Be.JU,useExisting:(0,l.Gpc)(()=>h),multi:!0}]),l.TTD]}),h})(),n1=(()=>{class h{constructor(){}static forRoot(e={}){return{ngModule:h,providers:[{provide:Hm,useValue:e},{provide:Bc,useClass:Bc,deps:[Hm]}]}}}return h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({providers:[],imports:[[x.ez,Be.u5,Be.UX]]}),h})();var o1=I(48983),Nm=I(34055),a1=I(69565),Nr=I(12236),l1=I(13555),x_=I(23123),zc=I(41840),$s=I(26266),Vc=I(50387),gt=I(53199),h1=I(83620);let ja=(()=>{var h;class i{constructor(){(0,_.Z)(this,"_pages",[])}setPages(t){this._pages=t}setPage(t,s){const r=this._pages.find(o=>o.id===t);r&&(r.json=s)}setApprovalPage(t){const s=this._pages.find(r=>r.key===gt.Yh.APPROVAL);s&&(s.json=t)}getPages(){return this._pages}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)}),(0,_.Z)(i,"\u0275prov",l.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})),i})();var Mo=I(99424),dh=I(22875),d1=I(28014),Bm=I(32925),zm=I(53965),c1=I(38057),P_=I(75359),p1=I(96760);function u1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div")(1,"i",59),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw(3).index,o=l.oxw();return l.KtG(o.onToggleWarrantyProvisionEditing(s,r))}),l.qZA(),l.TgZ(2,"i",60),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(3).index,r=l.oxw();return l.KtG(r.onDeleteWarrentyProvision(s))}),l.qZA()()}}function f1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",12)(1,"p-checkbox",55),l.NdJ("onChange",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())}),l.qZA(),l.TgZ(2,"div",56),l.NdJ("mouseenter",function(){l.CHM(e);const s=l.oxw(2).index,r=l.oxw();return l.KtG(r.onToggleWarrantyProvisionHovering(s))})("mouseleave",function(){l.CHM(e);const s=l.oxw(2).index,r=l.oxw();return l.KtG(r.onToggleWarrantyProvisionHovering(s))}),l.TgZ(3,"label",57),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw(2).index,o=l.oxw();return l.KtG(o.onToggleWarrantyProvisionEditing(s,r))}),l._uU(4),l.qZA(),l.YNc(5,u1,3,0,"div",58),l.qZA()()}if(2&h){const e=l.oxw(2).index,t=l.oxw();l.xp6(1),l.Q6J("binary",!0),l.xp6(1),l.ekj("checkbox-hovered",t.isHoverWarrentyProvision(e)),l.xp6(1),l.ekj("ms-3",!t.isHoverWarrentyProvision(e)),l.xp6(1),l.hij(" ",t.warrantyProvisionItemValue(e)," "),l.xp6(1),l.Q6J("ngIf",t.isHoverWarrentyProvision(e))}}function m1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",61),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.ontextAreaClick(s))}),l.TgZ(1,"textarea",62),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())})("change",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())}),l._uU(2,"                                    "),l.qZA()()}}function v1(h,i){if(1&h&&(l.TgZ(0,"div",52),l.YNc(1,f1,6,7,"div",53),l.YNc(2,m1,3,0,"ng-template",null,54,l.W1O),l.qZA()),2&h){const e=l.MAs(3),t=l.oxw().index,s=l.oxw();l.xp6(1),l.Q6J("ngIf",!s.isEditingWarrentyProvision(t))("ngIfElse",e)}}function g1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div")(1,"i",59),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw(3).index,o=l.oxw();return l.KtG(o.onToggleWarrantyProvisionEditing(s,r))}),l.qZA(),l.TgZ(2,"i",60),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(3).index,r=l.oxw();return l.KtG(r.onDeleteWarrentyProvision(s))}),l.qZA()()}}function y1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",12)(1,"p-checkbox",55),l.NdJ("onChange",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())}),l.qZA(),l.TgZ(2,"div",56),l.NdJ("mouseenter",function(){l.CHM(e);const s=l.oxw(2).index,r=l.oxw();return l.KtG(r.onToggleWarrantyProvisionHovering(s))})("mouseleave",function(){l.CHM(e);const s=l.oxw(2).index,r=l.oxw();return l.KtG(r.onToggleWarrantyProvisionHovering(s))}),l.TgZ(3,"label",57),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw(2).index,o=l.oxw();return l.KtG(o.onToggleWarrantyProvisionEditing(s,r))}),l._uU(4),l.qZA(),l.YNc(5,g1,3,0,"div",58),l.qZA()()}if(2&h){const e=l.oxw(2).index,t=l.oxw();l.xp6(1),l.Q6J("binary",!0),l.xp6(1),l.ekj("checkbox-hovered",t.isHoverWarrentyProvision(e)),l.xp6(1),l.ekj("ms-3",!t.isHoverWarrentyProvision(e)),l.xp6(1),l.hij(" ",t.warrantyProvisionItemValue(e)," "),l.xp6(1),l.Q6J("ngIf",t.isHoverWarrentyProvision(e))}}function b1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",61),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw(3);return l.KtG(r.ontextAreaClick(s))}),l.TgZ(1,"textarea",62),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())})("change",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())}),l._uU(2,"                                    "),l.qZA()()}}function C1(h,i){if(1&h&&(l.TgZ(0,"div",52),l.YNc(1,y1,6,7,"div",53),l.YNc(2,b1,3,0,"ng-template",null,54,l.W1O),l.qZA()),2&h){const e=l.MAs(3),t=l.oxw().index,s=l.oxw();l.xp6(1),l.Q6J("ngIf",!s.isEditingWarrentyProvision(t))("ngIfElse",e)}}function _1(h,i){if(1&h&&(l.ynx(0,50),l.YNc(1,v1,4,2,"div",51),l.YNc(2,C1,4,2,"div",51),l.BQk()),2&h){const e=i.index,t=l.oxw();l.Q6J("formGroupName",e),l.xp6(1),l.Q6J("ngIf",t.seeLess&&e<2),l.xp6(1),l.Q6J("ngIf",!t.seeLess)}}function w1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"p-dropdown",63),l.NdJ("onChange",function(s){l.CHM(e);const r=l.oxw();return l.KtG(r.onSignedByChange(s))}),l.qZA()}if(2&h){const e=l.oxw();l.Q6J("options",e.users)("showClear",!0)}}function S1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"input",64),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.autoSaveEvent())})("change",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.autoSaveEvent())}),l.qZA()}}function x1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div")(1,"i",59),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.onToggleApprovalStatementEditing(s))}),l.qZA()()}}function P1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div")(1,"div",65),l._uU(2,"Approval Statement"),l.qZA(),l.TgZ(3,"div",66)(4,"p-checkbox",55),l.NdJ("onChange",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.autoSaveEvent())}),l.qZA(),l.TgZ(5,"div",56),l.NdJ("mouseenter",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.onToggleApprovalStatementHover())})("mouseleave",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.onToggleApprovalStatementHover())}),l.TgZ(6,"label",57),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw();return l.KtG(r.onToggleApprovalStatementEditing(s))}),l._uU(7),l.qZA(),l.YNc(8,x1,2,0,"div",58),l.qZA()()()}if(2&h){const e=l.oxw();l.xp6(4),l.Q6J("binary",!0),l.xp6(1),l.ekj("checkbox-hovered",e.isHoverApprovalStatement),l.xp6(1),l.ekj("ms-3",!e.isHoverApprovalStatement),l.xp6(1),l.hij(" ",e.approvalForm.get("approvalStatement").get("content").value," "),l.xp6(1),l.Q6J("ngIf",e.isHoverApprovalStatement)}}function T1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",61),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw();return l.KtG(r.ontextAreaClick(s))}),l.TgZ(1,"textarea",62),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.autoSaveEvent())})("change",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.autoSaveEvent())}),l._uU(2,"                        "),l.qZA()()}}let T_=(()=>{var h;class i{constructor(t,s,r,o,a,d,c,p){(0,_.Z)(this,"_fb",void 0),(0,_.Z)(this,"router",void 0),(0,_.Z)(this,"notify",void 0),(0,_.Z)(this,"_quotePagesStoreService",void 0),(0,_.Z)(this,"_quoteService",void 0),(0,_.Z)(this,"_userServiceProxy",void 0),(0,_.Z)(this,"_commonBroadcastService",void 0),(0,_.Z)(this,"_quoteImageService",void 0),(0,_.Z)(this,"quoteId",""),(0,_.Z)(this,"quote",void 0),(0,_.Z)(this,"quoteDetailId",""),(0,_.Z)(this,"title","Approval"),(0,_.Z)(this,"enabled",!0),(0,_.Z)(this,"json",""),(0,_.Z)(this,"approvalForm",void 0),(0,_.Z)(this,"disableGeneratePdfBtn",!1),(0,_.Z)(this,"quoteSignatureImage",null),(0,_.Z)(this,"seeLess",!1),(0,_.Z)(this,"users",[]),(0,_.Z)(this,"autoSaveSubject",new fe.x),this._fb=t,this.router=s,this.notify=r,this._quotePagesStoreService=o,this._quoteService=a,this._userServiceProxy=d,this._commonBroadcastService=c,this._quoteImageService=p,this.approvalForm=t.group({ProjectDetails:t.group({projectType:[""],projectNumber:[""],workCommencementDateFromTo:[null],workCommencementDateFromFrom:[null],workCompletionDateFromTo:[null],workCompletionDateFromFrom:[null]}),BrandInformation:t.group({manufacturerOrBrandName:[""],colorOptions:[""]}),FinancialWarrantyProvisions:t.array([t.group({checked:[!0],content:["A 25 per cent deposit required to the start of the project. The rest of the payment is due upon job completion"],isEditing:[!1],isHover:[!1]}),t.group({checked:[!0],content:["We reserve the right to revoke this quotation if it is not accepted within 15 days from the date of issuance"],isEditing:[!1],isHover:[!1]}),t.group({checked:[!0],content:["This roofing contract includes a comprehensive warranty that covers all materials and workmanship for a period of 10 years from the date of installation, ensuring that any defects or failures directly related to our service will be repaired at no additional cost to the homeowner."],isEditing:[!1],isHover:[!1]})]),AuthorizedSigner:t.group({name:[""],lastName:[""],phone:[""],email:[""],signedBy:[""],date:[null]}),approvalStatement:t.group({checked:[!0],content:["By signing below, I, [Client Name], hereby accept the terms of the proposal presented for the roofing project. I acknowledge that I have read, understand, and agree to the terns and conditions, project scope and payment schedule as outlined in the accompanying documents. I authorize [Company Name] to proceed with the services as specified. "],isEditing:[!1],isHover:[!1]})}),this.autoSaveSubject.pipe((0,h1.b)(4e3)).subscribe(()=>{this.autoSaveEvent()})}ngOnInit(){this.json?this.populatePage():this._quoteService.generateQuoteNumber().subscribe(t=>{this.approvalForm.get("ProjectDetails").get("projectNumber").patchValue(t)}),this.quoteId&&this.getQuoteByIdIncludesTbl(),this.getUsers()}getQuoteNumber(){this.quote&&this.approvalForm.get("ProjectDetails").get("projectNumber").patchValue(this.quote.number)}autoSaveEvent(t=""){if("quoteNumber"==t){const s=this.approvalForm.get("ProjectDetails");this._quoteService.updateQuoteNumber(this.quoteId,s.get("projectNumber").value).subscribe(r=>{this._commonBroadcastService.BroadcastEvent($s.u.autoSaveBroadcast,gt.Yh.APPROVAL)})}else this._commonBroadcastService.BroadcastEvent($s.u.autoSaveBroadcast,gt.Yh.APPROVAL)}ngOnDestroy(){}get warrantyProvisions(){return this.approvalForm.get("FinancialWarrantyProvisions")}warrantyProvisionItemValue(t){return this.warrantyProvisions.at(t).get("content").value}onTopContainerClick(){for(let s of this.warrantyProvisions.controls)s.get("isEditing").setValue(!1),s.get("isHover").setValue(!1);const t=this.approvalForm.get("approvalStatement");t.get("isEditing").setValue(!1),t.get("isHover").setValue(!1)}onToggleWarrantyProvisionEditing(t,s){t.stopPropagation();const r=this.warrantyProvisions.at(s).get("isEditing");r.setValue(!r.value)}ontextAreaClick(t){t.stopPropagation()}onToggleWarrantyProvisionHovering(t){const s=this.warrantyProvisions.at(t).get("isHover");s.setValue(!s.value)}onDeleteWarrentyProvision(t){this.warrantyProvisions.controls.splice(t,1)}isEditingWarrentyProvision(t){return this.warrantyProvisions.at(t).get("isEditing").value}isHoverWarrentyProvision(t){return this.warrantyProvisions.at(t).get("isHover").value}get isHoverApprovalStatement(){return this.approvalForm.get("approvalStatement").get("isHover").value}get isEditApprovalStatement(){return this.approvalForm.get("approvalStatement").get("isEditing").value}addWarrantyProvision(){this.seeLess=!1,4!==this.warrantyProvisions.length&&this.warrantyProvisions.push(this._fb.group({checked:[!0],content:["Label value"],isEditing:[!1],isHover:[!1]}))}onSaveSignature(t){const s=this.dataURLtoFile(t,"signature.jpg"),r=new FormData;r.append("File",s),this._quoteImageService.UploadQuoteImageSignatureFile(this.quoteId,r).subscribe({next:o=>{this.notify.success("Saved Successfully"),!this.quoteId&&o.result.quoteId&&(this.quoteId=o.result.quoteId,this.router.navigateByUrl(`/app/main/quotes/${this.quoteId}`))}})}onSignedByChange(t){this.approvalForm.get("AuthorizedSigner").get("signedBy").setValue(t.value),this.autoSaveEvent()}getJSON(){const t=this.approvalForm.value,s=t.FinancialWarrantyProvisions;for(let a of s)delete a.isEditing,delete a.isHover;const r=t.approvalStatement;delete r.isEditing,delete r.isHover;const o=t.AuthorizedSigner.signedBy;return t.AuthorizedSigner.signedBy=null==o?void 0:o.id,JSON.stringify(t)}onToggleApprovalStatementHover(){const t=this.approvalForm.get("approvalStatement").get("isHover");t.setValue(!t.value)}onToggleApprovalStatementEditing(t){t.stopImmediatePropagation();const s=this.approvalForm.get("approvalStatement").get("isEditing");s.setValue(!s.value)}populatePage(t=""){var s;s=t?JSON.parse(t):JSON.parse(this.json),this.approvalForm.patchValue(s);const r=this.approvalForm.get("ProjectDetails"),{workCommencementDateFromTo:o,workCommencementDateFromFrom:a,workCompletionDateFromTo:d,workCompletionDateFromFrom:c}=s.ProjectDetails;o&&r.get("workCommencementDateFromTo").patchValue(new Date(o)),a&&r.get("workCommencementDateFromFrom").patchValue(new Date(a)),d&&r.get("workCompletionDateFromTo").patchValue(new Date(d)),c&&r.get("workCompletionDateFromFrom").patchValue(new Date(c));const p=s.AuthorizedSigner.date;p&&this.approvalForm.get("AuthorizedSigner").get("date").patchValue(new Date(p)),r.get("projectNumber").value||setTimeout(()=>{this.getQuoteNumber()},100)}dataURLtoFile(t,s){let r=t.split(","),o=r[0].match(/:(.*?);/)[1],a=atob(r[r.length-1]),d=a.length,c=new Uint8Array(d);for(;d--;)c[d]=a.charCodeAt(d);return new File([c],s,{type:o})}getUsers(){const t=new $e.Yod;this._userServiceProxy.getUsers(t).subscribe(s=>{this.users=s.items;const r=this.approvalForm.get("AuthorizedSigner").get("signedBy");if(r.value){const o=this.users.find(a=>a.id===r.value);r.setValue(o)}else 1===this.users.length&&r.setValue(this.users[0].name)})}getQuoteByIdIncludesTbl(){this._quoteService.getQuoteByIdIncludesTbl(this.quoteId).subscribe({next:t=>{const{clientPhone:s,clientEmail:r,clientName:o,signatureImageNamePath:a}=t,d=null==o?void 0:o.split(" ");(d||r||s)&&this.approvalForm.patchValue({AuthorizedSigner:{name:d?d[0]:"",lastName:d?d[1]:"",phone:s,email:r}}),a.includes(".")&&(this.quoteSignatureImage=a)}})}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(Be.qu),l.Y36(Nr.F0),l.Y36(Vc.c),l.Y36(ja),l.Y36($e.k_Y),l.Y36($e.wKd),l.Y36(Mo.C),l.Y36(dh.Y))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["app-project-approval"]],inputs:{quoteId:"quoteId",quote:"quote",quoteDetailId:"quoteDetailId",title:"title",enabled:"enabled",json:"json"},decls:95,vars:12,consts:[[1,"quote-page-container",3,"click"],[1,"content","mt-3"],[3,"formGroup"],[1,"mb-1","heading"],["formGroupName","ProjectDetails"],[1,"d-flex","mb-3"],[1,"flex-fill","me-4"],["for","type"],["id","type","type","text","formControlName","projectType",1,"form-control",3,"change","keyup.enter"],[1,"flex-fill"],["for","projectNumber"],["id","projectNumber","type","text","formControlName","projectNumber",1,"form-control",3,"change","keyup.enter"],[1,"d-flex"],[1,"d-flex","align-items-center","approval-dates"],["formControlName","workCommencementDateFromTo",1,"me-3",3,"showIcon","onSelect"],[1,"me-3"],["formControlName","workCommencementDateFromFrom",3,"showIcon","onSelect"],["formControlName","workCompletionDateFromTo",1,"me-3",3,"showIcon","onSelect"],["formControlName","workCompletionDateFromFrom",3,"showIcon","onSelect"],[1,"mb-1","mt-3","heading"],["formGroupName","BrandInformation",1,"d-flex","mb-3"],["for","brand"],["id","brand","type","text","formControlName","manufacturerOrBrandName",1,"form-control",3,"keyup.enter","change"],["for","color"],["id","color","formControlName","colorOptions",1,"form-control",3,"change"],["formArrayName","FinancialWarrantyProvisions",1,"d-flex","flex-column"],[3,"formGroupName",4,"ngFor","ngForOf"],["formGroupName","AuthorizedSigner"],["for","firstName"],["id","firstName","type","text","formControlName","name",1,"form-control",3,"keyup.enter","change"],["for","lastName"],["id","lastName","type","text","formControlName","lastName",1,"form-control",3,"keyup.enter","change"],["for","phone"],["id","phone","type","text","formControlName","phone",1,"form-control",3,"keyup.enter","change"],["for","email"],["id","email","type","email","formControlName","email",1,"form-control",3,"keyup.enter","change"],[1,"w-50","signature-section","me-3"],[1,"mt-3"],[3,"image","onEndEvent","signatureSaved"],[1,"w-50"],["for","signedBy"],["class","w-100 full-width-dropdown","formControlName","signedBy","optionLabel","name","placeholder","Signed By",3,"options","showClear","onChange",4,"ngIf","ngIfElse"],["singleUser",""],[1,"d-flex","flex-column","mt-3"],["for","date"],[1,"flex-fill","approval-dates","approval-form-signature-date"],["formControlName","date",3,"showIcon","onSelect"],["formGroupName","approvalStatement"],[4,"ngIf","ngIfElse"],["editApprovalStatement",""],[3,"formGroupName"],["class","d-flex mb-2 approval-statement-checkbox",4,"ngIf"],[1,"d-flex","mb-2","approval-statement-checkbox"],["class","d-flex",4,"ngIf","ngIfElse"],["editWarrantyProvision",""],["formControlName","checked",3,"binary","onChange"],[1,"d-flex","align-items-center",3,"mouseenter","mouseleave"],[1,"cursor-pointer",3,"click"],[4,"ngIf"],[1,"fa-solid","fa-pencil","cursor-pointer","ms-3","edit-icon",3,"click"],[1,"fa-regular","fa-trash-can","cursor-pointer","text-danger","ms-3","edit-icon",3,"click"],[1,"d-flex","align-items-start","w-75",3,"click"],["type","text","autoFocus","","formControlName","content",1,"form-control",3,"keyup.enter","change"],["formControlName","signedBy","optionLabel","name","placeholder","Signed By",1,"w-100","full-width-dropdown",3,"options","showClear","onChange"],["id","signedBy","type","text","formControlName","signedBy",1,"form-control",3,"keyup.enter","change"],[1,"mb-3","heading"],[1,"d-flex","align-items-start"]],template:function(t,s){if(1&t&&(l.TgZ(0,"div",0),l.NdJ("click",function(){return s.onTopContainerClick()}),l.TgZ(1,"section",1)(2,"form",2)(3,"div",3),l._uU(4,"Project Details"),l.qZA(),l.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),l._uU(9,"Project Type"),l.qZA(),l.TgZ(10,"input",8),l.NdJ("change",function(){return s.autoSaveEvent()})("keyup.enter",function(){return s.autoSaveEvent()}),l.qZA()(),l.TgZ(11,"div",9)(12,"label",10),l._uU(13,"Quote Number"),l.qZA(),l.TgZ(14,"input",11),l.NdJ("change",function(){return s.autoSaveEvent("quoteNumber")})("keyup.enter",function(){return s.autoSaveEvent()}),l.qZA()()(),l.TgZ(15,"div",12)(16,"div",6)(17,"label"),l._uU(18,"Work Commencement date (from to)"),l.qZA(),l.TgZ(19,"div",13)(20,"p-calendar",14),l.NdJ("onSelect",function(){return s.autoSaveEvent()}),l.qZA(),l.TgZ(21,"div",15),l._uU(22,"to"),l.qZA(),l.TgZ(23,"p-calendar",16),l.NdJ("onSelect",function(){return s.autoSaveEvent()}),l.qZA()()(),l.TgZ(24,"div",9)(25,"label"),l._uU(26,"Estimated Completion date (from to)"),l.qZA(),l.TgZ(27,"div",13)(28,"p-calendar",17),l.NdJ("onSelect",function(){return s.autoSaveEvent()}),l.qZA(),l.TgZ(29,"div",15),l._uU(30,"to"),l.qZA(),l.TgZ(31,"p-calendar",18),l.NdJ("onSelect",function(){return s.autoSaveEvent()}),l.qZA()()()()(),l._UZ(32,"p-divider"),l.TgZ(33,"div",19),l._uU(34,"Brand Information"),l.qZA(),l.TgZ(35,"div",20)(36,"div",6)(37,"label",21),l._uU(38,"Manufacturer or brand name"),l.qZA(),l.TgZ(39,"input",22),l.NdJ("keyup.enter",function(){return s.autoSaveEvent()})("change",function(){return s.autoSaveEvent()}),l.qZA()(),l.TgZ(40,"div",9)(41,"label",23),l._uU(42,"Color Options"),l.qZA(),l.TgZ(43,"input",24),l.NdJ("change",function(){return s.autoSaveEvent()}),l.qZA()()(),l._UZ(44,"p-divider"),l.TgZ(45,"div",19),l._uU(46,"Financial and warranty Provisions"),l.qZA(),l.TgZ(47,"div")(48,"div",25),l.YNc(49,_1,3,3,"ng-container",26),l.qZA()(),l._UZ(50,"p-divider"),l.TgZ(51,"div",3),l._uU(52,"Authorized Signer"),l.qZA(),l.TgZ(53,"div",27)(54,"div",5)(55,"div",6)(56,"label",28),l._uU(57,"First Name"),l.qZA(),l.TgZ(58,"input",29),l.NdJ("keyup.enter",function(){return s.autoSaveEvent()})("change",function(){return s.autoSaveEvent()}),l.qZA()(),l.TgZ(59,"div",9)(60,"label",30),l._uU(61,"Last Name"),l.qZA(),l.TgZ(62,"input",31),l.NdJ("keyup.enter",function(){return s.autoSaveEvent()})("change",function(){return s.autoSaveEvent()}),l.qZA()()(),l.TgZ(63,"div",5)(64,"div",6)(65,"label",32),l._uU(66,"Phone"),l.qZA(),l.TgZ(67,"input",33),l.NdJ("keyup.enter",function(){return s.autoSaveEvent()})("change",function(){return s.autoSaveEvent()}),l.qZA()(),l.TgZ(68,"div",9)(69,"label",34),l._uU(70,"Email"),l.qZA(),l.TgZ(71,"input",35),l.NdJ("keyup.enter",function(){return s.autoSaveEvent()})("change",function(){return s.autoSaveEvent()}),l.qZA()()(),l.TgZ(72,"div",5)(73,"div",36)(74,"label",28),l._uU(75,"Signature Section"),l.qZA(),l.TgZ(76,"div",37)(77,"signature-pad",38),l.NdJ("onEndEvent",function(o){return s.onSaveSignature(o)})("signatureSaved",function(o){return s.onSaveSignature(o)}),l.qZA()()(),l.TgZ(78,"div",39)(79,"div")(80,"label",40),l._uU(81,"Signed By"),l.qZA(),l.YNc(82,w1,1,2,"p-dropdown",41),l.YNc(83,S1,1,0,"ng-template",null,42,l.W1O),l.qZA(),l.TgZ(85,"div",43)(86,"label",44),l._uU(87,"Date"),l.qZA(),l.TgZ(88,"div",45)(89,"p-calendar",46),l.NdJ("onSelect",function(){return s.autoSaveEvent()}),l.qZA()()()()()(),l._UZ(90,"p-divider"),l.ynx(91,47),l.YNc(92,P1,9,7,"div",48),l.YNc(93,T1,3,0,"ng-template",null,49,l.W1O),l.BQk(),l.qZA()()()),2&t){const r=l.MAs(84),o=l.MAs(94);l.xp6(2),l.Q6J("formGroup",s.approvalForm),l.xp6(18),l.Q6J("showIcon",!0),l.xp6(3),l.Q6J("showIcon",!0),l.xp6(5),l.Q6J("showIcon",!0),l.xp6(3),l.Q6J("showIcon",!0),l.xp6(18),l.Q6J("ngForOf",s.warrantyProvisions.controls),l.xp6(28),l.Q6J("image",s.quoteSignatureImage),l.xp6(5),l.Q6J("ngIf",s.users.length>1)("ngIfElse",r),l.xp6(7),l.Q6J("showIcon",!0),l.xp6(3),l.Q6J("ngIf",!s.isEditApprovalStatement)("ngIfElse",o)}},dependencies:[x.sg,x.O5,Be._Y,Be.Fj,Be.JJ,Be.JL,d1.l,Bm.h,zm.Lt,c1.XZ,Be.sg,Be.u,Be.x0,Be.CE,P_.i,p1.f],styles:[".quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{color:#4e6685;font-size:1.23rem;background-color:#fff;border-radius:12px;padding:1.72rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-weight:500}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   p-checkbox[_ngcontent-%COMP%]{font-size:1rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-icon[_ngcontent-%COMP%]{color:#2d69f6}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-done[_ngcontent-%COMP%]{padding:7px 7px 5px;border-radius:4px;box-shadow:0 1px 3px 1px #00000026,0 1px 2px #0000004d;background-color:#fff;outline:none;border:none;margin-left:1rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-done[_ngcontent-%COMP%]:hover{background-color:#ededed}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-done[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;display:flex;align-items:center}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .signature-section[_ngcontent-%COMP%]{font-size:1rem;width:26%}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{padding:4px 10px!important;background:#fff;margin-top:1rem;font-size:1rem;color:#4e6685}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .checkbox-hovered[_ngcontent-%COMP%]{background-color:#f3f1f8;border-radius:4px;padding:1px 30px 1px 12px;word-break:break-word;margin-left:.7rem}"]})),i})();const k1=["uploadFilesField"];function L1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",4),l.NdJ("drop",function(s){l.CHM(e);const r=l.oxw();return l.KtG(r.onDrop(s))})("dragover",function(s){l.CHM(e);const r=l.oxw();return l.KtG(r.onDragOver(s))})("dragleave",function(s){l.CHM(e);const r=l.oxw();return l.KtG(r.onDragLeave(s))}),l._UZ(1,"img",5),l.TgZ(2,"div",6),l._uU(3,"Drag & drop PDF here"),l.qZA(),l.TgZ(4,"div",6),l._uU(5,"or"),l.qZA(),l.TgZ(6,"input",7,8),l.NdJ("change",function(){l.CHM(e);const s=l.MAs(7),r=l.oxw();return l.KtG(r.fileBrowseHandler(s))}),l.qZA(),l.TgZ(8,"button",9),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.onUploadFromComputer())}),l._uU(9,"Upload from computer"),l.qZA()()}2&h&&(l.xp6(6),l.Q6J("accept",".pdf"))}function O1(h,i){if(1&h){const e=l.EpF();l._UZ(0,"img",10),l.TgZ(1,"button",11),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.removePdf())}),l._UZ(2,"i",12),l.qZA()}if(2&h){const e=l.oxw();l.hYB("src","",e.baseUrl,"/",e.pdf.thumbnailFile,"",l.LSH)}}let k_=(()=>{var h;class i{constructor(t,s,r){(0,_.Z)(this,"_quotePagesStoreService",void 0),(0,_.Z)(this,"_commonBroadcastService",void 0),(0,_.Z)(this,"_quoteImageService",void 0),(0,_.Z)(this,"quoteDetailId",""),(0,_.Z)(this,"quoteId",""),(0,_.Z)(this,"title","Attach Pdf"),(0,_.Z)(this,"enabled",!0),(0,_.Z)(this,"json",null),(0,_.Z)(this,"uploadFilesField",void 0),(0,_.Z)(this,"disableGeneratePdfBtn",!1),(0,_.Z)(this,"pdf",null),(0,_.Z)(this,"baseUrl",Lo.N.remoteServiceBaseUrl),this._quotePagesStoreService=t,this._commonBroadcastService=s,this._quoteImageService=r}ngOnInit(){this.json&&(this.pdf=JSON.parse(this.json))}ngOnDestroy(){}autoSaveEvent(){this._commonBroadcastService.BroadcastEvent($s.u.autoSaveBroadcast,gt.Yh.ATTACH_PDF)}removePdf(){this.pdf=null,this.autoSaveEvent()}onUploadFromComputer(){this.uploadFilesField.nativeElement.value="",this.uploadFilesField.nativeElement.click()}fileBrowseHandler(t){const s=t.files.item(0);this.uploadFile(s)}getJSON(){return this.pdf?JSON.stringify({pdfDoc:this.pdf.pdfDoc,thumbnailFile:this.pdf.thumbnailFile}):JSON.stringify(null)}onDrop(t){t.preventDefault(),t.stopPropagation();const s=t.dataTransfer.files[0];"application/pdf"===s.type&&this.uploadFile(s)}onDragOver(t){t.preventDefault(),t.stopPropagation()}onDragLeave(t){t.preventDefault(),t.stopPropagation()}uploadFile(t){const s=new FormData;s.append("File",t),s.append("quoteId",this.quoteId),s.append("quoteDetailId",this.quoteDetailId),this._quoteImageService.uploadQuotePdf(s).subscribe(r=>{this.pdf={pdfDoc:r.result.pdfFileName,thumbnailFile:r.result.thumbImg},this.autoSaveEvent()})}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(ja),l.Y36(Mo.C),l.Y36(dh.Y))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["app-attach-pdf"]],viewQuery:function(t,s){if(1&t&&l.Gf(k1,5),2&t){let r;l.iGM(r=l.CRH())&&(s.uploadFilesField=r.first)}},inputs:{quoteDetailId:"quoteDetailId",quoteId:"quoteId",title:"title",enabled:"enabled",json:"json"},decls:5,vars:2,consts:[[1,"quote-page-container"],[1,"content","d-flex","justify-content-center","mt-3"],["class","d-flex justify-content-center align-items-center flex-column upload-pdf-container",3,"drop","dragover","dragleave",4,"ngIf","ngIfElse"],["pdfThumbnail",""],[1,"d-flex","justify-content-center","align-items-center","flex-column","upload-pdf-container",3,"drop","dragover","dragleave"],["src","/assets/common/images/pdf-img.png","alt","Choose pdf",1,"mb-10"],[1,"mb-3"],["hidden","","type","file",3,"accept","change"],["uploadFilesField",""],[1,"btn","btn-primary",3,"click"],["alt","Attached pdf thumbnail",1,"pdf-thumbnail",3,"src"],[1,"btn","btn-danger","btn-remove-upload",3,"click"],[1,"fa-regular","fa-trash-can"]],template:function(t,s){if(1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,L1,10,1,"div",2),l.YNc(3,O1,3,2,"ng-template",null,3,l.W1O),l.qZA()()),2&t){const r=l.MAs(4);l.xp6(2),l.Q6J("ngIf",!s.pdf)("ngIfElse",r)}},dependencies:[x.O5],styles:[".quote-page-container[_ngcontent-%COMP%]{height:calc(100% - 170px)}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{background-color:#fff;color:#4e6685;font-size:1.23rem;position:relative;align-items:center;border-radius:12px;padding:12px;height:100%}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .upload-pdf-container[_ngcontent-%COMP%]{border:3px dashed #e9ebed;border-radius:10px;width:75%;padding:4rem 0;background-color:#f5f8ff}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .pdf-thumbnail[_ngcontent-%COMP%]{border:1px solid #f3f3f3;width:40%;height:calc(100% - 4rem);margin:2rem 0;object-fit:contain}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-remove-upload[_ngcontent-%COMP%]{padding:13px 8px!important;position:absolute;right:32%;top:3rem;display:flex}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .btn-remove-upload[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding-right:0!important}"]})),i})();var L_=I(26860),Vm=I(97680),M1=I(15861),A1=I(21480),I1=I(69862),E1=I(45513);function D1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"li",10)(1,"a",15),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.imageAnalysis())}),l.TgZ(2,"span",12),l._UZ(3,"i",23),l._uU(4," Image Analysis "),l.qZA()()()}if(2&h){const e=l.oxw();l.xp6(1),l.Q6J("buttonBusy",e.runingImageAnalysis)}}function j1(h,i){1&h&&(l.TgZ(0,"span"),l._uU(1," Speech"),l.qZA())}function R1(h,i){1&h&&(l.TgZ(0,"span"),l._uU(1," Stop"),l.qZA())}function Y1(h,i){1&h&&(l.TgZ(0,"span"),l._uU(1," Processing"),l.qZA())}let O_=(()=>{var h;class i extends zc.c{constructor(t,s,r,o){super(t),(0,_.Z)(this,"openApiService",void 0),(0,_.Z)(this,"_commonBroadcastService",void 0),(0,_.Z)(this,"http",void 0),(0,_.Z)(this,"runingEnglish",!1),(0,_.Z)(this,"runingArticale",!1),(0,_.Z)(this,"runingrammar",!1),(0,_.Z)(this,"runingSpeech",!1),(0,_.Z)(this,"runingImageAnalysis",!1),(0,_.Z)(this,"inputText",""),(0,_.Z)(this,"inputTextValue",void 0),(0,_.Z)(this,"hasOpenAiIntegration",!1),(0,_.Z)(this,"speechToTextLoader",!1),(0,_.Z)(this,"speechToTextAPILoader",!1),(0,_.Z)(this,"record",void 0),(0,_.Z)(this,"baseUrl",void 0),(0,_.Z)(this,"imageAnalysisButton",!1),(0,_.Z)(this,"analysisImageName",""),(0,_.Z)(this,"processRecording",a=>{const d=new FormData;d.append("file",a),this.speechToTextAPILoader=!0,this.speechToTextLoader=!0,this.http.post(this.baseUrl+"/Home/TranscribeAudioToText",d).subscribe(c=>{this.sentResponse(c.result.message),this.speechToTextLoader=!1,this.speechToTextAPILoader=!1},c=>{this.runingSpeech=!1,this.message.error(c.error),this.speechToTextLoader=!1,this.speechToTextAPILoader=!1})}),this.openApiService=s,this._commonBroadcastService=r,this.http=o,this.baseUrl=Lo.N.remoteServiceBaseUrl,this.openApiService.getEnabledOrDisabled().subscribe(a=>{this.hasOpenAiIntegration=!0})}ngOnInit(){this._commonBroadcastService.GetEvent($s.u.imageNameBroadcast).subscribe(t=>{this.imageAnalysisButton=!0,this.analysisImageName=t})}ngOnDestroy(){}startRecording(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(s=>{this.record=new(0,A1.StereoAudioRecorder)(s),this.record.record()})}speechToText(){var t=this;return(0,M1.Z)(function*(){t.runingSpeech=!0,t.hasOpenAiIntegration?t.speechToTextLoader?yield t.record.stop(t.processRecording.bind(t)):(t.speechToTextLoader=!0,t.startRecording()):t.message.error("Please do integration of chat GPT from integration page")})()}imageAnalysis(){if(this.analysisImageName&&this.inputText){this.runingImageAnalysis=!0;var t=new $e.jRe;t.description=this.inputText,t.image_Url=this.analysisImageName,this.openApiService.analysisImage(t).subscribe(s=>{this.sentResponse(s.message)},s=>{this.lodingOff()})}}translateEnglish(){if(this.inputTextValue){this.runingEnglish=!0;var t=new $e.$E4;t.description=this.inputTextValue,t.isTranslateEnglish=!0,this.openApiService.updateApiResponse(t).subscribe(s=>{this.sentResponse(s.message)},s=>{this.lodingOff()})}}writeArticale(){if(this.inputText){this.runingArticale=!0;var t=new $e.$E4;t.description=this.inputText,t.isArticle=!0,this.openApiService.updateApiResponse(t).subscribe(s=>{this.sentResponse(s.message)},s=>{this.lodingOff()})}}rightToGrammar(){if(this.inputTextValue){this.runingrammar=!0;var t=new $e.$E4;t.description=this.inputTextValue,t.isGrammar=!0,this.openApiService.updateApiResponse(t).subscribe(s=>{this.sentResponse(s.message)},s=>{this.lodingOff()})}}lodingOff(){this.runingEnglish=!1,this.runingArticale=!1,this.runingrammar=!1,this.runingSpeech=!1,this.runingImageAnalysis=!1}sentResponse(t){this.lodingOff(),this._commonBroadcastService.BroadcastEvent($s.u.chatGptResponseBroadcast,t),this.inputText=""}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(l.zs3),l.Y36($e.cuZ),l.Y36(Mo.C),l.Y36(I1.eN))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["app-ai-section"]],inputs:{inputTextValue:"inputTextValue"},features:[l.qOj],decls:37,vars:8,consts:[[1,"ai-section"],[1,"ai-section-header"],[1,"row"],[1,"col-sm-4"],[1,"d-flex","item"],["src","/assets/common/images/ai-icon.png","alt","",1,"me-2"],[1,"chat-btn"],[1,"col-sm-8","chat-but-area","mt-3"],[1,"list-inline"],["class","list-inline-item",4,"ngIf"],[1,"list-inline-item"],["href","javascript:;",1,"badge","badge-info",3,"click"],[1,"icon"],[1,"fa-solid","fa-microphone-lines"],[4,"ngIf"],["href","javascript:;",1,"badge","badge-info",3,"buttonBusy","click"],[1,"fas","fa-language","mr-2"],[1,"far","fa-newspaper","mr-2"],[1,"list-inline-item","mr-2"],[1,"fas","fa-spell-check","mr-2"],[1,"user-input-section"],["aria-hidden","true",1,"bi","bi-search"],["type","text","placeholder","Generate quote or inspection prompts here",1,"form-control",3,"ngModel","ngModelChange"],[1,"fa-solid","fa-image"]],template:function(t,s){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),l._UZ(5,"img",5),l.TgZ(6,"div",6),l._uU(7,"AI Chat GPT-4"),l.qZA()()(),l.TgZ(8,"div",7)(9,"ul",8),l.YNc(10,D1,5,1,"li",9),l.TgZ(11,"li",10)(12,"a",11),l.NdJ("click",function(){return s.speechToText()}),l.TgZ(13,"span",12),l._UZ(14,"i",13),l.YNc(15,j1,2,0,"span",14),l.YNc(16,R1,2,0,"span",14),l.YNc(17,Y1,2,0,"span",14),l.qZA()()(),l.TgZ(18,"li",10)(19,"a",15),l.NdJ("click",function(){return s.translateEnglish()}),l.TgZ(20,"span",12),l._UZ(21,"i",16),l._uU(22," To English "),l.qZA()()(),l.TgZ(23,"li",10)(24,"a",15),l.NdJ("click",function(){return s.writeArticale()}),l.TgZ(25,"span",12),l._UZ(26,"i",17),l._uU(27," Write Article "),l.qZA()()(),l.TgZ(28,"li",18)(29,"a",15),l.NdJ("click",function(){return s.rightToGrammar()}),l.TgZ(30,"span",12),l._UZ(31,"i",19),l._uU(32," Grammar "),l.qZA()()()()()()(),l.TgZ(33,"div",20)(34,"span"),l._UZ(35,"i",21),l.qZA(),l.TgZ(36,"input",22),l.NdJ("ngModelChange",function(o){return s.inputText=o}),l.qZA()()()),2&t&&(l.xp6(10),l.Q6J("ngIf",s.imageAnalysisButton),l.xp6(5),l.Q6J("ngIf",!s.speechToTextLoader),l.xp6(1),l.Q6J("ngIf",s.speechToTextLoader&&!s.speechToTextAPILoader),l.xp6(1),l.Q6J("ngIf",s.speechToTextAPILoader),l.xp6(2),l.Q6J("buttonBusy",s.runingEnglish),l.xp6(5),l.Q6J("buttonBusy",s.runingArticale),l.xp6(5),l.Q6J("buttonBusy",s.runingrammar),l.xp6(7),l.Q6J("ngModel",s.inputText))},dependencies:[x.O5,Be.Fj,Be.JJ,Be.On,E1.L],styles:[".ai-section[_ngcontent-%COMP%]{background-color:#fff;margin-top:2.28rem;border-radius:12px}.ai-section[_ngcontent-%COMP%]   .ai-section-header[_ngcontent-%COMP%]{background-color:#dcecfe;border-top-right-radius:4px;border-top-left-radius:4px}.ai-section[_ngcontent-%COMP%]   .ai-section-header[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:.71rem 1.14rem}.ai-section[_ngcontent-%COMP%]   .ai-section-header[_ngcontent-%COMP%]   .chat-btn[_ngcontent-%COMP%]{font-size:1.14rem}.ai-section[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:2.51rem .91rem .91rem;position:relative}.ai-section[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;margin-left:15px}.ai-section[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.14rem;color:#c4c8cb}.ai-section[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:2.85rem}.ai-section[_ngcontent-%COMP%]   .user-input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#c4c8cb}.ai-section[_ngcontent-%COMP%]   .chat-but-area[_ngcontent-%COMP%]{text-align:right}.ai-section[_ngcontent-%COMP%]   .list-inline-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important}"]})),i})();const F1=["browseImageField"];function H1(h,i){if(1&h&&l._UZ(0,"img",18),2&h){const e=l.oxw();l.hYB("src","",e.baseUrl,"/Quotes/QDetails/",e.image.fileUniqueName,"",l.LSH)}}function N1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.onRemoveImage(s))}),l._UZ(1,"i",22),l.qZA()}}function B1(h,i){if(1&h&&(l.TgZ(0,"div"),l._UZ(1,"i",19),l.YNc(2,N1,2,0,"button",20),l.qZA()),2&h){const e=l.oxw();l.xp6(2),l.Q6J("ngIf",e.showRemoveImageBtn)}}function z1(h,i){1&h&&l._UZ(0,"p-progressSpinner",23)}function V1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"button",24),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.onEditImage())}),l._UZ(1,"i",25),l.qZA()}}function q1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",26),l._UZ(1,"img",18),l.TgZ(2,"div",27)(3,"div",28)(4,"div",29),l._uU(5),l.qZA(),l._UZ(6,"div",30),l.qZA(),l.TgZ(7,"div",4),l._UZ(8,"p-divider",31),l.TgZ(9,"div",32)(10,"i",33),l.NdJ("click",function(){const r=l.CHM(e).$implicit,o=l.oxw();return l.KtG(o.onEditReport(r))}),l.qZA(),l.TgZ(11,"i",34),l.NdJ("click",function(){const r=l.CHM(e).$implicit,o=l.oxw();return l.KtG(o.onDeleteReport(r))}),l.qZA()()()()()}if(2&h){const e=i.$implicit,t=l.oxw();l.xp6(1),l.hYB("src","",t.baseUrl,"/Quotes/QDetails/",e.image.fileUniqueName,"",l.LSH),l.xp6(4),l.Oqu(e.title),l.xp6(1),l.Q6J("innerHTML",e.description,l.oJD)}}let M_=(()=>{var h;class i{constructor(t,s,r,o,a){(0,_.Z)(this,"_dialogService",void 0),(0,_.Z)(this,"_quotePagesStoreService",void 0),(0,_.Z)(this,"_commonBroadcastService",void 0),(0,_.Z)(this,"_quoteImageService",void 0),(0,_.Z)(this,"quoteDetailId",""),(0,_.Z)(this,"quoteId",""),(0,_.Z)(this,"title","Inspection Report"),(0,_.Z)(this,"enabled",!0),(0,_.Z)(this,"json",""),(0,_.Z)(this,"browseImageField",void 0),(0,_.Z)(this,"image",null),(0,_.Z)(this,"disableGeneratePdfBtn",!1),(0,_.Z)(this,"reports",[]),(0,_.Z)(this,"selectedReport",void 0),(0,_.Z)(this,"baseUrl",Lo.N.remoteServiceBaseUrl),(0,_.Z)(this,"theForm",void 0),(0,_.Z)(this,"isDataChange",!1),(0,_.Z)(this,"isImageUploading",!1),(0,_.Z)(this,"showRemoveImageBtn",!1),(0,_.Z)(this,"renderedMessage",""),(0,_.Z)(this,"_messageService",void 0),this._dialogService=s,this._quotePagesStoreService=r,this._commonBroadcastService=o,this._quoteImageService=a,this.theForm=new Be.cw({title:new Be.NI("",Be.kI.required),description:new Be.NI("",Be.kI.required)}),this._messageService=t.get(Vc.ez)}ngOnInit(){this.json&&this.populatePage(),this._commonBroadcastService.GetEvent($s.u.chatGptResponseBroadcast).subscribe(t=>{this.textAreaDataShwo(t)})}textAreaDataShwo(t){this.renderedMessage="";const r=t.split("\n\n").map(o=>`<p>${o.split("\n").join("<br>")}</p> <br>`).join("");this.setValueCharacterByCharacter(r)}setValueCharacterByCharacter(t){let s=0;const r=setInterval(()=>{s<t.length?(this.renderedMessage+=t[s++],this.theForm.setValue({title:this.theForm.get("title").value,description:this.renderedMessage})):clearInterval(r)},30)}ngOnDestroy(){}autoSaveEvent(){this._commonBroadcastService.BroadcastEvent($s.u.autoSaveBroadcast,gt.Yh.INSPECTION_REPORT)}autoSaveMouseLeaveEvent(){this.isDataChange&&(this.autoSaveEvent(),this.isDataChange=!1)}dataChange(){this.isDataChange=!0}onDeleteReport(t){this._messageService.confirm("Do you want to delete this item?","Are you sure",s=>{if(s){const r=this.reports.indexOf(t);this.reports.splice(r,1),this.autoSaveEvent()}})}onEditReport(t){this.selectedReport=t,this.image=this.selectedReport.image,this.theForm.patchValue(this.selectedReport)}onUploadFromComputer(){this.browseImageField.nativeElement.value="",this.browseImageField.nativeElement.click()}fileBrowseHandler(t){this.uploadImage(t.files.item(0))}uploadImage(t){this.isImageUploading=!0;const s=new FormData;s.append("File",t),this._quoteImageService.uploadQuoteDetailImage(this.quoteDetailId,s).subscribe({next:r=>{this.isImageUploading=!1,this.image=r.result,this._commonBroadcastService.BroadcastEvent($s.u.imageNameBroadcast,r.result.fileName)},error:()=>this.isImageUploading=!1})}onAddUpdateItem(){const t={index:this.selectedReport?this.selectedReport.index:this.reports.length+1,image:this.image,...this.theForm.value};this.selectedReport?this.reports[this.selectedReport.index]=t:this.reports.push(t),this.reset(),this.autoSaveEvent()}onEditImage(){var t;this._dialogService.open(a_,{showHeader:!1,width:"30vw",height:"50vh",styleClass:"image-editor-dlg",data:null===(t=this.image)||void 0===t?void 0:t.fileUniqueName}).onClose.subscribe(r=>{r&&this.uploadImage(r)})}getJSON(){if(0===this.reports.length)return"";const t={ImageTextList:[]};for(let s of this.reports){const{title:r,description:o}=s;t.ImageTextList.push({content:{Html:o,title:r},Image:{Id:s.image.imageid,fileUniqueName:s.image.fileUniqueName}})}return JSON.stringify(t)}onRemoveImage(t){t.stopPropagation(),this.image=null}populatePage(){const t=JSON.parse(this.json);this.reports=t.ImageTextList.map((s,r)=>{const{title:o,Html:a}=s.content;return{index:r,title:o,image:s.Image,description:a}})}reset(){this.image=null,this.selectedReport=null,this.theForm.reset()}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(l.zs3),l.Y36(Jn.xA),l.Y36(ja),l.Y36(Mo.C),l.Y36(dh.Y))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["app-inspection-report"]],viewQuery:function(t,s){if(1&t&&l.Gf(F1,5),2&t){let r;l.iGM(r=l.CRH())&&(s.browseImageField=r.first)}},inputs:{quoteDetailId:"quoteDetailId",quoteId:"quoteId",title:"title",enabled:"enabled",json:"json"},decls:20,vars:10,consts:[[1,"quote-page-container"],[1,"content"],[1,"d-flex","flex-column","edit-report-section",3,"formGroup"],["type","text","placeholder","Title","formControlName","title",1,"form-control","mb-5"],[1,"d-flex"],[1,"report-image-container",3,"click","mouseenter","mouseleave"],["class","report-image","alt","Report image",3,"src",4,"ngIf"],["hidden","","type","file","accept","*images",3,"change"],["browseImageField",""],[4,"ngIf"],["class","progress-spinner-height-md position-absolute","strokeWidth","4",4,"ngIf"],[1,"flex-fill","report-editor"],["formControlName","description",3,"ngModelChange"],[1,"d-flex","justify-content-end","mt-3"],["class","btn btn-light",3,"click",4,"ngIf"],[1,"btn","btn-primary","d-flex","align-items-center","btn-h-35",3,"disabled","click"],[1,"reports"],["class","mb-5 d-flex",4,"ngFor","ngForOf"],["alt","Report image",1,"report-image",3,"src"],[1,"fa-solid","fa-plus","upload-img-icon"],["class","remove-img-btn",3,"click",4,"ngIf"],[1,"remove-img-btn",3,"click"],[1,"fa-solid","fa-x"],["strokeWidth","4",1,"progress-spinner-height-md","position-absolute"],[1,"btn","btn-light",3,"click"],[1,"fa-solid","fa-pencil-square"],[1,"mb-5","d-flex"],[1,"d-flex","report-text"],[1,"flex-fill"],[1,"title"],[3,"innerHTML"],["layout","vertical"],[1,"d-flex","flex-column","justify-content-center"],[1,"fa-solid","fa-pencil","mb-4","cursor-pointer",3,"click"],[1,"fa-regular","fa-trash-can","cursor-pointer",3,"click"]],template:function(t,s){if(1&t){const r=l.EpF();l.TgZ(0,"div",0)(1,"section",1)(2,"form",2),l._UZ(3,"input",3),l.TgZ(4,"div",4)(5,"div",5),l.NdJ("click",function(){return s.onUploadFromComputer()})("mouseenter",function(){return s.showRemoveImageBtn=!0})("mouseleave",function(){return s.showRemoveImageBtn=!1}),l.YNc(6,H1,1,2,"img",6),l.TgZ(7,"input",7,8),l.NdJ("change",function(){l.CHM(r);const a=l.MAs(8);return l.KtG(s.fileBrowseHandler(a))}),l.qZA(),l.YNc(9,B1,3,1,"div",9),l.YNc(10,z1,1,0,"p-progressSpinner",10),l.qZA(),l.TgZ(11,"div",11)(12,"p-editor",12),l.NdJ("ngModelChange",function(){return s.dataChange()}),l.qZA()()(),l.TgZ(13,"div",13),l.YNc(14,V1,2,0,"button",14),l.TgZ(15,"button",15),l.NdJ("click",function(){return s.onAddUpdateItem()}),l._uU(16),l.qZA()()(),l._UZ(17,"app-ai-section"),l.TgZ(18,"div",16),l.YNc(19,q1,12,4,"div",17),l.qZA()()()}2&t&&(l.xp6(2),l.Q6J("formGroup",s.theForm),l.xp6(4),l.Q6J("ngIf",s.image),l.xp6(3),l.Q6J("ngIf",s.image),l.xp6(1),l.Q6J("ngIf",s.isImageUploading),l.xp6(3),l.ekj("justify-content-between",s.image),l.xp6(1),l.Q6J("ngIf",s.image),l.xp6(1),l.Q6J("disabled",!s.image||s.theForm.invalid),l.xp6(1),l.hij(" ",s.selectedReport?"Update Item":"Add Item"," "),l.xp6(3),l.Q6J("ngForOf",s.reports))},dependencies:[x.sg,x.O5,Be._Y,Be.Fj,Be.JJ,Be.JL,Be.sg,Be.u,L_.ML,P_.i,Vm.G,O_],styles:[".quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{color:#4e6685;border-radius:12px;padding:12px}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]{padding:1.14rem;background-color:#fff;margin-top:1.14rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .report-image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;border:1px solid #e4e6ef;border-radius:6px;width:27rem;min-width:25rem;height:24rem;margin-right:1rem;background-image:url(/assets/common/images/choose-image.png);background-position:center;background-size:contain}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .report-image-container[_ngcontent-%COMP%]:hover{opacity:.7;cursor:pointer}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .report-image-container[_ngcontent-%COMP%]   .choose-img[_ngcontent-%COMP%]{width:15rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .report-image-container[_ngcontent-%COMP%]   .report-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:6px}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .report-image-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .bi-pencil-square[_ngcontent-%COMP%]{font-size:1.4rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .upload-img-icon[_ngcontent-%COMP%]{position:absolute;top:10px;color:#2d69f6;left:50%;transform:translate(-50%)}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .remove-img-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:#f1416c;border:none;border-radius:4px;padding:1px}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .remove-img-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;display:flex}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .edit-report-section[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:600}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .reports[_ngcontent-%COMP%]{margin-top:2.28rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .reports[_ngcontent-%COMP%]   .report-image[_ngcontent-%COMP%]{width:15.42rem;height:10.51rem;object-fit:cover;border-radius:8px}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .reports[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]{background:#fff;margin-left:1.14rem;padding:1.14rem 2.85rem 1.14rem 1.14rem;flex:1;font-size:1.14rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .reports[_ngcontent-%COMP%]   .report-text[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:1.14rem;font-weight:500;font-size:1.37rem}.quote-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .reports[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.35rem}"]})),i})();var W1=I(42152);function Z1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"li",6),l.NdJ("click",function(){const r=l.CHM(e).$implicit,o=l.oxw();return l.KtG(o.onSelectPageType(r))}),l.TgZ(1,"div",7),l._UZ(2,"i",8),l.qZA(),l.TgZ(3,"div",9)(4,"div",10),l._uU(5),l.qZA(),l.TgZ(6,"div"),l._uU(7),l.qZA()()()}if(2&h){const e=i.$implicit;l.xp6(2),l.Tol(e.icon),l.xp6(3),l.Oqu(e.title),l.xp6(2),l.Oqu(e.description)}}let U1=(()=>{var h;class i{constructor(t){(0,_.Z)(this,"dialogRef",void 0),(0,_.Z)(this,"pageTypes",void 0),(0,_.Z)(this,"pageTitleFC",new Be.NI("",Be.kI.required)),this.dialogRef=t,this.pageTypes=[{title:"Text Editor",description:"Create content-rich project descriptions, terms & conditions and company reports",type:"text",icon:"fa-regular fa-file-lines",key:gt.Yh.PROJECT_DESCRIPTION},{title:"Project Cost",description:"Add pricing options for projects",type:"text",icon:"fa-solid fa-dollar-sign",key:gt.Yh.PROJECT_COST},{title:"Image & Text",description:"Visualize materials, create Inspection reports or copmany information pages",type:"image_text",icon:"fa-regular fa-image",key:gt.Yh.INSPECTION_REPORT},{title:"Attach PDF",description:"Easily inlcude external PDF documents",type:"pdf",icon:"fa-regular fa-file-pdf",key:gt.Yh.ATTACH_PDF}]}onSelectPageType(t){this.pageTitleFC.invalid?this.pageTitleFC.markAsDirty():this.dialogRef.close({key:t.key,pageTitle:this.pageTitleFC.value})}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(Jn.E7))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["select-page-type"]],decls:8,vars:3,consts:[[1,"page-type-selection"],[1,"mb-3"],["for","title",1,"mb-2","control-label"],["id","title","type","text","required","",1,"form-control",3,"formControl"],[3,"formCtrl"],["class","d-flex mb-3",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","mb-3",3,"click"],[1,"me-3"],[1,""],[1,"d-flex","flex-column"],[1,"title"]],template:function(t,s){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"label",2),l._uU(3,"Page Title"),l.qZA(),l._UZ(4,"input",3)(5,"validation-messages",4),l.qZA(),l.TgZ(6,"ul"),l.YNc(7,Z1,8,4,"li",5),l.qZA()()),2&t&&(l.xp6(4),l.Q6J("formControl",s.pageTitleFC),l.xp6(1),l.Q6J("formCtrl",s.pageTitleFC),l.xp6(2),l.Q6J("ngForOf",s.pageTypes))},dependencies:[x.sg,Be.Fj,Be.JJ,Be.Q7,W1.s,Be.oH],styles:[".page-type-selection[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.page-type-selection[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:1rem .5rem;border-bottom:1px solid #dbdfe9}.page-type-selection[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f9f9f9;cursor:pointer;border-radius:2px}.page-type-selection[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}.page-type-selection[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}"]})),i})();var X1=I(7879),J1=I(42805),G1=I(38723);function Q1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",40)(1,"div",41)(2,"div",42),l._UZ(3,"img",43),l.qZA()(),l.TgZ(4,"div",44)(5,"input",45),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw().$implicit;return l.KtG(r.item=s)}),l.qZA()(),l.TgZ(6,"div",46)(7,"div",47)(8,"input",48),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw().$implicit;return l.KtG(r.quantity=s)}),l.qZA()()(),l.TgZ(9,"div",49)(10,"div",47)(11,"input",48),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw().$implicit;return l.KtG(r.price=s)}),l.qZA()()(),l.TgZ(12,"div",50)(13,"div",47),l._UZ(14,"input",51),l.qZA()(),l.TgZ(15,"div",52)(16,"div",53),l._UZ(17,"input",54),l.ALo(18,"number"),l.qZA()(),l.TgZ(19,"div",55)(20,"div",56),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit,r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.onDeleteItem(r,s))}),l.TgZ(21,"div",57),l._UZ(22,"img",58),l.qZA()()()()}if(2&h){const e=l.oxw().$implicit;l.xp6(5),l.Q6J("ngModel",e.item),l.xp6(3),l.Q6J("ngModel",e.quantity),l.xp6(3),l.Q6J("ngModel",e.price),l.xp6(3),l.s9C("value",null==e.tax?"Tax":e.tax.name),l.xp6(3),l.s9C("value",l.xi3(18,5,e.price*e.quantity,"2.2-2"))}}function $1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"input",78),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.oxw(4);return l.KtG(s.autoSaveEvent())})("change",function(){l.CHM(e);const s=l.oxw(4);return l.KtG(s.autoSaveEvent())})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2).$implicit;return l.KtG(r.quantity=s)}),l.qZA()}if(2&h){const e=l.oxw(2).$implicit;l.Q6J("ngModel",e.quantity)}}function K1(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"input",78),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.oxw(4);return l.KtG(s.autoSaveEvent())})("change",function(){l.CHM(e);const s=l.oxw(4);return l.KtG(s.autoSaveEvent())})("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2).$implicit;return l.KtG(r.price=s)}),l.qZA()}if(2&h){const e=l.oxw(2).$implicit;l.Q6J("ngModel",e.price)}}function eL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"p-dropdown",79),l.NdJ("ngModelChange",function(s){l.CHM(e);const r=l.oxw(2).$implicit;return l.KtG(r.tax=s)})("onChange",function(s){l.CHM(e);const r=l.oxw(2).$implicit,o=l.oxw(2);return l.KtG(o.onTaxChange(s,r))}),l.qZA()}if(2&h){const e=l.oxw(2).$implicit,t=l.oxw(2);l.Q6J("options",t.taxes)("ngModel",e.tax)("showClear",!0)}}function tL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",59)(1,"div",60)(2,"div",61),l._UZ(3,"img",43),l.qZA()(),l.TgZ(4,"div",62)(5,"div",63)(6,"div",64)(7,"input",65),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())})("change",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())})("ngModelChange",function(s){l.CHM(e);const r=l.oxw().$implicit;return l.KtG(r.item=s)}),l.qZA()(),l.TgZ(8,"div",64)(9,"textarea",66),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())})("change",function(){l.CHM(e);const s=l.oxw(3);return l.KtG(s.autoSaveEvent())})("ngModelChange",function(s){l.CHM(e);const r=l.oxw().$implicit;return l.KtG(r.description=s)}),l._uU(10,"                                        "),l.qZA()()()(),l.TgZ(11,"div",67)(12,"div",68),l.YNc(13,$1,1,1,"input",69),l.qZA()(),l.TgZ(14,"div",70)(15,"div",68),l.YNc(16,K1,1,1,"input",69),l.qZA()(),l.TgZ(17,"div",71)(18,"div",68),l.YNc(19,eL,1,3,"p-dropdown",72),l.qZA()(),l.TgZ(20,"div",73)(21,"div",74)(22,"div",75),l._uU(23),l.ALo(24,"number"),l.qZA()()(),l.TgZ(25,"div",76)(26,"div",77),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit,r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.onDeleteItem(r,s))}),l.TgZ(27,"div",57),l._UZ(28,"img",58),l.qZA()()()()}if(2&h){const e=l.oxw().$implicit;l.xp6(7),l.Q6J("ngModel",e.item),l.xp6(2),l.Q6J("ngModel",e.description),l.xp6(4),l.Q6J("ngIf",e.editable),l.xp6(3),l.Q6J("ngIf",e.editable),l.xp6(3),l.Q6J("ngIf",e.editable),l.xp6(4),l.Oqu(l.xi3(24,6,e.price*e.quantity,"2.2-2"))}}function iL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div")(1,"div",37),l.NdJ("click",function(){const r=l.CHM(e).$implicit,o=l.oxw(2);return l.KtG(o.setSelectedRow(r))}),l.YNc(2,Q1,23,8,"div",38),l.YNc(3,tL,29,9,"div",39),l.qZA()()}if(2&h){const e=i.$implicit;l.xp6(2),l.Q6J("ngIf",!e.editable),l.xp6(1),l.Q6J("ngIf",e.editable)}}function sL(h,i){if(1&h&&(l.TgZ(0,"div"),l.YNc(1,iL,4,2,"div",19),l.qZA()),2&h){const e=i.$implicit;l.xp6(1),l.Q6J("ngForOf",e.items)}}function rL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"input",80),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.onAddSection())}),l.qZA()}if(2&h){const e=l.oxw();l.Q6J("formControl",e.sectionTitleFC)}}function nL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"a",81),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.onSetCustomPrice())}),l._uU(1," Set Custom Price "),l.qZA()}}function oL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"a",81),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.onSetCustomPrice())}),l._uU(1," Set Custom Price "),l.qZA()}}function aL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"a",82),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.onUndoCustomPrice())}),l._uU(1," Undo Custom Price "),l.qZA()}}let A_=(()=>{var h;class i{constructor(t,s,r,o,a,d){(0,_.Z)(this,"_dialogService",void 0),(0,_.Z)(this,"_quotePagesStoreService",void 0),(0,_.Z)(this,"companyBusinessService",void 0),(0,_.Z)(this,"_taxService",void 0),(0,_.Z)(this,"_commonBroadcastService",void 0),(0,_.Z)(this,"_itemService",void 0),(0,_.Z)(this,"quoteDetailId",""),(0,_.Z)(this,"quoteId",""),(0,_.Z)(this,"title","Project Cost"),(0,_.Z)(this,"enabled",!0),(0,_.Z)(this,"json",""),(0,_.Z)(this,"quoteItems",[]),(0,_.Z)(this,"taxes",[]),(0,_.Z)(this,"cost",void 0),(0,_.Z)(this,"companyInfo",new $e.CTN),(0,_.Z)(this,"selectedItem",void 0),(0,_.Z)(this,"disableGeneratePdfBtn",!1),(0,_.Z)(this,"customPrice",void 0),(0,_.Z)(this,"isApplyDiscount",!1),(0,_.Z)(this,"showSectionTitleField",!1),(0,_.Z)(this,"columnsVisibility",{quantity:!0,price:!0,tax:!0}),(0,_.Z)(this,"columns",[]),(0,_.Z)(this,"sectionTitleFC",new Be.NI("")),this._dialogService=t,this._quotePagesStoreService=s,this.companyBusinessService=r,this._taxService=o,this._commonBroadcastService=a,this._itemService=d,this.init(),this.columns=[{name:"Quantity"},{name:"Price"},{name:"Tax"},{name:"Line Total"}]}ngOnInit(){this.getAllQuoteItems(),this.fetchAllTaxes(),this.getCurrentCompanyInfo()}getCurrentCompanyInfo(){this.companyBusinessService.getGeneralInfoCurrentCompany().subscribe(t=>{this.companyInfo=t})}ngOnDestroy(){}autoSaveEvent(){this._commonBroadcastService.BroadcastEvent($s.u.autoSaveBroadcast,gt.Yh.PROJECT_COST)}onAddItem(){this.showSectionTitleField=!1;const t=this.cost.sections[this.cost.sections.length-1];this.cost.sections.forEach(s=>{console.log("sections: ",s),s.items.forEach(r=>{r.editable=!1})}),t.items.push({id:t.items.length+1,item:"",quantity:1,price:0,tax:null,editable:!0})}onIncreaseDiscount(){let t=parseInt(this.cost.discount.toString(),10);t+=1,this.cost.discount=t,this.autoSaveEvent()}onDecreaseDiscount(){if(0==this.cost.discount)return;let t=parseInt(this.cost.discount.toString(),10);t-=1,this.cost.discount=t,this.autoSaveEvent()}onRemoveDiscount(){this.isApplyDiscount=!1,this.cost.discount=0,this.autoSaveEvent()}onDeleteItem(t,s){const r=t.items.indexOf(s);t.items.splice(r,1),this.autoSaveEvent()}getItemTotal(){if(this.customPrice)return this.customPrice.subTotal;let t=0;for(let s of this.cost.sections)t+=s.items.reduce((o,a)=>a.price*a.quantity+o,0);return t}getItemTotalTax(){if(this.customPrice)return this.customPrice.tax;let t=0;for(let s of this.cost.sections)t+=s.items.reduce((o,a)=>{var d;return((null===(d=a.tax)||void 0===d?void 0:d.value)||0)+o},0);return t||0}getTotal(){return this.customPrice?this.customPrice.subTotal+this.customPrice.tax:this.getItemTotal()-this.cost.discount+this.getItemTotalTax()}onAddSection(){this.showSectionTitleField&&this.sectionTitleFC.value&&(this.cost.sections.push({title:this.sectionTitleFC.value,items:[]}),this.autoSaveEvent()),this.sectionTitleFC.setValue(""),this.showSectionTitleField=!this.showSectionTitleField}onAddExistingItems(){this.showSectionTitleField=!1,this._dialogService.open(X1.r,{data:this.quoteItems,header:"Quote Items",width:"40%"}).onClose.subscribe(s=>{if(s){const r=this.cost.sections[this.cost.sections.length-1];for(const o of s){const{name:a,price:d,description:c}=o;r.items.push({id:r.items.length+1,item:a,price:d,quantity:1,description:c,tax:null,editable:!1})}}})}toggleColumnVisibility(t){this.columnsVisibility[t]=!this.columnsVisibility[t],this.autoSaveEvent()}setSelectedRow(t){this.cost.sections.forEach(s=>{s.items.forEach(r=>{r.editable=r.id==t.id})})}onSetCustomPrice(){this._dialogService.open(J1.n,{header:"Set Custom Price",width:"20%",height:"50%",data:this.getTotal()}).onClose.subscribe(s=>{s&&(this.customPrice=s)})}onUndoCustomPrice(){this.customPrice=null,this.autoSaveEvent()}integersOnly(t){if(["Backspace","ArrowLeft","ArrowRight","."].includes(t.key))return!0;const s=/^[0-9]+$/;return!!t.key.match(s)&&t.key.match(s).length>0}onTaxChange(t,s){s.tax=t.value,this.autoSaveEvent()}getJSON(){const t=[];for(let o of this.cost.sections){const a={Section:o.title,Prices:[]};for(let d of o.items){var r;const c={Index:0,ItemName:d.item,Title:d.item,Description:d.description,Quantity:d.quantity,Price:d.price,Tax:null===(r=d.tax)||void 0===r?void 0:r.id,LinePrice:d.quantity*d.price};a.Prices.push(c)}t.push(a)}if(t.length>0){const o={PriceList:t,Discount:0,DiscountValue:this.cost.discount,SubTotalPrice:this.getItemTotal(),TotalPrice:this.getTotal(),TaxId:this.customPrice?this.customPrice.taxId:null,CustomPrice:this.customPrice?this.customPrice.subTotal:0,IsCustomPrice:null!=this.customPrice,IsHiddenQuantity:!this.columnsVisibility.quantity,IsHiddenLinePrice:!this.columnsVisibility.price,IsHiddenLineTax:!this.columnsVisibility.tax};return JSON.stringify(o)}return""}init(){this.cost={sections:[{title:"",items:[{id:1,item:"",quantity:1,price:0,tax:null,editable:!1}]}],discount:0},this.selectedItem=this.cost.sections[0].items[0]}getAllQuoteItems(){this._itemService.getItem().subscribe({next:t=>this.quoteItems=t.items})}populatePage(){const{DiscountValue:t,PriceList:s,IsHiddenLinePrice:r,IsHiddenLineTax:o,IsHiddenQuantity:a,IsCustomPrice:d,CustomPrice:c,TaxId:p}=JSON.parse(this.json);if(s.length>0){this.cost={sections:[],discount:t},this.columnsVisibility={quantity:!a,price:!r,tax:!o};for(let u of s)this.cost.sections.push({title:u.Section,items:u.Prices.map(f=>{const v=this.taxes.find(b=>b.id===(null==f?void 0:f.Tax));return{id:f.id,item:f.ItemName,quantity:f.Quantity,price:f.Price,tax:v,description:f.Description,editable:null!=f.editable&&f.editable}})});if(t>0&&(this.isApplyDiscount=!0),d){const u=this.taxes.find(f=>f.id===p);this.customPrice={subTotal:c,tax:(null==u?void 0:u.value)||0,taxId:p}}}}fetchAllTaxes(){this._taxService.getTaxAll({currentPage:1,itemsPerPage:10}).subscribe({next:s=>{this.taxes=s.result.items,this.json&&this.populatePage()}})}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(Jn.xA),l.Y36(ja),l.Y36($e.fGn),l.Y36(G1.D),l.Y36(Mo.C),l.Y36($e._4b))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["app-project-cost"]],inputs:{quoteDetailId:"quoteDetailId",quoteId:"quoteId",title:"title",enabled:"enabled",json:"json"},decls:66,vars:20,consts:[[1,"quote-page-container"],[1,"cc-filtercolumn-dropdown","mt-5"],["src","../../../../assets/media/icons/layout_column.svg"],["optionLabel","name","placeholder","Display Columns",1,"d-flex","status-dropdown","full-width-p-dropdown","me-4",3,"options"],[1,"items-section"],[1,"custom-table"],[1,"c-table-head"],[1,"first-head"],[1,"second-head"],[1,"head-text","item-input"],[1,"third-head"],[1,"d-flex","align-items-center"],["src","../../../../assets/media/icons/view.svg",1,"icon-space"],[1,"head-text"],[1,"fourth-head"],[1,"fifth-head"],[1,"sixth-head"],[1,"head-text","left-line-space"],[1,"seventh-head"],[4,"ngFor","ngForOf"],["type","text","class","form-control section-title-field","autoFocus","","placeholder","Section title",3,"formControl","keyup.enter",4,"ngIf"],[1,"actions"],[1,"btn","text-primary","me-3","theme-btn",3,"click"],[1,"btn","btn-light","text-primary","me-3","theme-btn-outline",3,"click"],[1,"btn","btn-light","text-primary","theme-btn-default",3,"click"],["src","../../../../assets/media/icons/plus_icon.svg"],[1,"summary"],[1,"d-flex","flex-column","summary-width"],[1,"summary-item"],[1,"subtotal-text"],[1,"number-text"],["class","d-flex align-items-center text-primary cursor-pointer summary-item",3,"click",4,"ngIf","ngIfElse"],[1,"summary-item","me-3"],[1,"tax"],["undoCustomPrice",""],[1,"summary-item","total","mt-5",2,"height","32px"],[1,"total-text"],[3,"click"],["class","c-table-row","style","height: 42px;",4,"ngIf"],["class","c-table-row c-editable-row",4,"ngIf"],[1,"c-table-row",2,"height","42px"],[1,"first-cell"],[1,"dot-icon"],["src","../../../../assets/media/icons/more-vertical.svg"],[1,"second-cell"],["type","text","readonly","","placeholder","Items",1,"form-control",2,"border","none !important","font-size","16px",3,"ngModel","ngModelChange"],[1,"third-cell"],[1,"input-space",2,"padding-left","8px !important"],["type","number","readonly","",1,"form-control",2,"border","none !important","font-size","16px",3,"ngModel","ngModelChange"],[1,"fourth-cell"],[1,"fifth-cell"],["type","text","readonly","",1,"form-control","tax-input",2,"border","none !important",3,"value"],[1,"sixth-cell"],[1,"left-line-space",2,"padding-left","32px !important"],["type","number","readonly","",1,"form-control",2,"border","none !important","font-size","16px",3,"value"],[1,"seventh-cell"],[1,"delete-space",3,"click"],[1,"delete-icons","cursor-pointer"],["src","../../../../assets/media/icons/delete_red.svg"],[1,"c-table-row","c-editable-row"],[1,"first-cell","first-editable-row"],[1,"dot-icon","pt-1",2,"padding-top","10px !important"],[1,"second-cell","second-editable-row"],[1,"d-flex","flex-column","gap-2","pe-2"],[1,"d-flex"],["type","text","placeholder","Items",1,"form-control","item-editable-input",3,"ngModel","keyup.enter","change","ngModelChange"],["type","text","placeholder","Write a description",1,"form-control",2,"font-size","16px",3,"ngModel","keyup.enter","change","ngModelChange"],[1,"third-cell","third-editable-row"],[1,"d-flex","pe-2","input-left-space"],["type","number","class","form-control",3,"ngModel","keyup.enter","change","ngModelChange",4,"ngIf"],[1,"fourth-cell","fourth-editable-row"],[1,"fifth-cell","fifth-editable-row"],["class","full-width-dropdown","style","width: 80% !important;","optionLabel","name","placeholder","Tax",3,"options","ngModel","showClear","ngModelChange","onChange",4,"ngIf"],[1,"sixth-cell","sixth-editable-row"],[1,"number-space"],[1,"left-line-space"],[1,"seventh-cell","seventh-editable-row"],[1,"delete-space","h-43",3,"click"],["type","number",1,"form-control",3,"ngModel","keyup.enter","change","ngModelChange"],["optionLabel","name","placeholder","Tax",1,"full-width-dropdown",2,"width","80% !important",3,"options","ngModel","showClear","ngModelChange","onChange"],["type","text","autoFocus","","placeholder","Section title",1,"form-control","section-title-field",3,"formControl","keyup.enter"],[1,"d-flex","align-items-center","text-primary","cursor-pointer","summary-item",3,"click"],[1,"d-flex","align-items-center","text-danger","cursor-pointer","summary-item",3,"click"]],template:function(t,s){if(1&t&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"img",2)(3,"p-multiSelect",3),l.qZA(),l.TgZ(4,"section",4)(5,"div",5)(6,"div",6),l._UZ(7,"div",7),l.TgZ(8,"div",8)(9,"div",9),l._uU(10,"Items"),l.qZA()(),l.TgZ(11,"div",10)(12,"div",11),l._UZ(13,"img",12),l.TgZ(14,"div",13),l._uU(15,"Quantity"),l.qZA()()(),l.TgZ(16,"div",14)(17,"div",11),l._UZ(18,"img",12),l.TgZ(19,"div",13),l._uU(20,"Price"),l.qZA()()(),l.TgZ(21,"div",15)(22,"div",11),l._UZ(23,"img",12),l.TgZ(24,"div",13),l._uU(25,"Tax"),l.qZA()()(),l.TgZ(26,"div",16)(27,"div",11)(28,"div",17),l._uU(29,"Line Total"),l.qZA()()(),l._UZ(30,"div",18),l.qZA(),l.TgZ(31,"div"),l.YNc(32,sL,2,1,"div",19),l.qZA()(),l.YNc(33,rL,1,1,"input",20),l.TgZ(34,"div",21)(35,"button",22),l.NdJ("click",function(){return s.onAddItem()}),l._uU(36," Add New Item "),l.qZA(),l.TgZ(37,"button",23),l.NdJ("click",function(){return s.onAddExistingItems()}),l._uU(38," Add Existing Item "),l.qZA(),l.TgZ(39,"button",24),l.NdJ("click",function(){return s.onAddSection()}),l._UZ(40,"img",25),l._uU(41," Add a Section "),l.qZA()(),l.TgZ(42,"div",26)(43,"div",27)(44,"div",28)(45,"div",29),l._uU(46,"Sub Total"),l.qZA(),l.TgZ(47,"div",30),l._uU(48),l.ALo(49,"number"),l.qZA()(),l.YNc(50,nL,2,0,"a",31),l.TgZ(51,"div",32)(52,"div",33),l._uU(53,"Tax"),l.qZA(),l.TgZ(54,"div",30),l._uU(55),l.ALo(56,"number"),l.qZA()(),l.YNc(57,oL,2,0,"a",31),l.YNc(58,aL,2,0,"ng-template",null,34,l.W1O),l.TgZ(60,"div",35)(61,"div",36),l._uU(62),l.qZA(),l.TgZ(63,"div",36),l._uU(64),l.ALo(65,"number"),l.qZA()()()()()()),2&t){const r=l.MAs(59);l.xp6(3),l.Q6J("options",s.columns),l.xp6(29),l.Q6J("ngForOf",s.cost.sections),l.xp6(1),l.Q6J("ngIf",s.showSectionTitleField),l.xp6(15),l.hij("$",l.xi3(49,11,s.getItemTotal(),"2.2-2"),""),l.xp6(2),l.Q6J("ngIf",!s.customPrice)("ngIfElse",r),l.xp6(5),l.hij("$",l.xi3(56,14,s.getItemTotalTax(),"2.2-2"),""),l.xp6(2),l.Q6J("ngIf",!s.customPrice)("ngIfElse",r),l.xp6(5),l.hij("Total (",s.companyInfo.currency,")"),l.xp6(2),l.Oqu(l.xi3(65,17,s.getTotal(),"2.2-2"))}},dependencies:[x.sg,x.O5,Be.Fj,Be.wV,Be.JJ,Be.On,Bm.h,zm.Lt,Be.oH,Nm.NU,x.JJ],styles:['.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]{background-color:#fff;margin-top:2.46rem;border-radius:12px;overflow:hidden}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.35rem}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .thead[_ngcontent-%COMP%]{background-color:#fff;padding:9px 40px;border-bottom:3px solid hsla(0,0%,0%,.1)!important}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .thead[_ngcontent-%COMP%]   .icon-eye[_ngcontent-%COMP%]{padding:0 6px 0 0;cursor:pointer}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]{color:#4e6685}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#183455;padding:1rem 0 0 1.8rem}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .section-title-field[_ngcontent-%COMP%]{margin:0 1rem 1rem;width:calc(100% - 2rem)}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{padding:0}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{padding:.6rem 0;align-items:center}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .qty-cell[_ngcontent-%COMP%]{border:1px solid #e9ebed;padding:0 10px;height:28px;display:flex;align-items:center}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .number-field[_ngcontent-%COMP%]{width:60%}@media screen and (max-width: 1550px){.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .number-field[_ngcontent-%COMP%]{width:75%}}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{background-color:#d9e4fc}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background-color:#fff}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .desc-cell[_ngcontent-%COMP%]{margin-top:.6rem;margin-bottom:.6rem;width:calc(42% - 30px)}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .name-cell-td[_ngcontent-%COMP%]{width:calc(50% - 30px)}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .tbody[_ngcontent-%COMP%]   .bi-grip-vertical[_ngcontent-%COMP%]{font-size:1.5rem;color:#2d69f6}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .name-cell[_ngcontent-%COMP%]{width:50%}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .cell[_ngcontent-%COMP%]{width:17%}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{margin:0 0 2.46rem 1.84rem}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]{color:#4e6685;font-size:1rem;display:flex;flex-direction:column;align-items:flex-end;margin-right:1.23rem}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .summary-width[_ngcontent-%COMP%]{width:40%}@media screen and (max-width: 1400px){.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .summary-width[_ngcontent-%COMP%]{width:45%}}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(51,56,83,.2509803922);height:45px;color:#326bf6;font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:12px;font-style:normal;font-weight:400;line-height:14px}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .amount-label[_ngcontent-%COMP%]{width:30%}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .amount-field[_ngcontent-%COMP%]{width:50%;justify-content:center}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .amount-value[_ngcontent-%COMP%]{width:20%;justify-content:flex-end}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .summary-divider[_ngcontent-%COMP%]{border:1px solid #e9ebed;margin:.6rem 0}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{background-color:#e9ebed;padding:5px 20px;border-radius:23px;font-size:1.23rem;font-weight:500;margin-top:30px!important;margin-bottom:50px!important}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .bordered-cell[_ngcontent-%COMP%]{border:1px solid #e9ebed;padding:0 10px;height:28px;display:flex;align-items:center}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .discount-field[_ngcontent-%COMP%]{width:3.2rem;padding:2px 8px;border-radius:unset;color:#4e6685;text-align:center;font-weight:400}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .summary[_ngcontent-%COMP%]   .remove-discount-icon[_ngcontent-%COMP%]{margin-right:-18px}.quote-page-container[_ngcontent-%COMP%]   .items-section[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.theme-btn-outline[_ngcontent-%COMP%]{border:1px solid #326BF6!important;color:#326bf6!important;background-color:transparent!important;display:inline-flex!important;height:30px!important;padding:13.565px 21.703px!important;align-items:center!important;gap:133px!important;flex-shrink:0!important;border-radius:4.069px!important;color:#326bf6;text-align:center;font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:12px;font-style:normal;font-weight:400;line-height:24px}.theme-btn-default[_ngcontent-%COMP%]{border:1px solid transparent!important;color:#326bf6!important;background-color:transparent!important;color:#326bf6;font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:12px;font-style:normal;font-weight:400;line-height:24px}.theme-btn[_ngcontent-%COMP%]{background-color:#326bf6!important;color:#fff!important;display:inline-flex!important;height:30px!important;padding:13.565px 21.703px!important;align-items:center!important;gap:133px!important;flex-shrink:0!important;border-radius:4.069px!important;background:#326BF6!important;text-align:center;font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:12px;font-style:normal;font-weight:400;line-height:24px}.theme-btn[_ngcontent-%COMP%]:hover{background-color:#326bf6!important}.subtotal-text[_ngcontent-%COMP%], .tax[_ngcontent-%COMP%], .total-text[_ngcontent-%COMP%]{color:#000624;font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:12px;font-style:normal;font-weight:600;line-height:14px}.total-text[_ngcontent-%COMP%]{font-size:18px}.number-text[_ngcontent-%COMP%]{color:#000624;font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:12px;font-style:normal;font-weight:400;line-height:14px}.delete-icons[_ngcontent-%COMP%]{height:28px;width:28px;border-radius:28px;border:1px solid rgba(255,0,0,.3647058824);background-color:#ff00002c;display:flex;align-items:center;justify-content:center}.custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]{padding:9px 0 6px;border-bottom:3px solid rgba(25,29,136,.17)}.custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:11px;border-bottom:1px solid #D9E4FC}.custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .dot-icon[_ngcontent-%COMP%]{padding-left:8px}.custom-table[_ngcontent-%COMP%]   .c-editable-row[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;background-color:#d9e4fc;align-items:flex-start!important}.custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .first-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .first-cell[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .first-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .first-cell[_ngcontent-%COMP%]{width:3%}.custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .second-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .second-cell[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .second-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .second-cell[_ngcontent-%COMP%]{width:36%;padding-left:8px!important}.custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .third-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .third-cell[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .third-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .third-cell[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .fourth-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .fourth-cell[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .fourth-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .fourth-cell[_ngcontent-%COMP%]{width:12%}.custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .fifth-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .fifth-cell[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .fifth-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .fifth-cell[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .sixth-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .sixth-cell[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .sixth-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .sixth-cell[_ngcontent-%COMP%]{width:17%}.custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .seventh-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .seventh-cell[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .seventh-head[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .seventh-cell[_ngcontent-%COMP%]{width:5%;margin:0 auto}.custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .head-text[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .head-text[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:24px;color:#181c32}.custom-table[_ngcontent-%COMP%]   .c-table-head[_ngcontent-%COMP%]   .icon-space[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   .c-table-row[_ngcontent-%COMP%]   .icon-space[_ngcontent-%COMP%]{margin-right:3px;width:14px;height:14px}.custom-table[_ngcontent-%COMP%]   .input-left-space[_ngcontent-%COMP%]{padding-left:7.5px}.custom-table[_ngcontent-%COMP%]   .input-space[_ngcontent-%COMP%]{padding-left:15px;color:#000624;font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:16px;font-style:normal;font-weight:400;line-height:24px}.form-control[_ngcontent-%COMP%]{padding-left:8px!important}.number-space[_ngcontent-%COMP%]{height:43px;display:flex;align-items:center}.delete-space[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.h-43[_ngcontent-%COMP%]{height:43px}.left-line-space[_ngcontent-%COMP%]{padding-left:40px;color:#181c3280;font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:16px;font-style:normal;font-weight:400;line-height:24px}.item-input[_ngcontent-%COMP%]{padding-left:8px!important}.item-editable-input[_ngcontent-%COMP%]{padding-left:6px!important;font-size:16px!important}.tax-input[_ngcontent-%COMP%]{color:#000624;font-feature-settings:"clig" off,"liga" off;font-family:Roboto;font-size:16px;font-style:normal;font-weight:400;line-height:24px}']})),i})();const lL=function(){return{height:"280px"}};let I_=(()=>{var h;class i extends zc.c{constructor(t,s,r){super(t),(0,_.Z)(this,"_quotePagesStoreService",void 0),(0,_.Z)(this,"_commonBroadcastService",void 0),(0,_.Z)(this,"quoteDetailId",""),(0,_.Z)(this,"quoteId",""),(0,_.Z)(this,"title","Project Description"),(0,_.Z)(this,"enabled",!0),(0,_.Z)(this,"json",""),(0,_.Z)(this,"isDataChange",!1),(0,_.Z)(this,"disableGeneratePdfBtn",!1),(0,_.Z)(this,"descriptionFC",new Be.NI),(0,_.Z)(this,"inputText",""),(0,_.Z)(this,"renderedMessage",""),this._quotePagesStoreService=s,this._commonBroadcastService=r}ngOnInit(){this.json&&this.populatePage(),this._commonBroadcastService.GetEvent($s.u.chatGptResponseBroadcast).subscribe(t=>{this.textAreaDataShwo(t)})}textAreaDataShwo(t){this.renderedMessage="";const r=t.split("\n\n").map(o=>`<p>${o.split("\n").join("<br>")}</p> <br>`).join("");this.setValueCharacterByCharacter(r)}setValueCharacterByCharacter(t){let s=0;const r=setInterval(()=>{s<t.length?(this.renderedMessage+=t[s++],this.descriptionFC.setValue(this.renderedMessage)):clearInterval(r)},30)}ngOnDestroy(){}autoSaveEvent(){this._commonBroadcastService.BroadcastEvent($s.u.autoSaveBroadcast,gt.Yh.PROJECT_DESCRIPTION),this.inputText=this.descriptionFC.value}autoSaveMouseLeaveEvent(){this.isDataChange&&(this.autoSaveEvent(),this.isDataChange=!1)}dataChange(){this.isDataChange=!0}getJSON(){return JSON.stringify({Content:{Html:this.descriptionFC.value}})}populatePage(){const t=JSON.parse(this.json);this.inputText=t.Content.Html,this.descriptionFC.setValue(t.Content.Html)}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(l.zs3),l.Y36(ja),l.Y36(Mo.C))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["app-project-description"]],inputs:{quoteDetailId:"quoteDetailId",quoteId:"quoteId",title:"title",enabled:"enabled",json:"json"},features:[l.qOj],decls:4,vars:5,consts:[[1,"quote-page-container"],[1,"content"],[1,"mt-3",3,"formControl","mouseleave","ngModelChange"],[3,"inputTextValue"]],template:function(t,s){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"p-editor",2),l.NdJ("mouseleave",function(){return s.autoSaveMouseLeaveEvent()})("ngModelChange",function(){return s.dataChange()}),l.qZA(),l._UZ(3,"app-ai-section",3),l.qZA()()),2&t&&(l.xp6(2),l.Akn(l.DdM(4,lL)),l.Q6J("formControl",s.descriptionFC),l.xp6(1),l.Q6J("inputTextValue",s.inputText))},dependencies:[Be.JJ,Be.oH,L_.ML,O_],styles:[".content[_ngcontent-%COMP%]{padding:12px;border-radius:12px}"]})),i})();var hL=I(20244),dL=I(33259),cL=I(64484);function pL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"app-cover",7),l.NdJ("signal",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.onTemplateSignal(s))}),l.qZA()}if(2&h){const e=l.oxw(2);l.Q6J("selectedImg",e.selectedCoverImage)("templateInfo",e.templateInfo)("quoteName",null==e.quote?null:e.quote.name)("clients",e.clients)("client",e.client)("isTemplateType",e.templateViewTypesEnum.CreateTemplate)}}function uL(h,i){1&h&&(l.TgZ(0,"div",8)(1,"div",9),l._uU(2,"This template is not supported yet"),l.qZA()())}function fL(h,i){if(1&h&&(l.TgZ(0,"div",3),l.ynx(1,4),l.YNc(2,pL,1,6,"app-cover",5),l.YNc(3,uL,3,0,"div",6),l.BQk(),l.qZA()),2&h){const e=l.oxw();l.xp6(1),l.Q6J("ngSwitch",e.currentUserTemplateId),l.xp6(1),l.Q6J("ngSwitchCase",1)}}function mL(h,i){1&h&&(l.TgZ(0,"div",10)(1,"div",11)(2,"div",12),l._UZ(3,"div",13)(4,"div",14)(5,"div",15)(6,"div",13)(7,"div",16)(8,"div",13)(9,"div",17)(10,"div",18)(11,"div",17)(12,"div",13)(13,"div",19)(14,"div",20)(15,"div",18)(16,"div",20)(17,"div",19)(18,"div",13),l.qZA()()())}let vL=(()=>{var h;class i{constructor(t,s,r,o,a,d){(0,_.Z)(this,"router",void 0),(0,_.Z)(this,"_clientService",void 0),(0,_.Z)(this,"_quoteImageService",void 0),(0,_.Z)(this,"_businessService",void 0),(0,_.Z)(this,"_quoteService",void 0),(0,_.Z)(this,"notify",void 0),(0,_.Z)(this,"templateViewTypesEnum",gt.e3),(0,_.Z)(this,"isPreview",!1),(0,_.Z)(this,"quoteId",void 0),(0,_.Z)(this,"quote",void 0),(0,_.Z)(this,"signal",new l.vpe),(0,_.Z)(this,"clients",void 0),(0,_.Z)(this,"baseUrl",Lo.N.remoteServiceBaseUrl),(0,_.Z)(this,"disableSaveBtn",!1),(0,_.Z)(this,"templateInfo",void 0),(0,_.Z)(this,"selectedCoverImage",void 0),(0,_.Z)(this,"currentUserTemplateId",void 0),(0,_.Z)(this,"client",void 0),(0,_.Z)(this,"newClientId",void 0),(0,_.Z)(this,"loading",!0),this.router=t,this._clientService=s,this._quoteImageService=r,this._businessService=o,this._quoteService=a,this.notify=d}ngOnInit(){this.quote&&this.patchQuote(),this.quoteId||(this.getCurrentUserBusiness(),this.getAllClients())}ngOnChanges(t){var s;null!==(s=t.quote)&&void 0!==s&&s.currentValue&&!t.quote.firstChange&&this.patchQuote()}onTemplateSignal(t){let{key:s,value:r}=t;"upload"===s?this.uploadFile(t.value):"clientId"===s?(this.client=t.value,this.onSave("clientId",t.value.id)):"newClient"===s?this.onCreateNewClient(t.value):["address","phone","email","name"].includes(s)?this.updateBusiness(s,r):("quoteName"===s&&(s="name"),this.onSave(s,r)),this.ngOnInit()}onSave(t,s){this.disableSaveBtn=!0;const r=new $e.ooB;r[t]=s,this.quoteId&&(r.quoteId=this.quoteId),this._quoteService.createQuote4CoverPages(r).subscribe({next:o=>{this.disableSaveBtn=!1,this.signal.emit({key:t,value:s}),this.quoteId||(this.quoteId=o,this.router.navigateByUrl(`/app/main/quotes/${this.quoteId}`))},error:()=>this.disableSaveBtn=!1})}onCreateNewClient(t){this.newClientId=t,this.quoteId?this.getAllClients():this.onSave("clientId",this.newClientId)}updateBusiness(t,s){const r=new $e.Mk_;r.address=this.templateInfo.address,r.phone=this.templateInfo.phone,r.email=this.templateInfo.email,r.name=this.templateInfo.name,r[t]=s,this._businessService.update4CoverPageBusiness(r).subscribe({next:o=>this.setTemplateInfo(o)})}getAllClients(t=""){const s=new $e.RzB;s.filter=t,s.maxResultCount=100,this._clientService.getAllClient(s).subscribe(r=>{if(this.clients=r.items,this.quote&&!t){const o=this.newClientId||this.quote.clientId;this.client=this.clients.find(a=>a.id===o),this.newClientId=null}})}patchQuote(){var t,s;this.selectedCoverImage={imgSrc:`${this.baseUrl}/${null===(t=this.quote)||void 0===t?void 0:t.imagePath}`,uniqueFileName:null===(s=this.quote)||void 0===s?void 0:s.imageName},this.getAllClients(),this.getCurrentUserBusiness()}uploadFile(t){const s=new FormData;s.append("File",t),this._quoteImageService.uploadQuoteImage(s,this.quoteId).subscribe({next:r=>{const{quoteId:o,filePath:a}=r.result;this.quoteId=o,this.notify.success("Saved Successfully"),this.selectedCoverImage={imgSrc:`${this.baseUrl}/${a}`,uniqueFileName:null==a?void 0:a.split(".").pop()},this.signal.emit({key:"imagePath",value:a}),this.signal.emit({key:"imageName",value:a.split(".").pop()}),this.quote||(this.quote={imagePath:a,imageName:null==a?void 0:a.split(".").pop()},this.router.navigateByUrl(`/app/main/quotes/${this.quoteId}`)),this.newClientId&&this.getAllClients()}})}getCurrentUserBusiness(){this._businessService.getBusinessByCurrentUser().subscribe({next:t=>{this.loading=!1,this.currentUserTemplateId=t.templateId,this.setTemplateInfo(t),this.quote||(this.selectedCoverImage={imgSrc:`${this.baseUrl}${null==t?void 0:t.coverImagePath}`,uniqueFileName:null==t?void 0:t.coverImageName})},error:()=>this.loading=!1})}setTemplateInfo(t){this.templateInfo={address:t.address,email:t.email,web:t.web,phone:t.phone,description1:t.description1,templateColor:t.primaryColor,name:t.name,usePhoneNumer:t.phone}}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(Nr.F0),l.Y36($e.Z0V),l.Y36(dh.Y),l.Y36($e.fGn),l.Y36($e.k_Y),l.Y36(Vc.c))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["app-template-creation"]],inputs:{isPreview:"isPreview",quoteId:"quoteId",quote:"quote"},outputs:{signal:"signal"},features:[l.TTD],decls:4,vars:2,consts:[[1,"quote-page-container","mb-4"],["class","h-100 d-flex d-flex-column justify-content-center","style","font-size: 13px",4,"ngIf","ngIfElse"],["showLoader",""],[1,"h-100","d-flex","d-flex-column","justify-content-center",2,"font-size","13px"],[3,"ngSwitch"],[3,"selectedImg","templateInfo","quoteName","clients","client","isTemplateType","signal",4,"ngSwitchCase"],["class","container flex-1 d-flex p-0 justify-content-center align-items-center pt-5",4,"ngSwitchDefault"],[3,"selectedImg","templateInfo","quoteName","clients","client","isTemplateType","signal"],[1,"container","flex-1","d-flex","p-0","justify-content-center","align-items-center","pt-5"],[2,"font-size","5mm","font-weight","600"],[1,"ph-item","ph-body"],[1,"ph-col-12"],[1,"ph-row"],[1,"ph-col-12","empty"],[1,"ph-col-6"],[1,"ph-col-6","empty"],[1,"ph-picture"],[1,"ph-col-4","empty"],[1,"ph-col-4"],[1,"ph-col-2"],[1,"ph-col-2","empty"]],template:function(t,s){if(1&t&&(l.TgZ(0,"div",0),l.YNc(1,fL,4,2,"div",1),l.YNc(2,mL,19,0,"ng-template",null,2,l.W1O),l.qZA()),2&t){const r=l.MAs(3);l.xp6(1),l.Q6J("ngIf",!s.loading)("ngIfElse",r)}},dependencies:[x.O5,x.RF,x.n9,x.ED,cL.i],styles:[".quote-page-container[_ngcontent-%COMP%]{min-height:500px}.ph-body[_ngcontent-%COMP%]{padding:15px}  .ph-item{border:none}  .ph-row div{height:35px}  .ph-picture{height:500px!important}"]})),i})(),gL=(()=>{var h;class i{transform(t,s){return s?t.charAt(0):t}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)}),(0,_.Z)(i,"\u0275pipe",l.Yjl({name:"firstLetter",type:h,pure:!0})),i})();const yL=["five"];function bL(h,i){1&h&&(l.O4$(),l.TgZ(0,"svg",58),l._UZ(1,"path",59)(2,"path",60)(3,"path",61)(4,"path",62)(5,"path",63)(6,"path",64),l.qZA())}function CL(h,i){if(1&h&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"firstLetter"),l.qZA()),2&h){const e=l.oxw(2).$implicit,t=l.oxw();l.xp6(1),l.hij(" ",l.xi3(2,1,e.name,!t.toggle)," ")}}const qm=function(){return[0,1]};function _L(h,i){if(1&h&&(l.TgZ(0,"div",55)(1,"div"),l.YNc(2,bL,7,0,"svg",56),l.YNc(3,CL,3,4,"span",57),l.qZA()()),2&h){const e=l.oxw().$implicit,t=l.oxw();l.xp6(2),l.Q6J("ngIf",!l.DdM(2,qm).includes(e.key)),l.xp6(1),l.Q6J("ngIf",l.DdM(3,qm).includes(e.key)||t.toggle)}}function wL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"i",65),l.NdJ("click",function(s){l.CHM(e);const r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.showPageActionMenu(r,s))}),l.qZA()}}function SL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",66)(1,"i",67),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit,r=l.oxw();return l.KtG(r.onPageAction("togglePageVisibility",s))}),l.qZA(),l.TgZ(2,"i",68),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit,r=l.oxw();return l.KtG(r.onPageAction("copy",s))}),l.qZA(),l.TgZ(3,"i",69),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit,r=l.oxw();return l.KtG(r.onPageAction("edit",s))}),l.qZA()()}if(2&h){const e=l.oxw().$implicit;l.xp6(1),l.Q6J("ngClass",e.enabled?"bi-eye-slash":"bi-eye")}}function xL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"input",70,71),l.NdJ("keyup.enter",function(){l.CHM(e);const s=l.MAs(1),r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.onUpdatePageTitle(r,s.value))}),l.qZA(),l.TgZ(2,"i",72),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit;return l.KtG(s.isEditing=!1)}),l.qZA(),l.TgZ(3,"i",73),l.NdJ("click",function(){l.CHM(e);const s=l.MAs(1),r=l.oxw().$implicit,o=l.oxw();return l.KtG(o.onUpdatePageTitle(r,s.value))}),l.qZA()}if(2&h){const e=l.oxw().$implicit;l.Q6J("value",e.name)}}function PL(h,i){if(1&h&&(l.TgZ(0,"div",74),l._uU(1),l.qZA()),2&h){const e=l.oxw().$implicit,t=l.oxw();l.ekj("toggled",t.toggle),l.xp6(1),l.Oqu(e.name)}}const TL=function(h){return{hide:h}};function kL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"li",46),l.NdJ("click",function(){const r=l.CHM(e).$implicit,o=l.oxw();return l.KtG(o.onPageSelect(r))}),l.TgZ(1,"div",47)(2,"div",48),l.YNc(3,_L,4,4,"div",49),l.TgZ(4,"div",50),l.YNc(5,wL,1,0,"i",51),l.YNc(6,SL,4,1,"div",52),l.qZA(),l.YNc(7,xL,4,1,"ng-template",null,53,l.W1O),l.qZA(),l.YNc(9,PL,2,3,"div",54),l.qZA()()}if(2&h){const e=i.$implicit,t=l.MAs(8),s=l.oxw();l.xp6(2),l.ekj("active",e.depId===s.currentSection&&!s.isIdSelected),l.xp6(1),l.Q6J("ngIf",!e.isEditing)("ngIfElse",t),l.xp6(1),l.Q6J("ngClass",l.VKq(8,TL,e.isEditing)),l.xp6(1),l.Q6J("ngIf",!l.DdM(10,qm).includes(e.key)),l.xp6(1),l.Q6J("ngIf",e.showActionMenu),l.xp6(3),l.Q6J("ngIf",!s.toggle)}}function LL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"li",88)(1,"a",89),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit,r=l.oxw();return l.KtG(r.onPageAction("copy",s))}),l.O4$(),l.TgZ(2,"svg",90),l._UZ(3,"path",91)(4,"path",92),l.qZA()()()}}function OL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"li",93)(1,"a",94),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(2);return l.KtG(s.onAddNewPage())}),l.O4$(),l.TgZ(2,"svg",90),l._UZ(3,"path",95)(4,"path",96),l.qZA()()()}}function ML(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"li",97)(1,"a",98),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit,r=l.oxw();return l.KtG(r.onDeletePage(s))}),l.O4$(),l.TgZ(2,"svg",90),l._UZ(3,"rect",99)(4,"path",100)(5,"path",101)(6,"path",102)(7,"path",103),l.qZA()()()}}function AL(h,i){if(1&h){const e=l.EpF();l.ynx(0),l.TgZ(1,"app-template-creation",104),l.NdJ("signal",function(s){l.CHM(e);const r=l.oxw(2);return l.KtG(r.onTemplateSignal(s))}),l.qZA(),l.BQk()}if(2&h){const e=l.oxw(2);l.xp6(1),l.Q6J("quoteId",e.quoteId)("quote",e.quote)}}function IL(h,i){if(1&h&&(l.ynx(0),l._UZ(1,"app-project-approval",105),l.BQk()),2&h){const e=l.oxw().$implicit,t=l.oxw();l.xp6(1),l.Q6J("quote",t.quote)("quoteDetailId",e.id)("quoteId",t.quoteId)("enabled",e.enabled)("title",e.name)("json",e.json)}}function EL(h,i){if(1&h&&(l.ynx(0),l._UZ(1,"app-project-cost",106),l.BQk()),2&h){const e=l.oxw().$implicit,t=l.oxw();l.xp6(1),l.Q6J("quoteDetailId",e.id)("enabled",e.enabled)("quoteId",t.quoteId)("title",e.name)("json",e.json)}}function DL(h,i){if(1&h&&(l.ynx(0),l._UZ(1,"app-attach-pdf",106),l.BQk()),2&h){const e=l.oxw().$implicit,t=l.oxw();l.xp6(1),l.Q6J("quoteDetailId",e.id)("enabled",e.enabled)("quoteId",t.quoteId)("title",e.name)("json",e.json)}}function jL(h,i){if(1&h&&(l.ynx(0),l._UZ(1,"app-project-description",107),l.BQk()),2&h){const e=l.oxw().$implicit,t=l.oxw();l.xp6(1),l.Q6J("enabled",e.enabled)("quoteId",t.quoteId)("title",e.name)("json",e.json)}}function RL(h,i){if(1&h&&(l.ynx(0),l._UZ(1,"app-inspection-report",106),l.BQk()),2&h){const e=l.oxw().$implicit,t=l.oxw();l.xp6(1),l.Q6J("quoteDetailId",e.id)("enabled",e.enabled)("quoteId",t.quoteId)("title",e.name)("json",e.json)}}function YL(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",75)(1,"div",76)(2,"div",77),l._uU(3),l.qZA(),l.TgZ(4,"div",78)(5,"ul",79),l.YNc(6,LL,5,0,"li",80),l.YNc(7,OL,5,0,"li",81),l.YNc(8,ML,8,0,"li",82),l.TgZ(9,"li",83)(10,"button",84),l.NdJ("click",function(){l.CHM(e);const s=l.oxw();return l.KtG(s.onPreviewPage())}),l._uU(11," Preview "),l.qZA()()()()(),l.TgZ(12,"div",85),l.ynx(13,86),l.YNc(14,AL,2,2,"ng-container",87),l.YNc(15,IL,2,6,"ng-container",87),l.YNc(16,EL,2,5,"ng-container",87),l.YNc(17,DL,2,5,"ng-container",87),l.YNc(18,jL,2,4,"ng-container",87),l.YNc(19,RL,2,5,"ng-container",87),l.BQk(),l.qZA()()}if(2&h){const e=i.$implicit,t=l.oxw();l.Udp("width",t.selectedZoom.value),l.Q6J("id",e.depId),l.xp6(3),l.hij(" ",e.name," "),l.xp6(3),l.Q6J("ngIf",e.key!==t.quotePageTypes.TEMPLATE),l.xp6(1),l.Q6J("ngIf",e.key!==t.quotePageTypes.TEMPLATE),l.xp6(1),l.Q6J("ngIf",e.key!==t.quotePageTypes.APPROVAL&&e.key!==t.quotePageTypes.TEMPLATE),l.xp6(2),l.Q6J("disabled",!t.quoteId||t.loading),l.xp6(3),l.Q6J("ngSwitch",e.key),l.xp6(1),l.Q6J("ngSwitchCase",t.quotePageTypes.TEMPLATE),l.xp6(1),l.Q6J("ngSwitchCase",t.quotePageTypes.APPROVAL),l.xp6(1),l.Q6J("ngSwitchCase",t.quotePageTypes.PROJECT_COST),l.xp6(1),l.Q6J("ngSwitchCase",t.quotePageTypes.ATTACH_PDF),l.xp6(1),l.Q6J("ngSwitchCase",t.quotePageTypes.PROJECT_DESCRIPTION),l.xp6(1),l.Q6J("ngSwitchCase",t.quotePageTypes.INSPECTION_REPORT)}}const FL=function(h){return{toggled:h}},HL=function(){return["DIV"]};let NL=(()=>{var h;class i extends zc.c{constructor(t,s,r,o,a,d,c,p,u,f){super(t),(0,_.Z)(this,"_dialogService",void 0),(0,_.Z)(this,"_quoteDetailService",void 0),(0,_.Z)(this,"_quoteService",void 0),(0,_.Z)(this,"_quotePagesStoreService",void 0),(0,_.Z)(this,"_commonBroadcastService",void 0),(0,_.Z)(this,"_pdfService",void 0),(0,_.Z)(this,"router",void 0),(0,_.Z)(this,"route",void 0),(0,_.Z)(this,"fb",void 0),(0,_.Z)(this,"approvalComp",void 0),(0,_.Z)(this,"costComp",void 0),(0,_.Z)(this,"descComp",void 0),(0,_.Z)(this,"reportComp",void 0),(0,_.Z)(this,"pdfComp",void 0),(0,_.Z)(this,"divFive",void 0),(0,_.Z)(this,"zoomKeys",gt.BK),(0,_.Z)(this,"allZooms",[{key:"50%",value:gt.$i.Level_50},{key:"75%",value:gt.$i.Level_75},{key:"100%",value:gt.$i.Level_100},{key:"125%",value:gt.$i.Level_125},{key:"200%",value:gt.$i.Level_200},{key:"Fit to Screen",value:gt.$i.FIT}]),(0,_.Z)(this,"selectedZoom",this.allZooms[2]),(0,_.Z)(this,"quoteId",void 0),(0,_.Z)(this,"quote",void 0),(0,_.Z)(this,"isChanged",!1),(0,_.Z)(this,"pages",[]),(0,_.Z)(this,"itemsPages",[]),(0,_.Z)(this,"isIdSelected",!1),(0,_.Z)(this,"loading",!0),(0,_.Z)(this,"subscription",void 0),(0,_.Z)(this,"selectedPage",void 0),(0,_.Z)(this,"quotePageTypes",gt.Yh),(0,_.Z)(this,"messageService",void 0),(0,_.Z)(this,"disableGeneratePdfBtn",!1),(0,_.Z)(this,"toggle",!0),(0,_.Z)(this,"autoSaveSubscription",void 0),(0,_.Z)(this,"autoSaveEventData",void 0),(0,_.Z)(this,"shareQuoteWithTeam",void 0),(0,_.Z)(this,"isInProcess",!1),(0,_.Z)(this,"currentSection","template"),this._dialogService=s,this._quoteDetailService=r,this._quoteService=o,this._quotePagesStoreService=a,this._commonBroadcastService=d,this._pdfService=c,this.router=p,this.route=u,this.fb=f,this.shareQuoteWithTeam=this.fb.group({checked:[!1]}),this.autoSaveSubscription=this._commonBroadcastService.GetEvent($s.u.autoSaveBroadcast).subscribe(v=>{this.autoSaveEventData=this.approvalComp.getJSON(),this.autoSave(v)}),this.selectedPage=this.pages[0],this.messageService=t.get(Vc.ez),this._quotePagesStoreService.setPages(this.pages),u.paramMap.pipe().subscribe(v=>{const g=v.get("quoteId");this.pages=[{id:"",name:"Template",key:gt.Yh.TEMPLATE,enabled:!0,order:0,showActionMenu:!1,depId:"template"},{name:"Approval",enabled:!0,id:"",key:gt.Yh.APPROVAL,order:1,json:"",showActionMenu:!1,depId:"approval"}],this.currentSection="template",this.selectedPage=this.pages[0],"new"!==g?(this.quoteId=g,this.quote||(this.getQuoteDetail(),this.getAllQuoteDetails())):(this.quoteId="",this.quote=null)})}ngOnInit(){}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null),this.autoSaveSubscription&&this.autoSaveSubscription.unsubscribe()}onAddNewPage(){this._dialogService.open(U1,{header:"Add pages",width:"22%",styleClass:"select-quote-page-type-dlg"}).onClose.subscribe(s=>{if(s){this.isInProcess=!0;const{key:r,pageTitle:o}=s;this.onMakeNewPage(r,o)}})}onPageSelect(t){this.isInProcess=!0;for(const s of this.pages)s!=t&&(s.showActionMenu=!1,s.isEditing=!1);this.selectedPage=t,this.isIdSelected=!0,this.scrollToId(t.depId)}showPageActionMenu(t,s){s.stopPropagation();for(const r of this.pages)r!==t&&(r.showActionMenu=!1);t.showActionMenu=!t.showActionMenu}onPageAction(t,s){switch(s.showActionMenu=!1,t){case"togglePageVisibility":this.onTogglePageVisibility(s);break;case"copy":this.onDuplicateQuoteDetail(s);break;case"edit":s.isEditing=!0}}onUpdatePageTitle(t,s){t.isEditing=!1;const r=new $e.vCZ;r.id=t.id,r.name=s,this._quoteDetailService.updateQuoteDetails(r).subscribe({next:o=>t.name=o.name})}onSortPages(t){Yh(this.pages,t.previousIndex,t.currentIndex);const s=this.pages.filter(r=>r.key!==gt.Yh.TEMPLATE&&r.id).map((r,o)=>new $e.m4H({id:r.id,order:o}));this._quoteDetailService.updateQuoteDetailOrders(s).subscribe({next:()=>{console.log("Quote pages order updated.")}})}sortByKey(t,s){return t.sort((r,o)=>{const a=r[s],d=o[s];return a<d?-1:a>d?1:0})}onTogglePageVisibility(t){const s=new $e.GuS({id:t.id,enabled:!t.enabled});this._quoteDetailService.updateQuoteDetailActivation(s).subscribe({next:r=>t.enabled=r.enabled})}onDeletePage(t){this.messageService.confirm("Do you want to delete this page?","Are you sure",s=>{s&&this._quoteDetailService.deleteQuoteDetails(t.id).subscribe({next:()=>{const r=this.pages.find(a=>t.id===a.id),o=this.pages.indexOf(r);this.pages.splice(o,1),this.selectedPage=this.pages[0],this._quotePagesStoreService.setPages(this.pages)}})})}onPreviewAndSend(t){this.disableGeneratePdfBtn=!0,!this.quoteId&&t.key===gt.Yh.APPROVAL&&this.onCreateApprovalPage(),this.onGeneratePdf()}autoSave(t,s=!1){this.pages=this._quotePagesStoreService.getPages();const r=this.pages.find(a=>a.key==t);if(!this.quoteId){const a=new $e.ooB;return a.quoteName="",this.quoteId&&(a.quoteId=this.quoteId),void this._quoteService.createQuote4CoverPages(a).subscribe(d=>{this.quoteId||(this.quoteId=d,this.router.navigateByUrl(`/app/main/quotes/${this.quoteId}`),setTimeout(()=>{this.autoSave(1,!0)},1e3))})}const o=new $e.vCZ;o.id=r.id,o.quoteId=this.quoteId,o.name=r.name,o.order=r.order,o.enabled=r.enabled,o.json=s?this.autoSaveEventData:this.getSelectedPageJSON(t),this._quoteDetailService.autoSaveQuoteDetails(o).subscribe(a=>{this.notify.success(this.l("Saved Successfully")),this.isChanged=!0,this.getAllQuoteDetailsPreviews(),r.id||(r.id=a.id),s&&this.approvalComp.populatePage(this.autoSaveEventData),this.quoteId||this.router.navigateByUrl(`/app/main/quotes/${a.quoteId}`)})}autoGeneratePdf(){this._pdfService.generateQuotePdf(this.quoteId).subscribe({next:t=>{}})}onCreateApprovalPage(){this.disableGeneratePdfBtn=!0;const t=new $e.iT$;t.quoteId=this.quoteId,t.key=$e.K7X.Signature,t.name="Approval",t.order=1,t.json=this.getSelectedPageJSON(gt.Yh.APPROVAL),this._quoteDetailService.createQuoteDetails(t).subscribe({next:s=>{this.quoteId||(this.quoteId=s.quoteId,this.router.navigateByUrl(`/app/main/quotes/${this.quoteId}`)),this.onGeneratePdf()},error:()=>this.disableGeneratePdfBtn=!1})}onTemplateSignal(t){this.quote&&(this.quote[t.key]=t.value)}getAllQuoteDetails(){this._quoteDetailService.getAllQuoteDetailsByQuoteId(this.quoteId).subscribe({next:t=>{for(const s of t)s.key===$e.K7X.Signature&&this.pages.splice(1,1),this.pages.push({id:s.id,name:s.name||"Page Title",key:s.key,enabled:s.enabled,order:s.order,showActionMenu:!1,json:s.json,depId:s.id,jsonValue:s.json&&JSON.parse(s.json)});this.loading=!1,this.pages=this.sortByKey(this.pages,"order"),this.itemsPages=this.pages.map((s,r)=>({...s,index:r})),this._quotePagesStoreService.setPages(this.pages)}})}getQuoteDetail(){this._quoteService.getQuoteForEdit(this.quoteId).subscribe({next:t=>this.quote=t})}onMakeNewPage(t,s){const r=new $e.iT$({key:t,quoteId:this.quoteId,name:s,enabled:!0,order:this.pages.length,json:""}),o=this.convertKeyDetalToPage(t);this._quoteDetailService.createQuoteDetails(r).subscribe({next:a=>this.initNewPage(a,o)})}convertKeyDetalToPage(t){switch(t){case $e.K7X.Signature:return gt.Yh.APPROVAL;case $e.K7X.Price_list:return gt.Yh.PROJECT_COST;case $e.K7X.Append_pdf:return gt.Yh.ATTACH_PDF;case $e.K7X.Free_text:return gt.Yh.PROJECT_DESCRIPTION;case $e.K7X.Image_text_list:return gt.Yh.INSPECTION_REPORT;default:throw new Error(`Unhandled value in QuoteDetalKey: ${t}`)}}initNewPage(t,s){const{id:r,name:o,enabled:a,order:d,quoteId:c,json:p}=t;this.quoteId||(this.quoteId=c,this.router.navigateByUrl(`/app/main/quotes/${this.quoteId}`));const u={id:r,name:o||"Page title",key:s,enabled:a,order:d,showActionMenu:!1,json:p,depId:r};this.pages.push(u),this.onPageSelect(u),this._quotePagesStoreService.setPages(this.pages)}onDuplicateQuoteDetail(t){this._quoteDetailService.duplicateQuoteDetails(new $e.LAl({id:t.id})).subscribe({next:s=>this.initNewPage(s,t.key)})}getSelectedPageJSON(t){switch(t){case gt.Yh.APPROVAL:return this.approvalComp.getJSON();case gt.Yh.PROJECT_DESCRIPTION:return this.descComp.getJSON();case gt.Yh.PROJECT_COST:return this.costComp.getJSON();case gt.Yh.INSPECTION_REPORT:return this.reportComp.getJSON();case gt.Yh.ATTACH_PDF:return this.pdfComp.getJSON();default:return""}}getAllQuoteDetailsPreviews(){this.itemsPages=[{id:"",name:"Template",key:gt.Yh.TEMPLATE,enabled:!0,order:0,showActionMenu:!1,depId:"template"},{name:"Approval",enabled:!0,id:"",key:gt.Yh.APPROVAL,order:1,json:"",showActionMenu:!1,depId:"approval"}],this._quoteDetailService.getAllQuoteDetailsByQuoteId(this.quoteId).subscribe({next:t=>{for(const s of t)s.key===$e.K7X.Signature&&this.itemsPages.splice(1,1),this.itemsPages.push({id:s.id,name:s.name||"Page Title",key:s.key,enabled:s.enabled,order:s.order,showActionMenu:!1,json:s.json,depId:s.id,jsonValue:s.json&&JSON.parse(s.json)});this.itemsPages=this.sortByKey(this.itemsPages,"order"),this.itemsPages=this.itemsPages.map((s,r)=>({...s,index:r}))}})}onPreviewPage(){this._dialogService.open(x_.B,{width:"100vw",height:"100vh",showHeader:!1,styleClass:"view-pdf-dlg",data:{quoteId:this.quoteId,modeId:1,pages:this.itemsPages,quote:this.quote,isChanged:this.isChanged}}),setTimeout(()=>{this.isChanged=!1},100)}onGeneratePdf(){this._pdfService.generateQuotePdf(this.quoteId,!0).subscribe({next:t=>{this.disableGeneratePdfBtn=!1,this.viewQuotePdf(t.result.quoteUrlPDf)},error:()=>this.disableGeneratePdfBtn=!1})}viewQuotePdf(t){this._dialogService.open(l1.p,{width:"100vw",height:"100vh",showHeader:!1,styleClass:"view-pdf-dlg",data:{pdfUrl:t,quoteId:this.quoteId,quoteNumber:"Quote"}})}scrollToId(t){this.isIdSelected=!0,setTimeout(()=>{document.getElementById(t).scrollIntoView({behavior:"smooth"}),this.currentSection=t,this.isIdSelected=!1,this.isInProcess=!1},300)}onSectionChange(t){this.currentSection=t,this.isIdSelected=!1}onScrollTop(){setTimeout(()=>{document.getElementById("template").scrollIntoView({behavior:"smooth"})},300)}getIndex(){return this.pages.indexOf(this.pages.find(t=>t.depId===this.currentSection))+1}onZoom(t){const s=this.allZooms.indexOf(this.selectedZoom);if(s<=this.allZooms.length-1&&s>=0)switch(t){case gt.BK.PLUS:s>=0&&s<this.allZooms.length-1&&(this.selectedZoom=this.allZooms[s+1]);break;case gt.BK.MINUS:s>0&&(this.selectedZoom=this.allZooms[s-1])}}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(l.zs3),l.Y36(Jn.xA),l.Y36($e.xCW),l.Y36($e.k_Y),l.Y36(ja),l.Y36(Mo.C),l.Y36(hL.n),l.Y36(Nr.F0),l.Y36(Nr.gz),l.Y36(Be.qu))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["edit-quote"]],viewQuery:function(t,s){if(1&t&&(l.Gf(T_,5),l.Gf(A_,5),l.Gf(I_,5),l.Gf(M_,5),l.Gf(k_,5),l.Gf(yL,5)),2&t){let r;l.iGM(r=l.CRH())&&(s.approvalComp=r.first),l.iGM(r=l.CRH())&&(s.costComp=r.first),l.iGM(r=l.CRH())&&(s.descComp=r.first),l.iGM(r=l.CRH())&&(s.reportComp=r.first),l.iGM(r=l.CRH())&&(s.pdfComp=r.first),l.iGM(r=l.CRH())&&(s.divFive=r.first)}},features:[l.qOj],decls:68,vars:13,consts:[[1,"container-fluid","edit-quote-container","p-7"],[1,"row"],[1,"quotes-side-bar-menu","col-12","col-lg-2",3,"ngClass"],[1,"main-header"],[1,"main-header__title"],[1,"main-header__desc"],[1,"main-header__action-toggle",3,"click"],["width","6","height","10","viewBox","0 0 6 10","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.33334 1.23382C1.33334 1.23382 5.21155 4.09006 5.21155 5.11203C5.21155 6.13407 1.33334 8.99023 1.33334 8.99023","stroke","#2D68F6","stroke-width","1.05769","stroke-linecap","round","stroke-linejoin","round"],[1,"divider"],["cdkDropList","",1,"pages-selection",3,"cdkDropListDropped"],[3,"click",4,"ngFor","ngForOf"],[1,"add_new_btn"],[1,"btn","btn-primary","w-100","btn-rounded",3,"click"],["width","12","height","13","viewBox","0 0 12 13","fill","none","xmlns","http://www.w3.org/2000/svg",1,"add_new_btn__icon"],["d","M6.00006 2.36246V10.2221","stroke","white","stroke-linecap","round","stroke-linejoin","round"],["d","M2.07013 6.29313H9.92978","stroke","white","stroke-linecap","round","stroke-linejoin","round"],[1,"add_new_btn__title"],[1,"add_new_btn--add"],[1,"flex-fill","col-12","col-lg-10"],["scroll","",1,"content-area","flex-fill",3,"isSelectId","spiedTags","inProcess","sectionChange"],["class","section",3,"id","width",4,"ngFor","ngForOf"],[1,"edit-quote-footer"],[1,"share-quote"],[3,"formGroup"],[1,"form-check","form-switch"],["type","checkbox","formControlName","checked",1,"form-check-input"],[1,"form-check-label"],[1,"pagination"],[1,"control"],[1,"control__title"],[1,"control__value"],[1,"active"],[1,"vr"],[1,"minus",3,"click"],["width","17","height","16","viewBox","0 0 17 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.92324 7.99951H12.9232","stroke","#000624","stroke-opacity","0.8","stroke-width","1.22134","stroke-linecap","round","stroke-linejoin","round"],[1,"plus",3,"click"],["d","M12.0818 8.58192H9.22462V11.4899C9.22462 11.6441 9.16442 11.792 9.05725 11.9011C8.95009 12.0102 8.80474 12.0715 8.65319 12.0715C8.50164 12.0715 8.35629 12.0102 8.24913 11.9011C8.14197 11.792 8.08176 11.6441 8.08176 11.4899V8.58192H5.22462C5.07307 8.58192 4.92772 8.52064 4.82056 8.41157C4.71339 8.3025 4.65319 8.15458 4.65319 8.00033C4.65319 7.84608 4.71339 7.69815 4.82056 7.58908C4.92772 7.48001 5.07307 7.41874 5.22462 7.41874H8.08176V4.51079C8.08176 4.35654 8.14197 4.20861 8.24913 4.09954C8.35629 3.99047 8.50164 3.9292 8.65319 3.9292C8.80474 3.9292 8.95009 3.99047 9.05725 4.09954C9.16442 4.20861 9.22462 4.35654 9.22462 4.51079V7.41874H12.0818C12.2333 7.41874 12.3787 7.48001 12.4858 7.58908C12.593 7.69815 12.6532 7.84608 12.6532 8.00033C12.6532 8.15458 12.593 8.3025 12.4858 8.41157C12.3787 8.52064 12.2333 8.58192 12.0818 8.58192Z","fill","#000624","fill-opacity","0.8"],[1,"view-controls"],[1,"controls"],[1,"controls-item"],[1,"controls","pointer",3,"click"],["d","M8.17986 6.47313C8.24184 6.53562 8.31557 6.58521 8.39681 6.61906C8.47805 6.6529 8.56519 6.67033 8.6532 6.67033C8.7412 6.67033 8.82834 6.6529 8.90958 6.61906C8.99082 6.58521 9.06455 6.53562 9.12653 6.47313L12.4599 3.1398C12.5854 3.01426 12.6559 2.844 12.6559 2.66646C12.6559 2.48893 12.5854 2.31867 12.4599 2.19313C12.3343 2.0676 12.1641 1.99707 11.9865 1.99707C11.809 1.99707 11.6387 2.0676 11.5132 2.19313L8.6532 5.0598L5.79319 2.19313C5.66766 2.0676 5.4974 1.99707 5.31986 1.99707C5.14233 1.99707 4.97206 2.0676 4.84653 2.19313C4.72099 2.31867 4.65047 2.48893 4.65047 2.66646C4.65047 2.844 4.72099 3.01426 4.84653 3.1398L8.17986 6.47313ZM9.12653 9.52647C9.06455 9.46398 8.99082 9.41438 8.90958 9.38054C8.82834 9.34669 8.7412 9.32927 8.6532 9.32927C8.56519 9.32927 8.47805 9.34669 8.39681 9.38054C8.31557 9.41438 8.24184 9.46398 8.17986 9.52647L4.84653 12.8598C4.72099 12.9853 4.65047 13.1556 4.65047 13.3331C4.65047 13.5107 4.72099 13.6809 4.84653 13.8065C4.97206 13.932 5.14233 14.0025 5.31986 14.0025C5.4974 14.0025 5.66766 13.932 5.79319 13.8065L8.6532 10.9398L11.5132 13.8065C11.5752 13.8689 11.6489 13.9185 11.7301 13.9524C11.8114 13.9862 11.8985 14.0037 11.9865 14.0037C12.0745 14.0037 12.1617 13.9862 12.2429 13.9524C12.3242 13.9185 12.3979 13.8689 12.4599 13.8065C12.5223 13.7445 12.5719 13.6708 12.6058 13.5895C12.6396 13.5083 12.6571 13.4211 12.6571 13.3331C12.6571 13.2451 12.6396 13.158 12.6058 13.0767C12.5719 12.9955 12.5223 12.9218 12.4599 12.8598L9.12653 9.52647Z","fill","#000624","fill-opacity","0.8"],["href","javascript:void(0)",1,"controls"],["d","M11.9866 1.33276C11.8098 1.33276 11.6402 1.403 11.5152 1.52803C11.3901 1.65305 11.3199 1.82262 11.3199 1.99943C11.3199 2.17624 11.3901 2.34581 11.5152 2.47083C11.6402 2.59586 11.8098 2.6661 11.9866 2.6661H13.0439L10.1819 5.5281C10.0605 5.65383 9.99327 5.82223 9.99479 5.99703C9.99631 6.17183 10.0664 6.33904 10.19 6.46264C10.3136 6.58625 10.4808 6.65636 10.6556 6.65788C10.8304 6.6594 10.9988 6.5922 11.1246 6.47076L13.9866 3.60876V4.6661C13.9866 4.84291 14.0568 5.01248 14.1818 5.1375C14.3069 5.26253 14.4764 5.33276 14.6532 5.33276C14.83 5.33276 14.9996 5.26253 15.1246 5.1375C15.2497 5.01248 15.3199 4.84291 15.3199 4.6661V1.99943C15.3199 1.82262 15.2497 1.65305 15.1246 1.52803C14.9996 1.403 14.83 1.33276 14.6532 1.33276H11.9866ZM3.31991 12.3901V11.3328C3.31991 11.156 3.24967 10.9864 3.12464 10.8614C2.99962 10.7363 2.83005 10.6661 2.65324 10.6661C2.47643 10.6661 2.30686 10.7363 2.18183 10.8614C2.05681 10.9864 1.98657 11.156 1.98657 11.3328V13.9994C1.98657 14.1762 2.05681 14.3458 2.18183 14.4708C2.30686 14.5959 2.47643 14.6661 2.65324 14.6661H5.31991C5.49672 14.6661 5.66629 14.5959 5.79131 14.4708C5.91633 14.3458 5.98657 14.1762 5.98657 13.9994C5.98657 13.8226 5.91633 13.653 5.79131 13.528C5.66629 13.403 5.49672 13.3328 5.31991 13.3328H4.26257L7.12457 10.4708C7.24601 10.345 7.31321 10.1766 7.31169 10.0018C7.31017 9.82703 7.24006 9.65982 7.11645 9.53622C6.99285 9.41261 6.82564 9.3425 6.65084 9.34098C6.47604 9.33946 6.30764 9.40666 6.18191 9.5281L3.31991 12.3901Z","fill","#000624","fill-opacity","0.8"],[3,"click"],["cdkDrag",""],[1,"item-menu__info"],["class","item-menu__info__content",4,"ngIf","ngIfElse"],[1,"item-menu__info__action",3,"ngClass"],["class","fa-solid fa-ellipsis-vertical menu-tab-icon",3,"click",4,"ngIf"],["class","page-menu",4,"ngIf"],["editPageTitle",""],["class","item-menu__title",3,"toggled",4,"ngIf"],[1,"item-menu__info__content"],["class","bi bi-grip-vertical me-2 menu-tab-icon icon-drag","cdkDragHandle","","width","9","height","16","viewBox","0 0 9 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[4,"ngIf"],["cdkDragHandle","","width","9","height","16","viewBox","0 0 9 16","fill","none","xmlns","http://www.w3.org/2000/svg",1,"bi","bi-grip-vertical","me-2","menu-tab-icon","icon-drag"],["d","M6.99194 8H7.00094","stroke","#4E6685","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M6.98425 14H6.99325","stroke","#4E6685","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M6.99976 2H7.00876","stroke","#4E6685","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2.00769 8H2.01669","stroke","#4E6685","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2 14H2.009","stroke","#4E6685","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],["d","M2.0155 2H2.0245","stroke","#4E6685","stroke-width","2.5","stroke-linecap","round","stroke-linejoin","round"],[1,"fa-solid","fa-ellipsis-vertical","menu-tab-icon",3,"click"],[1,"page-menu"],[1,"bi","me-4",3,"ngClass","click"],[1,"bi","bi-clipboard","me-4",3,"click"],[1,"fa-solid","fa-pencil",3,"click"],["type","text","autofocus","",1,"form-control","edit-title-field",3,"value","keyup.enter"],["titleField",""],[1,"fa-solid","fa-x","close-icon","me-1",3,"click"],[1,"bi","bi-check-square","cursor-pointer","done-icon",3,"click"],[1,"item-menu__title"],[1,"section",3,"id"],[1,"section__header"],[1,"title"],[1,"actions"],[1,"action-nav"],["class","action-nav__item action-nav__item--copy",4,"ngIf"],["class","action-nav__item action-nav__item--add",4,"ngIf"],["class","action-nav__item action-nav__item--delete",4,"ngIf"],[1,"action-nav__item","action-nav__item--preview"],["type","button",1,"btn","btn-sm","btn-primary","btn-rounded",3,"disabled","click"],[1,"section__body","p-0"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"action-nav__item","action-nav__item--copy"],["alt","Copy ","pTooltip","Copy","tooltipPosition","top",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M9 15C9 12.1716 9 10.7574 9.87868 9.87868C10.7574 9 12.1716 9 15 9H16C18.8284 9 20.2426 9 21.1213 9.87868C22 10.7574 22 12.1716 22 15V16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H15C12.1716 22 10.7574 22 9.87868 21.1213C9 20.2426 9 18.8284 9 16V15Z","stroke","#326BF6","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M16.9999 9C16.9975 6.04291 16.9528 4.51121 16.092 3.46243C15.9258 3.25989 15.7401 3.07418 15.5376 2.90796C14.4312 2 12.7875 2 9.5 2C6.21252 2 4.56878 2 3.46243 2.90796C3.25989 3.07417 3.07418 3.25989 2.90796 3.46243C2 4.56878 2 6.21252 2 9.5C2 12.7875 2 14.4312 2.90796 15.5376C3.07417 15.7401 3.25989 15.9258 3.46243 16.092C4.51121 16.9528 6.04291 16.9975 9 16.9999","stroke","#326BF6","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],[1,"action-nav__item","action-nav__item--add"],["alt","Add","pTooltip","Add","tooltipPosition","top",3,"click"],["d","M12 8V16M16 12H8","stroke","#326BF6","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12Z","stroke","#326BF6","stroke-width","1.5"],[1,"action-nav__item","action-nav__item--delete"],["alt","Delete","pTooltip","Delete","tooltipPosition","top",3,"click"],["width","24","height","24","rx","12","fill","#FF0000","fill-opacity","0.15"],["d","M15.75 8.75L15.4402 13.7625C15.361 15.0432 15.3214 15.6836 15.0004 16.144C14.8416 16.3716 14.6373 16.5637 14.4003 16.708C13.921 17 13.2795 17 11.9963 17C10.7116 17 10.0691 17 9.58952 16.7074C9.3524 16.5628 9.148 16.3704 8.98934 16.1424C8.66844 15.6813 8.62972 15.04 8.5523 13.7576L8.25 8.75","stroke","#FF0000","stroke-linecap","round"],["d","M7.5 8.75H16.5M14.0279 8.75L13.6866 8.04587C13.4598 7.57813 13.3464 7.34426 13.1508 7.19841C13.1075 7.16605 13.0616 7.13727 13.0135 7.11235C12.797 7 12.5371 7 12.0173 7C11.4844 7 11.218 7 10.9978 7.11706C10.949 7.143 10.9025 7.17295 10.8586 7.20659C10.6608 7.35835 10.5503 7.60078 10.3293 8.08563L10.0265 8.75","stroke","#FF0000","stroke-linecap","round"],["d","M10.75 14.25V11.25","stroke","#FF0000","stroke-linecap","round"],["d","M13.25 14.25V11.25","stroke","#FF0000","stroke-linecap","round"],[3,"quoteId","quote","signal"],[3,"quote","quoteDetailId","quoteId","enabled","title","json"],[3,"quoteDetailId","enabled","quoteId","title","json"],[3,"enabled","quoteId","title","json"]],template:function(t,s){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),l._uU(5,"Pages"),l.qZA(),l.TgZ(6,"div",5),l._uU(7," Siplify your proposal creation by easily adding and modifying pages. "),l.qZA(),l.TgZ(8,"div",6),l.NdJ("click",function(){return s.toggle=!s.toggle}),l.O4$(),l.TgZ(9,"svg",7),l._UZ(10,"path",8),l.qZA(),l.TgZ(11,"svg",7),l._UZ(12,"path",8),l.qZA()()(),l.kcU(),l._UZ(13,"div",9),l.TgZ(14,"ul",10),l.NdJ("cdkDropListDropped",function(o){return s.onSortPages(o)}),l.YNc(15,kL,10,11,"li",11),l.qZA(),l._UZ(16,"div",9),l.TgZ(17,"div",12)(18,"div",13),l.NdJ("click",function(){return s.onAddNewPage()}),l.O4$(),l.TgZ(19,"svg",14),l._UZ(20,"path",15)(21,"path",16),l.qZA(),l.kcU(),l.TgZ(22,"span",17),l._uU(23,"Add new page"),l.qZA()(),l.TgZ(24,"div",18),l._uU(25,"Add"),l.qZA()()(),l.TgZ(26,"div",19)(27,"div",20),l.NdJ("sectionChange",function(o){return s.onSectionChange(o)}),l.YNc(28,YL,20,15,"div",21),l.qZA()()()(),l.TgZ(29,"div",22)(30,"div",23)(31,"form",24)(32,"div",25),l._UZ(33,"input",26),l.TgZ(34,"label",27),l._uU(35,"Share this quote with your team"),l.qZA()()()(),l.TgZ(36,"div",28)(37,"div",29)(38,"div",30),l._uU(39,"Page"),l.qZA(),l.TgZ(40,"div",31)(41,"span",32),l._uU(42),l.qZA(),l.TgZ(43,"span"),l._uU(44,"/"),l.qZA(),l.TgZ(45,"span"),l._uU(46),l.qZA()()(),l._UZ(47,"div",33),l.TgZ(48,"div",29)(49,"div",31)(50,"span",34),l.NdJ("click",function(){return s.onZoom(s.zoomKeys.MINUS)}),l.O4$(),l.TgZ(51,"svg",35),l._UZ(52,"path",36),l.qZA()(),l.kcU(),l.TgZ(53,"span"),l._uU(54),l.qZA(),l.TgZ(55,"span",37),l.NdJ("click",function(){return s.onZoom(s.zoomKeys.PLUS)}),l.O4$(),l.TgZ(56,"svg",35),l._UZ(57,"path",38),l.qZA()()()()(),l.kcU(),l.TgZ(58,"div",39)(59,"ul",40)(60,"li",41)(61,"a",42),l.NdJ("click",function(){return s.onScrollTop()}),l.O4$(),l.TgZ(62,"svg",35),l._UZ(63,"path",43),l.qZA()()(),l.kcU(),l.TgZ(64,"li",41)(65,"a",44),l.O4$(),l.TgZ(66,"svg",35),l._UZ(67,"path",45),l.qZA()()()()()()),2&t&&(l.xp6(2),l.Q6J("ngClass",l.VKq(10,FL,!s.toggle)),l.xp6(13),l.Q6J("ngForOf",s.pages),l.xp6(12),l.Q6J("isSelectId",s.isIdSelected)("spiedTags",l.DdM(12,HL))("inProcess",s.isInProcess),l.xp6(1),l.Q6J("ngForOf",s.pages),l.xp6(3),l.Q6J("formGroup",s.shareQuoteWithTeam),l.xp6(11),l.Oqu(s.getIndex()),l.xp6(4),l.Oqu(s.pages.length),l.xp6(8),l.Oqu(s.selectedZoom.key))},dependencies:function(){return[x.mk,x.sg,x.O5,x.RF,x.n9,Be._Y,Be.Wl,Be.JJ,Be.JL,dL.u,Be.sg,Be.u,Ce,Qa,Ja,vL,T_,I_,A_,M_,k_,BL,gL]},styles:[".edit-quote-container[_ngcontent-%COMP%]{font-family:Inter,sans-serif}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]{color:#4e6685;background-color:#fff;max-height:calc(100vh - 200px);min-width:213px;border-radius:12px;position:relative;transition:.4s;padding:0}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{padding:1rem}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   .main-header__action-toggle[_ngcontent-%COMP%]{height:22px;width:22px;cursor:pointer;background:#fff;border-radius:4px;box-shadow:0 1px 2px #0000000d;position:absolute;top:1rem;right:1rem;display:flex;align-items:center;justify-content:center}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   .main-header__action-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(180deg)}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   .main-header__title[_ngcontent-%COMP%]{font-weight:600;font-size:1.2rem;margin-bottom:.7rem}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   .main-header__desc[_ngcontent-%COMP%]{font-weight:400;font-size:.8rem;color:#00062480}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]{list-style:none;padding:1rem;margin:0;max-height:calc(100% - 160px);overflow-y:auto}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:14px;line-height:20px;margin-bottom:10px}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__info[_ngcontent-%COMP%]{padding:8px 1rem;cursor:pointer;position:relative;height:3rem;border-radius:40px;color:#4e6685cc;border:1px solid rgba(50,107,246,.15);display:flex}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;color:#4e6685}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__info__content[_ngcontent-%COMP%]{width:100%}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__info__action.hide[_ngcontent-%COMP%]{display:none}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__info[_ngcontent-%COMP%]:hover, .edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__info.active[_ngcontent-%COMP%]{border-color:#326bf6cc;background:rgba(50,107,246,.05)}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__title[_ngcontent-%COMP%]{margin:7px 0;font-size:10px;line-height:10px;font-weight:400}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   .page-menu[_ngcontent-%COMP%]{position:absolute;right:0;top:35px;z-index:1;background:#fff;padding:3px .5rem;box-shadow:0 20px 40px #00000040;border:1px solid #e9ebed;border-radius:4px}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   .page-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4e6685;font-size:1.2rem}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   .edit-title-field[_ngcontent-%COMP%]{height:100%;width:80%;font-size:10px;margin-right:4px}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   .done-icon[_ngcontent-%COMP%], .edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{font-size:1.4rem;margin-top:2px}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   .done-icon[_ngcontent-%COMP%]:before{color:green}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]:before{color:red}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   .add_new_btn[_ngcontent-%COMP%]{padding:1rem;height:65px}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   .add_new_btn__icon[_ngcontent-%COMP%], .edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   .add_new_btn--add[_ngcontent-%COMP%]{display:none}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]   .add_new_btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:8px!important;min-height:39px}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]{min-width:76px;max-width:76px}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .main-header__action-toggle[_ngcontent-%COMP%]{right:-1rem}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]   .main-header__desc[_ngcontent-%COMP%]{display:none}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   .main-header__action-toggle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transform:rotate(0)}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__info[_ngcontent-%COMP%]{min-width:39px;margin:auto}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__info__action[_ngcontent-%COMP%]{display:none}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   ul.pages-selection[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .item-menu__title[_ngcontent-%COMP%]{text-align:center}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   .add_new_btn[_ngcontent-%COMP%]{padding:1rem;margin:auto;text-align:center}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   .add_new_btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:39px!important;height:39px;margin:auto}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   .add_new_btn__icon[_ngcontent-%COMP%]{display:block;width:20px;height:23px}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   .add_new_btn__title[_ngcontent-%COMP%]{display:none}.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu.toggled[_ngcontent-%COMP%]   .add_new_btn--add[_ngcontent-%COMP%]{display:block;margin:7px 0;font-size:10px;line-height:10px;font-weight:400;text-align:center}.edit-quote-container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{background-color:#f5f8ff;overflow:hidden;overflow-y:auto;max-height:calc(100vh - 200px);padding:0;margin:auto}.edit-quote-container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#183455}.edit-quote-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;padding:1rem;width:100%;background:#fff;display:flex;justify-content:space-between;flex-direction:row}.edit-quote-footer[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   ul.controls[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex}.edit-quote-footer[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   ul.controls[_ngcontent-%COMP%]   li.controls-item[_ngcontent-%COMP%]{width:22px;height:22px;margin:0 1rem;border:1px solid transparent;text-align:center;transition:.4s;box-shadow:0 1px 2px #0000000d;border-radius:4px;cursor:pointer}.edit-quote-footer[_ngcontent-%COMP%]   .view-controls[_ngcontent-%COMP%]   ul.controls[_ngcontent-%COMP%]   li.controls-item[_ngcontent-%COMP%]:hover{border-color:#326bf6}.edit-quote-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .vr[_ngcontent-%COMP%]{height:20px;margin:0 20px}.edit-quote-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{font-weight:400;font-size:1rem;color:#000;display:flex}.edit-quote-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .control__title[_ngcontent-%COMP%]{margin-right:.8rem}.edit-quote-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .control__value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-table;min-width:16px;height:16px;text-align:center;cursor:pointer;margin:0 8px}.edit-quote-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .control__value[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]{background:rgba(0,6,36,.1)}.edit-quote-footer[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#326bf6;border-color:#326bf6}.section[_ngcontent-%COMP%]{margin:auto;margin-bottom:3rem}.section__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:30px}.section__header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;line-height:21px}.section__header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action-nav[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;align-items:center}.section__header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action-nav__item[_ngcontent-%COMP%]{margin:0 8px;cursor:pointer}.section__header[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .action-nav__item--preview[_ngcontent-%COMP%]{margin-left:12px}.section__body[_ngcontent-%COMP%]{padding:20px;border-radius:12px;background-color:#fff}.divider[_ngcontent-%COMP%]{border-top:1px solid rgba(50,107,246,.15);height:1px}.template-page[_ngcontent-%COMP%]{width:70%}.icon-drag[_ngcontent-%COMP%]{font-size:1.6rem;cursor:move!important}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;list-style:none;min-width:39px}.cdk-drag-preview[_ngcontent-%COMP%]   .item-menu__info[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;padding:8px 1rem;border:1px solid rgba(50,107,246,.15);border-radius:40px}.cdk-drag-preview[_ngcontent-%COMP%]   .item-menu__info__action[_ngcontent-%COMP%]{display:none!important}.cdk-drag-preview[_ngcontent-%COMP%]   .item-menu__title[_ngcontent-%COMP%]{margin:7px 0;font-size:10px;line-height:12px;font-weight:400}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}  p-progressspinner .progress-spinner{width:15px!important;height:15px!important}@media screen and (max-width: 967px){.edit-quote-container[_ngcontent-%COMP%]   .quotes-side-bar-menu[_ngcontent-%COMP%]{margin-bottom:30px}}"]})),i})(),BL=(()=>{var h;class i{constructor(t){(0,_.Z)(this,"_el",void 0),(0,_.Z)(this,"spiedTags",[]),(0,_.Z)(this,"isSelectId",void 0),(0,_.Z)(this,"inProcess",void 0),(0,_.Z)(this,"sectionChange",new l.vpe),(0,_.Z)(this,"isHover",!1),(0,_.Z)(this,"currentSection","template"),this._el=t}onMouseOver(){this.isHover=!this.inProcess}onMouseOut(){this.isHover=!1}onScroll(t){let s;const r=this._el.nativeElement.children,o=t.target.scrollTop,a=t.target.offsetTop;for(let d=0;d<r.length;d++){const c=r[d];this.spiedTags.some(p=>p===c.tagName)&&c.offsetTop-a-200<=o&&(s=c.id)}s!==this.currentSection&&this.isHover&&(this.currentSection=s,this.sectionChange.emit(this.currentSection))}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(l.SBq))}),(0,_.Z)(i,"\u0275dir",l.lG2({type:h,selectors:[["div","scroll",""]],hostBindings:function(t,s){1&t&&l.NdJ("mouseover",function(o){return s.onMouseOver(o)})("mouseout",function(o){return s.onMouseOut(o)})("scroll",function(o){return s.onScroll(o)})},inputs:{spiedTags:"spiedTags",isSelectId:"isSelectId",inProcess:"inProcess"},outputs:{sectionChange:"sectionChange"}})),i})();var zL=I(15796);function VL(h,i){1&h&&l._UZ(0,"app-section-templates-container")}function qL(h,i){1&h&&(l.TgZ(0,"div",7)(1,"div",8),l._uU(2,"This template is not supported yet"),l.qZA()())}function WL(h,i){if(1&h&&(l.TgZ(0,"div",3),l.ynx(1,4),l.YNc(2,VL,1,0,"app-section-templates-container",5),l.YNc(3,qL,3,0,"div",6),l.BQk(),l.qZA()),2&h){const e=l.oxw();l.xp6(1),l.Q6J("ngSwitch",e.currentUserTemplateId),l.xp6(1),l.Q6J("ngSwitchCase",1)}}function ZL(h,i){1&h&&(l.TgZ(0,"div",9),l._UZ(1,"p-progressSpinner"),l.qZA())}let UL=(()=>{var h;class i{constructor(t,s,r,o,a){(0,_.Z)(this,"router",void 0),(0,_.Z)(this,"_clientService",void 0),(0,_.Z)(this,"_quoteImageService",void 0),(0,_.Z)(this,"_businessService",void 0),(0,_.Z)(this,"_quoteService",void 0),(0,_.Z)(this,"isPreview",!1),(0,_.Z)(this,"quoteId",void 0),(0,_.Z)(this,"quote",void 0),(0,_.Z)(this,"signal",new l.vpe),(0,_.Z)(this,"clients",void 0),(0,_.Z)(this,"baseUrl",Lo.N.remoteServiceBaseUrl),(0,_.Z)(this,"disableSaveBtn",!1),(0,_.Z)(this,"templateInfo",void 0),(0,_.Z)(this,"selectedCoverImage",void 0),(0,_.Z)(this,"currentUserTemplateId",void 0),(0,_.Z)(this,"client",void 0),(0,_.Z)(this,"newClientId",void 0),(0,_.Z)(this,"loading",!0),this.router=t,this._clientService=s,this._quoteImageService=r,this._businessService=o,this._quoteService=a}ngOnInit(){this.quote&&this.patchQuote(),this.quoteId||(this.getCurrentUserBusiness(),this.getAllClients())}ngOnChanges(t){var s;null!==(s=t.quote)&&void 0!==s&&s.currentValue&&!t.quote.firstChange&&this.patchQuote()}onTemplateSignal(t){let{key:s,value:r}=t;"upload"===s?this.uploadFile(t.value):"clientId"===s?(this.client=t.value,this.onSave("clientId",t.value.id)):"newClient"===s?this.onCreateNewClient(t.value):["address","phone","email","name"].includes(s)?this.updateBusiness(s,r):("quoteName"===s&&(s="name"),this.onSave(s,r)),this.ngOnInit()}onSave(t,s){this.disableSaveBtn=!0;const r=new $e.ooB;r[t]=s,this.quoteId&&(r.quoteId=this.quoteId),this._quoteService.createQuote4CoverPages(r).subscribe({next:o=>{this.disableSaveBtn=!1,this.signal.emit({key:t,value:s}),this.quoteId||(this.quoteId=o,this.router.navigateByUrl(`/app/main/quotes/${this.quoteId}`))},error:()=>this.disableSaveBtn=!1})}onCreateNewClient(t){this.newClientId=t,this.quoteId?this.getAllClients():this.onSave("clientId",this.newClientId)}updateBusiness(t,s){const r=new $e.Mk_;r.address=this.templateInfo.address,r.phone=this.templateInfo.phone,r.email=this.templateInfo.email,r.name=this.templateInfo.name,r[t]=s,this._businessService.update4CoverPageBusiness(r).subscribe({next:o=>this.setTemplateInfo(o)})}getAllClients(t=""){const s=new $e.RzB;s.filter=t,s.maxResultCount=100,this._clientService.getAllClient(s).subscribe(r=>{if(this.clients=r.items,this.quote&&!t){const o=this.newClientId||this.quote.clientId;this.client=this.clients.find(a=>a.id===o),this.newClientId=null}})}patchQuote(){var t,s;this.selectedCoverImage={imgSrc:`${this.baseUrl}/${null===(t=this.quote)||void 0===t?void 0:t.imagePath}`,uniqueFileName:null===(s=this.quote)||void 0===s?void 0:s.imageName},this.getAllClients(),this.getCurrentUserBusiness()}uploadFile(t){const s=new FormData;s.append("File",t),this._quoteImageService.uploadQuoteImage(s,this.quoteId).subscribe({next:r=>{const{quoteId:o,filePath:a}=r.result;this.quoteId=o,this.selectedCoverImage={imgSrc:`${this.baseUrl}/${a}`,uniqueFileName:null==a?void 0:a.split(".").pop()},this.signal.emit({key:"imagePath",value:a}),this.signal.emit({key:"imageName",value:a.split(".").pop()}),this.quote||(this.quote={imagePath:a,imageName:null==a?void 0:a.split(".").pop()},this.router.navigateByUrl(`/app/main/quotes/${this.quoteId}`)),this.newClientId&&this.getAllClients()}})}getCurrentUserBusiness(){this._businessService.getBusinessByCurrentUser().subscribe({next:t=>{this.loading=!1,this.currentUserTemplateId=t.templateId,this.setTemplateInfo(t),this.quote||(this.selectedCoverImage={imgSrc:`${this.baseUrl}${null==t?void 0:t.coverImagePath}`,uniqueFileName:null==t?void 0:t.coverImageName})},error:()=>this.loading=!1})}setTemplateInfo(t){this.templateInfo={address:t.address,email:t.email,web:t.web,phone:t.phone,description1:t.description1,templateColor:t.primaryColor,name:t.name,usePhoneNumer:t.phone}}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(Nr.F0),l.Y36($e.Z0V),l.Y36(dh.Y),l.Y36($e.fGn),l.Y36($e.k_Y))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["app-template-preview"]],inputs:{isPreview:"isPreview",quoteId:"quoteId",quote:"quote"},outputs:{signal:"signal"},features:[l.TTD],decls:4,vars:2,consts:[[1,"quote-page-container","mb-4"],["class","h-100 d-flex d-flex-column justify-content-center","style","font-size: 13px;",4,"ngIf","ngIfElse"],["showLoader",""],[1,"h-100","d-flex","d-flex-column","justify-content-center",2,"font-size","13px"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","container flex-1 d-flex p-0 justify-content-center align-items-center",4,"ngSwitchDefault"],[1,"container","flex-1","d-flex","p-0","justify-content-center","align-items-center"],[2,"font-size","5mm","font-weight","600"],[1,"h-100","d-flex","justify-content-center","align-items-center"]],template:function(t,s){if(1&t&&(l.TgZ(0,"div",0),l.YNc(1,WL,4,2,"div",1),l.YNc(2,ZL,2,0,"ng-template",null,2,l.W1O),l.qZA()),2&t){const r=l.MAs(3);l.xp6(1),l.Q6J("ngIf",!s.loading)("ngIfElse",r)}},dependencies:[x.O5,x.RF,x.n9,x.ED,Vm.G,zL.d]})),i})();var XL=I(47530),JL=I(15047),Ks=I(16676),GL=I(64716),QL=I(12990),Wm=I(73552),$L=I(94901),E_=I(56916),KL=I(85219),eO=I(51712),tO=I(88922),iO=I(3291),sO=I(83410);const rO=["dataTable"],nO=["paginator"];function oO(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"li",89),l.NdJ("click",function(){const r=l.CHM(e).$implicit,o=l.oxw(2).$implicit,a=l.oxw(2);return l.KtG(a.onUpdateQuoteStatus(r,o))}),l._uU(1),l.qZA()}if(2&h){const e=i.$implicit,t=l.oxw(2).$implicit;l.ekj("active",t.quoteStatus===e.name),l.xp6(1),l.hij(" ",e.name," ")}}function aO(h,i){if(1&h&&(l.TgZ(0,"ul",87),l.YNc(1,oO,2,3,"li",88),l.qZA()),2&h){const e=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",e.statuses)}}function lO(h,i){if(1&h&&l._UZ(0,"img",90),2&h){const e=l.oxw().$implicit,t=l.oxw(2);l.hYB("src","",t.baseUrl,"/Quotes/Cover/",e.imageName,"",l.LSH)}}function hO(h,i){if(1&h&&l._UZ(0,"img",92),2&h){const e=l.oxw(2).$implicit,t=l.oxw(2);l.hYB("src","",t.baseUrl,"/",e.imagePath,"",l.LSH)}}function dO(h,i){if(1&h&&l.YNc(0,hO,1,2,"img",91),2&h){const e=l.oxw().$implicit;l.Q6J("ngIf",!e.imageName)}}function cO(h,i){1&h&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}function pO(h,i){1&h&&(l.TgZ(0,"div",93),l._UZ(1,"span",94),l._uU(2,"Signed"),l.qZA())}function uO(h,i){1&h&&(l.TgZ(0,"div"),l._UZ(1,"img",95),l._uU(2," View Quote "),l.qZA())}function fO(h,i){1&h&&l._UZ(0,"p-progressSpinner",96)}function mO(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"li",89),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit,r=l.oxw(2).$implicit,o=l.oxw(2);return l.KtG(o.onQuoteActionClick(s,r))}),l._uU(1),l.qZA()}if(2&h){const e=l.oxw().$implicit;l.xp6(1),l.hij("",e.label," ")}}function vO(h,i){if(1&h&&(l.ynx(0),l.YNc(1,mO,2,1,"li",99),l.BQk()),2&h){const e=i.$implicit,t=l.oxw(2).$implicit,s=l.oxw(2);l.xp6(1),l.Q6J("ngIf",s.showItem(e,t))}}function gO(h,i){if(1&h&&(l.TgZ(0,"ul",97),l.YNc(1,vO,2,1,"ng-container",98),l.qZA()),2&h){const e=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",e.actions)}}function yO(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",53)(1,"div",54)(2,"div",55)(3,"div",56)(4,"div",57)(5,"span",58),l.NdJ("click",function(){const r=l.CHM(e).$implicit;return l.KtG(r.showStatusChangeDropdown=!r.showStatusChangeDropdown)}),l._uU(6),l.YNc(7,aO,2,1,"ul",59),l._UZ(8,"i",60),l.qZA(),l.YNc(9,lO,1,2,"img",61),l.YNc(10,dO,1,1,"ng-template",null,62,l.W1O),l.qZA()()(),l.TgZ(12,"div",63)(13,"div",64)(14,"div",65),l._uU(15),l.YNc(16,cO,2,0,"span",66),l._uU(17),l.qZA(),l.YNc(18,pO,3,0,"div",67),l.qZA(),l.TgZ(19,"div",68)(20,"span",69),l._uU(21),l.ALo(22,"date"),l.qZA()(),l.TgZ(23,"div",70)(24,"div",71),l._UZ(25,"img",72),l.qZA(),l.TgZ(26,"div",73),l._uU(27),l.qZA()(),l.TgZ(28,"div",74)(29,"div",71),l._UZ(30,"img",75),l.qZA(),l.TgZ(31,"div",73),l._uU(32),l.qZA()(),l.TgZ(33,"div",76)(34,"button",77)(35,"div",78),l._UZ(36,"img",79),l.TgZ(37,"span"),l._uU(38,"Edit Quote"),l.qZA()()(),l._UZ(39,"div",80),l.TgZ(40,"button",81),l.NdJ("click",function(){const r=l.CHM(e).$implicit,o=l.oxw(2);return l.KtG(o.onViewQuote(r))}),l.YNc(41,uO,3,0,"div",66),l.YNc(42,fO,1,0,"p-progressSpinner",82),l.qZA()(),l.TgZ(43,"div",83)(44,"button",84),l.NdJ("click",function(){const r=l.CHM(e).$implicit;return l.KtG(r.showQuoteActions=!r.showQuoteActions)}),l._uU(45," View more options "),l._UZ(46,"img",85),l.qZA(),l.YNc(47,gO,2,1,"ul",86),l.qZA()()()()}if(2&h){const e=i.$implicit,t=l.MAs(11);l.xp6(5),l.Tol(e.quoteStatus.toLowerCase()),l.xp6(1),l.hij(" ",e.quoteStatus," "),l.xp6(1),l.Q6J("ngIf",e.showStatusChangeDropdown),l.xp6(2),l.Q6J("ngIf",e.imageName)("ngIfElse",t),l.xp6(6),l.hij("",e.name," "),l.xp6(1),l.Q6J("ngIf",e.name),l.xp6(1),l.hij(" ",e.clientName,""),l.xp6(1),l.Q6J("ngIf",e.signatureDate),l.xp6(3),l.AsE("Created by: ",e.creatorUserName,", ",l.xi3(22,20,e.creationTime,"MMM dd, yyyy")," "),l.xp6(6),l.AsE("",null==e?null:e.clientAddress1," ",null==e?null:e.clientAddress2,""),l.xp6(5),l.Oqu(null==e?null:e.number),l.xp6(2),l.Q6J("routerLink","/app/main/quotes/"+e.id),l.xp6(6),l.Q6J("disabled",e.isGeneratingPdf),l.xp6(1),l.Q6J("ngIf",!e.isGeneratingPdf),l.xp6(1),l.Q6J("ngIf",e.isGeneratingPdf),l.xp6(5),l.Q6J("ngIf",e.showQuoteActions)}}function bO(h,i){1&h&&(l.TgZ(0,"div",100),l._uU(1,"No record found."),l.qZA())}function CO(h,i){if(1&h&&(l.TgZ(0,"div",49)(1,"div",50),l.YNc(2,yO,48,23,"div",51),l.qZA(),l.YNc(3,bO,2,0,"div",52),l.qZA()),2&h){const e=l.oxw();l.xp6(2),l.Q6J("ngForOf",e.primengTableHelper.records),l.xp6(1),l.Q6J("ngIf",0===(null==e.primengTableHelper.records?null:e.primengTableHelper.records.length))}}function _O(h,i){1&h&&(l.TgZ(0,"div",109),l._UZ(1,"div",107),l.qZA())}function wO(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"div",118)(1,"div",119)(2,"button",120),l.NdJ("click",function(){l.CHM(e);const s=l.oxw(2);return l.KtG(s.getQuotes())}),l._UZ(3,"i",121),l.TgZ(4,"span",122),l._uU(5),l.ALo(6,"localize"),l.qZA()()()()}2&h&&(l.xp6(5),l.hij(" ",l.lcZ(6,1,"Refresh")," "))}function SO(h,i){1&h&&(l.TgZ(0,"tr")(1,"th",123),l._uU(2),l.ALo(3,"localize"),l.qZA(),l.TgZ(4,"th",124),l._uU(5),l.ALo(6,"localize"),l.qZA(),l.TgZ(7,"th",124),l._uU(8),l.ALo(9,"localize"),l.qZA(),l.TgZ(10,"th",125),l._uU(11),l.ALo(12,"localize"),l.qZA(),l.TgZ(13,"th",126),l._uU(14),l.ALo(15,"localize"),l.qZA(),l.TgZ(16,"th",127),l._uU(17),l.ALo(18,"localize"),l.qZA(),l.TgZ(19,"th",128),l._uU(20),l.ALo(21,"localize"),l.qZA()()),2&h&&(l.xp6(2),l.hij(" ",l.lcZ(3,7,"Address")," "),l.xp6(3),l.hij(" ",l.lcZ(6,9,"Quote Number")," "),l.xp6(3),l.hij(" ",l.lcZ(9,11,"Customer")," "),l.xp6(3),l.hij(" ",l.lcZ(12,13,"Status")," "),l.xp6(3),l.hij(" ",l.lcZ(15,15,"Created By & Date")," "),l.xp6(3),l.hij(" ",l.lcZ(18,17,"Shared")," "),l.xp6(3),l.hij(" ",l.lcZ(21,19,"Actions")," "))}function xO(h,i){1&h&&l._UZ(0,"span",149)}function PO(h,i){1&h&&l._UZ(0,"span",150)}function TO(h,i){1&h&&l._UZ(0,"span",151)}function kO(h,i){1&h&&(l.TgZ(0,"span",152),l._UZ(1,"br"),l._uU(2,"Signed"),l.qZA())}function LO(h,i){1&h&&l._UZ(0,"img",153)}function OO(h,i){1&h&&l._UZ(0,"img",154)}function MO(h,i){if(1&h){const e=l.EpF();l.TgZ(0,"ul",155)(1,"li",156)(2,"a",157),l._uU(3),l.ALo(4,"localize"),l.qZA()(),l.TgZ(5,"li",156)(6,"a",158),l.NdJ("click",function(){l.CHM(e);const s=l.oxw().$implicit,r=l.oxw(2);return l.KtG(r.onDeleteQuote(s))}),l._uU(7),l.ALo(8,"localize"),l.qZA()()()}if(2&h){const e=l.oxw().$implicit;l.xp6(2),l.Q6J("routerLink","/app/main/quotes/"+e.id),l.xp6(1),l.hij(" ",l.lcZ(4,3,"Edit")," "),l.xp6(4),l.hij(" ",l.lcZ(8,5,"Delete")," ")}}function AO(h,i){if(1&h&&(l.TgZ(0,"tr")(1,"td",129)(2,"span",130),l._uU(3),l.ALo(4,"localize"),l.qZA(),l.TgZ(5,"span",131)(6,"span")(7,"b"),l._uU(8),l.qZA()()()(),l.TgZ(9,"td",132)(10,"span",130),l._uU(11),l.ALo(12,"localize"),l.qZA(),l._uU(13),l.qZA(),l.TgZ(14,"td",133)(15,"span",130),l._uU(16),l.ALo(17,"localize"),l.qZA(),l._uU(18),l.qZA(),l.TgZ(19,"td",134)(20,"div",135)(21,"div",136),l.YNc(22,xO,1,0,"span",137),l.YNc(23,PO,1,0,"span",138),l.YNc(24,TO,1,0,"span",139),l.qZA(),l.TgZ(25,"span"),l._uU(26),l.YNc(27,kO,3,0,"span",140),l.qZA()()(),l.TgZ(28,"td",132)(29,"span",130),l._uU(30),l.ALo(31,"localize"),l.qZA(),l._uU(32),l._UZ(33,"br"),l._uU(34),l.ALo(35,"luxonFormat"),l.qZA(),l.TgZ(36,"td",141)(37,"span",130),l._uU(38),l.ALo(39,"localize"),l.qZA(),l.YNc(40,LO,1,0,"img",142),l.YNc(41,OO,1,0,"img",143),l.qZA(),l.TgZ(42,"td",144)(43,"div",145)(44,"div",146),l._UZ(45,"img",147),l.qZA(),l.YNc(46,MO,9,7,"ul",148),l.qZA()()()),2&h){const e=i.$implicit;l.xp6(3),l.Oqu(l.lcZ(4,18,"Title")),l.xp6(5),l.AsE("",null==e?null:e.clientAddress1," ",null==e?null:e.clientAddress2,""),l.xp6(3),l.Oqu(l.lcZ(12,20,"Number")),l.xp6(2),l.hij(" ",e.number," "),l.xp6(3),l.Oqu(l.lcZ(17,22,"Customer")),l.xp6(2),l.hij(" ",e.clientName," "),l.xp6(4),l.Q6J("ngIf","InProgress"==e.quoteStatus),l.xp6(1),l.Q6J("ngIf","Accepted"==e.quoteStatus),l.xp6(1),l.Q6J("ngIf","Lost"==e.quoteStatus),l.xp6(2),l.hij("",e.quoteStatus," "),l.xp6(1),l.Q6J("ngIf",e.signatureDate),l.xp6(3),l.Oqu(l.lcZ(31,24,"Created By")),l.xp6(2),l.hij(" ",e.creatorUserName,""),l.xp6(2),l.hij("",l.xi3(35,26,e.creationTime,"F")," "),l.xp6(4),l.Oqu(l.lcZ(39,29,"Shared")),l.xp6(2),l.Q6J("ngIf",e.isShared),l.xp6(1),l.Q6J("ngIf",!e.isShared)}}function IO(h,i){1&h&&(l.TgZ(0,"div",159),l._uU(1),l.ALo(2,"localize"),l.qZA()),2&h&&(l.xp6(1),l.hij(" ",l.lcZ(2,1,"NoData")," "))}const EO=function(h,i){return{"col-md-6":h,"col-md-12":i}},DO=function(){return{"min-width":"50rem"}};function jO(h,i){if(1&h&&(l.TgZ(0,"div",101)(1,"div",102)(2,"div",103)(3,"form",104)(4,"div")(5,"div",105)(6,"div",106),l.ALo(7,"permission"),l.ALo(8,"permission"),l._UZ(9,"div",107),l.qZA(),l.YNc(10,_O,2,0,"div",108),l.ALo(11,"permission"),l._UZ(12,"div",109),l.qZA(),l.YNc(13,wO,7,3,"div",110),l.qZA()(),l.TgZ(14,"div",111)(15,"div",112)(16,"p-table",113,114),l.YNc(18,SO,22,21,"ng-template",115),l.YNc(19,AO,47,31,"ng-template",116),l.qZA(),l.YNc(20,IO,3,3,"div",117),l.qZA()()()()()),2&h){const e=l.oxw();l.xp6(5),l.Q6J("hidden",!e.advancedFiltersAreShown),l.xp6(1),l.Q6J("ngClass",l.WLB(19,EO,l.lcZ(7,13,"Pages.Administration.Roles"),!l.lcZ(8,15,"Pages.Administration.Roles"))),l.xp6(4),l.Q6J("ngIf",l.lcZ(11,17,"Pages.Administration.Roles")),l.xp6(3),l.Q6J("ngIf",e.advancedFiltersAreShown),l.xp6(2),l.Q6J("busyIf",e.primengTableHelper.isLoading),l.xp6(1),l.s9C("rows",e.primengTableHelper.defaultRecordsCountPerPage),l.Q6J("value",e.primengTableHelper.records)("paginator",!1)("lazy",!0)("scrollable",!0)("tableStyle",l.DdM(22,DO))("resizableColumns",e.primengTableHelper.resizableColumns),l.xp6(4),l.Q6J("ngIf",0==e.primengTableHelper.totalRecordsCount)}}const RO=[{path:"",component:(()=>{var h;class i extends zc.c{constructor(t,s,r,o,a,d,c,p,u){super(t),(0,_.Z)(this,"_impersonationService",void 0),(0,_.Z)(this,"_quoteServiceProxy",void 0),(0,_.Z)(this,"_activatedRoute",void 0),(0,_.Z)(this,"_router",void 0),(0,_.Z)(this,"_quoteDetailService",void 0),(0,_.Z)(this,"_dialogService",void 0),(0,_.Z)(this,"_clientService",void 0),(0,_.Z)(this,"_quoteStatusService",void 0),(0,_.Z)(this,"dataTable",void 0),(0,_.Z)(this,"paginator",void 0),(0,_.Z)(this,"clients",[]),(0,_.Z)(this,"uploadUrl",void 0),(0,_.Z)(this,"baseUrl",Lo.N.remoteServiceBaseUrl),(0,_.Z)(this,"ranges",void 0),(0,_.Z)(this,"advancedFiltersAreShown",!1),(0,_.Z)(this,"filterText",""),(0,_.Z)(this,"onlyLockedUsers",!1),(0,_.Z)(this,"openPopup",!1),(0,_.Z)(this,"selectedView","grid"),(0,_.Z)(this,"actions",void 0),(0,_.Z)(this,"statuses",[]),(0,_.Z)(this,"itemsPages",[]),this._impersonationService=s,this._quoteServiceProxy=r,this._activatedRoute=o,this._router=a,this._quoteDetailService=d,this._dialogService=c,this._clientService=p,this._quoteStatusService=u,this.filterText=this._activatedRoute.snapshot.queryParams.filterText||"",this.uploadUrl=JL.g.remoteServiceBaseUrl+"/Users/ImportFromExcel",this.actions=[{label:"Generate Invoice",id:"generate_invoice"},{label:"View Invoice",id:"view_invoice"},{label:"Download Invoice",id:"download_invoice"},{label:"Delete Quote",id:"generate_invoice"},{label:"Duplicate Quote",id:"generate_invoice"}],this.ranges={Today:[Ks(),Ks()],Yesterday:[Ks().subtract(1,"days"),Ks().subtract(1,"days")],"Last 7 Days":[Ks().subtract(6,"days"),Ks()],"Last 30 Days":[Ks().subtract(29,"days"),Ks()],"This Month":[Ks().startOf("month"),Ks().endOf("month")],"Last Month":[Ks().subtract(1,"month").startOf("month"),Ks().subtract(1,"month").endOf("month")]}}ngOnInit(){"grid"===this.selectedView&&(this.primengTableHelper.defaultRecordsCountPerPage=6)}ngAfterViewInit(){this.primengTableHelper.adjustScroll(this.dataTable),this.getAllQuoteStatuses(),this.getQuotes(),this.getAllClients()}getAllQuoteStatuses(){this._quoteStatusService.getAllQuoteStatus().subscribe({next:t=>this.statuses=t})}openModel(){this.openPopup=!0}getQuotes(t){this.primengTableHelper.shouldResetPaging(t)&&(this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0)||(this.primengTableHelper.showLoadingIndicator(),this._quoteServiceProxy.getQuotes(new $e.und({filter:this.filterText,sorting:this.primengTableHelper.getSorting(this.dataTable),maxResultCount:this.primengTableHelper.getMaxResultCount(this.paginator,t),skipCount:this.primengTableHelper.getSkipCount(this.paginator,t)})).pipe((0,GL.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(s=>{this.primengTableHelper.totalRecordsCount=s.totalCount;const r=s.items.map(o=>(o.showStatusChangeDropdown=!1,o.showQuoteActions=!1,o));this.primengTableHelper.records=r,this.primengTableHelper.hideLoadingIndicator()}))}reloadPage(){this.paginator.changePage(this.paginator.getPage())}createNewQuote(){this._router.navigateByUrl("/app/main/quotes/new")}getAllClients(t=""){const s=new $e.RzB;s.filter=t,s.maxResultCount=100,this._clientService.getAllClient(s).subscribe(r=>{this.clients=r.items})}onDeleteQuote(t){this.message.confirm(this.l("Quote Will be deleted",t.name),this.l("AreYouSure"),s=>{s&&this._quoteServiceProxy.deleteQuote(t.id).subscribe(()=>{this.reloadPage(),this.notify.success(this.l("SuccessfullyDeleted"))})})}onDuplicateQuote(t){const s=new $e.LAl({id:t.id});this._quoteServiceProxy.duplicateQuote(s).subscribe({next:r=>{this._router.navigateByUrl(`/app/main/quotes/${r.id}`)}})}onUpdateQuoteStatus(t,s){const o=this.statuses.find(d=>d.name===t.name).id,a=new $e.V62({id:s.id,quoteStatusId:o});this._quoteServiceProxy.updateStatusdByQuote(a).subscribe({next:()=>this.reloadPage()})}onQuoteActionClick(t,s){switch(t.label){case"Generate Invoice":this.onGenerateInvoice(s.id);break;case"View Invoice":this._router.navigateByUrl(`/app/main/invoices/${s.invoiceId}`);break;case"Download Invoice":break;case"Duplicate Quote":this.onDuplicateQuote(s);break;case"Delete Quote":this.onDeleteQuote(s)}}onIsShareWithTeamChange(t,s){const r=new $e.S5p;r.id=s,r.isShared=t.checked,this._quoteServiceProxy.quoteChangeIsShared(r).subscribe({next:()=>console.log("Quote isSharedWithTeam status updated...")})}onViewQuote(t){this.itemsPages=[{id:"",name:"Template",key:gt.Yh.TEMPLATE,enabled:!0,order:0,showActionMenu:!1,depId:"template"}],this._quoteDetailService.getAllQuoteDetailsByQuoteId(t.id).subscribe({next:s=>{for(const r of s)r.key===$e.K7X.Signature&&this.itemsPages.splice(1,1),this.itemsPages.push({id:r.id,name:r.name||"Page Title",key:r.key,enabled:r.enabled,order:r.order,showActionMenu:!1,json:r.json,depId:r.id,jsonValue:r.json&&JSON.parse(r.json)});this.itemsPages=this.sortByKey(this.itemsPages,"order"),this.itemsPages=this.itemsPages.map((r,o)=>({...r,index:o})),this._dialogService.open(x_.B,{width:"100vw",height:"100vh",showHeader:!1,styleClass:"view-pdf-dlg",data:{quoteId:t.id,modeId:0,pages:this.itemsPages,quote:t}})}})}sortByKey(t,s){return t.sort((r,o)=>{const a=r[s],d=o[s];return a<d?-1:a>d?1:0})}showItem(t,s){return"Generate Invoice"===t.label?("Accepted"===s.quoteStatus||"InProgress"===s.quoteStatus)&&!s.hasInvoice:!["View Invoice","Download Invoice"].includes(t.label)||"Accepted"===s.quoteStatus&&s.hasInvoice}onGenerateInvoice(t){const s=new $e.LAl({id:t});this._quoteServiceProxy.createInvoiceFromQuote(s).subscribe({next:r=>this._router.navigateByUrl(`/app/main/invoices/${r}`)})}}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)(l.Y36(l.zs3),l.Y36(QL.h),l.Y36($e.k_Y),l.Y36(Nr.gz),l.Y36(Nr.F0),l.Y36($e.xCW),l.Y36(Jn.xA),l.Y36($e.Z0V),l.Y36($e.aHc))}),(0,_.Z)(i,"\u0275cmp",l.Xpm({type:h,selectors:[["app-quotes"]],viewQuery:function(t,s){if(1&t&&(l.Gf(rO,5),l.Gf(nO,5)),2&t){let r;l.iGM(r=l.CRH())&&(s.dataTable=r.first),l.iGM(r=l.CRH())&&(s.paginator=r.first)}},features:[l.qOj],decls:75,vars:26,consts:[[1,"quotes-container","container"],[1,"c-route-page-container"],[1,"p-28"],[1,"d-flex","search","justify-content-between","align-items-center"],[1,"text-header"],[1,"text-des"],["type","button","data-toggle","button","aria-pressed","false","autocomplete","off",1,"btn","btn-primary","d-flex","justify-content-center","align-items-center","add_btn",3,"click"],["src","../../../assets/media/icons/ic_round-plus.svg",1,"me-2"],[1,"d-flex","gap-17","mb-28"],[1,"input-wrapper"],["src","../../../assets/media/icons/uil_search.svg",1,"serach-input",3,"click"],["name","filterText","autoFocus","","type","text","placeholder","Search here",1,"input-wrapper-inner",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center","gap-4"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"add_btn_btn","btn_response"],[1,"cc-material-symbols-outlined"],["src","../../../assets/media/icons/filter.svg"],[2,"color","#016aff"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","custom-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"filter-group"],[1,"w-33"],[1,"d-flex","justify-content-between","mb-6"],[1,"filter-name"],[1,"clear-btn"],["filterBy","name","formControlName","client","optionLabel","name",1,"field","full-width-dropdown","compact-field",3,"options","filter","showClear"],["type","text","name","daterange","ngxDaterangepickerMd","",1,"custom-date-range",3,"showCustomRangeLabel","alwaysShowCalendars","linkedCalendars","ranges","showClearButton","keepCalendarOpeningWithRange"],[1,"custom-multi-dropdown"],["formControlName","selectedCities","optionLabel","name",1,"field","full-width-dropdown","compact-field",3,"options"],[1,"modal-footer"],["type","button","data-toggle","button","aria-label","Close","autocomplete","off",1,"btn","btn-primary","add_btn"],[1,"add_btn_btn","btn_response"],[1,"c-material-symbols-outlined"],["src","../../../assets/media/icons/FilterVertical.svg"],[1,"c-material-symbols-outlined",3,"click"],["src","../../../assets/media/icons/healthicons_ui-menu-grid-outline.svg",1,"theme-icon","h-16"],["src","../../../assets/media/icons/grid_white.svg",1,"white-icon","h-12"],["src","../../../assets/media/icons/mingcute_menu-fill.svg",1,"theme-icon","h-16"],["src","../../../assets/media/icons/list_white.svg",1,"white-icon","h-12"],[1,"content"],["class","grid-view",4,"ngIf"],["class","list-view",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],[1,"grid-view"],[1,"row"],["class","col-lg-6",4,"ngFor","ngForOf"],["class","no-record",4,"ngIf"],[1,"col-lg-6"],[1,"quote-card","d-flex"],[1,"image-part"],[1,""],[1,"img-container"],[1,"status",3,"click"],["class","quote-menu quote-status-menu",4,"ngIf"],[1,"fa-solid","fa-chevron-down"],["class","quote-img","alt","Quote Image",3,"src",4,"ngIf","ngIfElse"],["fixedCoverImage",""],[1,"quote-info-part"],[1,"d-flex","gap-5"],[1,"heading"],[4,"ngIf"],["class","signature",4,"ngIf"],[1,"mb-2","span-date"],[2,"color","#333853"],[1,"d-flex","align-items-center","gap-7","mb-1"],[1,"card-icon"],["src","../../../assets/media/icons/location_quote.svg"],[1,"text-add"],[1,"d-flex","align-items-center","gap-7","bottom-space"],["src","../../../assets/media/icons/hash.svg"],[1,"d-flex","justify-content-between","gap-5"],[1,"btn","btn-primary","fs-pt-1","w-100",3,"routerLink"],[1,"d-flex","align-items-center","justify-content-center","gap-1"],["src","../../../assets/media/icons/edit-02.svg"],[1,"line"],[1,"btn","btn-secondary","fs-pt-1","w-100",3,"disabled","click"],["class","progress-spinner-sm","strokeWidth","4",4,"ngIf"],[1,"view-btn"],[1,"btn","btn-view","mt-2","w-100",3,"click"],["src","../../../assets/media/icons/down-arrow.png"],["class","quote-menu",4,"ngIf"],[1,"quote-menu","quote-status-menu"],["class","item cursor-pointer",3,"active","click",4,"ngFor","ngForOf"],[1,"item","cursor-pointer",3,"click"],["alt","Quote Image",1,"quote-img",3,"src"],["class","quote-img","alt","Quote Cover Image",3,"src",4,"ngIf"],["alt","Quote Cover Image",1,"quote-img",3,"src"],[1,"signature"],[1,"dot-green"],["src","../../../assets/media/icons/view.svg"],["strokeWidth","4",1,"progress-spinner-sm"],[1,"quote-menu"],[4,"ngFor","ngForOf"],["class","item cursor-pointer",3,"click",4,"ngIf"],[1,"no-record"],[1,"list-view"],[1,"card","card-custom","gutter-b"],[1,"card-body"],["autocomplete","new-password",1,"form"],[1,"row","mb-4",3,"hidden"],[3,"ngClass"],[1,"mb-5"],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],["class","row mb-4",4,"ngIf"],[1,"row","align-items-center"],[1,"primeng-datatable-container",3,"busyIf"],["sortMode","multiple","ScrollWidth","100%","scrollDirection","horizontal",3,"value","rows","paginator","lazy","scrollable","tableStyle","resizableColumns"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"row","mb-4"],[1,"col-sm-12","text-end"],[1,"btn","btn-primary","float-end",3,"click"],[1,"fa","fa-sync","btn-md-icon"],[1,"d-none","d-md-inline-block"],["pSortableColumn","name",2,"width","188px !important","font-weight","bold !important"],["pSortableColumn","clientName",2,"width","165px !important","font-weight","bold !important"],["pSortableColumn","quoteStatus",2,"width","112px !important","font-weight","bold !important"],["pSortableColumn","creatorUserName",2,"width","165px !important","font-weight","bold !important"],["pSortableColumn","isShared",2,"width","103px !important","font-weight","bold !important"],[2,"width","57px !important","font-weight","bold !important"],[2,"width","188px !important"],[1,"p-column-title"],[1,"w-100"],[2,"width","165px !important"],[2,"width","165px !important","color","#2D68F6 !important"],[2,"width","112px !important"],[1,"d-flex"],[1,"status-dot"],["class","green-dot",4,"ngIf"],["class","gray-dot",4,"ngIf"],["class","red-dot",4,"ngIf"],["class","status-signed",4,"ngIf"],[2,"width","103px !important"],["src","../../../assets/media/icons/yes.png",4,"ngIf"],["src","../../../assets/media/icons/no.png",4,"ngIf"],[2,"width","57px !important","justify-content","center !important","display","flex !important","padding-top","10px !important"],["dropdown","","placement","bottom left","container","body",1,"btn-group"],["id","dropdownButton","dropdownToggle",""],["src","../../../assets/media/icons/action.png"],["id","dropdownMenu","class","dropdown-menu","role","menu","aria-labelledby","dropdownButton",4,"dropdownMenu"],[1,"green-dot"],[1,"gray-dot"],[1,"red-dot"],[1,"status-signed"],["src","../../../assets/media/icons/yes.png"],["src","../../../assets/media/icons/no.png"],["id","dropdownMenu","role","menu","aria-labelledby","dropdownButton",1,"dropdown-menu"],["role","menuitem"],["href","javascript:;",1,"dropdown-item",3,"routerLink"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"primeng-no-data"]],template:function(t,s){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h2",4),l._uU(6,"Quotes"),l.qZA(),l.TgZ(7,"p",5),l._uU(8,"Simplify the process of creating, managing and emailing quotes."),l.qZA()(),l.TgZ(9,"div")(10,"button",6),l.NdJ("click",function(){return s.createNewQuote()}),l._UZ(11,"img",7),l._uU(12," Create a New Quote "),l.qZA()()()(),l.TgZ(13,"div",8)(14,"div",9)(15,"img",10),l.NdJ("click",function(){return s.getQuotes()}),l.qZA(),l.TgZ(16,"input",11),l.NdJ("ngModelChange",function(o){return s.filterText=o}),l.qZA()(),l.TgZ(17,"div",12)(18,"div",13)(19,"span",14),l._UZ(20,"img",15),l.TgZ(21,"span",16),l._uU(22,"Filter"),l.qZA()()(),l.TgZ(23,"div",17)(24,"div",18)(25,"div",19)(26,"div",20)(27,"h5",21),l._uU(28,"Filter"),l.qZA(),l._UZ(29,"button",22),l.qZA(),l.TgZ(30,"div",23)(31,"div",24)(32,"div",25)(33,"div",26)(34,"div",27),l._uU(35,"Client"),l.qZA(),l.TgZ(36,"div",28),l._uU(37,"Clear"),l.qZA()(),l._UZ(38,"p-dropdown",29),l.qZA(),l.TgZ(39,"div",25)(40,"div",26)(41,"div",27),l._uU(42,"Date"),l.qZA(),l.TgZ(43,"div",28),l._uU(44,"Clear"),l.qZA()(),l._UZ(45,"input",30),l.qZA(),l.TgZ(46,"div",25)(47,"div",26)(48,"div",27),l._uU(49,"Status"),l.qZA(),l.TgZ(50,"div",28),l._uU(51,"Clear"),l.qZA()(),l.TgZ(52,"div",31),l._UZ(53,"p-multiSelect",32),l.qZA()()()(),l.TgZ(54,"div",33)(55,"button",34),l._uU(56," Save Changes "),l.qZA()()()()(),l.TgZ(57,"div",35)(58,"span",36),l._UZ(59,"img",37),l.qZA()(),l.TgZ(60,"div",35)(61,"span",38),l.NdJ("click",function(){return s.selectedView="grid"}),l._UZ(62,"img",39)(63,"img",40),l.qZA()(),l.TgZ(64,"div",35)(65,"span",38),l.NdJ("click",function(){return s.selectedView="list"}),l._UZ(66,"img",41)(67,"img",42),l.qZA()()()(),l.TgZ(68,"div",43),l.YNc(69,CO,4,2,"div",44),l.YNc(70,jO,21,23,"div",45),l.TgZ(71,"div",46)(72,"p-paginator",47,48),l.NdJ("onPageChange",function(o){return s.getQuotes(o)}),l.ALo(74,"localize"),l.qZA()()()()()),2&t&&(l.Q6J("@routerTransition",void 0),l.xp6(16),l.Q6J("ngModel",s.filterText),l.xp6(22),l.Q6J("options",s.clients)("filter",!0)("showClear",!0),l.xp6(7),l.Q6J("showCustomRangeLabel",!0)("alwaysShowCalendars",!1)("linkedCalendars",!1)("ranges",s.ranges)("showClearButton",!0)("keepCalendarOpeningWithRange",!0),l.xp6(8),l.Q6J("options",s.statuses),l.xp6(8),l.ekj("active","grid"===s.selectedView),l.xp6(4),l.ekj("active","list"===s.selectedView),l.xp6(4),l.Q6J("ngIf","grid"===s.selectedView),l.xp6(1),l.Q6J("ngIf","list"===s.selectedView),l.xp6(2),l.Q6J("rows",s.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",s.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",s.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",l.xi3(74,23,"TotalRecordsCount",s.primengTableHelper.totalRecordsCount)))},dependencies:[x.mk,x.sg,x.O5,Be._Y,Be.Fj,Be.JJ,Be.JL,Be.On,Be.F,Wm.Hz,Wm.Mq,Wm.TO,Nr.rH,Bm.h,$L.U,E_.iA,KL.jx,E_.lQ,eO.D,zm.Lt,Be.u,Vm.G,Nm.NU,r1,x.uU,tO.n,iO.F,sO.a],styles:[".quotes-container[_ngcontent-%COMP%]{background-color:#f5f8ff}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{margin-top:1.14rem;margin-bottom:1.14rem}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]{background-color:#fff;color:#4e6685;margin-bottom:2rem;padding:1.3rem;box-shadow:0 20px 40px #0000001a;font-size:1rem;border-radius:12px;border:1px solid #E9EBED}@media screen and (max-width: 800px){.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]{width:100%}}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .image-part[_ngcontent-%COMP%]{width:50%}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .image-part[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{background-color:#e0e5ea;padding:13px 17px;position:relative;margin-right:1.14rem;border-radius:12px;height:192px!important}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .image-part[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .quote-img[_ngcontent-%COMP%]{width:100%;object-fit:cover;border-radius:8px;height:151px;height:165px!important}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .image-part[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{width:8rem!important;text-align:center!important;border-radius:4px!important;position:absolute!important;top:9px!important;left:-6px!important;display:inline-flex!important;height:22.877px!important;padding:4.159px 12.478px!important;justify-content:center!important;align-items:center!important;gap:4.159px!important;color:var(--Primary-Base-White, #FFF)!important;font-family:Roboto!important;font-size:10.5px!important;font-style:normal!important;font-weight:400!important;line-height:24.957px!important;letter-spacing:-.063px!important}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .image-part[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;margin-left:.5rem;cursor:pointer}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .image-part[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .accepted[_ngcontent-%COMP%]{background-color:#50cd89}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .image-part[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .inprogress[_ngcontent-%COMP%]{background-color:#868aa5}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .image-part[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .lost[_ngcontent-%COMP%]{background-color:#f1416c}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .quote-info-part[_ngcontent-%COMP%]{width:50%}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .quote-info-part[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:6px 8px;border-radius:25px;font-size:1rem}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .quote-info-part[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:10px;padding-bottom:10px}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .quote-info-part[_ngcontent-%COMP%]   .btn-view-pdf[_ngcontent-%COMP%]{width:9rem;background-color:#326af624}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{color:#50cd89;text-align:center;font-family:Roboto,sans-serif;font-size:10.5px;font-style:normal;font-weight:700;line-height:12.323px;letter-spacing:.062px;display:flex;align-items:center;gap:5px}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]   .dot-green[_ngcontent-%COMP%]{background-color:#50cd89;height:3px;width:3px;border-radius:10px}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-weight:600;font-size:15pt;color:#333853}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .quote-status-menu[_ngcontent-%COMP%]{top:19px;left:0}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .quote-menu[_ngcontent-%COMP%]{position:absolute;z-index:9;width:100%;background-color:#fff;color:#162d3d;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;text-align:left;padding:.5rem 0;margin:0;list-style:none;border-radius:4px}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .quote-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:.5rem 1rem}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .quote-menu[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover, .quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .quote-card[_ngcontent-%COMP%]   .quote-menu[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#dee7fe!important;color:#326bf6}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .grid-view[_ngcontent-%COMP%]   .no-record[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:500}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none!important}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]{padding:.75rem 1rem!important}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#016aff!important;color:#fff}.quotes-container[_ngcontent-%COMP%]   .c-route-page-container[_ngcontent-%COMP%]   .status-item[_ngcontent-%COMP%]{padding:.5rem 1rem}.invoice-btn[_ngcontent-%COMP%]{height:30px;padding-left:20px;padding-right:20px;display:flex;align-items:center;justify-content:center;border-radius:40px;font-size:14px;font-weight:500;color:#fff!important;border:none;background-color:#326bf6!important}.view-btn[_ngcontent-%COMP%]{position:relative}.gap-20[_ngcontent-%COMP%]{gap:20px}.line[_ngcontent-%COMP%]{height:30px;width:1px;background-color:#326af68d}.span-date[_ngcontent-%COMP%]{font-size:9pt;font-weight:500}.dropdown-excel-operations[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{display:block;text-align:left;border-radius:0;transition:none!important;background-color:#fff;color:#181c32!important;font-size:13px!important;font-weight:400!important;margin:0;margin-right:0!important}.dropdown-excel-operations[_ngcontent-%COMP%]   .p-fileupload-choose.p-button.p-state-hover[_ngcontent-%COMP%], .p-fileupload-choose.p-button.p-state-focus[_ngcontent-%COMP%], .p-fileupload-choose.p-button.p-state-active[_ngcontent-%COMP%]{background-color:#eee}.dropdown-excel-operations[_ngcontent-%COMP%]   .p-fileupload-choose[_ngcontent-%COMP%]:not(.p-state-disabled){border:none}.dropdown-excel-operations[_ngcontent-%COMP%]   .p-fileupload-choose[_ngcontent-%COMP%]:not(.p-state-disabled):hover, .dropdown-excel-operations[_ngcontent-%COMP%]   .p-fileupload-choose[_ngcontent-%COMP%]:not(.p-state-disabled):focus, .dropdown-excel-operations[_ngcontent-%COMP%]   .p-fileupload-choose[_ngcontent-%COMP%]:not(.p-state-disabled):active{background-color:#f4f5f8!important;color:#b2b1c5;box-shadow:none!important;border:none}.dropdown-excel-operations[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .p-fileupload-buttonbar.p-widget-header.p-corner-top[_ngcontent-%COMP%]{border:none;background:#fff;padding-bottom:3px!important;padding-top:3px!important}.dropdown-excel-operations[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .p-fileupload-buttonbar.p-widget-header.p-corner-top[_ngcontent-%COMP%]:hover{background-color:#f4f5f8!important}.dropdown-excel-operations[_ngcontent-%COMP%]   div.p-fileupload-content[_ngcontent-%COMP%], .dropdown-excel-operations[_ngcontent-%COMP%]   div.p-fileupload-content.p-widget-content.p-corner-bottom[_ngcontent-%COMP%]{display:none}.dropdown-excel-operations[_ngcontent-%COMP%]   div.p-fileupload-buttonbar[_ngcontent-%COMP%]{border:none;padding:0}.dropdown-excel-operations[_ngcontent-%COMP%]   div.p-fileupload-buttonbar.p-widget-header.p-corner-top[_ngcontent-%COMP%]:hover{background-color:#f4f5f8!important}.p-datatable[_ngcontent-%COMP%]   img.img-circle[_ngcontent-%COMP%], img.img-circle[_ngcontent-%COMP%]{height:24px;margin-right:5px}#ExportUsersToExcelButton[_ngcontent-%COMP%]{padding-left:12px!important}.add_btn[_ngcontent-%COMP%]{border-radius:100px!important;padding:6px 20px!important}.btn-white[_ngcontent-%COMP%]{background-color:#fff}.p-28[_ngcontent-%COMP%]{padding-top:28px;padding-bottom:28px}.search[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:50%;padding-bottom:0!important;margin-bottom:0!important}.input-wrapper[_ngcontent-%COMP%]{position:relative;border-radius:40px;height:32px;border:1px solid rgba(50,106,246,.3019607843);background-color:#fff;display:flex;align-items:center;overflow:hidden;width:100%}.input-wrapper[_ngcontent-%COMP%]   .serach-input[_ngcontent-%COMP%]{position:absolute;top:7px;left:10px}.input-wrapper[_ngcontent-%COMP%]   .input-wrapper-inner[_ngcontent-%COMP%]{border:none;outline:none;padding-left:44px;width:100%}.c-material-symbols-outlined[_ngcontent-%COMP%]{border:1px solid rgba(50,106,246,.3019607843);height:32px;width:32px;background-color:#fff;border-radius:60px;display:flex;align-items:center;justify-content:center}.c-material-symbols-outlined.active[_ngcontent-%COMP%]   .theme-icon[_ngcontent-%COMP%], .c-material-symbols-outlined[_ngcontent-%COMP%]   .white-icon[_ngcontent-%COMP%]{display:none}.c-material-symbols-outlined.active[_ngcontent-%COMP%]   .white-icon[_ngcontent-%COMP%]{display:block}.h-12[_ngcontent-%COMP%]{height:12px}.h-16[_ngcontent-%COMP%]{height:16px}.cc-material-symbols-outlined[_ngcontent-%COMP%]{border:1px solid rgba(50,106,246,.3019607843);height:32px;width:84px;background-color:#fff;border-radius:100px;display:flex;align-items:center;justify-content:center;gap:10px}.gap-17[_ngcontent-%COMP%]{gap:17px!important}.gap-4[_ngcontent-%COMP%]{gap:4px!important}.gap-7[_ngcontent-%COMP%]{gap:7px!important}.mb-28[_ngcontent-%COMP%]{margin-bottom:28px}.card-icon[_ngcontent-%COMP%]{height:22px;width:22px;border-radius:16px;display:flex;align-items:center;justify-content:center;background-color:#f0f2f6}.card-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:12px}.edit-icon[_ngcontent-%COMP%]{height:8px}.eye-icon[_ngcontent-%COMP%]{width:11px}.fs-pt-1[_ngcontent-%COMP%]{font-size:8.5pt}th[_ngcontent-%COMP%]{border-bottom:3px solid hsla(0,0%,0%,.1)!important}tr[_ngcontent-%COMP%]{border-bottom:1px solid rgba(50,106,246,.1254901961)}tr[_ngcontent-%COMP%]:last-child{border-bottom:0px solid rgba(50,106,246,.1254901961)}.primeng-paging-container[_ngcontent-%COMP%]{text-align:end}.primeng-paging-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:40px!important}.bottom-space[_ngcontent-%COMP%]{margin-bottom:21px}.text-header[_ngcontent-%COMP%]{color:#000624;font-family:Roboto;font-size:18px;font-style:normal;font-weight:600;line-height:normal}.text-des[_ngcontent-%COMP%]{color:#00062480;font-family:Roboto;font-size:10.5px;font-style:normal;font-weight:400;line-height:normal;opacity:unset!important}.custom-dialog[_ngcontent-%COMP%]{min-width:536px}.custom-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{width:536px;margin:0 auto}.custom-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:10px 20px}.custom-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:12px 20px}.custom-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:13px}.filter-group[_ngcontent-%COMP%]{gap:11px;display:flex}.filter-group[_ngcontent-%COMP%]   .w-33[_ngcontent-%COMP%]{width:33%}.filter-group[_ngcontent-%COMP%]   .w-10[_ngcontent-%COMP%]{width:10%}.filter-group[_ngcontent-%COMP%]   .filter-name[_ngcontent-%COMP%]{color:#25313c;font-family:Roboto,sans-serif;font-size:9.604px;font-style:normal;font-weight:400;line-height:normal}.filter-group[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{color:#326bf6;text-align:right;font-family:Roboto,sans-serif;font-size:8px;font-style:normal;font-weight:400;line-height:normal;cursor:pointer}.filter-group[_ngcontent-%COMP%]   .mb-6[_ngcontent-%COMP%]{margin-bottom:6px!important}.text-add[_ngcontent-%COMP%]{overflow:hidden;color:#333853;text-overflow:ellipsis;white-space:nowrap;font-family:Roboto;font-size:11px;font-style:normal;font-weight:400;letter-spacing:.106px}.p-multiselect[_ngcontent-%COMP%]   .p-component[_ngcontent-%COMP%]   .p-inputwrapper[_ngcontent-%COMP%]{width:100%!important}.green-dot[_ngcontent-%COMP%]{background-color:#50cd89!important;height:5px!important;width:5px!important;border-radius:10px!important}.gray-dot[_ngcontent-%COMP%]{background-color:#878aa1!important;height:5px!important;width:5px!important;border-radius:10px!important}.red-dot[_ngcontent-%COMP%]{background-color:red!important;height:5px!important;width:5px!important;border-radius:10px!important}.status-dot[_ngcontent-%COMP%]{padding-top:6px;padding-right:5px;display:flex}.status-signed[_ngcontent-%COMP%]{color:#50cd89;font-family:Roboto;font-size:10.5px;font-style:normal;font-weight:500;line-height:12.323px;letter-spacing:.062px}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem 1.25rem!important}.p-datatable[_ngcontent-%COMP%]   .p-datatable-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:2px .75rem!important}"],data:{animation:[(0,XL.MH)()]}})),i})()},{path:":quoteId",component:NL},{path:":quoteId/preview",component:UL}];let YO=(()=>{var h;class i{}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)}),(0,_.Z)(i,"\u0275mod",l.oAB({type:h})),(0,_.Z)(i,"\u0275inj",l.cJS({imports:[Nr.Bz.forChild(RO),Nr.Bz]})),i})(),FO=(()=>{var h;class i{}return h=i,(0,_.Z)(i,"\u0275fac",function(t){return new(t||h)}),(0,_.Z)(i,"\u0275mod",l.oAB({type:h})),(0,_.Z)(i,"\u0275inj",l.cJS({providers:[$e._4b,$e.fGn,Jn.xA],imports:[Vh.o,a1.S,YO,Ka.c,Hp,CT.A,It.ClientsModule,o_,a_,Be.u5,Be.UX,o1.K8,Nm.q4,yT.$,n1.forRoot(),bT.Q,Go.PreviewModule]})),i})()},83274:function($,se,I){!function(_){"use strict";_.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(x){return/^nm$/i.test(x)},meridiem:function(x,w,S){return x<12?S?"vm":"VM":S?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(x){return x+(1===x||8===x||x>=20?"ste":"de")},week:{dow:1,doy:4}})}(I(16676))},61867:function($,se,I){!function(_){"use strict";var l=function(E){return 0===E?0:1===E?1:2===E?2:E%100>=3&&E%100<=10?3:E%100>=11?4:5},x={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},w=function(E){return function(R,q,le,fe){var Je=l(R),nt=x[E][l(R)];return 2===Je&&(nt=nt[q?0:1]),nt.replace(/%d/i,R)}},S=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];_.defineLocale("ar-dz",{months:S,monthsShort:S,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(E){return"\u0645"===E},meridiem:function(E,R,q){return E<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:w("s"),ss:w("s"),m:w("m"),mm:w("m"),h:w("h"),hh:w("h"),d:w("d"),dd:w("d"),M:w("M"),MM:w("M"),y:w("y"),yy:w("y")},postformat:function(E){return E.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(I(16676))},17078:function($,se,I){!function(_){"use strict";_.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(I(16676))},77776:function($,se,I){!function(_){"use strict";var l={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},x=function(R){return 0===R?0:1===R?1:2===R?2:R%100>=3&&R%100<=10?3:R%100>=11?4:5},w={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},S=function(R){return function(q,le,fe,Je){var nt=x(q),ms=w[R][x(q)];return 2===nt&&(ms=ms[le?0:1]),ms.replace(/%d/i,q)}},L=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];_.defineLocale("ar-ly",{months:L,monthsShort:L,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(R){return"\u0645"===R},meridiem:function(R,q,le){return R<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:S("s"),ss:S("s"),m:S("m"),mm:S("m"),h:S("h"),hh:S("h"),d:S("d"),dd:S("d"),M:S("M"),MM:S("M"),y:S("y"),yy:S("y")},preparse:function(R){return R.replace(/\u060c/g,",")},postformat:function(R){return R.replace(/\d/g,function(q){return l[q]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(I(16676))},93297:function($,se,I){!function(_){"use strict";_.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(I(16676))},73807:function($,se,I){!function(_){"use strict";var l={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},x={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};_.defineLocale("ar-ps",{months:"\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a_\u0634\u0628\u0627\u0637_\u0622\u0630\u0627\u0631_\u0646\u064a\u0633\u0627\u0646_\u0623\u064a\u0651\u0627\u0631_\u062d\u0632\u064a\u0631\u0627\u0646_\u062a\u0645\u0651\u0648\u0632_\u0622\u0628_\u0623\u064a\u0644\u0648\u0644_\u062a\u0634\u0631\u064a \u0627\u0644\u0623\u0648\u0651\u0644_\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a_\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0651\u0644".split("_"),monthsShort:"\u0643\u0662_\u0634\u0628\u0627\u0637_\u0622\u0630\u0627\u0631_\u0646\u064a\u0633\u0627\u0646_\u0623\u064a\u0651\u0627\u0631_\u062d\u0632\u064a\u0631\u0627\u0646_\u062a\u0645\u0651\u0648\u0632_\u0622\u0628_\u0623\u064a\u0644\u0648\u0644_\u062a\u0661_\u062a\u0662_\u0643\u0661".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(S){return"\u0645"===S},meridiem:function(S,L,E){return S<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(S){return S.replace(/[\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(L){return x[L]}).split("").reverse().join("").replace(/[\u0661\u0662](?![\u062a\u0643])/g,function(L){return x[L]}).split("").reverse().join("").replace(/\u060c/g,",")},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(I(16676))},6897:function($,se,I){!function(_){"use strict";var l={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},x={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};_.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(S){return"\u0645"===S},meridiem:function(S,L,E){return S<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(S){return S.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(L){return x[L]}).replace(/\u060c/g,",")},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(I(16676))},71585:function($,se,I){!function(_){"use strict";_.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(I(16676))},22097:function($,se,I){!function(_){"use strict";var l={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},x={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},w=function(q){return 0===q?0:1===q?1:2===q?2:q%100>=3&&q%100<=10?3:q%100>=11?4:5},S={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},L=function(q){return function(le,fe,Je,nt){var ms=w(le),Pe=S[q][w(le)];return 2===ms&&(Pe=Pe[fe?0:1]),Pe.replace(/%d/i,le)}},E=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];_.defineLocale("ar",{months:E,monthsShort:E,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(q){return"\u0645"===q},meridiem:function(q,le,fe){return q<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:L("s"),ss:L("s"),m:L("m"),mm:L("m"),h:L("h"),hh:L("h"),d:L("d"),dd:L("d"),M:L("M"),MM:L("M"),y:L("y"),yy:L("y")},preparse:function(q){return q.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(le){return x[le]}).replace(/\u060c/g,",")},postformat:function(q){return q.replace(/\d/g,function(le){return l[le]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(I(16676))},15611:function($,se,I){!function(_){"use strict";var l={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};_.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(w){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(w)},meridiem:function(w,S,L){return w<4?"gec\u0259":w<12?"s\u0259h\u0259r":w<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(w){if(0===w)return w+"-\u0131nc\u0131";var S=w%10;return w+(l[S]||l[w%100-S]||l[w>=100?100:null])},week:{dow:1,doy:7}})}(I(16676))},62459:function($,se,I){!function(_){"use strict";function x(S,L,E){return"m"===E?L?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===E?L?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":S+" "+function l(S,L){var E=S.split("_");return L%10==1&&L%100!=11?E[0]:L%10>=2&&L%10<=4&&(L%100<10||L%100>=20)?E[1]:E[2]}({ss:L?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:L?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:L?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[E],+S)}_.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:x,mm:x,h:x,hh:x,d:"\u0434\u0437\u0435\u043d\u044c",dd:x,M:"\u043c\u0435\u0441\u044f\u0446",MM:x,y:"\u0433\u043e\u0434",yy:x},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(S){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(S)},meridiem:function(S,L,E){return S<4?"\u043d\u043e\u0447\u044b":S<12?"\u0440\u0430\u043d\u0456\u0446\u044b":S<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(S,L){switch(L){case"M":case"d":case"DDD":case"w":case"W":return S%10!=2&&S%10!=3||S%100==12||S%100==13?S+"-\u044b":S+"-\u0456";case"D":return S+"-\u0433\u0430";default:return S}},week:{dow:1,doy:7}})}(I(16676))},91825:function($,se,I){!function(_){"use strict";_.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(x){var w=x%10,S=x%100;return 0===x?x+"-\u0435\u0432":0===S?x+"-\u0435\u043d":S>10&&S<20?x+"-\u0442\u0438":1===w?x+"-\u0432\u0438":2===w?x+"-\u0440\u0438":7===w||8===w?x+"-\u043c\u0438":x+"-\u0442\u0438"},week:{dow:1,doy:7}})}(I(16676))},75918:function($,se,I){!function(_){"use strict";_.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(I(16676))},49683:function($,se,I){!function(_){"use strict";var l={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},x={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};_.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(S){return S.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(S,L){return 12===S&&(S=0),"\u09b0\u09be\u09a4"===L?S<4?S:S+12:"\u09ad\u09cb\u09b0"===L||"\u09b8\u0995\u09be\u09b2"===L?S:"\u09a6\u09c1\u09aa\u09c1\u09b0"===L?S>=3?S:S+12:"\u09ac\u09bf\u0995\u09be\u09b2"===L||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===L?S+12:void 0},meridiem:function(S,L,E){return S<4?"\u09b0\u09be\u09a4":S<6?"\u09ad\u09cb\u09b0":S<12?"\u09b8\u0995\u09be\u09b2":S<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":S<18?"\u09ac\u09bf\u0995\u09be\u09b2":S<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(I(16676))},34065:function($,se,I){!function(_){"use strict";var l={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},x={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};_.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(S){return S.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(S,L){return 12===S&&(S=0),"\u09b0\u09be\u09a4"===L&&S>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===L&&S<5||"\u09ac\u09bf\u0995\u09be\u09b2"===L?S+12:S},meridiem:function(S,L,E){return S<4?"\u09b0\u09be\u09a4":S<10?"\u09b8\u0995\u09be\u09b2":S<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":S<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(I(16676))},11034:function($,se,I){!function(_){"use strict";var l={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},x={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};_.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(S){return S.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(S,L){return 12===S&&(S=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===L&&S>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===L&&S<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===L?S+12:S},meridiem:function(S,L,E){return S<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":S<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":S<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":S<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(I(16676))},27671:function($,se,I){!function(_){"use strict";function l(Pe,Li,Oi){return Pe+" "+function S(Pe,Li){return 2===Li?function L(Pe){var Li={m:"v",b:"v",d:"z"};return void 0===Li[Pe.charAt(0)]?Pe:Li[Pe.charAt(0)]+Pe.substring(1)}(Pe):Pe}({mm:"munutenn",MM:"miz",dd:"devezh"}[Oi],Pe)}function w(Pe){return Pe>9?w(Pe%10):Pe}var E=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],R=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,nt=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];_.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:nt,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:nt,monthsRegex:R,monthsShortRegex:R,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:E,longMonthsParse:E,shortMonthsParse:E,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:l,h:"un eur",hh:"%d eur",d:"un devezh",dd:l,M:"ur miz",MM:l,y:"ur bloaz",yy:function x(Pe){switch(w(Pe)){case 1:case 3:case 4:case 5:case 9:return Pe+" bloaz";default:return Pe+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(Pe){return Pe+(1===Pe?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(Pe){return"g.m."===Pe},meridiem:function(Pe,Li,Oi){return Pe<12?"a.m.":"g.m."}})}(I(16676))},34356:function($,se,I){!function(_){"use strict";function x(S,L,E){var R=S+" ";switch(E){case"ss":return R+(1===S?"sekunda":2===S||3===S||4===S?"sekunde":"sekundi");case"mm":return R+(1===S?"minuta":2===S||3===S||4===S?"minute":"minuta");case"h":return"jedan sat";case"hh":return R+(1===S?"sat":2===S||3===S||4===S?"sata":"sati");case"dd":return R+(1===S?"dan":"dana");case"MM":return R+(1===S?"mjesec":2===S||3===S||4===S?"mjeseca":"mjeseci");case"yy":return R+(1===S?"godina":2===S||3===S||4===S?"godine":"godina")}}_.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:x,m:function l(S,L,E,R){if("m"===E)return L?"jedna minuta":R?"jednu minutu":"jedne minute"},mm:x,h:x,hh:x,d:"dan",dd:x,M:"mjesec",MM:x,y:"godinu",yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(I(16676))},54287:function($,se,I){!function(_){"use strict";_.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(x,w){var S=1===x?"r":2===x?"n":3===x?"r":4===x?"t":"\xe8";return("w"===w||"W"===w)&&(S="a"),x+S},week:{dow:1,doy:4}})}(I(16676))},72616:function($,se,I){!function(_){"use strict";var l={standalone:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),format:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},x="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),w=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],S=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function L(q){return q>1&&q<5&&1!=~~(q/10)}function E(q,le,fe,Je){var nt=q+" ";switch(fe){case"s":return le||Je?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return le||Je?nt+(L(q)?"sekundy":"sekund"):nt+"sekundami";case"m":return le?"minuta":Je?"minutu":"minutou";case"mm":return le||Je?nt+(L(q)?"minuty":"minut"):nt+"minutami";case"h":return le?"hodina":Je?"hodinu":"hodinou";case"hh":return le||Je?nt+(L(q)?"hodiny":"hodin"):nt+"hodinami";case"d":return le||Je?"den":"dnem";case"dd":return le||Je?nt+(L(q)?"dny":"dn\xed"):nt+"dny";case"M":return le||Je?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return le||Je?nt+(L(q)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):nt+"m\u011bs\xedci";case"y":return le||Je?"rok":"rokem";case"yy":return le||Je?nt+(L(q)?"roky":"let"):nt+"lety"}}_.defineLocale("cs",{months:l,monthsShort:x,monthsRegex:S,monthsShortRegex:S,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:w,longMonthsParse:w,shortMonthsParse:w,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:E,ss:E,m:E,mm:E,h:E,hh:E,d:E,dd:E,M:E,MM:E,y:E,yy:E},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},70765:function($,se,I){!function(_){"use strict";_.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(x){return x+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(x)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(x)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(I(16676))},99172:function($,se,I){!function(_){"use strict";_.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(x){var S="";return x>20?S=40===x||50===x||60===x||80===x||100===x?"fed":"ain":x>0&&(S=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][x]),x+S},week:{dow:1,doy:4}})}(I(16676))},20605:function($,se,I){!function(_){"use strict";_.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},93395:function($,se,I){!function(_){"use strict";function l(w,S,L,E){var R={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[w+" Tage",w+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[w+" Monate",w+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[w+" Jahre",w+" Jahren"]};return S?R[L][0]:R[L][1]}_.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:l,mm:"%d Minuten",h:l,hh:"%d Stunden",d:l,dd:l,w:l,ww:"%d Wochen",M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},99835:function($,se,I){!function(_){"use strict";function l(w,S,L,E){var R={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[w+" Tage",w+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[w+" Monate",w+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[w+" Jahre",w+" Jahren"]};return S?R[L][0]:R[L][1]}_.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:l,mm:"%d Minuten",h:l,hh:"%d Stunden",d:l,dd:l,w:l,ww:"%d Wochen",M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},94013:function($,se,I){!function(_){"use strict";function l(w,S,L,E){var R={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[w+" Tage",w+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[w+" Monate",w+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[w+" Jahre",w+" Jahren"]};return S?R[L][0]:R[L][1]}_.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:l,mm:"%d Minuten",h:l,hh:"%d Stunden",d:l,dd:l,w:l,ww:"%d Wochen",M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},14570:function($,se,I){!function(_){"use strict";var l=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],x=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];_.defineLocale("dv",{months:l,monthsShort:l,weekdays:x,weekdaysShort:x,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(S){return"\u0789\u078a"===S},meridiem:function(S,L,E){return S<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(S){return S.replace(/\u060c/g,",")},postformat:function(S){return S.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(I(16676))},31859:function($,se,I){!function(_){"use strict";_.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(w,S){return w?"string"==typeof S&&/D/.test(S.substring(0,S.indexOf("MMMM")))?this._monthsGenitiveEl[w.month()]:this._monthsNominativeEl[w.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(w,S,L){return w>11?L?"\u03bc\u03bc":"\u039c\u039c":L?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(w){return"\u03bc"===(w+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(w,S){var L=this._calendarEl[w],E=S&&S.hours();return function l(w){return typeof Function<"u"&&w instanceof Function||"[object Function]"===Object.prototype.toString.call(w)}(L)&&(L=L.apply(S)),L.replace("{}",E%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(I(16676))},55785:function($,se,I){!function(_){"use strict";_.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")},week:{dow:0,doy:4}})}(I(16676))},83792:function($,se,I){!function(_){"use strict";_.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")}})}(I(16676))},57651:function($,se,I){!function(_){"use strict";_.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")},week:{dow:1,doy:4}})}(I(16676))},81929:function($,se,I){!function(_){"use strict";_.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")},week:{dow:1,doy:4}})}(I(16676))},19818:function($,se,I){!function(_){"use strict";_.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")}})}(I(16676))},6612:function($,se,I){!function(_){"use strict";_.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")},week:{dow:0,doy:6}})}(I(16676))},24900:function($,se,I){!function(_){"use strict";_.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")},week:{dow:1,doy:4}})}(I(16676))},72721:function($,se,I){!function(_){"use strict";_.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")},week:{dow:1,doy:4}})}(I(16676))},95159:function($,se,I){!function(_){"use strict";_.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(x){return"p"===x.charAt(0).toLowerCase()},meridiem:function(x,w,S){return x>11?S?"p.t.m.":"P.T.M.":S?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(I(16676))},11780:function($,se,I){!function(_){"use strict";var l="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),x="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),w=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],S=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;_.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(E,R){return E?/-MMM-/.test(R)?x[E.month()]:l[E.month()]:l},monthsRegex:S,monthsShortRegex:S,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:w,longMonthsParse:w,shortMonthsParse:w,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(I(16676))},23468:function($,se,I){!function(_){"use strict";var l="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),x="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),w=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],S=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;_.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(E,R){return E?/-MMM-/.test(R)?x[E.month()]:l[E.month()]:l},monthsRegex:S,monthsShortRegex:S,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:w,longMonthsParse:w,shortMonthsParse:w,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(I(16676))},44938:function($,se,I){!function(_){"use strict";var l="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),x="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),w=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],S=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;_.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(E,R){return E?/-MMM-/.test(R)?x[E.month()]:l[E.month()]:l},monthsRegex:S,monthsShortRegex:S,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:w,longMonthsParse:w,shortMonthsParse:w,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(I(16676))},21954:function($,se,I){!function(_){"use strict";var l="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),x="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),w=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],S=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;_.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(E,R){return E?/-MMM-/.test(R)?x[E.month()]:l[E.month()]:l},monthsRegex:S,monthsShortRegex:S,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:w,longMonthsParse:w,shortMonthsParse:w,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(I(16676))},11453:function($,se,I){!function(_){"use strict";function l(w,S,L,E){var R={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[w+"sekundi",w+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[w+" minuti",w+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[w+" tunni",w+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[w+" kuu",w+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[w+" aasta",w+" aastat"]};return S?R[L][2]?R[L][2]:R[L][1]:E?R[L][0]:R[L][1]}_.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:l,ss:l,m:l,mm:l,h:l,hh:l,d:l,dd:"%d p\xe4eva",M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},44697:function($,se,I){!function(_){"use strict";_.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(I(16676))},52900:function($,se,I){!function(_){"use strict";var l={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},x={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};_.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(S){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(S)},meridiem:function(S,L,E){return S<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(S){return S.replace(/[\u06f0-\u06f9]/g,function(L){return x[L]}).replace(/\u060c/g,",")},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(I(16676))},49775:function($,se,I){!function(_){"use strict";var l="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),x=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",l[7],l[8],l[9]];function w(E,R,q,le){var fe="";switch(q){case"s":return le?"muutaman sekunnin":"muutama sekunti";case"ss":fe=le?"sekunnin":"sekuntia";break;case"m":return le?"minuutin":"minuutti";case"mm":fe=le?"minuutin":"minuuttia";break;case"h":return le?"tunnin":"tunti";case"hh":fe=le?"tunnin":"tuntia";break;case"d":return le?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":fe=le?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return le?"kuukauden":"kuukausi";case"MM":fe=le?"kuukauden":"kuukautta";break;case"y":return le?"vuoden":"vuosi";case"yy":fe=le?"vuoden":"vuotta"}return function S(E,R){return E<10?R?x[E]:l[E]:E}(E,le)+" "+fe}_.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:w,ss:w,m:w,mm:w,h:w,hh:w,d:w,dd:w,M:w,MM:w,y:w,yy:w},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},64282:function($,se,I){!function(_){"use strict";_.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(x){return x},week:{dow:1,doy:4}})}(I(16676))},84236:function($,se,I){!function(_){"use strict";_.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},92830:function($,se,I){!function(_){"use strict";_.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(x,w){switch(w){default:case"M":case"Q":case"D":case"DDD":case"d":return x+(1===x?"er":"e");case"w":case"W":return x+(1===x?"re":"e")}}})}(I(16676))},21412:function($,se,I){!function(_){"use strict";_.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(x,w){switch(w){default:case"M":case"Q":case"D":case"DDD":case"d":return x+(1===x?"er":"e");case"w":case"W":return x+(1===x?"re":"e")}},week:{dow:1,doy:4}})}(I(16676))},89361:function($,se,I){!function(_){"use strict";var w=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,S=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];_.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:w,monthsShortRegex:w,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:S,longMonthsParse:S,shortMonthsParse:S,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(E,R){switch(R){case"D":return E+(1===E?"er":"");default:case"M":case"Q":case"DDD":case"d":return E+(1===E?"er":"e");case"w":case"W":return E+(1===E?"re":"e")}},week:{dow:1,doy:4}})}(I(16676))},66094:function($,se,I){!function(_){"use strict";var l="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),x="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");_.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(S,L){return S?/-MMM-/.test(L)?x[S.month()]:l[S.month()]:l},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(S){return S+(1===S||8===S||S>=20?"ste":"de")},week:{dow:1,doy:4}})}(I(16676))},93961:function($,se,I){!function(_){"use strict";_.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(R){return R+(1===R?"d":R%10==2?"na":"mh")},week:{dow:1,doy:4}})}(I(16676))},78849:function($,se,I){!function(_){"use strict";_.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(R){return R+(1===R?"d":R%10==2?"na":"mh")},week:{dow:1,doy:4}})}(I(16676))},34273:function($,se,I){!function(_){"use strict";_.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(x){return 0===x.indexOf("un")?"n"+x:"en "+x},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(I(16676))},40623:function($,se,I){!function(_){"use strict";function l(w,S,L,E){var R={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[w+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",w+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[w+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",w+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[w+" \u0935\u0930\u093e\u0902\u0928\u0940",w+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[w+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",w+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[w+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",w+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[w+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",w+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return E?R[L][0]:R[L][1]}_.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:l,ss:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(w,S){return"D"===S?w+"\u0935\u0947\u0930":w},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(w,S){return 12===w&&(w=0),"\u0930\u093e\u0924\u0940"===S?w<4?w:w+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===S?w:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===S?w>12?w:w+12:"\u0938\u093e\u0902\u091c\u0947"===S?w+12:void 0},meridiem:function(w,S,L){return w<4?"\u0930\u093e\u0924\u0940":w<12?"\u0938\u0915\u093e\u0933\u0940\u0902":w<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":w<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(I(16676))},62696:function($,se,I){!function(_){"use strict";function l(w,S,L,E){var R={s:["thoddea sekondamni","thodde sekond"],ss:[w+" sekondamni",w+" sekond"],m:["eka mintan","ek minut"],mm:[w+" mintamni",w+" mintam"],h:["eka voran","ek vor"],hh:[w+" voramni",w+" voram"],d:["eka disan","ek dis"],dd:[w+" disamni",w+" dis"],M:["eka mhoinean","ek mhoino"],MM:[w+" mhoineamni",w+" mhoine"],y:["eka vorsan","ek voros"],yy:[w+" vorsamni",w+" vorsam"]};return E?R[L][0]:R[L][1]}_.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:l,ss:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(w,S){return"D"===S?w+"er":w},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(w,S){return 12===w&&(w=0),"rati"===S?w<4?w:w+12:"sokallim"===S?w:"donparam"===S?w>12?w:w+12:"sanje"===S?w+12:void 0},meridiem:function(w,S,L){return w<4?"rati":w<12?"sokallim":w<16?"donparam":w<20?"sanje":"rati"}})}(I(16676))},66928:function($,se,I){!function(_){"use strict";var l={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},x={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};_.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(S){return S.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(S,L){return 12===S&&(S=0),"\u0ab0\u0abe\u0aa4"===L?S<4?S:S+12:"\u0ab8\u0ab5\u0abe\u0ab0"===L?S:"\u0aac\u0aaa\u0acb\u0ab0"===L?S>=10?S:S+12:"\u0ab8\u0abe\u0a82\u0a9c"===L?S+12:void 0},meridiem:function(S,L,E){return S<4?"\u0ab0\u0abe\u0aa4":S<10?"\u0ab8\u0ab5\u0abe\u0ab0":S<17?"\u0aac\u0aaa\u0acb\u0ab0":S<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(I(16676))},24804:function($,se,I){!function(_){"use strict";_.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(x){return 2===x?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":x+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(x){return 2===x?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":x+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(x){return 2===x?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":x+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(x){return 2===x?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":x%10==0&&10!==x?x+" \u05e9\u05e0\u05d4":x+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(x){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(x)},meridiem:function(x,w,S){return x<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":x<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":x<12?S?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":x<18?S?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(I(16676))},23015:function($,se,I){!function(_){"use strict";var l={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},x={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},w=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];_.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:w,longMonthsParse:w,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(E){return E.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(R){return x[R]})},postformat:function(E){return E.replace(/\d/g,function(R){return l[R]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(E,R){return 12===E&&(E=0),"\u0930\u093e\u0924"===R?E<4?E:E+12:"\u0938\u0941\u092c\u0939"===R?E:"\u0926\u094b\u092a\u0939\u0930"===R?E>=10?E:E+12:"\u0936\u093e\u092e"===R?E+12:void 0},meridiem:function(E,R,q){return E<4?"\u0930\u093e\u0924":E<10?"\u0938\u0941\u092c\u0939":E<17?"\u0926\u094b\u092a\u0939\u0930":E<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(I(16676))},17134:function($,se,I){!function(_){"use strict";function l(w,S,L){var E=w+" ";switch(L){case"ss":return E+(1===w?"sekunda":2===w||3===w||4===w?"sekunde":"sekundi");case"m":return S?"jedna minuta":"jedne minute";case"mm":return E+(1===w?"minuta":2===w||3===w||4===w?"minute":"minuta");case"h":return S?"jedan sat":"jednog sata";case"hh":return E+(1===w?"sat":2===w||3===w||4===w?"sata":"sati");case"dd":return E+(1===w?"dan":"dana");case"MM":return E+(1===w?"mjesec":2===w||3===w||4===w?"mjeseca":"mjeseci");case"yy":return E+(1===w?"godina":2===w||3===w||4===w?"godine":"godina")}}_.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:l,m:l,mm:l,h:l,hh:l,d:"dan",dd:l,M:"mjesec",MM:l,y:"godinu",yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(I(16676))},50670:function($,se,I){!function(_){"use strict";var l="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function x(L,E,R,q){var le=L;switch(R){case"s":return q||E?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return le+(q||E)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(q||E?" perc":" perce");case"mm":return le+(q||E?" perc":" perce");case"h":return"egy"+(q||E?" \xf3ra":" \xf3r\xe1ja");case"hh":return le+(q||E?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(q||E?" nap":" napja");case"dd":return le+(q||E?" nap":" napja");case"M":return"egy"+(q||E?" h\xf3nap":" h\xf3napja");case"MM":return le+(q||E?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(q||E?" \xe9v":" \xe9ve");case"yy":return le+(q||E?" \xe9v":" \xe9ve")}return""}function w(L){return(L?"":"[m\xfalt] ")+"["+l[this.day()]+"] LT[-kor]"}_.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(L){return"u"===L.charAt(1).toLowerCase()},meridiem:function(L,E,R){return L<12?!0===R?"de":"DE":!0===R?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return w.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return w.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:x,ss:x,m:x,mm:x,h:x,hh:x,d:x,dd:x,M:x,MM:x,y:x,yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},4523:function($,se,I){!function(_){"use strict";_.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(x){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(x)},meridiem:function(x){return x<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":x<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":x<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(x,w){switch(w){case"DDD":case"w":case"W":case"DDDo":return 1===x?x+"-\u056b\u0576":x+"-\u0580\u0564";default:return x}},week:{dow:1,doy:7}})}(I(16676))},99233:function($,se,I){!function(_){"use strict";_.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(x,w){return 12===x&&(x=0),"pagi"===w?x:"siang"===w?x>=11?x:x+12:"sore"===w||"malam"===w?x+12:void 0},meridiem:function(x,w,S){return x<11?"pagi":x<15?"siang":x<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(I(16676))},94693:function($,se,I){!function(_){"use strict";function l(S){return S%100==11||S%10!=1}function x(S,L,E,R){var q=S+" ";switch(E){case"s":return L||R?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return l(S)?q+(L||R?"sek\xfandur":"sek\xfandum"):q+"sek\xfanda";case"m":return L?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return l(S)?q+(L||R?"m\xedn\xfatur":"m\xedn\xfatum"):L?q+"m\xedn\xfata":q+"m\xedn\xfatu";case"hh":return l(S)?q+(L||R?"klukkustundir":"klukkustundum"):q+"klukkustund";case"d":return L?"dagur":R?"dag":"degi";case"dd":return l(S)?L?q+"dagar":q+(R?"daga":"d\xf6gum"):L?q+"dagur":q+(R?"dag":"degi");case"M":return L?"m\xe1nu\xf0ur":R?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return l(S)?L?q+"m\xe1nu\xf0ir":q+(R?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):L?q+"m\xe1nu\xf0ur":q+(R?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return L||R?"\xe1r":"\xe1ri";case"yy":return l(S)?q+(L||R?"\xe1r":"\xe1rum"):q+(L||R?"\xe1r":"\xe1ri")}}_.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:x,ss:x,m:x,mm:x,h:"klukkustund",hh:x,d:x,dd:x,M:x,MM:x,y:x,yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},78118:function($,se,I){!function(_){"use strict";_.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(x){return(/^[0-9].+$/.test(x)?"tra":"in")+" "+x},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(I(16676))},63936:function($,se,I){!function(_){"use strict";_.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(I(16676))},86871:function($,se,I){!function(_){"use strict";_.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(x,w){return"\u5143"===w[1]?1:parseInt(w[1]||x,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(x){return"\u5348\u5f8c"===x},meridiem:function(x,w,S){return x<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(x){return x.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(x){return this.week()!==x.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(x,w){switch(w){case"y":return 1===x?"\u5143\u5e74":x+"\u5e74";case"d":case"D":case"DDD":return x+"\u65e5";default:return x}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(I(16676))},68710:function($,se,I){!function(_){"use strict";_.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(x,w){return 12===x&&(x=0),"enjing"===w?x:"siyang"===w?x>=11?x:x+12:"sonten"===w||"ndalu"===w?x+12:void 0},meridiem:function(x,w,S){return x<11?"enjing":x<15?"siyang":x<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(I(16676))},17125:function($,se,I){!function(_){"use strict";_.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(x){return x.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(w,S,L){return"\u10d8"===L?S+"\u10e8\u10d8":S+L+"\u10e8\u10d8"})},past:function(x){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(x)?x.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(x)?x.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):x},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(x){return 0===x?x:1===x?x+"-\u10da\u10d8":x<20||x<=100&&x%20==0||x%100==0?"\u10db\u10d4-"+x:x+"-\u10d4"},week:{dow:1,doy:7}})}(I(16676))},82461:function($,se,I){!function(_){"use strict";var l={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};_.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(w){return w+(l[w]||l[w%10]||l[w>=100?100:null])},week:{dow:1,doy:7}})}(I(16676))},77399:function($,se,I){!function(_){"use strict";var l={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},x={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};_.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(S){return"\u179b\u17d2\u1784\u17b6\u1785"===S},meridiem:function(S,L,E){return S<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(S){return S.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},week:{dow:1,doy:4}})}(I(16676))},38720:function($,se,I){!function(_){"use strict";var l={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},x={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};_.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(S){return S.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(S,L){return 12===S&&(S=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===L?S<4?S:S+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===L?S:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===L?S>=10?S:S+12:"\u0cb8\u0c82\u0c9c\u0cc6"===L?S+12:void 0},meridiem:function(S,L,E){return S<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":S<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":S<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":S<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(S){return S+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(I(16676))},85306:function($,se,I){!function(_){"use strict";_.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(x,w){switch(w){case"d":case"D":case"DDD":return x+"\uc77c";case"M":return x+"\uc6d4";case"w":case"W":return x+"\uc8fc";default:return x}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(x){return"\uc624\ud6c4"===x},meridiem:function(x,w,S){return x<12?"\uc624\uc804":"\uc624\ud6c4"}})}(I(16676))},64852:function($,se,I){!function(_){"use strict";function l(S,L,E,R){var q={s:["\xe7end san\xeeye","\xe7end san\xeeyeyan"],ss:[S+" san\xeeye",S+" san\xeeyeyan"],m:["deq\xeeqeyek","deq\xeeqeyek\xea"],mm:[S+" deq\xeeqe",S+" deq\xeeqeyan"],h:["saetek","saetek\xea"],hh:[S+" saet",S+" saetan"],d:["rojek","rojek\xea"],dd:[S+" roj",S+" rojan"],w:["hefteyek","hefteyek\xea"],ww:[S+" hefte",S+" hefteyan"],M:["mehek","mehek\xea"],MM:[S+" meh",S+" mehan"],y:["salek","salek\xea"],yy:[S+" sal",S+" salan"]};return L?q[E][0]:q[E][1]}_.defineLocale("ku-kmr",{months:"R\xeabendan_Sibat_Adar_N\xeesan_Gulan_Hez\xeeran_T\xeermeh_Tebax_\xcelon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"R\xeab_Sib_Ada_N\xees_Gul_Hez_T\xeer_Teb_\xcelo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yek\u015fem_Du\u015fem_S\xea\u015fem_\xc7ar\u015fem_P\xeanc\u015fem_\xcen_\u015eem\xee".split("_"),weekdaysShort:"Yek_Du_S\xea_\xc7ar_P\xean_\xcen_\u015eem".split("_"),weekdaysMin:"Ye_Du_S\xea_\xc7a_P\xea_\xcen_\u015ee".split("_"),meridiem:function(S,L,E){return S<12?E?"bn":"BN":E?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[\xcero di saet] LT [de]",nextDay:"[Sib\xea di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a bor\xee di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"ber\xee %s",s:l,ss:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,w:l,ww:l,M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2}(?:y\xea|\xea|\.)/,ordinal:function(S,L){var E=L.toLowerCase();return E.includes("w")||E.includes("m")?S+".":S+function x(S){var L=(S=""+S).substring(S.length-1),E=S.length>1?S.substring(S.length-2):"";return 12==E||13==E||"2"!=L&&"3"!=L&&"50"!=E&&"70"!=L&&"80"!=L?"\xea":"y\xea"}(S)},week:{dow:1,doy:4}})}(I(16676))},82995:function($,se,I){!function(_){"use strict";var l={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},x={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},w=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];_.defineLocale("ku",{months:w,monthsShort:w,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(L){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(L)},meridiem:function(L,E,R){return L<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(L){return L.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(E){return x[E]}).replace(/\u060c/g,",")},postformat:function(L){return L.replace(/\d/g,function(E){return l[E]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(I(16676))},8779:function($,se,I){!function(_){"use strict";var l={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};_.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(w){return w+(l[w]||l[w%10]||l[w>=100?100:null])},week:{dow:1,doy:7}})}(I(16676))},62057:function($,se,I){!function(_){"use strict";function l(E,R,q,le){var fe={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return R?fe[q][0]:fe[q][1]}function S(E){if(E=parseInt(E,10),isNaN(E))return!1;if(E<0)return!0;if(E<10)return 4<=E&&E<=7;if(E<100){var R=E%10;return S(0===R?E/10:R)}if(E<1e4){for(;E>=10;)E/=10;return S(E)}return S(E/=1e3)}_.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function x(E){return S(E.substr(0,E.indexOf(" ")))?"a "+E:"an "+E},past:function w(E){return S(E.substr(0,E.indexOf(" ")))?"viru "+E:"virun "+E},s:"e puer Sekonnen",ss:"%d Sekonnen",m:l,mm:"%d Minutten",h:l,hh:"%d Stonnen",d:l,dd:"%d Deeg",M:l,MM:"%d M\xe9int",y:l,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},17192:function($,se,I){!function(_){"use strict";_.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(x){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===x},meridiem:function(x,w,S){return x<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(x){return"\u0e97\u0eb5\u0ec8"+x}})}(I(16676))},15430:function($,se,I){!function(_){"use strict";var l={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function w(q,le,fe,Je){return le?L(fe)[0]:Je?L(fe)[1]:L(fe)[2]}function S(q){return q%10==0||q>10&&q<20}function L(q){return l[q].split("_")}function E(q,le,fe,Je){var nt=q+" ";return 1===q?nt+w(0,le,fe[0],Je):le?nt+(S(q)?L(fe)[1]:L(fe)[0]):Je?nt+L(fe)[1]:nt+(S(q)?L(fe)[1]:L(fe)[2])}_.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function x(q,le,fe,Je){return le?"kelios sekund\u0117s":Je?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:E,m:w,mm:E,h:w,hh:E,d:w,dd:E,M:w,MM:E,y:w,yy:E},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(q){return q+"-oji"},week:{dow:1,doy:4}})}(I(16676))},53363:function($,se,I){!function(_){"use strict";var l={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function x(R,q,le){return le?q%10==1&&q%100!=11?R[2]:R[3]:q%10==1&&q%100!=11?R[0]:R[1]}function w(R,q,le){return R+" "+x(l[le],R,q)}function S(R,q,le){return x(l[le],R,q)}_.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function L(R,q){return q?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:w,m:S,mm:w,h:S,hh:w,d:S,dd:w,M:S,MM:w,y:S,yy:w},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},72939:function($,se,I){!function(_){"use strict";var l={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(w,S){return 1===w?S[0]:w>=2&&w<=4?S[1]:S[2]},translate:function(w,S,L){var E=l.words[L];return 1===L.length?S?E[0]:E[1]:w+" "+l.correctGrammaticalCase(w,E)}};_.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:l.translate,m:l.translate,mm:l.translate,h:l.translate,hh:l.translate,d:"dan",dd:l.translate,M:"mjesec",MM:l.translate,y:"godinu",yy:l.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(I(16676))},38212:function($,se,I){!function(_){"use strict";_.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(I(16676))},69718:function($,se,I){!function(_){"use strict";_.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(x){var w=x%10,S=x%100;return 0===x?x+"-\u0435\u0432":0===S?x+"-\u0435\u043d":S>10&&S<20?x+"-\u0442\u0438":1===w?x+"-\u0432\u0438":2===w?x+"-\u0440\u0438":7===w||8===w?x+"-\u043c\u0438":x+"-\u0442\u0438"},week:{dow:1,doy:7}})}(I(16676))},50561:function($,se,I){!function(_){"use strict";_.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(x,w){return 12===x&&(x=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===w&&x>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===w||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===w?x+12:x},meridiem:function(x,w,S){return x<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":x<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":x<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":x<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(I(16676))},68929:function($,se,I){!function(_){"use strict";function l(w,S,L,E){switch(L){case"s":return S?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return w+(S?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return w+(S?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return w+(S?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return w+(S?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return w+(S?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return w+(S?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return w}}_.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(w){return"\u04ae\u0425"===w},meridiem:function(w,S,L){return w<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:l,ss:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(w,S){switch(S){case"d":case"D":case"DDD":return w+" \u04e9\u0434\u04e9\u0440";default:return w}}})}(I(16676))},84880:function($,se,I){!function(_){"use strict";var l={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},x={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function w(L,E,R,q){var le="";if(E)switch(R){case"s":le="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":le="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":le="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":le="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":le="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":le="%d \u0924\u093e\u0938";break;case"d":le="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":le="%d \u0926\u093f\u0935\u0938";break;case"M":le="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":le="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":le="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":le="%d \u0935\u0930\u094d\u0937\u0947"}else switch(R){case"s":le="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":le="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":le="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":le="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":le="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":le="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":le="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":le="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":le="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":le="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":le="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":le="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return le.replace(/%d/i,L)}_.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:w,ss:w,m:w,mm:w,h:w,hh:w,d:w,dd:w,M:w,MM:w,y:w,yy:w},preparse:function(L){return L.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(E){return x[E]})},postformat:function(L){return L.replace(/\d/g,function(E){return l[E]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(L,E){return 12===L&&(L=0),"\u092a\u0939\u093e\u091f\u0947"===E||"\u0938\u0915\u093e\u0933\u0940"===E?L:"\u0926\u0941\u092a\u093e\u0930\u0940"===E||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===E||"\u0930\u093e\u0924\u094d\u0930\u0940"===E?L>=12?L:L+12:void 0},meridiem:function(L,E,R){return L>=0&&L<6?"\u092a\u0939\u093e\u091f\u0947":L<12?"\u0938\u0915\u093e\u0933\u0940":L<17?"\u0926\u0941\u092a\u093e\u0930\u0940":L<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(I(16676))},42074:function($,se,I){!function(_){"use strict";_.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(x,w){return 12===x&&(x=0),"pagi"===w?x:"tengahari"===w?x>=11?x:x+12:"petang"===w||"malam"===w?x+12:void 0},meridiem:function(x,w,S){return x<11?"pagi":x<15?"tengahari":x<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(I(16676))},63193:function($,se,I){!function(_){"use strict";_.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(x,w){return 12===x&&(x=0),"pagi"===w?x:"tengahari"===w?x>=11?x:x+12:"petang"===w||"malam"===w?x+12:void 0},meridiem:function(x,w,S){return x<11?"pagi":x<15?"tengahari":x<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(I(16676))},54082:function($,se,I){!function(_){"use strict";_.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(I(16676))},82261:function($,se,I){!function(_){"use strict";var l={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},x={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};_.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(S){return S.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},week:{dow:1,doy:4}})}(I(16676))},15273:function($,se,I){!function(_){"use strict";_.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"\xe9n time",hh:"%d timer",d:"\xe9n dag",dd:"%d dager",w:"\xe9n uke",ww:"%d uker",M:"\xe9n m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},19874:function($,se,I){!function(_){"use strict";var l={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},x={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};_.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(S){return S.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(S,L){return 12===S&&(S=0),"\u0930\u093e\u0924\u093f"===L?S<4?S:S+12:"\u092c\u093f\u0939\u093e\u0928"===L?S:"\u0926\u093f\u0909\u0901\u0938\u094b"===L?S>=10?S:S+12:"\u0938\u093e\u0901\u091d"===L?S+12:void 0},meridiem:function(S,L,E){return S<3?"\u0930\u093e\u0924\u093f":S<12?"\u092c\u093f\u0939\u093e\u0928":S<16?"\u0926\u093f\u0909\u0901\u0938\u094b":S<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(I(16676))},81484:function($,se,I){!function(_){"use strict";var l="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),x="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),w=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],S=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;_.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(E,R){return E?/-MMM-/.test(R)?x[E.month()]:l[E.month()]:l},monthsRegex:S,monthsShortRegex:S,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:w,longMonthsParse:w,shortMonthsParse:w,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(E){return E+(1===E||8===E||E>=20?"ste":"de")},week:{dow:1,doy:4}})}(I(16676))},51667:function($,se,I){!function(_){"use strict";var l="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),x="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),w=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],S=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;_.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(E,R){return E?/-MMM-/.test(R)?x[E.month()]:l[E.month()]:l},monthsRegex:S,monthsShortRegex:S,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:w,longMonthsParse:w,shortMonthsParse:w,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(E){return E+(1===E||8===E||E>=20?"ste":"de")},week:{dow:1,doy:4}})}(I(16676))},17262:function($,se,I){!function(_){"use strict";_.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},19679:function($,se,I){!function(_){"use strict";_.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(x,w){var S=1===x?"r":2===x?"n":3===x?"r":4===x?"t":"\xe8";return("w"===w||"W"===w)&&(S="a"),x+S},week:{dow:1,doy:4}})}(I(16676))},96830:function($,se,I){!function(_){"use strict";var l={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},x={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};_.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(S){return S.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(S,L){return 12===S&&(S=0),"\u0a30\u0a3e\u0a24"===L?S<4?S:S+12:"\u0a38\u0a35\u0a47\u0a30"===L?S:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===L?S>=10?S:S+12:"\u0a38\u0a3c\u0a3e\u0a2e"===L?S+12:void 0},meridiem:function(S,L,E){return S<4?"\u0a30\u0a3e\u0a24":S<10?"\u0a38\u0a35\u0a47\u0a30":S<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":S<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(I(16676))},93616:function($,se,I){!function(_){"use strict";var l="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),x="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),w=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function S(R){return R%10<5&&R%10>1&&~~(R/10)%10!=1}function L(R,q,le){var fe=R+" ";switch(le){case"ss":return fe+(S(R)?"sekundy":"sekund");case"m":return q?"minuta":"minut\u0119";case"mm":return fe+(S(R)?"minuty":"minut");case"h":return q?"godzina":"godzin\u0119";case"hh":return fe+(S(R)?"godziny":"godzin");case"ww":return fe+(S(R)?"tygodnie":"tygodni");case"MM":return fe+(S(R)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return fe+(S(R)?"lata":"lat")}}_.defineLocale("pl",{months:function(R,q){return R?/D MMMM/.test(q)?x[R.month()]:l[R.month()]:l},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:w,longMonthsParse:w,shortMonthsParse:w,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:L,m:L,mm:L,h:L,hh:L,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:L,M:"miesi\u0105c",MM:L,y:"rok",yy:L},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},32751:function($,se,I){!function(_){"use strict";_.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(I(16676))},55138:function($,se,I){!function(_){"use strict";_.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(I(16676))},17968:function($,se,I){!function(_){"use strict";function l(w,S,L){var R=" ";return(w%100>=20||w>=100&&w%100==0)&&(R=" de "),w+R+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[L]}_.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:l,m:"un minut",mm:l,h:"o or\u0103",hh:l,d:"o zi",dd:l,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:l,M:"o lun\u0103",MM:l,y:"un an",yy:l},week:{dow:1,doy:7}})}(I(16676))},81828:function($,se,I){!function(_){"use strict";function x(L,E,R){return"m"===R?E?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":L+" "+function l(L,E){var R=L.split("_");return E%10==1&&E%100!=11?R[0]:E%10>=2&&E%10<=4&&(E%100<10||E%100>=20)?R[1]:R[2]}({ss:E?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:E?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[R],+L)}var w=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];_.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:w,longMonthsParse:w,shortMonthsParse:w,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(L){if(L.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(L){if(L.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:x,m:x,mm:x,h:"\u0447\u0430\u0441",hh:x,d:"\u0434\u0435\u043d\u044c",dd:x,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:x,M:"\u043c\u0435\u0441\u044f\u0446",MM:x,y:"\u0433\u043e\u0434",yy:x},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(L){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(L)},meridiem:function(L,E,R){return L<4?"\u043d\u043e\u0447\u0438":L<12?"\u0443\u0442\u0440\u0430":L<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(L,E){switch(E){case"M":case"d":case"DDD":return L+"-\u0439";case"D":return L+"-\u0433\u043e";case"w":case"W":return L+"-\u044f";default:return L}},week:{dow:1,doy:4}})}(I(16676))},62188:function($,se,I){!function(_){"use strict";var l=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],x=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];_.defineLocale("sd",{months:l,monthsShort:l,weekdays:x,weekdaysShort:x,weekdaysMin:x,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(S){return"\u0634\u0627\u0645"===S},meridiem:function(S,L,E){return S<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(S){return S.replace(/\u060c/g,",")},postformat:function(S){return S.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(I(16676))},6562:function($,se,I){!function(_){"use strict";_.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},87172:function($,se,I){!function(_){"use strict";_.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(x){return x+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(x){return"\u0db4.\u0dc0."===x||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===x},meridiem:function(x,w,S){return x>11?S?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":S?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(I(16676))},99966:function($,se,I){!function(_){"use strict";var l="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),x="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function w(E){return E>1&&E<5}function S(E,R,q,le){var fe=E+" ";switch(q){case"s":return R||le?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return R||le?fe+(w(E)?"sekundy":"sek\xfand"):fe+"sekundami";case"m":return R?"min\xfata":le?"min\xfatu":"min\xfatou";case"mm":return R||le?fe+(w(E)?"min\xfaty":"min\xfat"):fe+"min\xfatami";case"h":return R?"hodina":le?"hodinu":"hodinou";case"hh":return R||le?fe+(w(E)?"hodiny":"hod\xedn"):fe+"hodinami";case"d":return R||le?"de\u0148":"d\u0148om";case"dd":return R||le?fe+(w(E)?"dni":"dn\xed"):fe+"d\u0148ami";case"M":return R||le?"mesiac":"mesiacom";case"MM":return R||le?fe+(w(E)?"mesiace":"mesiacov"):fe+"mesiacmi";case"y":return R||le?"rok":"rokom";case"yy":return R||le?fe+(w(E)?"roky":"rokov"):fe+"rokmi"}}_.defineLocale("sk",{months:l,monthsShort:x,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:S,ss:S,m:S,mm:S,h:S,hh:S,d:S,dd:S,M:S,MM:S,y:S,yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},4287:function($,se,I){!function(_){"use strict";function l(w,S,L,E){var R=w+" ";switch(L){case"s":return S||E?"nekaj sekund":"nekaj sekundami";case"ss":return R+(1===w?S?"sekundo":"sekundi":2===w?S||E?"sekundi":"sekundah":w<5?S||E?"sekunde":"sekundah":"sekund");case"m":return S?"ena minuta":"eno minuto";case"mm":return R+(1===w?S?"minuta":"minuto":2===w?S||E?"minuti":"minutama":w<5?S||E?"minute":"minutami":S||E?"minut":"minutami");case"h":return S?"ena ura":"eno uro";case"hh":return R+(1===w?S?"ura":"uro":2===w?S||E?"uri":"urama":w<5?S||E?"ure":"urami":S||E?"ur":"urami");case"d":return S||E?"en dan":"enim dnem";case"dd":return R+(1===w?S||E?"dan":"dnem":2===w?S||E?"dni":"dnevoma":S||E?"dni":"dnevi");case"M":return S||E?"en mesec":"enim mesecem";case"MM":return R+(1===w?S||E?"mesec":"mesecem":2===w?S||E?"meseca":"mesecema":w<5?S||E?"mesece":"meseci":S||E?"mesecev":"meseci");case"y":return S||E?"eno leto":"enim letom";case"yy":return R+(1===w?S||E?"leto":"letom":2===w?S||E?"leti":"letoma":w<5?S||E?"leta":"leti":S||E?"let":"leti")}}_.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:l,ss:l,m:l,mm:l,h:l,hh:l,d:l,dd:l,M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(I(16676))},15291:function($,se,I){!function(_){"use strict";_.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(x){return"M"===x.charAt(0)},meridiem:function(x,w,S){return x<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},37603:function($,se,I){!function(_){"use strict";var l={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(w,S){return w%10>=1&&w%10<=4&&(w%100<10||w%100>=20)?w%10==1?S[0]:S[1]:S[2]},translate:function(w,S,L,E){var q,R=l.words[L];return 1===L.length?"y"===L&&S?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":E||S?R[0]:R[1]:(q=l.correctGrammaticalCase(w,R),"yy"===L&&S&&"\u0433\u043e\u0434\u0438\u043d\u0443"===q?w+" \u0433\u043e\u0434\u0438\u043d\u0430":w+" "+q)}};_.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:l.translate,m:l.translate,mm:l.translate,h:l.translate,hh:l.translate,d:l.translate,dd:l.translate,M:l.translate,MM:l.translate,y:l.translate,yy:l.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(I(16676))},80450:function($,se,I){!function(_){"use strict";var l={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(w,S){return w%10>=1&&w%10<=4&&(w%100<10||w%100>=20)?w%10==1?S[0]:S[1]:S[2]},translate:function(w,S,L,E){var q,R=l.words[L];return 1===L.length?"y"===L&&S?"jedna godina":E||S?R[0]:R[1]:(q=l.correctGrammaticalCase(w,R),"yy"===L&&S&&"godinu"===q?w+" godina":w+" "+q)}};_.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:l.translate,m:l.translate,mm:l.translate,h:l.translate,hh:l.translate,d:l.translate,dd:l.translate,M:l.translate,MM:l.translate,y:l.translate,yy:l.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(I(16676))},30383:function($,se,I){!function(_){"use strict";_.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(x,w,S){return x<11?"ekuseni":x<15?"emini":x<19?"entsambama":"ebusuku"},meridiemHour:function(x,w){return 12===x&&(x=0),"ekuseni"===w?x:"emini"===w?x>=11?x:x+12:"entsambama"===w||"ebusuku"===w?0===x?0:x+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(I(16676))},37221:function($,se,I){!function(_){"use strict";_.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?":e":1===w||2===w?":a":":e")},week:{dow:1,doy:4}})}(I(16676))},51743:function($,se,I){!function(_){"use strict";_.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(I(16676))},6351:function($,se,I){!function(_){"use strict";var l={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},x={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};_.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(S){return S+"\u0bb5\u0ba4\u0bc1"},preparse:function(S){return S.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(L){return x[L]})},postformat:function(S){return S.replace(/\d/g,function(L){return l[L]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(S,L,E){return S<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":S<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":S<10?" \u0b95\u0bbe\u0bb2\u0bc8":S<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":S<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":S<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(S,L){return 12===S&&(S=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===L?S<2?S:S+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===L||"\u0b95\u0bbe\u0bb2\u0bc8"===L||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===L&&S>=10?S:S+12},week:{dow:0,doy:6}})}(I(16676))},98118:function($,se,I){!function(_){"use strict";_.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(x,w){return 12===x&&(x=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===w?x<4?x:x+12:"\u0c09\u0c26\u0c2f\u0c02"===w?x:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===w?x>=10?x:x+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===w?x+12:void 0},meridiem:function(x,w,S){return x<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":x<10?"\u0c09\u0c26\u0c2f\u0c02":x<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":x<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(I(16676))},26278:function($,se,I){!function(_){"use strict";_.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")},week:{dow:1,doy:4}})}(I(16676))},36987:function($,se,I){!function(_){"use strict";var l={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};_.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(w,S){return 12===w&&(w=0),"\u0448\u0430\u0431"===S?w<4?w:w+12:"\u0441\u0443\u0431\u04b3"===S?w:"\u0440\u04ef\u0437"===S?w>=11?w:w+12:"\u0431\u0435\u0433\u043e\u04b3"===S?w+12:void 0},meridiem:function(w,S,L){return w<4?"\u0448\u0430\u0431":w<11?"\u0441\u0443\u0431\u04b3":w<16?"\u0440\u04ef\u0437":w<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(w){return w+(l[w]||l[w%10]||l[w>=100?100:null])},week:{dow:1,doy:7}})}(I(16676))},39325:function($,se,I){!function(_){"use strict";_.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(x){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===x},meridiem:function(x,w,S){return x<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(I(16676))},43485:function($,se,I){!function(_){"use strict";var l={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};_.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(w,S){switch(S){case"d":case"D":case"Do":case"DD":return w;default:if(0===w)return w+"'unjy";var L=w%10;return w+(l[L]||l[w%100-L]||l[w>=100?100:null])}},week:{dow:1,doy:7}})}(I(16676))},68148:function($,se,I){!function(_){"use strict";_.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(x){return x},week:{dow:1,doy:4}})}(I(16676))},59616:function($,se,I){!function(_){"use strict";var l="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function S(R,q,le,fe){var Je=function L(R){var q=Math.floor(R%1e3/100),le=Math.floor(R%100/10),fe=R%10,Je="";return q>0&&(Je+=l[q]+"vatlh"),le>0&&(Je+=(""!==Je?" ":"")+l[le]+"maH"),fe>0&&(Je+=(""!==Je?" ":"")+l[fe]),""===Je?"pagh":Je}(R);switch(le){case"ss":return Je+" lup";case"mm":return Je+" tup";case"hh":return Je+" rep";case"dd":return Je+" jaj";case"MM":return Je+" jar";case"yy":return Je+" DIS"}}_.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function x(R){var q=R;return-1!==R.indexOf("jaj")?q.slice(0,-3)+"leS":-1!==R.indexOf("jar")?q.slice(0,-3)+"waQ":-1!==R.indexOf("DIS")?q.slice(0,-3)+"nem":q+" pIq"},past:function w(R){var q=R;return-1!==R.indexOf("jaj")?q.slice(0,-3)+"Hu\u2019":-1!==R.indexOf("jar")?q.slice(0,-3)+"wen":-1!==R.indexOf("DIS")?q.slice(0,-3)+"ben":q+" ret"},s:"puS lup",ss:S,m:"wa\u2019 tup",mm:S,h:"wa\u2019 rep",hh:S,d:"wa\u2019 jaj",dd:S,M:"wa\u2019 jar",MM:S,y:"wa\u2019 DIS",yy:S},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},24040:function($,se,I){!function(_){"use strict";var l={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};_.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(w,S,L){return w<12?L?"\xf6\xf6":"\xd6\xd6":L?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(w){return"\xf6s"===w||"\xd6S"===w},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(w,S){switch(S){case"d":case"D":case"Do":case"DD":return w;default:if(0===w)return w+"'\u0131nc\u0131";var L=w%10;return w+(l[L]||l[w%100-L]||l[w>=100?100:null])}},week:{dow:1,doy:7}})}(I(16676))},594:function($,se,I){!function(_){"use strict";function x(w,S,L,E){var R={s:["viensas secunds","'iensas secunds"],ss:[w+" secunds",w+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[w+" m\xeduts",w+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[w+" \xfeoras",w+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[w+" ziuas",w+" ziuas"],M:["'n mes","'iens mes"],MM:[w+" mesen",w+" mesen"],y:["'n ar","'iens ar"],yy:[w+" ars",w+" ars"]};return E||S?R[L][0]:R[L][1]}_.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(w){return"d'o"===w.toLowerCase()},meridiem:function(w,S,L){return w>11?L?"d'o":"D'O":L?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:x,ss:x,m:x,mm:x,h:x,hh:x,d:x,dd:x,M:x,MM:x,y:x,yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(I(16676))},23226:function($,se,I){!function(_){"use strict";_.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(I(16676))},80673:function($,se,I){!function(_){"use strict";_.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(I(16676))},69580:function($,se,I){!function(_){"use strict";_.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(x,w){return 12===x&&(x=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===w||"\u0633\u06d5\u06be\u06d5\u0631"===w||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===w?x:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===w||"\u0643\u06d5\u0686"===w?x+12:x>=11?x:x+12},meridiem:function(x,w,S){var L=100*x+w;return L<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":L<900?"\u0633\u06d5\u06be\u06d5\u0631":L<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":L<1230?"\u0686\u06c8\u0634":L<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(x,w){switch(w){case"d":case"D":case"DDD":return x+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return x+"-\u06be\u06d5\u067e\u062a\u06d5";default:return x}},preparse:function(x){return x.replace(/\u060c/g,",")},postformat:function(x){return x.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(I(16676))},87270:function($,se,I){!function(_){"use strict";function x(E,R,q){return"m"===q?R?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===q?R?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":E+" "+function l(E,R){var q=E.split("_");return R%10==1&&R%100!=11?q[0]:R%10>=2&&R%10<=4&&(R%100<10||R%100>=20)?q[1]:q[2]}({ss:R?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:R?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:R?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[q],+E)}function S(E){return function(){return E+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}_.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function w(E,R){var q={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===E?q.nominative.slice(1,7).concat(q.nominative.slice(0,1)):E?q[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(R)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(R)?"genitive":"nominative"][E.day()]:q.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:S("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:S("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:S("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:S("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return S("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return S("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:x,m:x,mm:x,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:x,d:"\u0434\u0435\u043d\u044c",dd:x,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:x,y:"\u0440\u0456\u043a",yy:x},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(E){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(E)},meridiem:function(E,R,q){return E<4?"\u043d\u043e\u0447\u0456":E<12?"\u0440\u0430\u043d\u043a\u0443":E<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(E,R){switch(R){case"M":case"d":case"DDD":case"w":case"W":return E+"-\u0439";case"D":return E+"-\u0433\u043e";default:return E}},week:{dow:1,doy:7}})}(I(16676))},11656:function($,se,I){!function(_){"use strict";var l=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],x=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];_.defineLocale("ur",{months:l,monthsShort:l,weekdays:x,weekdaysShort:x,weekdaysMin:x,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(S){return"\u0634\u0627\u0645"===S},meridiem:function(S,L,E){return S<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(S){return S.replace(/\u060c/g,",")},postformat:function(S){return S.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(I(16676))},18744:function($,se,I){!function(_){"use strict";_.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(I(16676))},68364:function($,se,I){!function(_){"use strict";_.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(I(16676))},75049:function($,se,I){!function(_){"use strict";_.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(x){return/^ch$/i.test(x)},meridiem:function(x,w,S){return x<12?S?"sa":"SA":S?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(x){return x},week:{dow:1,doy:4}})}(I(16676))},15106:function($,se,I){!function(_){"use strict";_.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(x){var w=x%10;return x+(1==~~(x%100/10)?"th":1===w?"st":2===w?"nd":3===w?"rd":"th")},week:{dow:1,doy:4}})}(I(16676))},6199:function($,se,I){!function(_){"use strict";_.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(I(16676))},27280:function($,se,I){!function(_){"use strict";_.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(x,w){return 12===x&&(x=0),"\u51cc\u6668"===w||"\u65e9\u4e0a"===w||"\u4e0a\u5348"===w?x:"\u4e0b\u5348"===w||"\u665a\u4e0a"===w?x+12:x>=11?x:x+12},meridiem:function(x,w,S){var L=100*x+w;return L<600?"\u51cc\u6668":L<900?"\u65e9\u4e0a":L<1130?"\u4e0a\u5348":L<1230?"\u4e2d\u5348":L<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(x){return x.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(x){return this.week()!==x.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(x,w){switch(w){case"d":case"D":case"DDD":return x+"\u65e5";case"M":return x+"\u6708";case"w":case"W":return x+"\u5468";default:return x}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(I(16676))},36860:function($,se,I){!function(_){"use strict";_.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(x,w){return 12===x&&(x=0),"\u51cc\u6668"===w||"\u65e9\u4e0a"===w||"\u4e0a\u5348"===w?x:"\u4e2d\u5348"===w?x>=11?x:x+12:"\u4e0b\u5348"===w||"\u665a\u4e0a"===w?x+12:void 0},meridiem:function(x,w,S){var L=100*x+w;return L<600?"\u51cc\u6668":L<900?"\u65e9\u4e0a":L<1200?"\u4e0a\u5348":1200===L?"\u4e2d\u5348":L<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(x,w){switch(w){case"d":case"D":case"DDD":return x+"\u65e5";case"M":return x+"\u6708";case"w":case"W":return x+"\u9031";default:return x}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(I(16676))},78364:function($,se,I){!function(_){"use strict";_.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(x,w){return 12===x&&(x=0),"\u51cc\u6668"===w||"\u65e9\u4e0a"===w||"\u4e0a\u5348"===w?x:"\u4e2d\u5348"===w?x>=11?x:x+12:"\u4e0b\u5348"===w||"\u665a\u4e0a"===w?x+12:void 0},meridiem:function(x,w,S){var L=100*x+w;return L<600?"\u51cc\u6668":L<900?"\u65e9\u4e0a":L<1130?"\u4e0a\u5348":L<1230?"\u4e2d\u5348":L<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(x,w){switch(w){case"d":case"D":case"DDD":return x+"\u65e5";case"M":return x+"\u6708";case"w":case"W":return x+"\u9031";default:return x}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(I(16676))},482:function($,se,I){!function(_){"use strict";_.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(x,w){return 12===x&&(x=0),"\u51cc\u6668"===w||"\u65e9\u4e0a"===w||"\u4e0a\u5348"===w?x:"\u4e2d\u5348"===w?x>=11?x:x+12:"\u4e0b\u5348"===w||"\u665a\u4e0a"===w?x+12:void 0},meridiem:function(x,w,S){var L=100*x+w;return L<600?"\u51cc\u6668":L<900?"\u65e9\u4e0a":L<1130?"\u4e0a\u5348":L<1230?"\u4e2d\u5348":L<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(x,w){switch(w){case"d":case"D":case"DDD":return x+"\u65e5";case"M":return x+"\u6708";case"w":case"W":return x+"\u9031";default:return x}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(I(16676))},16676:function($,se,I){($=I.nmd($)).exports=function(){"use strict";var _,Li;function l(){return _.apply(null,arguments)}function w(m){return m instanceof Array||"[object Array]"===Object.prototype.toString.call(m)}function S(m){return null!=m&&"[object Object]"===Object.prototype.toString.call(m)}function L(m,y){return Object.prototype.hasOwnProperty.call(m,y)}function E(m){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(m).length;var y;for(y in m)if(L(m,y))return!1;return!0}function R(m){return void 0===m}function q(m){return"number"==typeof m||"[object Number]"===Object.prototype.toString.call(m)}function le(m){return m instanceof Date||"[object Date]"===Object.prototype.toString.call(m)}function fe(m,y){var k,P=[],D=m.length;for(k=0;k<D;++k)P.push(y(m[k],k));return P}function Je(m,y){for(var P in y)L(y,P)&&(m[P]=y[P]);return L(y,"toString")&&(m.toString=y.toString),L(y,"valueOf")&&(m.valueOf=y.valueOf),m}function nt(m,y,P,k){return ap(m,y,P,k,!0).utc()}function Pe(m){return null==m._pf&&(m._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),m._pf}function Oi(m){var y=null,P=!1,k=m._d&&!isNaN(m._d.getTime());return k&&(y=Pe(m),P=Li.call(y.parsedDateParts,function(D){return null!=D}),k=y.overflow<0&&!y.empty&&!y.invalidEra&&!y.invalidMonth&&!y.invalidWeekday&&!y.weekdayMismatch&&!y.nullInput&&!y.invalidFormat&&!y.userInvalidated&&(!y.meridiem||y.meridiem&&P),m._strict&&(k=k&&0===y.charsLeftOver&&0===y.unusedTokens.length&&void 0===y.bigHour)),null!=Object.isFrozen&&Object.isFrozen(m)?k:(m._isValid=k,m._isValid)}function vs(m){var y=nt(NaN);return null!=m?Je(Pe(y),m):Pe(y).userInvalidated=!0,y}Li=Array.prototype.some?Array.prototype.some:function(m){var k,y=Object(this),P=y.length>>>0;for(k=0;k<P;k++)if(k in y&&m.call(this,y[k],k,y))return!0;return!1};var br=l.momentProperties=[],Vr=!1;function Gt(m,y){var P,k,D,B=br.length;if(R(y._isAMomentObject)||(m._isAMomentObject=y._isAMomentObject),R(y._i)||(m._i=y._i),R(y._f)||(m._f=y._f),R(y._l)||(m._l=y._l),R(y._strict)||(m._strict=y._strict),R(y._tzm)||(m._tzm=y._tzm),R(y._isUTC)||(m._isUTC=y._isUTC),R(y._offset)||(m._offset=y._offset),R(y._pf)||(m._pf=Pe(y)),R(y._locale)||(m._locale=y._locale),B>0)for(P=0;P<B;P++)R(D=y[k=br[P]])||(m[k]=D);return m}function qr(m){Gt(this,m),this._d=new Date(null!=m._d?m._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Vr&&(Vr=!0,l.updateOffset(this),Vr=!1)}function hs(m){return m instanceof qr||null!=m&&null!=m._isAMomentObject}function tr(m){!1===l.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+m)}function ii(m,y){var P=!0;return Je(function(){if(null!=l.deprecationHandler&&l.deprecationHandler(null,m),P){var D,B,ie,k=[],Re=arguments.length;for(B=0;B<Re;B++){if(D="","object"==typeof arguments[B]){for(ie in D+="\n["+B+"] ",arguments[0])L(arguments[0],ie)&&(D+=ie+": "+arguments[0][ie]+", ");D=D.slice(0,-2)}else D=arguments[B];k.push(D)}tr(m+"\nArguments: "+Array.prototype.slice.call(k).join("")+"\n"+(new Error).stack),P=!1}return y.apply(this,arguments)},y)}var Cr,qi={};function Wr(m,y){null!=l.deprecationHandler&&l.deprecationHandler(m,y),qi[m]||(tr(y),qi[m]=!0)}function Wi(m){return typeof Function<"u"&&m instanceof Function||"[object Function]"===Object.prototype.toString.call(m)}function mn(m,y){var k,P=Je({},m);for(k in y)L(y,k)&&(S(m[k])&&S(y[k])?(P[k]={},Je(P[k],m[k]),Je(P[k],y[k])):null!=y[k]?P[k]=y[k]:delete P[k]);for(k in m)L(m,k)&&!L(y,k)&&S(m[k])&&(P[k]=Je({},P[k]));return P}function Zi(m){null!=m&&this.set(m)}l.suppressDeprecationWarnings=!1,l.deprecationHandler=null,Cr=Object.keys?Object.keys:function(m){var y,P=[];for(y in m)L(m,y)&&P.push(y);return P};function gs(m,y,P){var k=""+Math.abs(m);return(m>=0?P?"+":"":"-")+Math.pow(10,Math.max(0,y-k.length)).toString().substr(1)+k}var Ys=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,M={},V={};function X(m,y,P,k){var D=k;"string"==typeof k&&(D=function(){return this[k]()}),m&&(V[m]=D),y&&(V[y[0]]=function(){return gs(D.apply(this,arguments),y[1],y[2])}),P&&(V[P]=function(){return this.localeData().ordinal(D.apply(this,arguments),m)})}function ue(m){return m.match(/\[[\s\S]/)?m.replace(/^\[|\]$/g,""):m.replace(/\\/g,"")}function ge(m,y){return m.isValid()?(y=Q(y,m.localeData()),M[y]=M[y]||function oe(m){var P,k,y=m.match(Ys);for(P=0,k=y.length;P<k;P++)y[P]=V[y[P]]?V[y[P]]:ue(y[P]);return function(D){var ie,B="";for(ie=0;ie<k;ie++)B+=Wi(y[ie])?y[ie].call(D,m):y[ie];return B}}(y),M[y](m)):m.localeData().invalidDate()}function Q(m,y){var P=5;function k(D){return y.longDateFormat(D)||D}for(W.lastIndex=0;P>=0&&W.test(m);)m=m.replace(W,k),W.lastIndex=0,P-=1;return m}var ye={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Se(m){return"string"==typeof m?ye[m]||ye[m.toLowerCase()]:void 0}function ae(m){var P,k,y={};for(k in m)L(m,k)&&(P=Se(k))&&(y[P]=m[k]);return y}var he={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var Sr,Ne=/\d/,at=/\d\d/,rt=/\d{3}/,vi=/\d{4}/,Zt=/[+-]?\d{6}/,Lt=/\d\d?/,gi=/\d\d\d\d?/,ir=/\d\d\d\d\d\d?/,Ui=/\d{1,3}/,Mi=/\d{1,4}/,ys=/[+-]?\d{1,6}/,Ri=/\d+/,ds=/[+-]?\d+/,ts=/Z|[+-]\d\d:?\d\d/gi,Os=/Z|[+-]\d\d(?::?\d\d)?/gi,_r=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zr=/^[1-9]\d?/,wr=/^([1-9]\d|\d)/;function De(m,y,P){Sr[m]=Wi(y)?y:function(k,D){return k&&P?P:y}}function ch(m,y){return L(Sr,m)?Sr[m](y._strict,y._locale):new RegExp(function Io(m){return Ut(m.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(y,P,k,D,B){return P||k||D||B}))}(m))}function Ut(m){return m.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function cs(m){return m<0?Math.ceil(m)||0:Math.floor(m)}function mt(m){var y=+m,P=0;return 0!==y&&isFinite(y)&&(P=cs(y)),P}Sr={};var to={};function At(m,y){var P,D,k=y;for("string"==typeof m&&(m=[m]),q(y)&&(k=function(B,ie){ie[y]=mt(B)}),D=m.length,P=0;P<D;P++)to[m[P]]=k}function si(m,y){At(m,function(P,k,D,B){D._w=D._w||{},y(P,D._w,D,B)})}function Ms(m,y,P){null!=y&&L(to,m)&&to[m](y,P._a,P,m)}function Yi(m){return m%4==0&&m%100!=0||m%400==0}var Nt=0,Qt=1,Ci=2,Vt=3,is=4,As=5,xr=6,ph=7,Um=8;function Eo(m){return Yi(m)?366:365}X("Y",0,0,function(){var m=this.year();return m<=9999?gs(m,4):"+"+m}),X(0,["YY",2],0,function(){return this.year()%100}),X(0,["YYYY",4],0,"year"),X(0,["YYYYY",5],0,"year"),X(0,["YYYYYY",6,!0],0,"year"),De("Y",ds),De("YY",Lt,at),De("YYYY",Mi,vi),De("YYYYY",ys,Zt),De("YYYYYY",ys,Zt),At(["YYYYY","YYYYYY"],Nt),At("YYYY",function(m,y){y[Nt]=2===m.length?l.parseTwoDigitYear(m):mt(m)}),At("YY",function(m,y){y[Nt]=l.parseTwoDigitYear(m)}),At("Y",function(m,y){y[Nt]=parseInt(m,10)}),l.parseTwoDigitYear=function(m){return mt(m)+(mt(m)>68?1900:2e3)};var yi,qc=io("FullYear",!0);function io(m,y){return function(P){return null!=P?(Wc(this,m,P),l.updateOffset(this,y),this):Do(this,m)}}function Do(m,y){if(!m.isValid())return NaN;var P=m._d,k=m._isUTC;switch(y){case"Milliseconds":return k?P.getUTCMilliseconds():P.getMilliseconds();case"Seconds":return k?P.getUTCSeconds():P.getSeconds();case"Minutes":return k?P.getUTCMinutes():P.getMinutes();case"Hours":return k?P.getUTCHours():P.getHours();case"Date":return k?P.getUTCDate():P.getDate();case"Day":return k?P.getUTCDay():P.getDay();case"Month":return k?P.getUTCMonth():P.getMonth();case"FullYear":return k?P.getUTCFullYear():P.getFullYear();default:return NaN}}function Wc(m,y,P){var k,D,B,ie,Re;if(m.isValid()&&!isNaN(P)){switch(k=m._d,D=m._isUTC,y){case"Milliseconds":return void(D?k.setUTCMilliseconds(P):k.setMilliseconds(P));case"Seconds":return void(D?k.setUTCSeconds(P):k.setSeconds(P));case"Minutes":return void(D?k.setUTCMinutes(P):k.setMinutes(P));case"Hours":return void(D?k.setUTCHours(P):k.setHours(P));case"Date":return void(D?k.setUTCDate(P):k.setDate(P));case"FullYear":break;default:return}B=P,ie=m.month(),Re=29!==(Re=m.date())||1!==ie||Yi(B)?Re:28,D?k.setUTCFullYear(B,ie,Re):k.setFullYear(B,ie,Re)}}function uh(m,y){if(isNaN(m)||isNaN(y))return NaN;var P=function Qm(m,y){return(m%y+y)%y}(y,12);return m+=(y-P)/12,1===P?Yi(m)?29:28:31-P%7%2}yi=Array.prototype.indexOf?Array.prototype.indexOf:function(m){var y;for(y=0;y<this.length;++y)if(this[y]===m)return y;return-1},X("M",["MM",2],"Mo",function(){return this.month()+1}),X("MMM",0,0,function(m){return this.localeData().monthsShort(this,m)}),X("MMMM",0,0,function(m){return this.localeData().months(this,m)}),De("M",Lt,Zr),De("MM",Lt,at),De("MMM",function(m,y){return y.monthsShortRegex(m)}),De("MMMM",function(m,y){return y.monthsRegex(m)}),At(["M","MM"],function(m,y){y[Qt]=mt(m)-1}),At(["MMM","MMMM"],function(m,y,P,k){var D=P._locale.monthsParse(m,k,P._strict);null!=D?y[Qt]=D:Pe(P).invalidMonth=m});var $m="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Zc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Uc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Km=_r,ev=_r;function sv(m,y,P){var k,D,B,ie=m.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],k=0;k<12;++k)B=nt([2e3,k]),this._shortMonthsParse[k]=this.monthsShort(B,"").toLocaleLowerCase(),this._longMonthsParse[k]=this.months(B,"").toLocaleLowerCase();return P?"MMM"===y?-1!==(D=yi.call(this._shortMonthsParse,ie))?D:null:-1!==(D=yi.call(this._longMonthsParse,ie))?D:null:"MMM"===y?-1!==(D=yi.call(this._shortMonthsParse,ie))||-1!==(D=yi.call(this._longMonthsParse,ie))?D:null:-1!==(D=yi.call(this._longMonthsParse,ie))||-1!==(D=yi.call(this._shortMonthsParse,ie))?D:null}function Xc(m,y){if(!m.isValid())return m;if("string"==typeof y)if(/^\d+$/.test(y))y=mt(y);else if(!q(y=m.localeData().monthsParse(y)))return m;var P=y,k=m.date();return k=k<29?k:Math.min(k,uh(m.year(),P)),m._isUTC?m._d.setUTCMonth(P,k):m._d.setMonth(P,k),m}function Jc(m){return null!=m?(Xc(this,m),l.updateOffset(this,!0),this):Do(this,"Month")}function Gc(){function m(tt,_t){return _t.length-tt.length}var D,B,ie,Re,y=[],P=[],k=[];for(D=0;D<12;D++)B=nt([2e3,D]),ie=Ut(this.monthsShort(B,"")),Re=Ut(this.months(B,"")),y.push(ie),P.push(Re),k.push(Re),k.push(ie);y.sort(m),P.sort(m),k.sort(m),this._monthsRegex=new RegExp("^("+k.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+y.join("|")+")","i")}function lv(m,y,P,k,D,B,ie){var Re;return m<100&&m>=0?(Re=new Date(m+400,y,P,k,D,B,ie),isFinite(Re.getFullYear())&&Re.setFullYear(m)):Re=new Date(m,y,P,k,D,B,ie),Re}function jo(m){var y,P;return m<100&&m>=0?((P=Array.prototype.slice.call(arguments))[0]=m+400,y=new Date(Date.UTC.apply(null,P)),isFinite(y.getUTCFullYear())&&y.setUTCFullYear(m)):y=new Date(Date.UTC.apply(null,arguments)),y}function Ra(m,y,P){var k=7+y-P;return-(7+jo(m,0,k).getUTCDay()-y)%7+k-1}function Qc(m,y,P,k,D){var tt,_t,Re=1+7*(y-1)+(7+P-k)%7+Ra(m,k,D);return Re<=0?_t=Eo(tt=m-1)+Re:Re>Eo(m)?(tt=m+1,_t=Re-Eo(m)):(tt=m,_t=Re),{year:tt,dayOfYear:_t}}function Ro(m,y,P){var B,ie,k=Ra(m.year(),y,P),D=Math.floor((m.dayOfYear()-k-1)/7)+1;return D<1?B=D+Pr(ie=m.year()-1,y,P):D>Pr(m.year(),y,P)?(B=D-Pr(m.year(),y,P),ie=m.year()+1):(ie=m.year(),B=D),{week:B,year:ie}}function Pr(m,y,P){var k=Ra(m,y,P),D=Ra(m+1,y,P);return(Eo(m)-k+D)/7}X("w",["ww",2],"wo","week"),X("W",["WW",2],"Wo","isoWeek"),De("w",Lt,Zr),De("ww",Lt,at),De("W",Lt,Zr),De("WW",Lt,at),si(["w","ww","W","WW"],function(m,y,P,k){y[k.substr(0,1)]=mt(m)});function fh(m,y){return m.slice(y,7).concat(m.slice(0,y))}X("d",0,"do","day"),X("dd",0,0,function(m){return this.localeData().weekdaysMin(this,m)}),X("ddd",0,0,function(m){return this.localeData().weekdaysShort(this,m)}),X("dddd",0,0,function(m){return this.localeData().weekdays(this,m)}),X("e",0,0,"weekday"),X("E",0,0,"isoWeekday"),De("d",Lt),De("e",Lt),De("E",Lt),De("dd",function(m,y){return y.weekdaysMinRegex(m)}),De("ddd",function(m,y){return y.weekdaysShortRegex(m)}),De("dddd",function(m,y){return y.weekdaysRegex(m)}),si(["dd","ddd","dddd"],function(m,y,P,k){var D=P._locale.weekdaysParse(m,k,P._strict);null!=D?y.d=D:Pe(P).invalidWeekday=m}),si(["d","e","E"],function(m,y,P,k){y[k]=mt(m)});var gv="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$c="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),yv="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Kc=_r,bv=_r,Cv=_r;function xv(m,y,P){var k,D,B,ie=m.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],k=0;k<7;++k)B=nt([2e3,1]).day(k),this._minWeekdaysParse[k]=this.weekdaysMin(B,"").toLocaleLowerCase(),this._shortWeekdaysParse[k]=this.weekdaysShort(B,"").toLocaleLowerCase(),this._weekdaysParse[k]=this.weekdays(B,"").toLocaleLowerCase();return P?"dddd"===y?-1!==(D=yi.call(this._weekdaysParse,ie))?D:null:"ddd"===y?-1!==(D=yi.call(this._shortWeekdaysParse,ie))?D:null:-1!==(D=yi.call(this._minWeekdaysParse,ie))?D:null:"dddd"===y?-1!==(D=yi.call(this._weekdaysParse,ie))||-1!==(D=yi.call(this._shortWeekdaysParse,ie))||-1!==(D=yi.call(this._minWeekdaysParse,ie))?D:null:"ddd"===y?-1!==(D=yi.call(this._shortWeekdaysParse,ie))||-1!==(D=yi.call(this._weekdaysParse,ie))||-1!==(D=yi.call(this._minWeekdaysParse,ie))?D:null:-1!==(D=yi.call(this._minWeekdaysParse,ie))||-1!==(D=yi.call(this._weekdaysParse,ie))||-1!==(D=yi.call(this._shortWeekdaysParse,ie))?D:null}function mh(){function m(Ai,Ds){return Ds.length-Ai.length}var B,ie,Re,tt,_t,y=[],P=[],k=[],D=[];for(B=0;B<7;B++)ie=nt([2e3,1]).day(B),Re=Ut(this.weekdaysMin(ie,"")),tt=Ut(this.weekdaysShort(ie,"")),_t=Ut(this.weekdays(ie,"")),y.push(Re),P.push(tt),k.push(_t),D.push(Re),D.push(tt),D.push(_t);y.sort(m),P.sort(m),k.sort(m),D.sort(m),this._weekdaysRegex=new RegExp("^("+D.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+k.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+P.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+y.join("|")+")","i")}function vh(){return this.hours()%12||12}function ep(m,y){X(m,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),y)})}function tp(m,y){return y._meridiemParse}X("H",["HH",2],0,"hour"),X("h",["hh",2],0,vh),X("k",["kk",2],0,function Iv(){return this.hours()||24}),X("hmm",0,0,function(){return""+vh.apply(this)+gs(this.minutes(),2)}),X("hmmss",0,0,function(){return""+vh.apply(this)+gs(this.minutes(),2)+gs(this.seconds(),2)}),X("Hmm",0,0,function(){return""+this.hours()+gs(this.minutes(),2)}),X("Hmmss",0,0,function(){return""+this.hours()+gs(this.minutes(),2)+gs(this.seconds(),2)}),ep("a",!0),ep("A",!1),De("a",tp),De("A",tp),De("H",Lt,wr),De("h",Lt,Zr),De("k",Lt,Zr),De("HH",Lt,at),De("hh",Lt,at),De("kk",Lt,at),De("hmm",gi),De("hmmss",ir),De("Hmm",gi),De("Hmmss",ir),At(["H","HH"],Vt),At(["k","kk"],function(m,y,P){var k=mt(m);y[Vt]=24===k?0:k}),At(["a","A"],function(m,y,P){P._isPm=P._locale.isPM(m),P._meridiem=m}),At(["h","hh"],function(m,y,P){y[Vt]=mt(m),Pe(P).bigHour=!0}),At("hmm",function(m,y,P){var k=m.length-2;y[Vt]=mt(m.substr(0,k)),y[is]=mt(m.substr(k)),Pe(P).bigHour=!0}),At("hmmss",function(m,y,P){var k=m.length-4,D=m.length-2;y[Vt]=mt(m.substr(0,k)),y[is]=mt(m.substr(k,2)),y[As]=mt(m.substr(D)),Pe(P).bigHour=!0}),At("Hmm",function(m,y,P){var k=m.length-2;y[Vt]=mt(m.substr(0,k)),y[is]=mt(m.substr(k))}),At("Hmmss",function(m,y,P){var k=m.length-4,D=m.length-2;y[Vt]=mt(m.substr(0,k)),y[is]=mt(m.substr(k,2)),y[As]=mt(m.substr(D))});var jv=io("Hours",!0);var Fo,ip={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:$m,monthsShort:Zc,week:{dow:0,doy:6},weekdays:gv,weekdaysMin:yv,weekdaysShort:$c,meridiemParse:/[ap]\.?m?\.?/i},ri={},Yo={};function Yv(m,y){var P,k=Math.min(m.length,y.length);for(P=0;P<k;P+=1)if(m[P]!==y[P])return P;return k}function sp(m){return m&&m.toLowerCase().replace("_","-")}function Ya(m){var y=null;if(void 0===ri[m]&&$&&$.exports&&function Hv(m){return!(!m||!m.match("^[^/\\\\]*$"))}(m))try{y=Fo._abbr,I(46700)("./"+m),Ur(y)}catch{ri[m]=null}return ri[m]}function Ur(m,y){var P;return m&&((P=R(y)?Tr(m):gh(m,y))?Fo=P:typeof console<"u"&&console.warn&&console.warn("Locale "+m+" not found. Did you forget to load it?")),Fo._abbr}function gh(m,y){if(null!==y){var P,k=ip;if(y.abbr=m,null!=ri[m])Wr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),k=ri[m]._config;else if(null!=y.parentLocale)if(null!=ri[y.parentLocale])k=ri[y.parentLocale]._config;else{if(null==(P=Ya(y.parentLocale)))return Yo[y.parentLocale]||(Yo[y.parentLocale]=[]),Yo[y.parentLocale].push({name:m,config:y}),null;k=P._config}return ri[m]=new Zi(mn(k,y)),Yo[m]&&Yo[m].forEach(function(D){gh(D.name,D.config)}),Ur(m),ri[m]}return delete ri[m],null}function Tr(m){var y;if(m&&m._locale&&m._locale._abbr&&(m=m._locale._abbr),!m)return Fo;if(!w(m)){if(y=Ya(m))return y;m=[m]}return function Fv(m){for(var P,k,D,B,y=0;y<m.length;){for(P=(B=sp(m[y]).split("-")).length,k=(k=sp(m[y+1]))?k.split("-"):null;P>0;){if(D=Ya(B.slice(0,P).join("-")))return D;if(k&&k.length>=P&&Yv(B,k)>=P-1)break;P--}y++}return Fo}(m)}function yh(m){var y,P=m._a;return P&&-2===Pe(m).overflow&&(y=P[Qt]<0||P[Qt]>11?Qt:P[Ci]<1||P[Ci]>uh(P[Nt],P[Qt])?Ci:P[Vt]<0||P[Vt]>24||24===P[Vt]&&(0!==P[is]||0!==P[As]||0!==P[xr])?Vt:P[is]<0||P[is]>59?is:P[As]<0||P[As]>59?As:P[xr]<0||P[xr]>999?xr:-1,Pe(m)._overflowDayOfYear&&(y<Nt||y>Ci)&&(y=Ci),Pe(m)._overflowWeeks&&-1===y&&(y=ph),Pe(m)._overflowWeekday&&-1===y&&(y=Um),Pe(m).overflow=y),m}var zv=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vv=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qv=/Z|[+-]\d\d(?::?\d\d)?/,Fa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],bh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wv=/^\/?Date\((-?\d+)/i,Zv=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Uv={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function rp(m){var y,P,B,ie,Re,tt,k=m._i,D=zv.exec(k)||Vv.exec(k),_t=Fa.length,Ai=bh.length;if(D){for(Pe(m).iso=!0,y=0,P=_t;y<P;y++)if(Fa[y][1].exec(D[1])){ie=Fa[y][0],B=!1!==Fa[y][2];break}if(null==ie)return void(m._isValid=!1);if(D[3]){for(y=0,P=Ai;y<P;y++)if(bh[y][1].exec(D[3])){Re=(D[2]||" ")+bh[y][0];break}if(null==Re)return void(m._isValid=!1)}if(!B&&null!=Re)return void(m._isValid=!1);if(D[4]){if(!qv.exec(D[4]))return void(m._isValid=!1);tt="Z"}m._f=ie+(Re||"")+(tt||""),Ch(m)}else m._isValid=!1}function Jv(m){var y=parseInt(m,10);return y<=49?2e3+y:y<=999?1900+y:y}function np(m){var P,y=Zv.exec(function Gv(m){return m.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(m._i));if(y){if(P=function Xv(m,y,P,k,D,B){var ie=[Jv(m),Zc.indexOf(y),parseInt(P,10),parseInt(k,10),parseInt(D,10)];return B&&ie.push(parseInt(B,10)),ie}(y[4],y[3],y[2],y[5],y[6],y[7]),!function Qv(m,y,P){return!m||$c.indexOf(m)===new Date(y[0],y[1],y[2]).getDay()||(Pe(P).weekdayMismatch=!0,P._isValid=!1,!1)}(y[1],P,m))return;m._a=P,m._tzm=function $v(m,y,P){if(m)return Uv[m];if(y)return 0;var k=parseInt(P,10),D=k%100;return(k-D)/100*60+D}(y[8],y[9],y[10]),m._d=jo.apply(null,m._a),m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),Pe(m).rfc2822=!0}else m._isValid=!1}function vn(m,y,P){return null!=m?m:null!=y?y:P}function Ho(m){var y,P,D,B,ie,k=[];if(!m._d){for(D=function eg(m){var y=new Date(l.now());return m._useUTC?[y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()]:[y.getFullYear(),y.getMonth(),y.getDate()]}(m),m._w&&null==m._a[Ci]&&null==m._a[Qt]&&function tg(m){var y,P,k,D,B,ie,Re,tt,_t;null!=(y=m._w).GG||null!=y.W||null!=y.E?(B=1,ie=4,P=vn(y.GG,m._a[Nt],Ro($t(),1,4).year),k=vn(y.W,1),((D=vn(y.E,1))<1||D>7)&&(tt=!0)):(B=m._locale._week.dow,ie=m._locale._week.doy,_t=Ro($t(),B,ie),P=vn(y.gg,m._a[Nt],_t.year),k=vn(y.w,_t.week),null!=y.d?((D=y.d)<0||D>6)&&(tt=!0):null!=y.e?(D=y.e+B,(y.e<0||y.e>6)&&(tt=!0)):D=B),k<1||k>Pr(P,B,ie)?Pe(m)._overflowWeeks=!0:null!=tt?Pe(m)._overflowWeekday=!0:(Re=Qc(P,k,D,B,ie),m._a[Nt]=Re.year,m._dayOfYear=Re.dayOfYear)}(m),null!=m._dayOfYear&&(ie=vn(m._a[Nt],D[Nt]),(m._dayOfYear>Eo(ie)||0===m._dayOfYear)&&(Pe(m)._overflowDayOfYear=!0),P=jo(ie,0,m._dayOfYear),m._a[Qt]=P.getUTCMonth(),m._a[Ci]=P.getUTCDate()),y=0;y<3&&null==m._a[y];++y)m._a[y]=k[y]=D[y];for(;y<7;y++)m._a[y]=k[y]=null==m._a[y]?2===y?1:0:m._a[y];24===m._a[Vt]&&0===m._a[is]&&0===m._a[As]&&0===m._a[xr]&&(m._nextDay=!0,m._a[Vt]=0),m._d=(m._useUTC?jo:lv).apply(null,k),B=m._useUTC?m._d.getUTCDay():m._d.getDay(),null!=m._tzm&&m._d.setUTCMinutes(m._d.getUTCMinutes()-m._tzm),m._nextDay&&(m._a[Vt]=24),m._w&&typeof m._w.d<"u"&&m._w.d!==B&&(Pe(m).weekdayMismatch=!0)}}function Ch(m){if(m._f!==l.ISO_8601)if(m._f!==l.RFC_2822){m._a=[],Pe(m).empty=!0;var P,k,D,B,ie,_t,Ai,y=""+m._i,Re=y.length,tt=0;for(Ai=(D=Q(m._f,m._locale).match(Ys)||[]).length,P=0;P<Ai;P++)(k=(y.match(ch(B=D[P],m))||[])[0])&&((ie=y.substr(0,y.indexOf(k))).length>0&&Pe(m).unusedInput.push(ie),y=y.slice(y.indexOf(k)+k.length),tt+=k.length),V[B]?(k?Pe(m).empty=!1:Pe(m).unusedTokens.push(B),Ms(B,k,m)):m._strict&&!k&&Pe(m).unusedTokens.push(B);Pe(m).charsLeftOver=Re-tt,y.length>0&&Pe(m).unusedInput.push(y),m._a[Vt]<=12&&!0===Pe(m).bigHour&&m._a[Vt]>0&&(Pe(m).bigHour=void 0),Pe(m).parsedDateParts=m._a.slice(0),Pe(m).meridiem=m._meridiem,m._a[Vt]=function _h(m,y,P){var k;return null==P?y:null!=m.meridiemHour?m.meridiemHour(y,P):(null!=m.isPM&&((k=m.isPM(P))&&y<12&&(y+=12),!k&&12===y&&(y=0)),y)}(m._locale,m._a[Vt],m._meridiem),null!==(_t=Pe(m).era)&&(m._a[Nt]=m._locale.erasConvertYear(_t,m._a[Nt])),Ho(m),yh(m)}else np(m);else rp(m)}function wh(m){var y=m._i,P=m._f;return m._locale=m._locale||Tr(m._l),null===y||void 0===P&&""===y?vs({nullInput:!0}):("string"==typeof y&&(m._i=y=m._locale.preparse(y)),hs(y)?new qr(yh(y)):(le(y)?m._d=y:w(P)?function ig(m){var y,P,k,D,B,ie,Re=!1,tt=m._f.length;if(0===tt)return Pe(m).invalidFormat=!0,void(m._d=new Date(NaN));for(D=0;D<tt;D++)B=0,ie=!1,y=Gt({},m),null!=m._useUTC&&(y._useUTC=m._useUTC),y._f=m._f[D],Ch(y),Oi(y)&&(ie=!0),B+=Pe(y).charsLeftOver,B+=10*Pe(y).unusedTokens.length,Pe(y).score=B,Re?B<k&&(k=B,P=y):(null==k||B<k||ie)&&(k=B,P=y,ie&&(Re=!0));Je(m,P||y)}(m):P?Ch(m):function rg(m){var y=m._i;R(y)?m._d=new Date(l.now()):le(y)?m._d=new Date(y.valueOf()):"string"==typeof y?function Kv(m){var y=Wv.exec(m._i);null===y?(rp(m),!1===m._isValid&&(delete m._isValid,np(m),!1===m._isValid&&(delete m._isValid,m._strict?m._isValid=!1:l.createFromInputFallback(m)))):m._d=new Date(+y[1])}(m):w(y)?(m._a=fe(y.slice(0),function(P){return parseInt(P,10)}),Ho(m)):S(y)?function op(m){if(!m._d){var y=ae(m._i);m._a=fe([y.year,y.month,void 0===y.day?y.date:y.day,y.hour,y.minute,y.second,y.millisecond],function(k){return k&&parseInt(k,10)}),Ho(m)}}(m):q(y)?m._d=new Date(y):l.createFromInputFallback(m)}(m),Oi(m)||(m._d=null),m))}function ap(m,y,P,k,D){var B={};return(!0===y||!1===y)&&(k=y,y=void 0),(!0===P||!1===P)&&(k=P,P=void 0),(S(m)&&E(m)||w(m)&&0===m.length)&&(m=void 0),B._isAMomentObject=!0,B._useUTC=B._isUTC=D,B._l=P,B._i=m,B._f=y,B._strict=k,function sg(m){var y=new qr(yh(wh(m)));return y._nextDay&&(y.add(1,"d"),y._nextDay=void 0),y}(B)}function $t(m,y,P,k){return ap(m,y,P,k,!1)}l.createFromInputFallback=ii("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(m){m._d=new Date(m._i+(m._useUTC?" UTC":""))}),l.ISO_8601=function(){},l.RFC_2822=function(){};var ng=ii("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=$t.apply(null,arguments);return this.isValid()&&m.isValid()?m<this?this:m:vs()}),og=ii("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var m=$t.apply(null,arguments);return this.isValid()&&m.isValid()?m>this?this:m:vs()});function lp(m,y){var P,k;if(1===y.length&&w(y[0])&&(y=y[0]),!y.length)return $t();for(P=y[0],k=1;k<y.length;++k)(!y[k].isValid()||y[k][m](P))&&(P=y[k]);return P}var No=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Bo(m){var y=ae(m),P=y.year||0,k=y.quarter||0,D=y.month||0,B=y.week||y.isoWeek||0,ie=y.day||0,Re=y.hour||0,tt=y.minute||0,_t=y.second||0,Ai=y.millisecond||0;this._isValid=function hp(m){var y,k,P=!1,D=No.length;for(y in m)if(L(m,y)&&(-1===yi.call(No,y)||null!=m[y]&&isNaN(m[y])))return!1;for(k=0;k<D;++k)if(m[No[k]]){if(P)return!1;parseFloat(m[No[k]])!==mt(m[No[k]])&&(P=!0)}return!0}(y),this._milliseconds=+Ai+1e3*_t+6e4*tt+1e3*Re*60*60,this._days=+ie+7*B,this._months=+D+3*k+12*P,this._data={},this._locale=Tr(),this._bubble()}function zo(m){return m instanceof Bo}function Vo(m){return m<0?-1*Math.round(-1*m):Math.round(m)}function pp(m,y){X(m,0,0,function(){var P=this.utcOffset(),k="+";return P<0&&(P=-P,k="-"),k+gs(~~(P/60),2)+y+gs(~~P%60,2)})}pp("Z",":"),pp("ZZ",""),De("Z",Os),De("ZZ",Os),At(["Z","ZZ"],function(m,y,P){P._useUTC=!0,P._tzm=Sh(Os,m)});var cg=/([\+\-]|\d\d)/gi;function Sh(m,y){var D,B,P=(y||"").match(m);return null===P?null:0===(B=60*(D=((P[P.length-1]||[])+"").match(cg)||["-",0,0])[1]+mt(D[2]))?0:"+"===D[0]?B:-B}function xh(m,y){var P,k;return y._isUTC?(P=y.clone(),k=(hs(m)||le(m)?m.valueOf():$t(m).valueOf())-P.valueOf(),P._d.setTime(P._d.valueOf()+k),l.updateOffset(P,!1),P):$t(m).local()}function Ph(m){return-Math.round(m._d.getTimezoneOffset())}function mp(){return!!this.isValid()&&this._isUTC&&0===this._offset}l.updateOffset=function(){};var Cg=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,_g=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Fs(m,y){var D,B,ie,P=m,k=null;return zo(m)?P={ms:m._milliseconds,d:m._days,M:m._months}:q(m)||!isNaN(+m)?(P={},y?P[y]=+m:P.milliseconds=+m):(k=Cg.exec(m))?(D="-"===k[1]?-1:1,P={y:0,d:mt(k[Ci])*D,h:mt(k[Vt])*D,m:mt(k[is])*D,s:mt(k[As])*D,ms:mt(Vo(1e3*k[xr]))*D}):(k=_g.exec(m))?P={y:Xr(k[2],D="-"===k[1]?-1:1),M:Xr(k[3],D),w:Xr(k[4],D),d:Xr(k[5],D),h:Xr(k[6],D),m:Xr(k[7],D),s:Xr(k[8],D)}:null==P?P={}:"object"==typeof P&&("from"in P||"to"in P)&&(ie=function wg(m,y){var P;return m.isValid()&&y.isValid()?(y=xh(y,m),m.isBefore(y)?P=vp(m,y):((P=vp(y,m)).milliseconds=-P.milliseconds,P.months=-P.months),P):{milliseconds:0,months:0}}($t(P.from),$t(P.to)),(P={}).ms=ie.milliseconds,P.M=ie.months),B=new Bo(P),zo(m)&&L(m,"_locale")&&(B._locale=m._locale),zo(m)&&L(m,"_isValid")&&(B._isValid=m._isValid),B}function Xr(m,y){var P=m&&parseFloat(m.replace(",","."));return(isNaN(P)?0:P)*y}function vp(m,y){var P={};return P.months=y.month()-m.month()+12*(y.year()-m.year()),m.clone().add(P.months,"M").isAfter(y)&&--P.months,P.milliseconds=+y-+m.clone().add(P.months,"M"),P}function gp(m,y){return function(P,k){var B;return null!==k&&!isNaN(+k)&&(Wr(y,"moment()."+y+"(period, number) is deprecated. Please use moment()."+y+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),B=P,P=k,k=B),yp(this,Fs(P,k),m),this}}function yp(m,y,P,k){var D=y._milliseconds,B=Vo(y._days),ie=Vo(y._months);m.isValid()&&(k=null==k||k,ie&&Xc(m,Do(m,"Month")+ie*P),B&&Wc(m,"Date",Do(m,"Date")+B*P),D&&m._d.setTime(m._d.valueOf()+D*P),k&&l.updateOffset(m,B||ie))}Fs.fn=Bo.prototype,Fs.invalid=function cp(){return Fs(NaN)};var Sg=gp(1,"add"),xg=gp(-1,"subtract");function bp(m){return"string"==typeof m||m instanceof String}function Pg(m){return hs(m)||le(m)||bp(m)||q(m)||function kg(m){var y=w(m),P=!1;return y&&(P=0===m.filter(function(k){return!q(k)&&bp(m)}).length),y&&P}(m)||function Tg(m){var D,y=S(m)&&!E(m),P=!1,k=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],ie=k.length;for(D=0;D<ie;D+=1)P=P||L(m,k[D]);return y&&P}(m)||null==m}function Wo(m,y){if(m.date()<y.date())return-Wo(y,m);var P=12*(y.year()-m.year())+(y.month()-m.month()),k=m.clone().add(P,"months");return-(P+(y-k<0?(y-k)/(k-m.clone().add(P-1,"months")):(y-k)/(m.clone().add(P+1,"months")-k)))||0}function Jr(m){var y;return void 0===m?this._locale._abbr:(null!=(y=Tr(m))&&(this._locale=y),this)}l.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",l.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var za=ii("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(m){return void 0===m?this.localeData():this.locale(m)});function ro(){return this._locale}var gn=6e4,yn=60*gn,Zo=3506328*yn;function kr(m,y){return(m%y+y)%y}function bn(m,y,P){return m<100&&m>=0?new Date(m+400,y,P)-Zo:new Date(m,y,P).valueOf()}function Va(m,y,P){return m<100&&m>=0?Date.UTC(m+400,y,P)-Zo:Date.UTC(m,y,P)}function Jo(m,y){return y.erasAbbrRegex(m)}function Wa(){var D,B,ie,Re,tt,m=[],y=[],P=[],k=[],_t=this.eras();for(D=0,B=_t.length;D<B;++D)ie=Ut(_t[D].name),Re=Ut(_t[D].abbr),tt=Ut(_t[D].narrow),y.push(ie),m.push(Re),P.push(tt),k.push(ie),k.push(Re),k.push(tt);this._erasRegex=new RegExp("^("+k.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+y.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+P.join("|")+")","i")}function Gr(m,y){X(0,[m,m.length],0,y)}function Ja(m,y,P,k,D){var B;return null==m?Ro(this,k,D).year:(y>(B=Pr(m,k,D))&&(y=B),Bh.call(this,m,y,P,k,D))}function Bh(m,y,P,k,D){var B=Qc(m,y,P,k,D),ie=jo(B.year,0,B.dayOfYear);return this.year(ie.getUTCFullYear()),this.month(ie.getUTCMonth()),this.date(ie.getUTCDate()),this}X("N",0,0,"eraAbbr"),X("NN",0,0,"eraAbbr"),X("NNN",0,0,"eraAbbr"),X("NNNN",0,0,"eraName"),X("NNNNN",0,0,"eraNarrow"),X("y",["y",1],"yo","eraYear"),X("y",["yy",2],0,"eraYear"),X("y",["yyy",3],0,"eraYear"),X("y",["yyyy",4],0,"eraYear"),De("N",Jo),De("NN",Jo),De("NNN",Jo),De("NNNN",function Ap(m,y){return y.erasNameRegex(m)}),De("NNNNN",function Hh(m,y){return y.erasNarrowRegex(m)}),At(["N","NN","NNN","NNNN","NNNNN"],function(m,y,P,k){var D=P._locale.erasParse(m,k,P._strict);D?Pe(P).era=D:Pe(P).invalidEra=m}),De("y",Ri),De("yy",Ri),De("yyy",Ri),De("yyyy",Ri),De("yo",function Nh(m,y){return y._eraYearOrdinalRegex||Ri}),At(["y","yy","yyy","yyyy"],Nt),At(["yo"],function(m,y,P,k){var D;P._locale._eraYearOrdinalRegex&&(D=m.match(P._locale._eraYearOrdinalRegex)),y[Nt]=P._locale.eraYearOrdinalParse?P._locale.eraYearOrdinalParse(m,D):parseInt(m,10)}),X(0,["gg",2],0,function(){return this.weekYear()%100}),X(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Gr("gggg","weekYear"),Gr("ggggg","weekYear"),Gr("GGGG","isoWeekYear"),Gr("GGGGG","isoWeekYear"),De("G",ds),De("g",ds),De("GG",Lt,at),De("gg",Lt,at),De("GGGG",Mi,vi),De("gggg",Mi,vi),De("GGGGG",ys,Zt),De("ggggg",ys,Zt),si(["gggg","ggggg","GGGG","GGGGG"],function(m,y,P,k){y[k.substr(0,2)]=mt(m)}),si(["gg","GG"],function(m,y,P,k){y[k]=l.parseTwoDigitYear(m)}),X("Q",0,"Qo","quarter"),De("Q",Ne),At("Q",function(m,y){y[Qt]=3*(mt(m)-1)}),X("D",["DD",2],"Do","date"),De("D",Lt,Zr),De("DD",Lt,at),De("Do",function(m,y){return m?y._dayOfMonthOrdinalParse||y._ordinalParse:y._dayOfMonthOrdinalParseLenient}),At(["D","DD"],Ci),At("Do",function(m,y){y[Ci]=mt(m.match(Lt)[0])});var Ga=io("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear"),De("DDD",Ui),De("DDDD",rt),At(["DDD","DDDD"],function(m,y,P){P._dayOfYear=mt(m)}),X("m",["mm",2],0,"minute"),De("m",Lt,wr),De("mm",Lt,at),At(["m","mm"],is);var zh=io("Minutes",!1);X("s",["ss",2],0,"second"),De("s",Lt,wr),De("ss",Lt,at),At(["s","ss"],As);var sr,Qa,Rp=io("Seconds",!1);for(X("S",0,0,function(){return~~(this.millisecond()/100)}),X(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),X(0,["SSS",3],0,"millisecond"),X(0,["SSSS",4],0,function(){return 10*this.millisecond()}),X(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),X(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),X(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),X(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),X(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),De("S",Ui,Ne),De("SS",Ui,at),De("SSS",Ui,rt),sr="SSSS";sr.length<=9;sr+="S")De(sr,Ri);function $a(m,y){y[xr]=mt(1e3*("0."+m))}for(sr="S";sr.length<=9;sr+="S")At(sr,$a);Qa=io("Milliseconds",!1),X("z",0,0,"zoneAbbr"),X("zz",0,0,"zoneName");var Ce=qr.prototype;function Be(m){return m}Ce.add=Sg,Ce.calendar=function Mg(m,y){1===arguments.length&&(arguments[0]?Pg(arguments[0])?(m=arguments[0],y=void 0):function Lg(m){var D,y=S(m)&&!E(m),P=!1,k=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(D=0;D<k.length;D+=1)P=P||L(m,k[D]);return y&&P}(arguments[0])&&(y=arguments[0],m=void 0):(m=void 0,y=void 0));var P=m||$t(),k=xh(P,this).startOf("day"),D=l.calendarFormat(this,k)||"sameElse",B=y&&(Wi(y[D])?y[D].call(this,P):y[D]);return this.format(B||this.localeData().calendar(D,this,$t(P)))},Ce.clone=function so(){return new qr(this)},Ce.diff=function wp(m,y,P){var k,D,B;if(!this.isValid())return NaN;if(!(k=xh(m,this)).isValid())return NaN;switch(D=6e4*(k.utcOffset()-this.utcOffset()),y=Se(y)){case"year":B=Wo(this,k)/12;break;case"month":B=Wo(this,k);break;case"quarter":B=Wo(this,k)/3;break;case"second":B=(this-k)/1e3;break;case"minute":B=(this-k)/6e4;break;case"hour":B=(this-k)/36e5;break;case"day":B=(this-k-D)/864e5;break;case"week":B=(this-k-D)/6048e5;break;default:B=this-k}return P?B:cs(B)},Ce.endOf=function Oh(m){var y,P;if(void 0===(m=Se(m))||"millisecond"===m||!this.isValid())return this;switch(P=this._isUTC?Va:bn,m){case"year":y=P(this.year()+1,0,1)-1;break;case"quarter":y=P(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":y=P(this.year(),this.month()+1,1)-1;break;case"week":y=P(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":y=P(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":y=P(this.year(),this.month(),this.date()+1)-1;break;case"hour":y=this._d.valueOf(),y+=yn-kr(y+(this._isUTC?0:this.utcOffset()*gn),yn)-1;break;case"minute":y=this._d.valueOf(),y+=gn-kr(y,gn)-1;break;case"second":y=this._d.valueOf(),y+=1e3-kr(y,1e3)-1}return this._d.setTime(y),l.updateOffset(this,!0),this},Ce.format=function Tp(m){m||(m=this.isUtc()?l.defaultFormatUtc:l.defaultFormat);var y=ge(this,m);return this.localeData().postformat(y)},Ce.from=function kh(m,y){return this.isValid()&&(hs(m)&&m.isValid()||$t(m).isValid())?Fs({to:this,from:m}).locale(this.locale()).humanize(!y):this.localeData().invalidDate()},Ce.fromNow=function Ag(m){return this.from($t(),m)},Ce.to=function Ig(m,y){return this.isValid()&&(hs(m)&&m.isValid()||$t(m).isValid())?Fs({from:this,to:m}).locale(this.locale()).humanize(!y):this.localeData().invalidDate()},Ce.toNow=function Ba(m){return this.to($t(),m)},Ce.get=function Jm(m){return Wi(this[m=Se(m)])?this[m]():this},Ce.invalidAt=function Op(){return Pe(this).overflow},Ce.isAfter=function Cp(m,y){var P=hs(m)?m:$t(m);return!(!this.isValid()||!P.isValid())&&("millisecond"===(y=Se(y)||"millisecond")?this.valueOf()>P.valueOf():P.valueOf()<this.clone().startOf(y).valueOf())},Ce.isBefore=function Ha(m,y){var P=hs(m)?m:$t(m);return!(!this.isValid()||!P.isValid())&&("millisecond"===(y=Se(y)||"millisecond")?this.valueOf()<P.valueOf():this.clone().endOf(y).valueOf()<P.valueOf())},Ce.isBetween=function qo(m,y,P,k){var D=hs(m)?m:$t(m),B=hs(y)?y:$t(y);return!!(this.isValid()&&D.isValid()&&B.isValid())&&("("===(k=k||"()")[0]?this.isAfter(D,P):!this.isBefore(D,P))&&(")"===k[1]?this.isBefore(B,P):!this.isAfter(B,P))},Ce.isSame=function _p(m,y){var k,P=hs(m)?m:$t(m);return!(!this.isValid()||!P.isValid())&&("millisecond"===(y=Se(y)||"millisecond")?this.valueOf()===P.valueOf():(k=P.valueOf(),this.clone().startOf(y).valueOf()<=k&&k<=this.clone().endOf(y).valueOf()))},Ce.isSameOrAfter=function Th(m,y){return this.isSame(m,y)||this.isAfter(m,y)},Ce.isSameOrBefore=function Na(m,y){return this.isSame(m,y)||this.isBefore(m,y)},Ce.isValid=function Lp(){return Oi(this)},Ce.lang=za,Ce.locale=Jr,Ce.localeData=ro,Ce.max=og,Ce.min=ng,Ce.parsingFlags=function qa(){return Je({},Pe(this))},Ce.set=function Gm(m,y){if("object"==typeof m){var k,P=function je(m){var P,y=[];for(P in m)L(m,P)&&y.push({unit:P,priority:he[P]});return y.sort(function(k,D){return k.priority-D.priority}),y}(m=ae(m)),D=P.length;for(k=0;k<D;k++)this[P[k].unit](m[P[k].unit])}else if(Wi(this[m=Se(m)]))return this[m](y);return this},Ce.startOf=function Lh(m){var y,P;if(void 0===(m=Se(m))||"millisecond"===m||!this.isValid())return this;switch(P=this._isUTC?Va:bn,m){case"year":y=P(this.year(),0,1);break;case"quarter":y=P(this.year(),this.month()-this.month()%3,1);break;case"month":y=P(this.year(),this.month(),1);break;case"week":y=P(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":y=P(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":y=P(this.year(),this.month(),this.date());break;case"hour":y=this._d.valueOf(),y-=kr(y+(this._isUTC?0:this.utcOffset()*gn),yn);break;case"minute":y=this._d.valueOf(),y-=kr(y,gn);break;case"second":y=this._d.valueOf(),y-=kr(y,1e3)}return this._d.setTime(y),l.updateOffset(this,!0),this},Ce.subtract=xg,Ce.toArray=function Ih(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},Ce.toObject=function Eh(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},Ce.toDate=function Ah(){return new Date(this.valueOf())},Ce.toISOString=function xp(m){if(!this.isValid())return null;var y=!0!==m,P=y?this.clone().utc():this;return P.year()<0||P.year()>9999?ge(P,y?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Wi(Date.prototype.toISOString)?y?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ge(P,"Z")):ge(P,y?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Ce.inspect=function Pp(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var P,k,m="moment",y="";return this.isLocal()||(m=0===this.utcOffset()?"moment.utc":"moment.parseZone",y="Z"),P="["+m+'("]',k=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(P+k+"-MM-DD[T]HH:mm:ss.SSS"+y+'[")]')},typeof Symbol<"u"&&null!=Symbol.for&&(Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Ce.toJSON=function Uo(){return this.isValid()?this.toISOString():null},Ce.toString=function Sp(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ce.unix=function kp(){return Math.floor(this.valueOf()/1e3)},Ce.valueOf=function Mh(){return this._d.valueOf()-6e4*(this._offset||0)},Ce.creationData=function Xo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ce.eraName=function Rh(){var m,y,P,k=this.localeData().eras();for(m=0,y=k.length;m<y;++m)if(P=this.clone().startOf("day").valueOf(),k[m].since<=P&&P<=k[m].until||k[m].until<=P&&P<=k[m].since)return k[m].name;return""},Ce.eraNarrow=function Yh(){var m,y,P,k=this.localeData().eras();for(m=0,y=k.length;m<y;++m)if(P=this.clone().startOf("day").valueOf(),k[m].since<=P&&P<=k[m].until||k[m].until<=P&&P<=k[m].since)return k[m].narrow;return""},Ce.eraAbbr=function Eg(){var m,y,P,k=this.localeData().eras();for(m=0,y=k.length;m<y;++m)if(P=this.clone().startOf("day").valueOf(),k[m].since<=P&&P<=k[m].until||k[m].until<=P&&P<=k[m].since)return k[m].abbr;return""},Ce.eraYear=function Dg(){var m,y,P,k,D=this.localeData().eras();for(m=0,y=D.length;m<y;++m)if(P=D[m].since<=D[m].until?1:-1,k=this.clone().startOf("day").valueOf(),D[m].since<=k&&k<=D[m].until||D[m].until<=k&&k<=D[m].since)return(this.year()-l(D[m].since).year())*P+D[m].offset;return this.year()},Ce.year=qc,Ce.isLeapYear=function Xm(){return Yi(this.year())},Ce.weekYear=function Ip(m){return Ja.call(this,m,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},Ce.isoWeekYear=function Ep(m){return Ja.call(this,m,this.isoWeek(),this.isoWeekday(),1,4)},Ce.quarter=Ce.quarters=function Dp(m){return null==m?Math.ceil((this.month()+1)/3):this.month(3*(m-1)+this.month()%3)},Ce.month=Jc,Ce.daysInMonth=function nv(){return uh(this.year(),this.month())},Ce.week=Ce.weeks=function uv(m){var y=this.localeData().week(this);return null==m?y:this.add(7*(m-y),"d")},Ce.isoWeek=Ce.isoWeeks=function fv(m){var y=Ro(this,1,4).week;return null==m?y:this.add(7*(m-y),"d")},Ce.weeksInYear=function jg(){var m=this.localeData()._week;return Pr(this.year(),m.dow,m.doy)},Ce.weeksInWeekYear=function Xa(){var m=this.localeData()._week;return Pr(this.weekYear(),m.dow,m.doy)},Ce.isoWeeksInYear=function Za(){return Pr(this.year(),1,4)},Ce.isoWeeksInISOWeekYear=function Ua(){return Pr(this.isoWeekYear(),1,4)},Ce.date=Ga,Ce.day=Ce.days=function Tv(m){if(!this.isValid())return null!=m?this:NaN;var y=Do(this,"Day");return null!=m?(m=function mv(m,y){return"string"!=typeof m?m:isNaN(m)?"number"==typeof(m=y.weekdaysParse(m))?m:null:parseInt(m,10)}(m,this.localeData()),this.add(m-y,"d")):y},Ce.weekday=function kv(m){if(!this.isValid())return null!=m?this:NaN;var y=(this.day()+7-this.localeData()._week.dow)%7;return null==m?y:this.add(m-y,"d")},Ce.isoWeekday=function Lv(m){if(!this.isValid())return null!=m?this:NaN;if(null!=m){var y=function vv(m,y){return"string"==typeof m?y.weekdaysParse(m)%7||7:isNaN(m)?null:m}(m,this.localeData());return this.day(this.day()%7?y:y-7)}return this.day()||7},Ce.dayOfYear=function jp(m){var y=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==m?y:this.add(m-y,"d")},Ce.hour=Ce.hours=jv,Ce.minute=Ce.minutes=zh,Ce.second=Ce.seconds=Rp,Ce.millisecond=Ce.milliseconds=Qa,Ce.utcOffset=function pg(m,y,P){var D,k=this._offset||0;if(!this.isValid())return null!=m?this:NaN;if(null!=m){if("string"==typeof m){if(null===(m=Sh(Os,m)))return this}else Math.abs(m)<16&&!P&&(m*=60);return!this._isUTC&&y&&(D=Ph(this)),this._offset=m,this._isUTC=!0,null!=D&&this.add(D,"m"),k!==m&&(!y||this._changeInProgress?yp(this,Fs(m-k,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,l.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?k:Ph(this)},Ce.utc=function fg(m){return this.utcOffset(0,m)},Ce.local=function mg(m){return this._isUTC&&(this.utcOffset(0,m),this._isUTC=!1,m&&this.subtract(Ph(this),"m")),this},Ce.parseZone=function vg(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var m=Sh(ts,this._i);null!=m?this.utcOffset(m):this.utcOffset(0,!0)}return this},Ce.hasAlignedHourOffset=function gg(m){return!!this.isValid()&&(m=m?$t(m).utcOffset():0,(this.utcOffset()-m)%60==0)},Ce.isDST=function up(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ce.isLocal=function yg(){return!!this.isValid()&&!this._isUTC},Ce.isUtcOffset=function bg(){return!!this.isValid()&&this._isUTC},Ce.isUtc=mp,Ce.isUTC=mp,Ce.zoneAbbr=function Yp(){return this._isUTC?"UTC":""},Ce.zoneName=function Fp(){return this._isUTC?"Coordinated Universal Time":""},Ce.dates=ii("dates accessor is deprecated. Use date instead.",Ga),Ce.months=ii("months accessor is deprecated. Use month instead",Jc),Ce.years=ii("years accessor is deprecated. Use year instead",qc),Ce.zone=ii("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function ug(m,y){return null!=m?("string"!=typeof m&&(m=-m),this.utcOffset(m,y),this):-this.utcOffset()}),Ce.isDSTShifted=ii("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function fp(){if(!R(this._isDSTShifted))return this._isDSTShifted;var y,m={};return Gt(m,this),(m=wh(m))._a?(y=m._isUTC?nt(m._a):$t(m._a),this._isDSTShifted=this.isValid()&&function dg(m,y,P){var ie,k=Math.min(m.length,y.length),D=Math.abs(m.length-y.length),B=0;for(ie=0;ie<k;ie++)(P&&m[ie]!==y[ie]||!P&&mt(m[ie])!==mt(y[ie]))&&B++;return B+D}(m._a,y.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var It=Zi.prototype;function Go(m,y,P,k){var D=Tr(),B=nt().set(k,y);return D[P](B,m)}function Vh(m,y,P){if(q(m)&&(y=m,m=void 0),m=m||"",null!=y)return Go(m,y,P,"month");var k,D=[];for(k=0;k<12;k++)D[k]=Go(m,k,P,"month");return D}function Ka(m,y,P,k){"boolean"==typeof m?(q(y)&&(P=y,y=void 0),y=y||""):(P=y=m,m=!1,q(y)&&(P=y,y=void 0),y=y||"");var ie,D=Tr(),B=m?D._week.dow:0,Re=[];if(null!=P)return Go(y,(P+B)%7,k,"day");for(ie=0;ie<7;ie++)Re[ie]=Go(y,(ie+B)%7,k,"day");return Re}It.calendar=function eo(m,y,P){var k=this._calendar[m]||this._calendar.sameElse;return Wi(k)?k.call(y,P):k},It.longDateFormat=function Ve(m){var y=this._longDateFormat[m],P=this._longDateFormat[m.toUpperCase()];return y||!P?y:(this._longDateFormat[m]=P.match(Ys).map(function(k){return"MMMM"===k||"MM"===k||"DD"===k||"dddd"===k?k.slice(1):k}).join(""),this._longDateFormat[m])},It.invalidDate=function Ie(){return this._invalidDate},It.ordinal=function be(m){return this._ordinal.replace("%d",m)},It.preparse=Be,It.postformat=Be,It.relativeTime=function et(m,y,P,k){var D=this._relativeTime[P];return Wi(D)?D(m,y,P,k):D.replace(/%d/i,m)},It.pastFuture=function ke(m,y){var P=this._relativeTime[m>0?"future":"past"];return Wi(P)?P(y):P.replace(/%s/i,y)},It.set=function fn(m){var y,P;for(P in m)L(m,P)&&(Wi(y=m[P])?this[P]=y:this["_"+P]=y);this._config=m,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},It.eras=function Dh(m,y){var P,k,D,B=this._eras||Tr("en")._eras;for(P=0,k=B.length;P<k;++P)switch("string"==typeof B[P].since&&(D=l(B[P].since).startOf("day"),B[P].since=D.valueOf()),typeof B[P].until){case"undefined":B[P].until=1/0;break;case"string":D=l(B[P].until).startOf("day").valueOf(),B[P].until=D.valueOf()}return B},It.erasParse=function oo(m,y,P){var k,D,ie,Re,tt,B=this.eras();for(m=m.toUpperCase(),k=0,D=B.length;k<D;++k)if(ie=B[k].name.toUpperCase(),Re=B[k].abbr.toUpperCase(),tt=B[k].narrow.toUpperCase(),P)switch(y){case"N":case"NN":case"NNN":if(Re===m)return B[k];break;case"NNNN":if(ie===m)return B[k];break;case"NNNNN":if(tt===m)return B[k]}else if([ie,Re,tt].indexOf(m)>=0)return B[k]},It.erasConvertYear=function jh(m,y){var P=m.since<=m.until?1:-1;return void 0===y?l(m.since).year():l(m.since).year()+(y-m.offset)*P},It.erasAbbrRegex=function Mp(m){return L(this,"_erasAbbrRegex")||Wa.call(this),m?this._erasAbbrRegex:this._erasRegex},It.erasNameRegex=function ao(m){return L(this,"_erasNameRegex")||Wa.call(this),m?this._erasNameRegex:this._erasRegex},It.erasNarrowRegex=function Fh(m){return L(this,"_erasNarrowRegex")||Wa.call(this),m?this._erasNarrowRegex:this._erasRegex},It.months=function tv(m,y){return m?w(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||Uc).test(y)?"format":"standalone"][m.month()]:w(this._months)?this._months:this._months.standalone},It.monthsShort=function iv(m,y){return m?w(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[Uc.test(y)?"format":"standalone"][m.month()]:w(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},It.monthsParse=function rv(m,y,P){var k,D,B;if(this._monthsParseExact)return sv.call(this,m,y,P);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),k=0;k<12;k++){if(D=nt([2e3,k]),P&&!this._longMonthsParse[k]&&(this._longMonthsParse[k]=new RegExp("^"+this.months(D,"").replace(".","")+"$","i"),this._shortMonthsParse[k]=new RegExp("^"+this.monthsShort(D,"").replace(".","")+"$","i")),!P&&!this._monthsParse[k]&&(B="^"+this.months(D,"")+"|^"+this.monthsShort(D,""),this._monthsParse[k]=new RegExp(B.replace(".",""),"i")),P&&"MMMM"===y&&this._longMonthsParse[k].test(m))return k;if(P&&"MMM"===y&&this._shortMonthsParse[k].test(m))return k;if(!P&&this._monthsParse[k].test(m))return k}},It.monthsRegex=function av(m){return this._monthsParseExact?(L(this,"_monthsRegex")||Gc.call(this),m?this._monthsStrictRegex:this._monthsRegex):(L(this,"_monthsRegex")||(this._monthsRegex=ev),this._monthsStrictRegex&&m?this._monthsStrictRegex:this._monthsRegex)},It.monthsShortRegex=function ov(m){return this._monthsParseExact?(L(this,"_monthsRegex")||Gc.call(this),m?this._monthsShortStrictRegex:this._monthsShortRegex):(L(this,"_monthsShortRegex")||(this._monthsShortRegex=Km),this._monthsShortStrictRegex&&m?this._monthsShortStrictRegex:this._monthsShortRegex)},It.week=function hv(m){return Ro(m,this._week.dow,this._week.doy).week},It.firstDayOfYear=function pv(){return this._week.doy},It.firstDayOfWeek=function cv(){return this._week.dow},It.weekdays=function _v(m,y){var P=w(this._weekdays)?this._weekdays:this._weekdays[m&&!0!==m&&this._weekdays.isFormat.test(y)?"format":"standalone"];return!0===m?fh(P,this._week.dow):m?P[m.day()]:P},It.weekdaysMin=function Sv(m){return!0===m?fh(this._weekdaysMin,this._week.dow):m?this._weekdaysMin[m.day()]:this._weekdaysMin},It.weekdaysShort=function wv(m){return!0===m?fh(this._weekdaysShort,this._week.dow):m?this._weekdaysShort[m.day()]:this._weekdaysShort},It.weekdaysParse=function Pv(m,y,P){var k,D,B;if(this._weekdaysParseExact)return xv.call(this,m,y,P);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),k=0;k<7;k++){if(D=nt([2e3,1]).day(k),P&&!this._fullWeekdaysParse[k]&&(this._fullWeekdaysParse[k]=new RegExp("^"+this.weekdays(D,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[k]=new RegExp("^"+this.weekdaysShort(D,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[k]=new RegExp("^"+this.weekdaysMin(D,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[k]||(B="^"+this.weekdays(D,"")+"|^"+this.weekdaysShort(D,"")+"|^"+this.weekdaysMin(D,""),this._weekdaysParse[k]=new RegExp(B.replace(".",""),"i")),P&&"dddd"===y&&this._fullWeekdaysParse[k].test(m))return k;if(P&&"ddd"===y&&this._shortWeekdaysParse[k].test(m))return k;if(P&&"dd"===y&&this._minWeekdaysParse[k].test(m))return k;if(!P&&this._weekdaysParse[k].test(m))return k}},It.weekdaysRegex=function Ov(m){return this._weekdaysParseExact?(L(this,"_weekdaysRegex")||mh.call(this),m?this._weekdaysStrictRegex:this._weekdaysRegex):(L(this,"_weekdaysRegex")||(this._weekdaysRegex=Kc),this._weekdaysStrictRegex&&m?this._weekdaysStrictRegex:this._weekdaysRegex)},It.weekdaysShortRegex=function Mv(m){return this._weekdaysParseExact?(L(this,"_weekdaysRegex")||mh.call(this),m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(L(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bv),this._weekdaysShortStrictRegex&&m?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},It.weekdaysMinRegex=function Av(m){return this._weekdaysParseExact?(L(this,"_weekdaysRegex")||mh.call(this),m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(L(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Cv),this._weekdaysMinStrictRegex&&m?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},It.isPM=function Ev(m){return"p"===(m+"").toLowerCase().charAt(0)},It.meridiem=function Rv(m,y,P){return m>11?P?"pm":"PM":P?"am":"AM"},Ur("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(m){var y=m%10;return m+(1===mt(m%100/10)?"th":1===y?"st":2===y?"nd":3===y?"rd":"th")}}),l.lang=ii("moment.lang is deprecated. Use moment.locale instead.",Ur),l.langData=ii("moment.langData is deprecated. Use moment.localeData instead.",Tr);var Hs=Math.abs;function Zh(m,y,P,k){var D=Fs(y,P);return m._milliseconds+=k*D._milliseconds,m._days+=k*D._days,m._months+=k*D._months,m._bubble()}function Vp(m){return m<0?Math.floor(m):Math.ceil(m)}function qp(m){return 4800*m/146097}function el(m){return 146097*m/4800}function rr(m){return function(){return this.as(m)}}var Xh=rr("ms"),Zp=rr("s"),tl=rr("m"),Up=rr("h"),Xp=rr("d"),Jp=rr("w"),Jh=rr("M"),nr=rr("Q"),Gh=rr("y"),Gp=Xh;function Cn(m){return function(){return this.isValid()?this._data[m]:NaN}}var bs=Cn("milliseconds"),Fi=Cn("seconds"),$p=Cn("minutes"),ps=Cn("hours"),il=Cn("days"),Qh=Cn("months"),lo=Cn("years");var Es=Math.round,Ns={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rl(m,y,P,k,D){return D.relativeTime(y||1,!!P,m,k)}var $h=Math.abs;function _n(m){return(m>0)-(m<0)||+m}function Xi(){if(!this.isValid())return this.localeData().invalidDate();var k,D,B,ie,tt,_t,Ai,Ds,m=$h(this._milliseconds)/1e3,y=$h(this._days),P=$h(this._months),Re=this.asSeconds();return Re?(k=cs(m/60),D=cs(k/60),m%=60,k%=60,B=cs(P/12),P%=12,ie=m?m.toFixed(3).replace(/\.?0+$/,""):"",tt=Re<0?"-":"",_t=_n(this._months)!==_n(Re)?"-":"",Ai=_n(this._days)!==_n(Re)?"-":"",Ds=_n(this._milliseconds)!==_n(Re)?"-":"",tt+"P"+(B?_t+B+"Y":"")+(P?_t+P+"M":"")+(y?Ai+y+"D":"")+(D||k||m?"T":"")+(D?Ds+D+"H":"")+(k?Ds+k+"M":"")+(m?Ds+ie+"S":"")):"P0D"}var Ct=Bo.prototype;return Ct.isValid=function dp(){return this._isValid},Ct.abs=function zp(){var m=this._data;return this._milliseconds=Hs(this._milliseconds),this._days=Hs(this._days),this._months=Hs(this._months),m.milliseconds=Hs(m.milliseconds),m.seconds=Hs(m.seconds),m.minutes=Hs(m.minutes),m.hours=Hs(m.hours),m.months=Hs(m.months),m.years=Hs(m.years),this},Ct.add=function Yg(m,y){return Zh(this,m,y,1)},Ct.subtract=function Fg(m,y){return Zh(this,m,y,-1)},Ct.as=function Wp(m){if(!this.isValid())return NaN;var y,P,k=this._milliseconds;if("month"===(m=Se(m))||"quarter"===m||"year"===m)switch(y=this._days+k/864e5,P=this._months+qp(y),m){case"month":return P;case"quarter":return P/3;case"year":return P/12}else switch(y=this._days+Math.round(el(this._months)),m){case"week":return y/7+k/6048e5;case"day":return y+k/864e5;case"hour":return 24*y+k/36e5;case"minute":return 1440*y+k/6e4;case"second":return 86400*y+k/1e3;case"millisecond":return Math.floor(864e5*y)+k;default:throw new Error("Unknown unit "+m)}},Ct.asMilliseconds=Xh,Ct.asSeconds=Zp,Ct.asMinutes=tl,Ct.asHours=Up,Ct.asDays=Xp,Ct.asWeeks=Jp,Ct.asMonths=Jh,Ct.asQuarters=nr,Ct.asYears=Gh,Ct.valueOf=Gp,Ct._bubble=function Uh(){var D,B,ie,Re,tt,m=this._milliseconds,y=this._days,P=this._months,k=this._data;return m>=0&&y>=0&&P>=0||m<=0&&y<=0&&P<=0||(m+=864e5*Vp(el(P)+y),y=0,P=0),k.milliseconds=m%1e3,D=cs(m/1e3),k.seconds=D%60,B=cs(D/60),k.minutes=B%60,ie=cs(B/60),k.hours=ie%24,y+=cs(ie/24),P+=tt=cs(qp(y)),y-=Vp(el(tt)),Re=cs(P/12),P%=12,k.days=y,k.months=P,k.years=Re,this},Ct.clone=function Is(){return Fs(this)},Ct.get=function Qp(m){return m=Se(m),this.isValid()?this[m+"s"]():NaN},Ct.milliseconds=bs,Ct.seconds=Fi,Ct.minutes=$p,Ct.hours=ps,Ct.days=il,Ct.weeks=function sl(){return cs(this.days()/7)},Ct.months=Qh,Ct.years=lo,Ct.humanize=function Kp(m,y){if(!this.isValid())return this.localeData().invalidDate();var D,B,P=!1,k=Ns;return"object"==typeof m&&(y=m,m=!1),"boolean"==typeof m&&(P=m),"object"==typeof y&&(k=Object.assign({},Ns,y),null!=y.s&&null==y.ss&&(k.ss=y.s-1)),B=function nl(m,y,P,k){var D=Fs(m).abs(),B=Es(D.as("s")),ie=Es(D.as("m")),Re=Es(D.as("h")),tt=Es(D.as("d")),_t=Es(D.as("M")),Ai=Es(D.as("w")),Ds=Es(D.as("y")),or=B<=P.ss&&["s",B]||B<P.s&&["ss",B]||ie<=1&&["m"]||ie<P.m&&["mm",ie]||Re<=1&&["h"]||Re<P.h&&["hh",Re]||tt<=1&&["d"]||tt<P.d&&["dd",tt];return null!=P.w&&(or=or||Ai<=1&&["w"]||Ai<P.w&&["ww",Ai]),(or=or||_t<=1&&["M"]||_t<P.M&&["MM",_t]||Ds<=1&&["y"]||["yy",Ds])[2]=y,or[3]=+m>0,or[4]=k,rl.apply(null,or)}(this,!P,k,D=this.localeData()),P&&(B=D.pastFuture(+this,B)),D.postformat(B)},Ct.toISOString=Xi,Ct.toString=Xi,Ct.toJSON=Xi,Ct.locale=Jr,Ct.localeData=ro,Ct.toIsoString=ii("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xi),Ct.lang=za,X("X",0,0,"unix"),X("x",0,0,"valueOf"),De("x",ds),De("X",/[+-]?\d+(\.\d{1,3})?/),At("X",function(m,y,P){P._d=new Date(1e3*parseFloat(m))}),At("x",function(m,y,P){P._d=new Date(mt(m))}),l.version="2.30.1",function x(m){_=m}($t),l.fn=Ce,l.min=function ag(){return lp("isBefore",[].slice.call(arguments,0))},l.max=function lg(){return lp("isAfter",[].slice.call(arguments,0))},l.now=function(){return Date.now?Date.now():+new Date},l.utc=nt,l.unix=function Rg(m){return $t(1e3*m)},l.months=function qh(m,y){return Vh(m,y,"months")},l.isDate=le,l.locale=Ur,l.invalid=vs,l.duration=Fs,l.isMoment=hs,l.weekdays=function Np(m,y,P){return Ka(m,y,P,"weekdays")},l.parseZone=function Hp(){return $t.apply(null,arguments).parseZone()},l.localeData=Tr,l.isDuration=zo,l.monthsShort=function n(m,y){return Vh(m,y,"monthsShort")},l.weekdaysMin=function Wh(m,y,P){return Ka(m,y,P,"weekdaysMin")},l.defineLocale=gh,l.updateLocale=function Nv(m,y){if(null!=y){var P,k,D=ip;null!=ri[m]&&null!=ri[m].parentLocale?ri[m].set(mn(ri[m]._config,y)):(null!=(k=Ya(m))&&(D=k._config),y=mn(D,y),null==k&&(y.abbr=m),(P=new Zi(y)).parentLocale=ri[m],ri[m]=P),Ur(m)}else null!=ri[m]&&(null!=ri[m].parentLocale?(ri[m]=ri[m].parentLocale,m===Ur()&&Ur(m)):null!=ri[m]&&delete ri[m]);return ri[m]},l.locales=function Bv(){return Cr(ri)},l.weekdaysShort=function Bp(m,y,P){return Ka(m,y,P,"weekdaysShort")},l.normalizeUnits=Se,l.relativeTimeRounding=function ol(m){return void 0===m?Es:"function"==typeof m&&(Es=m,!0)},l.relativeTimeThreshold=function al(m,y){return void 0!==Ns[m]&&(void 0===y?Ns[m]:(Ns[m]=y,"s"===m&&(Ns.ss=y-1),!0))},l.calendarFormat=function Og(m,y){var P=m.diff(y,"days",!0);return P<-6?"sameElse":P<-1?"lastWeek":P<0?"lastDay":P<1?"sameDay":P<2?"nextDay":P<7?"nextWeek":"sameElse"},l.prototype=Ce,l.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},l}()},21480:($,se)=>{"use strict";var _,W;function l(W,M){if(!W)throw"First parameter is required.";M=new x(W,M=M||{type:"video"});var V=this;function ue(ke){ke&&(M.initCallback=function(){ke(),ke=M.initCallback=null});var ye=new w(W,M);(be=new ye(W,M)).record(),Ie("recording"),M.disableLogs||console.log("Initialized recorderType:",be.constructor.name,"for output-type:",M.type)}function oe(ke){if(ke=ke||function(){},be){if("paused"===V.state)return V.resumeRecording(),void setTimeout(function(){oe(ke)},1);"recording"!==V.state&&!M.disableLogs&&console.warn('Recording state should be: "recording", however current state is: ',V.state),M.disableLogs||console.log("Stopped recording "+M.type+" stream."),"gif"!==M.type?be.stop(ye):(be.stop(),ye()),Ie("stopped")}else Me();function ye(Se){if(be){Object.keys(be).forEach(function(je){"function"!=typeof be[je]&&(V[je]=be[je])});var ae=be.blob;if(!ae){if(!Se)throw"Recording failed.";be.blob=ae=Se}if(ae&&!M.disableLogs&&console.log(ae.type,"->",vs(ae.size)),ke){var he;try{he=fe.createObjectURL(ae)}catch{}"function"==typeof ke.call?ke.call(V,he):ke(he)}M.autoWriteToDisk&&Ve(function(je){var Ne={};Ne[M.type+"Blob"]=je,Zi.Store(Ne)})}else"function"==typeof ke.call?ke.call(V,""):ke("")}}function Te(ke){postMessage((new FileReaderSync).readAsDataURL(ke))}function Ve(ke,ye){if(!ke)throw"Pass a callback function over getDataURL.";var Se=ye?ye.blob:(be||{}).blob;if(!Se)return M.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout(function(){Ve(ke,ye)},1e3);if(typeof Worker<"u"&&!navigator.mozGetUserMedia){var ae=function je(Ne){try{var at=fe.createObjectURL(new Blob([Ne.toString(),"this.onmessage =  function (eee) {"+Ne.name+"(eee.data);}"],{type:"application/javascript"})),rt=new Worker(at);return fe.revokeObjectURL(at),rt}catch{}}(Te);ae.onmessage=function(Ne){ke(Ne.data)},ae.postMessage(Se)}else{var he=new FileReader;he.readAsDataURL(Se),he.onload=function(Ne){ke(Ne.target.result)}}}function we(ke){if(ke=ke||0,"paused"!==V.state){if("stopped"!==V.state){if(ke>=V.recordingDuration)return void oe(V.onRecordingStopped);ke+=1e3,setTimeout(function(){we(ke)},1e3)}}else setTimeout(function(){we(ke)},1e3)}function Ie(ke){V&&(V.state=ke,"function"==typeof V.onStateChanged.call?V.onStateChanged.call(V,ke):V.onStateChanged(ke))}var Oe='It seems that recorder is destroyed or "startRecording" is not invoked for '+M.type+" recorder.";function Me(){!0!==M.disableLogs&&console.warn(Oe)}var be,Ze={startRecording:function X(ke){return M.disableLogs||console.log("RecordRTC version: ",V.version),ke&&(M=new x(W,ke)),M.disableLogs||console.log("started recording "+M.type+" stream."),be?(be.clearRecordedData(),be.record(),Ie("recording"),V.recordingDuration&&we(),V):(ue(function(){V.recordingDuration&&we()}),V)},stopRecording:oe,pauseRecording:function ge(){be?"recording"===V.state?(Ie("paused"),be.pause(),M.disableLogs||console.log("Paused recording.")):M.disableLogs||console.warn("Unable to pause the recording. Recording state: ",V.state):Me()},resumeRecording:function Q(){be?"paused"===V.state?(Ie("recording"),be.resume(),M.disableLogs||console.log("Resumed recording.")):M.disableLogs||console.warn("Unable to resume the recording. Recording state: ",V.state):Me()},initRecorder:ue,setRecordingDuration:function(ke,ye){if(typeof ke>"u")throw"recordingDuration is required.";if("number"!=typeof ke)throw"recordingDuration must be a number.";return V.recordingDuration=ke,V.onRecordingStopped=ye||function(){},{onRecordingStopped:function(Se){V.onRecordingStopped=Se}}},clearRecordedData:function(){be?(be.clearRecordedData(),M.disableLogs||console.log("Cleared old recorded data.")):Me()},getBlob:function(){if(be)return be.blob;Me()},getDataURL:Ve,toURL:function(){if(be)return fe.createObjectURL(be.blob);Me()},getInternalRecorder:function(){return be},save:function(ke){be?br(be.blob,ke):Me()},getFromDisk:function(ke){be?l.getFromDisk(M.type,ke):Me()},setAdvertisementArray:function(ke){M.advertisement=[];for(var ye=ke.length,Se=0;Se<ye;Se++)M.advertisement.push({duration:Se,image:ke[Se]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"===V.state&&!M.disableLogs&&console.warn("Stop an active recorder."),be&&"function"==typeof be.clearRecordedData&&be.clearRecordedData(),be=null,Ie("inactive"),V.blob=null},onStateChanged:function(ke){M.disableLogs||console.log("Recorder state changed:",ke)},state:"inactive",getState:function(){return V.state},destroy:function(){var ke=M.disableLogs;M={disableLogs:!0},V.reset(),Ie("destroyed"),Ze=V=null,tr.AudioContextConstructor&&(tr.AudioContextConstructor.close(),tr.AudioContextConstructor=null),M.disableLogs=ke,M.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return V=Ze,Ze;for(var et in Ze)this[et]=Ze[et];return V=this,Ze}function x(W,M){return!M.recorderType&&!M.type&&(M.audio&&M.video?M.type="video":M.audio&&!M.video&&(M.type="audio")),M.recorderType&&!M.type&&(M.recorderType===fn||M.recorderType===Wi||M.recorderType===Ys?M.type="video":M.recorderType===Cr?M.type="gif":M.recorderType===Wr?M.type="audio":M.recorderType===qi&&(Gt(W,"audio").length&&Gt(W,"video").length||!Gt(W,"audio").length&&Gt(W,"video").length?M.type="video":Gt(W,"audio").length&&!Gt(W,"video").length&&(M.type="audio"))),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(M.mimeType||(M.mimeType="video/webm"),M.type||(M.type=M.mimeType.split("/")[0])),M.type||(M.mimeType&&(M.type=M.mimeType.split("/")[0]),M.type||(M.type="audio")),M}function w(W,M){var V;return(Pe||Je||nt)&&(V=Wr),typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&!Pe&&(V=qi),"video"===M.type&&(Pe||nt)&&(V=fn,typeof ReadableStream<"u"&&(V=Ys)),"gif"===M.type&&(V=Cr),"canvas"===M.type&&(V=Wi),ii()&&V!==Wi&&V!==Cr&&typeof MediaRecorder<"u"&&"requestData"in MediaRecorder.prototype&&(Gt(W,"video").length||Gt(W,"audio").length)&&("audio"===M.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(V=qi):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(V=qi)),W instanceof Array&&W.length&&(V=eo),M.recorderType&&(V=M.recorderType),!M.disableLogs&&V&&V.name&&console.log("Using recorderType:",V.name||V.constructor.name),!V&&Li&&(V=qi),V}function S(W){this.addStream=function(M){M&&(W=M)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var V,M=this.mediaType,X=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof M.audio&&ii()&&!Gt(W,"audio").length&&(M.audio=!1),"function"!=typeof M.video&&ii()&&!Gt(W,"video").length&&(M.video=!1),"function"!=typeof M.gif&&ii()&&!Gt(W,"video").length&&(M.gif=!1),!M.audio&&!M.video&&!M.gif)throw"MediaStream must have either audio or video tracks.";if(M.audio&&(V=null,"function"==typeof M.audio&&(V=M.audio),this.audioRecorder=new l(W,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:V,mimeType:X.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),M.video||this.audioRecorder.startRecording()),M.video){V=null,"function"==typeof M.video&&(V=M.video);var ue=W;if(ii()&&M.audio&&"function"==typeof M.audio){var oe=Gt(W,"video")[0];ms?((ue=new Oi).addTrack(oe),V&&V===fn&&(V=qi)):(ue=new Oi).addTrack(oe)}this.videoRecorder=new l(ue,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:V,mimeType:X.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),M.audio||this.videoRecorder.startRecording()}if(M.audio&&M.video){var ge=this,Q=!0===ii();(M.audio instanceof Wr&&M.video||!0!==M.audio&&!0!==M.video&&M.audio!==M.video)&&(Q=!1),!0===Q?(ge.audioRecorder=null,ge.videoRecorder.startRecording()):ge.videoRecorder.initRecorder(function(){ge.audioRecorder.initRecorder(function(){ge.videoRecorder.startRecording(),ge.audioRecorder.startRecording()})})}M.gif&&(V=null,"function"==typeof M.gif&&(V=M.gif),this.gifRecorder=new l(W,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:V,mimeType:X.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(M){M=M||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(V){M(V,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(V){M(V,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(V){M(V,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(M){var V={};return this.audioRecorder&&(V.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(V.video=this.videoRecorder.getBlob()),this.gifRecorder&&(V.gif=this.gifRecorder.getBlob()),M&&M(V),V},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(M){function V(ue,oe){if(typeof Worker<"u"){var ge=function X(ue){var Q,oe=fe.createObjectURL(new Blob([ue.toString(),"this.onmessage =  function (eee) {"+ue.name+"(eee.data);}"],{type:"application/javascript"})),ge=new Worker(oe);if(typeof fe<"u")Q=fe;else{if(!(typeof webkitURL<"u"))throw"Neither URL nor webkitURL detected.";Q=webkitURL}return Q.revokeObjectURL(oe),ge}(function(Ve){postMessage((new FileReaderSync).readAsDataURL(Ve))});ge.onmessage=function(Te){oe(Te.data)},ge.postMessage(ue)}else{var Q=new FileReader;Q.readAsDataURL(ue),Q.onload=function(Te){oe(Te.target.result)}}}this.getBlob(function(ue){ue.audio&&ue.video?V(ue.audio,function(oe){V(ue.video,function(ge){M({audio:oe,video:ge})})}):ue.audio?V(ue.audio,function(oe){M({audio:oe})}):ue.video&&V(ue.video,function(oe){M({video:oe})})})},this.writeToDisk=function(){l.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(M){(M=M||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof M.audio?M.audio:""),M.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof M.video?M.video:""),M.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof M.gif?M.gif:"")}}l.version="5.6.2",$.exports=l,void 0!==(_=function(){return l}.apply(se,[]))&&($.exports=_),l.getFromDisk=function(W,M){if(!M)throw"callback is mandatory.";console.log("Getting recorded "+("all"===W?"blobs":W+" blob ")+" from disk!"),Zi.Fetch(function(V,X){"all"!==W&&X===W+"Blob"&&M&&M(V),"all"===W&&M&&M(V,X.replace("Blob",""))})},l.writeToDisk=function(W){console.log("Writing recorded blob(s) to disk!"),(W=W||{}).audio&&W.video&&W.gif?W.audio.getDataURL(function(M){W.video.getDataURL(function(V){W.gif.getDataURL(function(X){Zi.Store({audioBlob:M,videoBlob:V,gifBlob:X})})})}):W.audio&&W.video?W.audio.getDataURL(function(M){W.video.getDataURL(function(V){Zi.Store({audioBlob:M,videoBlob:V})})}):W.audio&&W.gif?W.audio.getDataURL(function(M){W.gif.getDataURL(function(V){Zi.Store({audioBlob:M,gifBlob:V})})}):W.video&&W.gif?W.video.getDataURL(function(M){W.gif.getDataURL(function(V){Zi.Store({videoBlob:M,gifBlob:V})})}):W.audio?W.audio.getDataURL(function(M){Zi.Store({audioBlob:M})}):W.video?W.video.getDataURL(function(M){Zi.Store({videoBlob:M})}):W.gif&&W.gif.getDataURL(function(M){Zi.Store({gifBlob:M})})},S.getFromDisk=l.getFromDisk,S.writeToDisk=l.writeToDisk,l.MRecordRTC=S,(W=typeof global<"u"?global:null)&&(typeof window<"u"||typeof global>"u"||(global.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},global.console||(global.console={}),(typeof global.console.log>"u"||typeof global.console.error>"u")&&(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),typeof document>"u"&&(W.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var M={getContext:function(){return M},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return M},W.HTMLVideoElement=function(){}),typeof location>"u"&&(W.location={protocol:"file:",href:"",hash:""}),typeof screen>"u"&&(W.screen={width:0,height:0}),typeof fe>"u"&&(W.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),W.window=global));var E=window.requestAnimationFrame;if(typeof E>"u")if(typeof webkitRequestAnimationFrame<"u")E=webkitRequestAnimationFrame;else if(typeof mozRequestAnimationFrame<"u")E=mozRequestAnimationFrame;else if(typeof msRequestAnimationFrame<"u")E=msRequestAnimationFrame;else if(typeof E>"u"){var R=0;E=function(W,M){var V=(new Date).getTime(),X=Math.max(0,16-(V-R)),ue=setTimeout(function(){W(V+X)},X);return R=V+X,ue}}var q=window.cancelAnimationFrame;typeof q>"u"&&(typeof webkitCancelAnimationFrame<"u"?q=webkitCancelAnimationFrame:typeof mozCancelAnimationFrame<"u"?q=mozCancelAnimationFrame:typeof msCancelAnimationFrame<"u"?q=msCancelAnimationFrame:typeof q>"u"&&(q=function(W){clearTimeout(W)}));var le=window.AudioContext;typeof le>"u"&&(typeof webkitAudioContext<"u"&&(le=webkitAudioContext),typeof mozAudioContext<"u"&&(le=mozAudioContext));var fe=window.URL;typeof fe>"u"&&typeof webkitURL<"u"&&(fe=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var Je=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),nt=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),ms=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),Pe=!nt&&!Je&&!!navigator.webkitGetUserMedia||Vr()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),Li=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);Li&&!Pe&&-1!==navigator.userAgent.indexOf("CriOS")&&(Li=!1,Pe=!0);var Oi=window.MediaStream;function vs(W){if(0===W)return"0 Bytes";var X=parseInt(Math.floor(Math.log(W)/Math.log(1e3)),10);return(W/Math.pow(1e3,X)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][X]}function br(W,M){if(!W)throw"Blob object is required.";if(!W.type)try{W.type="video/webm"}catch{}var V=(W.type||"video/webm").split("/")[1];if(-1!==V.indexOf(";")&&(V=V.split(";")[0]),M&&-1!==M.indexOf(".")){var X=M.split(".");M=X[0],V=X[1]}var ue=(M||Math.round(9999999999*Math.random())+888888888)+"."+V;if(typeof navigator.msSaveOrOpenBlob<"u")return navigator.msSaveOrOpenBlob(W,ue);if(typeof navigator.msSaveBlob<"u")return navigator.msSaveBlob(W,ue);var oe=document.createElement("a");oe.href=fe.createObjectURL(W),oe.download=ue,oe.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(oe),"function"==typeof oe.click?oe.click():(oe.target="_blank",oe.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),fe.revokeObjectURL(oe.href)}function Vr(){return!!(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function Gt(W,M){return W&&W.getTracks?W.getTracks().filter(function(V){return V.kind===(M||"audio")}):[]}function qr(W,M){"srcObject"in M?M.srcObject=W:"mozSrcObject"in M?M.mozSrcObject=W:M.srcObject=W}typeof Oi>"u"&&typeof webkitMediaStream<"u"&&(Oi=webkitMediaStream),typeof Oi<"u"&&typeof Oi.prototype.stop>"u"&&(Oi.prototype.stop=function(){this.getTracks().forEach(function(W){W.stop()})}),l.invokeSaveAsDialog=br,l.getTracks=Gt,l.getSeekableBlob=function hs(W,M){if(typeof EBML>"u")throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var V=new EBML.Reader,X=new EBML.Decoder,ue=EBML.tools,oe=new FileReader;oe.onload=function(ge){X.decode(this.result).forEach(function(Ie){V.read(Ie)}),V.stop();var Te=ue.makeMetadataSeekable(V.metadatas,V.duration,V.cues),Ve=this.result.slice(V.metadataSize),we=new Blob([Te,Ve],{type:"video/webm"});M(we)},oe.readAsArrayBuffer(W)},l.bytesToSize=vs,l.isElectron=Vr;var tr={};function ii(){if(ms||Li||Je)return!0;navigator;var oe,ge,M=navigator.userAgent,V=""+parseFloat(navigator.appVersion),X=parseInt(navigator.appVersion,10);return(Pe||nt)&&(oe=M.indexOf("Chrome"),V=M.substring(oe+7)),-1!==(ge=V.indexOf(";"))&&(V=V.substring(0,ge)),-1!==(ge=V.indexOf(" "))&&(V=V.substring(0,ge)),X=parseInt(""+V,10),isNaN(X)&&(V=""+parseFloat(navigator.appVersion),X=parseInt(navigator.appVersion,10)),X>=49}function qi(W,M){var V,we=this;if(typeof W>"u")throw'First argument "MediaStream" is required.';if(typeof MediaRecorder>"u")throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";"audio"===(M=M||{mimeType:"video/webm"}).type&&(Gt(W,"video").length&&Gt(W,"audio").length&&(navigator.mozGetUserMedia?(V=new Oi).addTrack(Gt(W,"audio")[0]):V=new Oi(Gt(W,"audio")),W=V),(!M.mimeType||-1===M.mimeType.toString().toLowerCase().indexOf("audio"))&&(M.mimeType=Pe?"audio/webm":"audio/ogg"),M.mimeType&&"audio/ogg"!==M.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(M.mimeType="audio/ogg"));var Q,X=[];function ue(){we.timestamps.push((new Date).getTime()),"function"==typeof M.onTimeStamp&&M.onTimeStamp(we.timestamps[we.timestamps.length-1],we.timestamps)}function oe(Ie){return Q&&Q.mimeType?Q.mimeType:Ie.mimeType||"video/webm"}function ge(){X=[],Q=null,we.timestamps=[]}this.getArrayOfBlobs=function(){return X},this.record=function(){we.blob=null,we.clearRecordedData(),we.timestamps=[],Ve=[],X=[];var Ie=M;M.disableLogs||console.log("Passing following config over MediaRecorder API.",Ie),Q&&(Q=null),Pe&&!ii()&&(Ie="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&Ie.mimeType&&(MediaRecorder.isTypeSupported(Ie.mimeType)||(M.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Ie.mimeType),Ie.mimeType="audio"===M.type?"audio/webm":"video/webm"));try{Q=new MediaRecorder(W,Ie),M.mimeType=Ie.mimeType}catch{Q=new MediaRecorder(W)}Ie.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in Q&&!1===Q.canRecordMimeType(Ie.mimeType)&&(M.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",Ie.mimeType)),Q.ondataavailable=function(Oe){if(Oe.data&&Ve.push("ondataavailable: "+vs(Oe.data.size)),"number"!=typeof M.timeSlice)!Oe.data||!Oe.data.size||Oe.data.size<100||we.blob?we.recordingCallback&&(we.recordingCallback(new Blob([],{type:oe(Ie)})),we.recordingCallback=null):(we.blob=M.getNativeBlob?Oe.data:new Blob([Oe.data],{type:oe(Ie)}),we.recordingCallback&&(we.recordingCallback(we.blob),we.recordingCallback=null));else if(Oe.data&&Oe.data.size&&(X.push(Oe.data),ue(),"function"==typeof M.ondataavailable)){var Me=M.getNativeBlob?Oe.data:new Blob([Oe.data],{type:oe(Ie)});M.ondataavailable(Me)}},Q.onstart=function(){Ve.push("started")},Q.onpause=function(){Ve.push("paused")},Q.onresume=function(){Ve.push("resumed")},Q.onstop=function(){Ve.push("stopped")},Q.onerror=function(Oe){Oe&&(Oe.name||(Oe.name="UnknownError"),Ve.push("error: "+Oe),M.disableLogs||(-1!==Oe.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",Oe):-1!==Oe.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",Ie.mimeType,") is not supported.",Oe):-1!==Oe.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",Oe):"OutOfMemory"===Oe.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",Oe):"IllegalStreamModification"===Oe.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",Oe):"OtherRecordingError"===Oe.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",Oe):"GenericError"===Oe.name?console.error("The UA cannot provide the codec or recording option that has been requested.",Oe):console.error("MediaRecorder Error",Oe)),function(Me){if(!we.manuallyStopped&&Q&&"inactive"===Q.state)return delete M.timeslice,void Q.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==Q.state&&"stopped"!==Q.state&&Q.stop())},"number"==typeof M.timeSlice?(ue(),Q.start(M.timeSlice)):Q.start(36e5),M.initCallback&&M.initCallback()},this.timestamps=[],this.stop=function(Ie){Ie=Ie||function(){},we.manuallyStopped=!0,Q&&(this.recordingCallback=Ie,"recording"===Q.state&&Q.stop(),"number"==typeof M.timeSlice&&setTimeout(function(){we.blob=new Blob(X,{type:oe(M)}),we.recordingCallback(we.blob)},100))},this.pause=function(){Q&&"recording"===Q.state&&Q.pause()},this.resume=function(){Q&&"paused"===Q.state&&Q.resume()},this.clearRecordedData=function(){Q&&"recording"===Q.state&&we.stop(ge),ge()},this.getInternalRecorder=function(){return Q},this.blob=null,this.getState=function(){return Q&&Q.state||"inactive"};var Ve=[];this.getAllStates=function(){return Ve},typeof M.checkForInactiveTracks>"u"&&(M.checkForInactiveTracks=!1),we=this,function Ie(){if(Q&&!1!==M.checkForInactiveTracks){if(!1===function Te(){if("active"in W){if(!W.active)return!1}else if("ended"in W&&W.ended)return!1;return!0}())return M.disableLogs||console.log("MediaStream seems stopped."),void we.stop();setTimeout(Ie,1e3)}}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function Wr(W,M){if(!Gt(W,"audio").length)throw"Your stream has no audio tracks.";var Q,V=this,X=[],ue=[],oe=!1,ge=0,Te=2,Ve=(M=M||{}).desiredSampRate;function we(){if(!1===M.checkForInactiveTracks)return!0;if("active"in W){if(!W.active)return!1}else if("ended"in W&&W.ended)return!1;return!0}function Ie(rt,vi){function Zt(gi,ir){var Sr,Ui=gi.numberOfAudioChannels,Mi=gi.leftBuffers.slice(0),ys=gi.rightBuffers.slice(0),Ri=gi.sampleRate,ds=gi.internalInterleavedLength,ts=gi.desiredSampRate;function Os(si,Ms,Yi){var Nt=Math.round(si.length*(Ms/Yi)),Qt=[],Ci=Number((si.length-1)/(Nt-1));Qt[0]=si[0];for(var Vt=1;Vt<Nt-1;Vt++){var is=Vt*Ci,As=Number(Math.floor(is)).toFixed(),xr=Number(Math.ceil(is)).toFixed();Qt[Vt]=Ao(si[As],si[xr],is-As)}return Qt[Nt-1]=si[si.length-1],Qt}function Ao(si,Ms,Yi){return si+(Ms-si)*Yi}function _r(si,Ms){for(var Yi=new Float64Array(Ms),Nt=0,Qt=si.length,Ci=0;Ci<Qt;Ci++){var Vt=si[Ci];Yi.set(Vt,Nt),Nt+=Vt.length}return Yi}function wr(si,Ms,Yi){for(var Nt=Yi.length,Qt=0;Qt<Nt;Qt++)si.setUint8(Ms+Qt,Yi.charCodeAt(Qt))}2===Ui&&(Mi=_r(Mi,ds),ys=_r(ys,ds),ts&&(Mi=Os(Mi,ts,Ri),ys=Os(ys,ts,Ri))),1===Ui&&(Mi=_r(Mi,ds),ts&&(Mi=Os(Mi,ts,Ri))),ts&&(Ri=ts),2===Ui&&(Sr=function Zr(si,Ms){for(var Yi=si.length+Ms.length,Nt=new Float64Array(Yi),Qt=0,Ci=0;Ci<Yi;)Nt[Ci++]=si[Qt],Nt[Ci++]=Ms[Qt],Qt++;return Nt}(Mi,ys)),1===Ui&&(Sr=Mi);var De=Sr.length,Io=new ArrayBuffer(44+2*De),Ut=new DataView(Io);wr(Ut,0,"RIFF"),Ut.setUint32(4,36+2*De,!0),wr(Ut,8,"WAVE"),wr(Ut,12,"fmt "),Ut.setUint32(16,16,!0),Ut.setUint16(20,1,!0),Ut.setUint16(22,Ui,!0),Ut.setUint32(24,Ri,!0),Ut.setUint32(28,Ri*Ui*2,!0),Ut.setUint16(32,2*Ui,!0),Ut.setUint16(34,16,!0),wr(Ut,36,"data"),Ut.setUint32(40,2*De,!0);for(var cs=De,mt=44,At=0;At<cs;At++)Ut.setInt16(mt,32767*Sr[At],!0),mt+=2;if(ir)return ir({buffer:Io,view:Ut});postMessage({buffer:Io,view:Ut})}if(rt.noWorker)Zt(rt,function(gi){vi(gi.buffer,gi.view)});else{var Lt=function Oe(rt){var vi=fe.createObjectURL(new Blob([rt.toString(),";this.onmessage =  function (eee) {"+rt.name+"(eee.data);}"],{type:"application/javascript"})),Zt=new Worker(vi);return Zt.workerURL=vi,Zt}(Zt);Lt.onmessage=function(gi){vi(gi.data.buffer,gi.data.view),fe.revokeObjectURL(Lt.workerURL),Lt.terminate()},Lt.postMessage(rt)}}!0===M.leftChannel&&(Te=1),1===M.numberOfAudioChannels&&(Te=1),(!Te||Te<1)&&(Te=2),M.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+Te),typeof M.checkForInactiveTracks>"u"&&(M.checkForInactiveTracks=!0),this.record=function(){if(!1===we())throw"Please make sure MediaStream is active.";Se(),he=ye=!1,oe=!0,typeof M.timeSlice<"u"&&at()},this.stop=function(rt){rt=rt||function(){},oe=!1,Ie({desiredSampRate:Ve,sampleRate:ke,numberOfAudioChannels:Te,internalInterleavedLength:ge,leftBuffers:X,rightBuffers:1===Te?[]:ue,noWorker:M.noWorker},function(vi,Zt){V.blob=new Blob([Zt],{type:"audio/wav"}),V.buffer=new ArrayBuffer(Zt.buffer.byteLength),V.view=Zt,V.sampleRate=Ve||ke,V.bufferSize=et,V.length=ge,he=!1,rt&&rt(V.blob)})},typeof l.Storage>"u"&&(l.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),(!l.Storage.AudioContextConstructor||"closed"===l.Storage.AudioContextConstructor.state)&&(l.Storage.AudioContextConstructor=new l.Storage.AudioContext);var Me=l.Storage.AudioContextConstructor,be=Me.createMediaStreamSource(W),Ze=[0,256,512,1024,2048,4096,8192,16384],et=typeof M.bufferSize>"u"?4096:M.bufferSize;if(-1===Ze.indexOf(et)&&(M.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(Ze,null,"\t"))),Me.createJavaScriptNode)Q=Me.createJavaScriptNode(et,Te,Te);else{if(!Me.createScriptProcessor)throw"WebAudio API has no support on this browser.";Q=Me.createScriptProcessor(et,Te,Te)}be.connect(Q),M.bufferSize||(et=Q.bufferSize);var ke=typeof M.sampleRate<"u"?M.sampleRate:Me.sampleRate||44100;(ke<22050||ke>96e3)&&(M.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),M.disableLogs||M.desiredSampRate&&console.log("Desired sample-rate: "+M.desiredSampRate);var ye=!1;function Se(){ue=[],ge=0,he=!1,oe=!1,ye=!1,Me=null,V.leftchannel=X=[],V.rightchannel=ue,V.numberOfAudioChannels=Te,V.desiredSampRate=Ve,V.sampleRate=ke,V.recordingLength=ge,Ne={left:[],right:[],recordingLength:0}}function ae(){Q&&(Q.onaudioprocess=null,Q.disconnect(),Q=null),be&&(be.disconnect(),be=null),Se()}this.pause=function(){ye=!0},this.resume=function(){if(!1===we())throw"Please make sure MediaStream is active.";if(!oe)return M.disableLogs||console.log("Seems recording has been restarted."),void this.record();ye=!1},this.clearRecordedData=function(){M.checkForInactiveTracks=!1,oe&&this.stop(ae),ae()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var he=!1;Q.onaudioprocess=function je(rt){if(!ye){if(!1===we()&&(M.disableLogs||console.log("MediaStream seems stopped."),Q.disconnect(),oe=!1),!oe)return void(be&&(be.disconnect(),be=null));he||(he=!0,M.onAudioProcessStarted&&M.onAudioProcessStarted(),M.initCallback&&M.initCallback());var vi=rt.inputBuffer.getChannelData(0),Zt=new Float32Array(vi);if(X.push(Zt),2===Te){var Lt=rt.inputBuffer.getChannelData(1),gi=new Float32Array(Lt);ue.push(gi)}V.recordingLength=ge+=et,typeof M.timeSlice<"u"&&(Ne.recordingLength+=et,Ne.left.push(Zt),2===Te&&Ne.right.push(gi))}},Q.connect(Me.createMediaStreamDestination?Me.createMediaStreamDestination():Me.destination),this.leftchannel=X,this.rightchannel=ue,this.numberOfAudioChannels=Te,this.desiredSampRate=Ve,this.sampleRate=ke,V.recordingLength=ge;var Ne={left:[],right:[],recordingLength:0};function at(){!oe||"function"!=typeof M.ondataavailable||typeof M.timeSlice>"u"||(Ne.left.length?(Ie({desiredSampRate:Ve,sampleRate:ke,numberOfAudioChannels:Te,internalInterleavedLength:Ne.recordingLength,leftBuffers:Ne.left,rightBuffers:1===Te?[]:Ne.right},function(rt,vi){var Zt=new Blob([vi],{type:"audio/wav"});M.ondataavailable(Zt),setTimeout(at,M.timeSlice)}),Ne={left:[],right:[],recordingLength:0}):setTimeout(at,M.timeSlice))}}function Wi(W,M){if(typeof html2canvas>"u")throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(M=M||{}).frameInterval||(M.frameInterval=10);var V=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(Ze){Ze in document.createElement("canvas")&&(V=!0)});var ge,Q,Te,X=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),ue=50,oe=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(X&&oe&&oe[2]&&(ue=parseInt(oe[2],10)),X&&ue<52&&(V=!1),M.useWhammyRecorder&&(V=!1),V)if(M.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),W instanceof HTMLCanvasElement)ge=W;else{if(!(W instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";ge=W.canvas}else navigator.mozGetUserMedia&&(M.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(Te=!0,V&&!M.useWhammyRecorder){var Ze;"captureStream"in ge?Ze=ge.captureStream(25):"mozCaptureStream"in ge?Ze=ge.mozCaptureStream(25):"webkitCaptureStream"in ge&&(Ze=ge.webkitCaptureStream(25));try{var et=new Oi;et.addTrack(Gt(Ze,"video")[0]),Ze=et}catch{}if(!Ze)throw"captureStream API are NOT available.";(Q=new qi(Ze,{mimeType:M.mimeType||"video/webm"})).record()}else be.frames=[],Me=(new Date).getTime(),Oe();M.initCallback&&M.initCallback()},this.getWebPImages=function(Ze){if("canvas"===W.nodeName.toLowerCase()){var et=be.frames.length;be.frames.forEach(function(ke,ye){var Se=et-ye;M.disableLogs||console.log(Se+"/"+et+" frames remaining"),M.onEncodingCallback&&M.onEncodingCallback(Se,et);var ae=ke.image.toDataURL("image/webp",1);be.frames[ye].image=ae}),M.disableLogs||console.log("Generating WebM"),Ze()}else Ze()},this.stop=function(Ze){Te=!1;var et=this;V&&Q?Q.stop(Ze):this.getWebPImages(function(){be.compile(function(ke){M.disableLogs||console.log("Recording finished!"),et.blob=ke,et.blob.forEach&&(et.blob=new Blob([],{type:"video/webm"})),Ze&&Ze(et.blob),be.frames=[]})})};var Ve=!1;function we(){be.frames=[],Te=!1,Ve=!1}function Ie(){var Ze=document.createElement("canvas"),et=Ze.getContext("2d");return Ze.width=W.width,Ze.height=W.height,et.drawImage(W,0,0),Ze}function Oe(){if(Ve)return Me=(new Date).getTime(),setTimeout(Oe,500);if("canvas"===W.nodeName.toLowerCase()){var Ze=(new Date).getTime()-Me;return Me=(new Date).getTime(),be.frames.push({image:Ie(),duration:Ze}),void(Te&&setTimeout(Oe,M.frameInterval))}html2canvas(W,{grabMouse:typeof M.showMousePointer>"u"||M.showMousePointer,onrendered:function(et){var ke=(new Date).getTime()-Me;if(!ke)return setTimeout(Oe,M.frameInterval);Me=(new Date).getTime(),be.frames.push({image:et.toDataURL("image/webp",1),duration:ke}),Te&&setTimeout(Oe,M.frameInterval)}})}this.pause=function(){Ve=!0,Q instanceof qi&&Q.pause()},this.resume=function(){Ve=!1,Q instanceof qi?Q.resume():Te||this.record()},this.clearRecordedData=function(){Te&&this.stop(we),we()},this.name="CanvasRecorder",this.toString=function(){return this.name};var Me=(new Date).getTime(),be=new mn.Video(100)}function fn(W,M){function V(Me){Me=typeof Me<"u"?Me:10;var be=(new Date).getTime()-Ie;return be?ge?(Ie=(new Date).getTime(),setTimeout(V,100)):(Ie=(new Date).getTime(),we.paused&&we.play(),Ve.drawImage(we,0,0,Te.width,Te.height),Oe.frames.push({duration:be,image:Te.toDataURL("image/webp")}),void(oe||setTimeout(V,Me,Me))):setTimeout(V,Me,Me)}(M=M||{}).frameInterval||(M.frameInterval=10),M.disableLogs||console.log("Using frames-interval:",M.frameInterval),this.record=function(){M.width||(M.width=320),M.height||(M.height=240),M.video||(M.video={width:M.width,height:M.height}),M.canvas||(M.canvas={width:M.width,height:M.height}),Te.width=M.canvas.width||320,Te.height=M.canvas.height||240,Ve=Te.getContext("2d"),M.video&&M.video instanceof HTMLVideoElement?(we=M.video.cloneNode(),M.initCallback&&M.initCallback()):(we=document.createElement("video"),qr(W,we),we.onloadedmetadata=function(){M.initCallback&&M.initCallback()},we.width=M.video.width,we.height=M.video.height),we.muted=!0,we.play(),Ie=(new Date).getTime(),Oe=new mn.Video,M.disableLogs||(console.log("canvas resolutions",Te.width,"*",Te.height),console.log("video width/height",we.width||Te.width,"*",we.height||Te.height)),V(M.frameInterval)};var oe=!1;this.stop=function(Me){Me=Me||function(){},oe=!0;var be=this;setTimeout(function(){!function ue(Me,be,Ze,et,ke){var ye=document.createElement("canvas");ye.width=Te.width,ye.height=Te.height;var Se=ye.getContext("2d"),ae=[],he=-1===be,je=be&&be>0&&be<=Me.length?be:Me.length,at=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),rt=Ze&&Ze>=0&&Ze<=1?Ze:0,vi=et&&et>=0&&et<=1?et:0,Zt=!1;!function X(Me){var be=-1,Ze=Me.length;!function et(){++be!==Ze?setTimeout(function(){Me.functionToLoop(et,be)},1):Me.callback()}()}({length:je,functionToLoop:function(Lt,gi){var ir,Ui,Mi,ys=function(){!Zt&&Mi-ir<=Mi*vi||(he&&(Zt=!0),ae.push(Me[gi])),Lt()};if(Zt)ys();else{var Ri=new Image;Ri.onload=function(){Se.drawImage(Ri,0,0,Te.width,Te.height);var ds=Se.getImageData(0,0,Te.width,Te.height);ir=0,Ui=ds.data.length,Mi=ds.data.length/4;for(var ts=0;ts<Ui;ts+=4){var Os={r:ds.data[ts],g:ds.data[ts+1],b:ds.data[ts+2]};Math.sqrt(Math.pow(Os.r-0,2)+Math.pow(Os.g-0,2)+Math.pow(Os.b-0,2))<=at*rt&&ir++}ys()},Ri.src=Me[gi].image}},callback:function(){(ae=ae.concat(Me.slice(je))).length<=0&&ae.push(Me[Me.length-1]),ke(ae)}})}(Oe.frames,-1,null,null,function(Ze){Oe.frames=Ze,M.advertisement&&M.advertisement.length&&(Oe.frames=M.advertisement.concat(Oe.frames)),Oe.compile(function(et){be.blob=et,be.blob.forEach&&(be.blob=new Blob([],{type:"video/webm"})),Me&&Me(be.blob)})})},10)};var ge=!1;function Q(){Oe.frames=[],oe=!0,ge=!1}this.pause=function(){ge=!0},this.resume=function(){ge=!1,oe&&this.record()},this.clearRecordedData=function(){oe||this.stop(Q),Q()},this.name="WhammyRecorder",this.toString=function(){return this.name};var we,Ie,Oe,Te=document.createElement("canvas"),Ve=Te.getContext("2d")}typeof le<"u"?tr.AudioContext=le:typeof webkitAudioContext<"u"&&(tr.AudioContext=webkitAudioContext),l.Storage=tr,l.MediaStreamRecorder=qi,l.StereoAudioRecorder=Wr,l.CanvasRecorder=Wi,l.WhammyRecorder=fn;var mn=function(){function W(X){this.frames=[],this.duration=X||1,this.quality=.8}function V(X){function oe(ye,Se,ae){return[{data:ye,id:231}].concat(ae.map(function(he){var je=function Oe(ye){var Se=0;if(ye.keyframe&&(Se|=128),ye.invisible&&(Se|=8),ye.lacing&&(Se|=ye.lacing<<1),ye.discardable&&(Se|=1),ye.trackNum>127)throw"TrackNumber > 127 not supported";var ae=[128|ye.trackNum,ye.timecode>>8,255&ye.timecode,Se].map(function(he){return String.fromCharCode(he)}).join("")+ye.frame;return ae}({discardable:0,frame:he.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(Se)});return Se+=he.duration,{data:je,id:163}}))}function Q(ye){for(var Se=[];ye>0;)Se.push(255&ye),ye>>=8;return new Uint8Array(Se.reverse())}function Te(ye){return new Uint8Array(ye.split("").map(function(Se){return Se.charCodeAt(0)}))}function Ve(ye){var Se=[];ye=(ye.length%8?new Array(9-ye.length%8).join("0"):"")+ye;for(var he=0;he<ye.length;he+=8)Se.push(parseInt(ye.substr(he,8),2));return new Uint8Array(Se)}function we(ye){for(var Se=[],ae=0;ae<ye.length;ae++){var he=ye[ae].data;"object"==typeof he&&(he=we(he)),"number"==typeof he&&(he=Ve(he.toString(2))),"string"==typeof he&&(he=Te(he));var je=he.size||he.byteLength||he.length,Ne=Math.ceil(Math.ceil(Math.log(je)/Math.log(2))/8),at=je.toString(2),rt=new Array(7*Ne+7+1-at.length).join("0")+at,vi=new Array(Ne).join("0")+"1"+rt;Se.push(Q(ye[ae].id)),Se.push(Ve(vi)),Se.push(he)}return new Blob(Se,{type:"video/webm"})}function be(ye,Se){return parseInt(ye.substr(Se+4,4).split("").map(function(ae){var he=ae.charCodeAt(0).toString(2);return new Array(8-he.length+1).join("0")+he}).join(""),2)}function Ze(ye){for(var Se=0,ae={};Se<ye.length;){var he=ye.substr(Se,4),je=be(ye,Se),Ne=ye.substr(Se+4+4,je);Se+=8+je,ae[he]=ae[he]||[],ae[he].push("RIFF"===he||"LIST"===he?Ze(Ne):Ne)}return ae}function et(ye){return[].slice.call(new Uint8Array(new Float64Array([ye]).buffer),0).map(function(Se){return String.fromCharCode(Se)}).reverse().join("")}var ke=new function ue(ye){var Se=function ge(ye){if(ye[0]){for(var Se=ye[0].width,ae=ye[0].height,he=ye[0].duration,je=1;je<ye.length;je++)he+=ye[je].duration;return{duration:he,width:Se,height:ae}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}(ye);if(!Se)return[];for(var he=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:et(Se.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:Se.width,id:176},{data:Se.height,id:186}]}]}]}]}],je=0,Ne=0;je<ye.length;){var at=[],rt=0;do{at.push(ye[je]),rt+=ye[je].duration,je++}while(je<ye.length&&rt<3e4);var Zt={id:524531317,data:oe(Ne,0,at)};he[1].data.push(Zt),Ne+=rt}return we(he)}(X.map(function(ye){var Se=function Me(ye){for(var Se=ye.RIFF[0].WEBP[0],ae=Se.indexOf("\x9d\x01*"),he=0,je=[];he<4;he++)je[he]=Se.charCodeAt(ae+3+he);return{width:16383&(je[1]<<8|je[0]),height:16383&(je[3]<<8|je[2]),data:Se,riff:ye}}(Ze(atob(ye.image.slice(23))));return Se.duration=ye.duration,Se}));postMessage(ke)}return W.prototype.add=function(X,ue){if("canvas"in X&&(X=X.canvas),"toDataURL"in X&&(X=X.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(X))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:X,duration:ue||this.duration})},W.prototype.compile=function(X){var ue=function M(X){var ue=fe.createObjectURL(new Blob([X.toString(),"this.onmessage =  function (eee) {"+X.name+"(eee.data);}"],{type:"application/javascript"})),oe=new Worker(ue);return fe.revokeObjectURL(ue),oe}(V);ue.onmessage=function(oe){oe.data.error?console.error(oe.data.error):X(oe.data)},ue.postMessage(this.frames)},{Video:W}}();l.Whammy=mn;var Zi={init:function(){var W=this;if(typeof indexedDB>"u"||typeof indexedDB.open>"u")console.error("IndexedDB API are not available in this browser.");else{var X,V=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),ue=indexedDB.open(V,1);ue.onerror=W.onError,ue.onsuccess=function(){(X=ue.result).onerror=W.onError,X.setVersion&&1!==X.version?X.setVersion(1).onsuccess=function(){oe(X),ge()}:ge()},ue.onupgradeneeded=function(Q){oe(Q.target.result)}}function oe(Q){Q.createObjectStore(W.dataStoreName)}function ge(){var Q=X.transaction([W.dataStoreName],"readwrite");function Te(Ve){Q.objectStore(W.dataStoreName).get(Ve).onsuccess=function(we){W.callback&&W.callback(we.target.result,Ve)}}W.videoBlob&&Q.objectStore(W.dataStoreName).put(W.videoBlob,"videoBlob"),W.gifBlob&&Q.objectStore(W.dataStoreName).put(W.gifBlob,"gifBlob"),W.audioBlob&&Q.objectStore(W.dataStoreName).put(W.audioBlob,"audioBlob"),Te("audioBlob"),Te("videoBlob"),Te("gifBlob")}},Fetch:function(W){return this.callback=W,this.init(),this},Store:function(W){return this.audioBlob=W.audioBlob,this.videoBlob=W.videoBlob,this.gifBlob=W.gifBlob,this.init(),this},onError:function(W){console.error(JSON.stringify(W,null,"\t"))},dataStoreName:"recordRTC",dbName:null};function Cr(W,M){if(typeof GIFEncoder>"u"){var V=document.createElement("script");V.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(V)}M=M||{};var X=W instanceof CanvasRenderingContext2D||W instanceof HTMLCanvasElement;this.record=function(){typeof GIFEncoder>"u"?setTimeout(Ze.record,1e3):Te?(X||(M.width||(M.width=Ve.offsetWidth||320),M.height||(M.height=Ve.offsetHeight||240),M.video||(M.video={width:M.width,height:M.height}),M.canvas||(M.canvas={width:M.width,height:M.height}),ge.width=M.canvas.width||320,ge.height=M.canvas.height||240,Ve.width=M.video.width||320,Ve.height=M.video.height||240),(be=new GIFEncoder).setRepeat(0),be.setDelay(M.frameRate||200),be.setQuality(M.quality||10),be.start(),"function"==typeof M.onGifRecordingStarted&&M.onGifRecordingStarted(),Date.now(),we=E(function et(ke){if(!0!==Ze.clearedRecordedData){if(ue)return setTimeout(function(){et(ke)},100);we=E(et),void 0===typeof Me&&(Me=ke),!(ke-Me<90)&&(!X&&Ve.paused&&Ve.play(),X||Q.drawImage(Ve,0,0,ge.width,ge.height),M.onGifPreview&&M.onGifPreview(ge.toDataURL("image/png")),be.addFrame(Q),Me=ke)}}),M.initCallback&&M.initCallback()):setTimeout(Ze.record,1e3)},this.stop=function(et){et=et||function(){},we&&q(we),Date.now(),this.blob=new Blob([new Uint8Array(be.stream().bin)],{type:"image/gif"}),et(this.blob),be.stream().bin=[]};var ue=!1;this.pause=function(){ue=!0},this.resume=function(){ue=!1},this.clearRecordedData=function(){Ze.clearedRecordedData=!0,function oe(){be&&(be.stream().bin=[])}()},this.name="GifRecorder",this.toString=function(){return this.name};var ge=document.createElement("canvas"),Q=ge.getContext("2d");X&&(W instanceof CanvasRenderingContext2D?ge=(Q=W).canvas:W instanceof HTMLCanvasElement&&(Q=W.getContext("2d"),ge=W));var Te=!0;if(!X){var Ve=document.createElement("video");Ve.muted=!0,Ve.autoplay=!0,Ve.playsInline=!0,Te=!1,Ve.onloadedmetadata=function(){Te=!0},qr(W,Ve),Ve.play()}var Me,be,we=null,Ze=this}function Kn(W,M){typeof global<"u"&&global,M=M||"multi-streams-mixer";var X=[],ue=!1,oe=document.createElement("canvas"),ge=oe.getContext("2d");oe.style.opacity=0,oe.style.position="absolute",oe.style.zIndex=-1,oe.style.top="-1000em",oe.style.left="-1000em",oe.className=M,(document.body||document.documentElement).appendChild(oe),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var Q=this,Te=window.AudioContext;typeof Te>"u"&&(typeof webkitAudioContext<"u"&&(Te=webkitAudioContext),typeof mozAudioContext<"u"&&(Te=mozAudioContext));var Ve=window.URL;typeof Ve>"u"&&typeof webkitURL<"u"&&(Ve=webkitURL),typeof navigator<"u"&&typeof navigator.getUserMedia>"u"&&(typeof navigator.webkitGetUserMedia<"u"&&(navigator.getUserMedia=navigator.webkitGetUserMedia),typeof navigator.mozGetUserMedia<"u"&&(navigator.getUserMedia=navigator.mozGetUserMedia));var we=window.MediaStream;typeof we>"u"&&typeof webkitMediaStream<"u"&&(we=webkitMediaStream),typeof we<"u"&&typeof we.prototype.stop>"u"&&(we.prototype.stop=function(){this.getTracks().forEach(function(ae){ae.stop()})});var Ie={};function Me(){if(!ue){var ae=X.length,he=!1,je=[];if(X.forEach(function(at){at.stream||(at.stream={}),at.stream.fullcanvas?he=at:je.push(at)}),he)oe.width=he.stream.width,oe.height=he.stream.height;else if(je.length){oe.width=ae>1?2*je[0].width:je[0].width;var Ne=1;(3===ae||4===ae)&&(Ne=2),(5===ae||6===ae)&&(Ne=3),(7===ae||8===ae)&&(Ne=4),(9===ae||10===ae)&&(Ne=5),oe.height=je[0].height*Ne}else oe.width=Q.width||360,oe.height=Q.height||240;he&&he instanceof HTMLVideoElement&&be(he),je.forEach(function(at,rt){be(at,rt)}),setTimeout(Me,Q.frameInterval)}}function be(ae,he){if(!ue){var je=0,Ne=0,at=ae.width,rt=ae.height;1===he&&(je=ae.width),2===he&&(Ne=ae.height),3===he&&(je=ae.width,Ne=ae.height),4===he&&(Ne=2*ae.height),5===he&&(je=ae.width,Ne=2*ae.height),6===he&&(Ne=3*ae.height),7===he&&(je=ae.width,Ne=3*ae.height),typeof ae.stream.left<"u"&&(je=ae.stream.left),typeof ae.stream.top<"u"&&(Ne=ae.stream.top),typeof ae.stream.width<"u"&&(at=ae.stream.width),typeof ae.stream.height<"u"&&(rt=ae.stream.height),ge.drawImage(ae,je,Ne,at,rt),"function"==typeof ae.stream.onRender&&ae.stream.onRender(ge,je,Ne,at,rt,he)}}function ye(ae){var he=document.createElement("video");return function Oe(ae,he){"srcObject"in he?he.srcObject=ae:"mozSrcObject"in he?he.mozSrcObject=ae:he.srcObject=ae}(ae,he),he.className=M,he.muted=!0,he.volume=0,he.width=ae.width||Q.width||360,he.height=ae.height||Q.height||240,he.play(),he}function Se(ae){X=[],(ae=ae||W).forEach(function(he){if(he.getTracks().filter(function(Ne){return"video"===Ne.kind}).length){var je=ye(he);je.stream=he,X.push(je)}})}typeof Te<"u"?Ie.AudioContext=Te:typeof webkitAudioContext<"u"&&(Ie.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){Me()},this.appendStreams=function(ae){if(!ae)throw"First parameter is required.";ae instanceof Array||(ae=[ae]),ae.forEach(function(he){var je=new we;if(he.getTracks().filter(function(rt){return"video"===rt.kind}).length){var Ne=ye(he);Ne.stream=he,X.push(Ne),je.addTrack(he.getTracks().filter(function(rt){return"video"===rt.kind})[0])}if(he.getTracks().filter(function(rt){return"audio"===rt.kind}).length){var at=Q.audioContext.createMediaStreamSource(he);Q.audioDestination=Q.audioContext.createMediaStreamDestination(),at.connect(Q.audioDestination),je.addTrack(Q.audioDestination.stream.getTracks().filter(function(rt){return"audio"===rt.kind})[0])}W.push(je)})},this.releaseStreams=function(){X=[],ue=!0,Q.gainNode&&(Q.gainNode.disconnect(),Q.gainNode=null),Q.audioSources.length&&(Q.audioSources.forEach(function(ae){ae.disconnect()}),Q.audioSources=[]),Q.audioDestination&&(Q.audioDestination.disconnect(),Q.audioDestination=null),Q.audioContext&&Q.audioContext.close(),Q.audioContext=null,ge.clearRect(0,0,oe.width,oe.height),oe.stream&&(oe.stream.stop(),oe.stream=null)},this.resetVideoStreams=function(ae){ae&&!(ae instanceof Array)&&(ae=[ae]),Se(ae)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function Ze(){ue=!1;var ae=function et(){var ae;Se(),"captureStream"in oe?ae=oe.captureStream():"mozCaptureStream"in oe?ae=oe.mozCaptureStream():Q.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var he=new we;return ae.getTracks().filter(function(je){return"video"===je.kind}).forEach(function(je){he.addTrack(je)}),oe.stream=he,he}(),he=function ke(){Ie.AudioContextConstructor||(Ie.AudioContextConstructor=new Ie.AudioContext),Q.audioContext=Ie.AudioContextConstructor,Q.audioSources=[],!0===Q.useGainNode&&(Q.gainNode=Q.audioContext.createGain(),Q.gainNode.connect(Q.audioContext.destination),Q.gainNode.gain.value=0);var ae=0;if(W.forEach(function(he){if(he.getTracks().filter(function(Ne){return"audio"===Ne.kind}).length){ae++;var je=Q.audioContext.createMediaStreamSource(he);!0===Q.useGainNode&&je.connect(Q.gainNode),Q.audioSources.push(je)}}),ae)return Q.audioDestination=Q.audioContext.createMediaStreamDestination(),Q.audioSources.forEach(function(he){he.connect(Q.audioDestination)}),Q.audioDestination.stream}();return he&&he.getTracks().filter(function(Ne){return"audio"===Ne.kind}).forEach(function(Ne){ae.addTrack(Ne)}),W.forEach(function(Ne){}),ae}}function eo(W,M){W=W||[];var X,ue,V=this;(M=M||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(M.frameInterval=10),M.video||(M.video={}),M.video.width||(M.video.width=360),M.video.height||(M.video.height=240),this.record=function(){X=new Kn(W,M.elementClass||"multi-streams-mixer"),function oe(){var ge=[];return W.forEach(function(Q){Gt(Q,"video").forEach(function(Te){ge.push(Te)})}),ge}().length&&(X.frameInterval=M.frameInterval||10,X.width=M.video.width||360,X.height=M.video.height||240,X.startDrawingFrames()),M.previewStream&&"function"==typeof M.previewStream&&M.previewStream(X.getMixedStream()),(ue=new qi(X.getMixedStream(),M)).record()},this.stop=function(ge){ue&&ue.stop(function(Q){V.blob=Q,ge(Q),V.clearRecordedData()})},this.pause=function(){ue&&ue.pause()},this.resume=function(){ue&&ue.resume()},this.clearRecordedData=function(){ue&&(ue.clearRecordedData(),ue=null),X&&(X.releaseStreams(),X=null)},this.addStreams=function(ge){if(!ge)throw"First parameter is required.";ge instanceof Array||(ge=[ge]),W.concat(ge),ue&&X&&(X.appendStreams(ge),M.previewStream&&"function"==typeof M.previewStream&&M.previewStream(X.getMixedStream()))},this.resetVideoStreams=function(ge){X&&(ge&&!(ge instanceof Array)&&(ge=[ge]),X.resetVideoStreams(ge))},this.getMixer=function(){return X},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function Ys(W,M){var X,oe,Q;function ge(we,Ie){if(!M.workerPath&&!Ie)return X=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(Me){Me.arrayBuffer().then(function(be){ge(we,be)})});if(!M.workerPath&&Ie instanceof ArrayBuffer){var Oe=new Blob([Ie],{type:"text/javascript"});M.workerPath=fe.createObjectURL(Oe)}M.workerPath||console.error("workerPath parameter is missing."),(oe=new Worker(M.workerPath)).postMessage(M.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),oe.addEventListener("message",function(Me){"READY"===Me.data?(oe.postMessage({width:M.width,height:M.height,bitrate:M.bitrate||1200,timebaseDen:M.frameRate||30,realtime:M.realtime}),function ue(){return new ReadableStream({start:function(we){var Ie=document.createElement("canvas"),Oe=document.createElement("video"),Me=!0;Oe.srcObject=W,Oe.muted=!0,Oe.height=M.height,Oe.width=M.width,Oe.volume=0,Oe.onplaying=function(){Ie.width=M.width,Ie.height=M.height;var be=Ie.getContext("2d"),et=setInterval(function(){if(X&&(clearInterval(et),we.close()),Me&&(Me=!1,M.onVideoProcessStarted&&M.onVideoProcessStarted()),be.drawImage(Oe,0,0),"closed"!==we._controlledReadableStream.state)try{we.enqueue(be.getImageData(0,0,M.width,M.height))}catch{}},1e3/M.frameRate)},Oe.play()}})}().pipeTo(new WritableStream({write:function(be){X?console.error("Got image, but recorder is finished!"):oe.postMessage(be.data.buffer,[be.data.buffer])}}))):Me.data&&(Q||Ve.push(Me.data))})}(typeof ReadableStream>"u"||typeof WritableStream>"u")&&console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(M=M||{}).width=M.width||640,M.height=M.height||480,M.frameRate=M.frameRate||30,M.bitrate=M.bitrate||1200,M.realtime=M.realtime||!0,this.record=function(){Ve=[],Q=!1,this.blob=null,ge(W),"function"==typeof M.initCallback&&M.initCallback()},this.pause=function(){Q=!0},this.resume=function(){Q=!1};var Ve=[];this.stop=function(we){X=!0;var Ie=this;!function Te(we){oe?(oe.addEventListener("message",function(Ie){null===Ie.data&&(oe.terminate(),oe=null,we&&we())}),oe.postMessage(null)):we&&we()}(function(){Ie.blob=new Blob(Ve,{type:"video/webm"}),we(Ie.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){Ve=[],Q=!1,this.blob=null},this.blob=null}l.DiskStorage=Zi,l.GifRecorder=Cr,l.MultiStreamRecorder=eo,l.RecordRTCPromisesHandler=function gs(W,M){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(typeof W>"u")throw'First argument "MediaStream" is required.';var V=this;V.recordRTC=new l(W,M),this.startRecording=function(){return new Promise(function(X,ue){try{V.recordRTC.startRecording(),X()}catch(oe){ue(oe)}})},this.stopRecording=function(){return new Promise(function(X,ue){try{V.recordRTC.stopRecording(function(oe){V.blob=V.recordRTC.getBlob(),V.blob&&V.blob.size?X(oe):ue("Empty blob.",V.blob)})}catch(oe){ue(oe)}})},this.pauseRecording=function(){return new Promise(function(X,ue){try{V.recordRTC.pauseRecording(),X()}catch(oe){ue(oe)}})},this.resumeRecording=function(){return new Promise(function(X,ue){try{V.recordRTC.resumeRecording(),X()}catch(oe){ue(oe)}})},this.getDataURL=function(X){return new Promise(function(ue,oe){try{V.recordRTC.getDataURL(function(ge){ue(ge)})}catch(ge){oe(ge)}})},this.getBlob=function(){return new Promise(function(X,ue){try{X(V.recordRTC.getBlob())}catch(oe){ue(oe)}})},this.getInternalRecorder=function(){return new Promise(function(X,ue){try{X(V.recordRTC.getInternalRecorder())}catch(oe){ue(oe)}})},this.reset=function(){return new Promise(function(X,ue){try{X(V.recordRTC.reset())}catch(oe){ue(oe)}})},this.destroy=function(){return new Promise(function(X,ue){try{X(V.recordRTC.destroy())}catch(oe){ue(oe)}})},this.getState=function(){return new Promise(function(X,ue){try{X(V.recordRTC.getState())}catch(oe){ue(oe)}})},this.blob=null,this.version="5.6.2"},l.WebAssemblyRecorder=Ys},46700:($,se,I)=>{var _={"./af":83274,"./af.js":83274,"./ar":22097,"./ar-dz":61867,"./ar-dz.js":61867,"./ar-kw":17078,"./ar-kw.js":17078,"./ar-ly":77776,"./ar-ly.js":77776,"./ar-ma":93297,"./ar-ma.js":93297,"./ar-ps":73807,"./ar-ps.js":73807,"./ar-sa":6897,"./ar-sa.js":6897,"./ar-tn":71585,"./ar-tn.js":71585,"./ar.js":22097,"./az":15611,"./az.js":15611,"./be":62459,"./be.js":62459,"./bg":91825,"./bg.js":91825,"./bm":75918,"./bm.js":75918,"./bn":34065,"./bn-bd":49683,"./bn-bd.js":49683,"./bn.js":34065,"./bo":11034,"./bo.js":11034,"./br":27671,"./br.js":27671,"./bs":34356,"./bs.js":34356,"./ca":54287,"./ca.js":54287,"./cs":72616,"./cs.js":72616,"./cv":70765,"./cv.js":70765,"./cy":99172,"./cy.js":99172,"./da":20605,"./da.js":20605,"./de":94013,"./de-at":93395,"./de-at.js":93395,"./de-ch":99835,"./de-ch.js":99835,"./de.js":94013,"./dv":14570,"./dv.js":14570,"./el":31859,"./el.js":31859,"./en-au":55785,"./en-au.js":55785,"./en-ca":83792,"./en-ca.js":83792,"./en-gb":57651,"./en-gb.js":57651,"./en-ie":81929,"./en-ie.js":81929,"./en-il":19818,"./en-il.js":19818,"./en-in":6612,"./en-in.js":6612,"./en-nz":24900,"./en-nz.js":24900,"./en-sg":72721,"./en-sg.js":72721,"./eo":95159,"./eo.js":95159,"./es":21954,"./es-do":11780,"./es-do.js":11780,"./es-mx":23468,"./es-mx.js":23468,"./es-us":44938,"./es-us.js":44938,"./es.js":21954,"./et":11453,"./et.js":11453,"./eu":44697,"./eu.js":44697,"./fa":52900,"./fa.js":52900,"./fi":49775,"./fi.js":49775,"./fil":64282,"./fil.js":64282,"./fo":84236,"./fo.js":84236,"./fr":89361,"./fr-ca":92830,"./fr-ca.js":92830,"./fr-ch":21412,"./fr-ch.js":21412,"./fr.js":89361,"./fy":66094,"./fy.js":66094,"./ga":93961,"./ga.js":93961,"./gd":78849,"./gd.js":78849,"./gl":34273,"./gl.js":34273,"./gom-deva":40623,"./gom-deva.js":40623,"./gom-latn":62696,"./gom-latn.js":62696,"./gu":66928,"./gu.js":66928,"./he":24804,"./he.js":24804,"./hi":23015,"./hi.js":23015,"./hr":17134,"./hr.js":17134,"./hu":50670,"./hu.js":50670,"./hy-am":4523,"./hy-am.js":4523,"./id":99233,"./id.js":99233,"./is":94693,"./is.js":94693,"./it":63936,"./it-ch":78118,"./it-ch.js":78118,"./it.js":63936,"./ja":86871,"./ja.js":86871,"./jv":68710,"./jv.js":68710,"./ka":17125,"./ka.js":17125,"./kk":82461,"./kk.js":82461,"./km":77399,"./km.js":77399,"./kn":38720,"./kn.js":38720,"./ko":85306,"./ko.js":85306,"./ku":82995,"./ku-kmr":64852,"./ku-kmr.js":64852,"./ku.js":82995,"./ky":8779,"./ky.js":8779,"./lb":62057,"./lb.js":62057,"./lo":17192,"./lo.js":17192,"./lt":15430,"./lt.js":15430,"./lv":53363,"./lv.js":53363,"./me":72939,"./me.js":72939,"./mi":38212,"./mi.js":38212,"./mk":69718,"./mk.js":69718,"./ml":50561,"./ml.js":50561,"./mn":68929,"./mn.js":68929,"./mr":84880,"./mr.js":84880,"./ms":63193,"./ms-my":42074,"./ms-my.js":42074,"./ms.js":63193,"./mt":54082,"./mt.js":54082,"./my":82261,"./my.js":82261,"./nb":15273,"./nb.js":15273,"./ne":19874,"./ne.js":19874,"./nl":51667,"./nl-be":81484,"./nl-be.js":81484,"./nl.js":51667,"./nn":17262,"./nn.js":17262,"./oc-lnc":19679,"./oc-lnc.js":19679,"./pa-in":96830,"./pa-in.js":96830,"./pl":93616,"./pl.js":93616,"./pt":55138,"./pt-br":32751,"./pt-br.js":32751,"./pt.js":55138,"./ro":17968,"./ro.js":17968,"./ru":81828,"./ru.js":81828,"./sd":62188,"./sd.js":62188,"./se":6562,"./se.js":6562,"./si":87172,"./si.js":87172,"./sk":99966,"./sk.js":99966,"./sl":4287,"./sl.js":4287,"./sq":15291,"./sq.js":15291,"./sr":80450,"./sr-cyrl":37603,"./sr-cyrl.js":37603,"./sr.js":80450,"./ss":30383,"./ss.js":30383,"./sv":37221,"./sv.js":37221,"./sw":51743,"./sw.js":51743,"./ta":6351,"./ta.js":6351,"./te":98118,"./te.js":98118,"./tet":26278,"./tet.js":26278,"./tg":36987,"./tg.js":36987,"./th":39325,"./th.js":39325,"./tk":43485,"./tk.js":43485,"./tl-ph":68148,"./tl-ph.js":68148,"./tlh":59616,"./tlh.js":59616,"./tr":24040,"./tr.js":24040,"./tzl":594,"./tzl.js":594,"./tzm":80673,"./tzm-latn":23226,"./tzm-latn.js":23226,"./tzm.js":80673,"./ug-cn":69580,"./ug-cn.js":69580,"./uk":87270,"./uk.js":87270,"./ur":11656,"./ur.js":11656,"./uz":68364,"./uz-latn":18744,"./uz-latn.js":18744,"./uz.js":68364,"./vi":75049,"./vi.js":75049,"./x-pseudo":15106,"./x-pseudo.js":15106,"./yo":6199,"./yo.js":6199,"./zh-cn":27280,"./zh-cn.js":27280,"./zh-hk":36860,"./zh-hk.js":36860,"./zh-mo":78364,"./zh-mo.js":78364,"./zh-tw":482,"./zh-tw.js":482};function l(w){var S=x(w);return I(S)}function x(w){if(!I.o(_,w)){var S=new Error("Cannot find module '"+w+"'");throw S.code="MODULE_NOT_FOUND",S}return _[w]}l.keys=function(){return Object.keys(_)},l.resolve=x,$.exports=l,l.id=46700}}]);