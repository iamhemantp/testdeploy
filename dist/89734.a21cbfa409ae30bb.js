"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[89734],{89734:(Y,c,l)=>{l.r(c),l.d(c,{LoginAttemptsModule:()=>w});var s=l(81180),m=l(12236),Z=l(47530),h=l(41840),A=l(64716),L=l(90864),e=l(99468),v=l(58399),u=l(44328),T=l(96814),p=l(56223),f=l(16316),C=l(94901),b=l(81243),d=l(56916),R=l(85219),y=l(51712),_=l(68989);function x(n,i){if(1&n&&(e.TgZ(0,"option",2),e._uU(1),e.qZA()),2&n){const a=i.$implicit;e.Q6J("value",a.value),e.xp6(1),e.hij(" ",a.name," ")}}let z=(()=>{var n;class i extends h.c{constructor(t){super(t),(0,s.Z)(this,"defaultTimezoneScope",void 0),(0,s.Z)(this,"loginResultTypes",[]),(0,s.Z)(this,"selectedLoginResultType",new p.p4("")),(0,s.Z)(this,"loginResultType",void 0),(0,s.Z)(this,"onTouched",()=>{})}ngOnInit(){this.loginResultTypes.push(new u.O46({name:this.l("All"),value:""}));for(const t in u.qy)"string"!=typeof u.qy[t]&&this.loginResultTypes.push(new u.O46({name:this.l("AbpLoginResultType_"+t),value:t}))}writeValue(t){this.selectedLoginResultType&&this.selectedLoginResultType.setValue(t)}registerOnChange(t){this.selectedLoginResultType.valueChanges.subscribe(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){t?this.selectedLoginResultType.disable():this.selectedLoginResultType.enable()}}return n=i,(0,s.Z)(i,"\u0275fac",function(t){return new(t||n)(e.Y36(e.zs3))}),(0,s.Z)(i,"\u0275cmp",e.Xpm({type:n,selectors:[["login-result-type-combo"]],inputs:{defaultTimezoneScope:"defaultTimezoneScope"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.qOj],decls:2,vars:2,consts:[[1,"form-select",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"select",0),e.YNc(1,x,2,2,"option",1),e.qZA()),2&t&&(e.Q6J("formControl",o.selectedLoginResultType),e.xp6(1),e.Q6J("ngForOf",o.loginResultTypes))},dependencies:[T.sg,p.YN,p.Kr,p.EJ,p.JJ,p.oH],encapsulation:2})),i})();var S=l(88922),U=l(3291);const I=["dataTable"],J=["paginator"];function M(n,i){1&n&&(e.TgZ(0,"tr")(1,"th",34),e._uU(2),e.ALo(3,"localize"),e._UZ(4,"p-sortIcon",35),e.qZA(),e.TgZ(5,"th",36),e._uU(6),e.ALo(7,"localize"),e._UZ(8,"p-sortIcon",37),e.qZA(),e.TgZ(9,"th",38),e._uU(10),e.ALo(11,"localize"),e._UZ(12,"p-sortIcon",39),e.qZA(),e.TgZ(13,"th",40),e._uU(14),e.ALo(15,"localize"),e._UZ(16,"p-sortIcon",41),e.qZA(),e.TgZ(17,"th",42),e._uU(18),e.ALo(19,"localize"),e._UZ(20,"p-sortIcon",43),e.qZA()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,5,"IpAddress")," "),e.xp6(4),e.hij(" ",e.lcZ(7,7,"Client")," "),e.xp6(4),e.hij(" ",e.lcZ(11,9,"Browser")," "),e.xp6(4),e.hij(" ",e.lcZ(15,11,"Time")," "),e.xp6(4),e.hij(" ",e.lcZ(19,13,"Result")," "))}function O(n,i){if(1&n&&(e.TgZ(0,"span",47),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,"AbpLoginResultType_"+a.result)," ")}}function j(n,i){if(1&n&&(e.TgZ(0,"span",48),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n){const a=e.oxw().$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,"AbpLoginResultType_"+a.result)," ")}}function F(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"span",44),e._uU(3),e.ALo(4,"localize"),e.qZA(),e._uU(5),e.qZA(),e.TgZ(6,"td")(7,"span",44),e._uU(8),e.ALo(9,"localize"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",44),e._uU(13),e.ALo(14,"localize"),e.qZA(),e._uU(15),e.qZA(),e.TgZ(16,"td")(17,"span",44),e._uU(18),e.ALo(19,"localize"),e.qZA(),e._uU(20),e.ALo(21,"luxonFormat"),e.qZA(),e.TgZ(22,"td")(23,"span",44),e._uU(24),e.ALo(25,"localize"),e.qZA(),e.YNc(26,O,3,3,"span",45),e.YNc(27,j,3,3,"span",46),e.qZA()()),2&n){const a=i.$implicit;e.xp6(3),e.Oqu(e.lcZ(4,11,"IpAddress")),e.xp6(2),e.hij(" ",a.clientIpAddress," "),e.xp6(3),e.Oqu(e.lcZ(9,13,"Client")),e.xp6(2),e.hij(" ",a.clientName," "),e.xp6(3),e.Oqu(e.lcZ(14,15,"Browser")),e.xp6(2),e.hij(" ",a.browserInfo," "),e.xp6(3),e.Oqu(e.lcZ(19,17,"Time")),e.xp6(2),e.hij(" ",e.xi3(21,19,a.creationTime,"F")," "),e.xp6(4),e.Oqu(e.lcZ(25,22,"Result")),e.xp6(2),e.Q6J("ngIf","Success"===a.result),e.xp6(1),e.Q6J("ngIf","Success"!==a.result)}}function H(n,i){1&n&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NoData")," "))}const P=function(){return{"min-width":"50rem"}},N=[{path:"",component:(()=>{var n;class i extends h.c{constructor(t,o,r){super(t),(0,s.Z)(this,"_dateTimeService",void 0),(0,s.Z)(this,"_userLoginService",void 0),(0,s.Z)(this,"dataTable",void 0),(0,s.Z)(this,"paginator",void 0),(0,s.Z)(this,"filter",void 0),(0,s.Z)(this,"dateRange",void 0),(0,s.Z)(this,"loginResultFilter",void 0),(0,s.Z)(this,"primengTableHelper",new L.f),this._dateTimeService=o,this._userLoginService=r,this.dateRange=[this._dateTimeService.getStartOfWeek(),this._dateTimeService.getEndOfDay()]}ngOnInit(){this.loginResultFilter=""}getLoginAttempts(t){this.primengTableHelper.showLoadingIndicator(),this._userLoginService.getUserLoginAttempts(this.filter,this._dateTimeService.getStartOfDayForDate(this.dateRange[0]),this._dateTimeService.getEndOfDayForDate(this.dateRange[1]),this.loginResultFilter,this.primengTableHelper.getSorting(this.dataTable),this.primengTableHelper.getMaxResultCount(this.paginator,t),this.primengTableHelper.getSkipCount(this.paginator,t)).pipe((0,A.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(o=>{this.primengTableHelper.records=o.items,this.primengTableHelper.totalRecordsCount=o.totalCount,this.primengTableHelper.hideLoadingIndicator()})}}return n=i,(0,s.Z)(i,"\u0275fac",function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(v.C),e.Y36(u.bfj))}),(0,s.Z)(i,"\u0275cmp",e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,o){if(1&t&&(e.Gf(I,7),e.Gf(J,7)),2&t){let r;e.iGM(r=e.CRH())&&(o.dataTable=r.first),e.iGM(r=e.CRH())&&(o.paginator=r.first)}},features:[e.qOj],decls:51,vars:42,consts:[[3,"title","description"],[1,"card","card-custom"],[1,"card-body"],[1,"form"],[1,"row","align-items-center","mb-4"],[1,"col-md-12"],[1,"mb-5"],["for","LoginAttemptsFilter",1,"control-label"],[1,"input-group"],["type","text","id","LoginAttemptsFilter","value","",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],["id","GetLoginAttemptsButton",1,"btn","btn-primary",3,"click"],[1,"flaticon-search-1"],[1,"col-md-6"],["for","StartEndRange"],["id","StartEndRange","name","StartEndRange","readonly","readonly","bsDaterangepicker","","dateRangePickerLuxonModifier","",1,"form-control",3,"date","dateChange"],["drp","bsDaterangepicker"],["for","LoginResultFilter",1,"control-label"],[3,"ngModel","ngModelChange"],[1,"row"],[1,"col-xl-12","text-end"],["name","RefreshButton",1,"btn","btn-primary",3,"click"],[1,"la","la-refresh","btn-md-icon"],[1,"d-none","d-md-inline-block"],[1,"row","align-items-center"],[1,"col","primeng-datatable-container",3,"busyIf"],["sortMode","multiple",3,"value","rows","paginator","lazy","tableStyle","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],["pSortableColumn","clientIpAddress"],["field","clientIpAddress"],["pSortableColumn","clientName"],["field","clientName"],["pSortableColumn","browserInfo"],["field","browserInfo"],["pSortableColumn","creationTime"],["field","creationTime"],["pSortableColumn","result"],["field","result"],[1,"p-column-title"],["class","text-success",4,"ngIf"],["class","text-warning",4,"ngIf"],[1,"text-success"],[1,"text-warning"],[1,"primeng-no-data"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"sub-header",0),e.ALo(2,"localize"),e.ALo(3,"localize"),e.TgZ(4,"div")(5,"div",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6)(11,"label",7),e._uU(12),e.ALo(13,"localize"),e.qZA(),e.TgZ(14,"div",8)(15,"input",9),e.NdJ("ngModelChange",function(g){return o.filter=g}),e.qZA(),e.TgZ(16,"span",10)(17,"button",11),e.NdJ("click",function(){return o.getLoginAttempts()}),e._UZ(18,"i",12),e.qZA()()()()()(),e.TgZ(19,"div",4)(20,"div",13)(21,"div",6)(22,"label",14),e._uU(23),e.ALo(24,"localize"),e.qZA(),e.TgZ(25,"input",15,16),e.NdJ("dateChange",function(g){return o.dateRange=g}),e.qZA()()(),e.TgZ(27,"div",13)(28,"div",6)(29,"label",17),e._uU(30),e.ALo(31,"localize"),e.qZA(),e.TgZ(32,"login-result-type-combo",18),e.NdJ("ngModelChange",function(g){return o.loginResultFilter=g}),e.qZA()()()(),e.TgZ(33,"div",19)(34,"div",20)(35,"button",21),e.NdJ("click",function(){return o.getLoginAttempts()}),e._UZ(36,"i",22),e.TgZ(37,"span",23),e._uU(38),e.ALo(39,"localize"),e.qZA()()()()(),e.TgZ(40,"div",24)(41,"div",25)(42,"p-table",26,27),e.NdJ("onLazyLoad",function(g){return o.getLoginAttempts(g)}),e.YNc(44,M,21,15,"ng-template",28),e.YNc(45,F,28,24,"ng-template",29),e.qZA(),e.YNc(46,H,3,3,"div",30),e.TgZ(47,"div",31)(48,"p-paginator",32,33),e.NdJ("onPageChange",function(g){return o.getLoginAttempts(g)}),e.ALo(50,"localize"),e.qZA()()()()()()()()),2&t&&(e.Q6J("@routerTransition",void 0),e.xp6(1),e.Q6J("title",e.lcZ(2,26,"LoginAttempts"))("description",e.lcZ(3,28,"LoginAttemptsHeaderInfo")),e.xp6(3),e.Tol(o.containerClass),e.xp6(8),e.hij(" ",e.lcZ(13,30,"Filter")," "),e.xp6(3),e.Q6J("ngModel",o.filter),e.uIk("placeholder",o.l("SearchWithThreeDot")),e.xp6(3),e.uIk("aria-label",o.l("Search")),e.xp6(5),e.Oqu(e.lcZ(24,32,"DateRange")),e.xp6(2),e.Q6J("date",o.dateRange),e.xp6(5),e.hij(" ",e.lcZ(31,34,"Result")," "),e.xp6(2),e.Q6J("ngModel",o.loginResultFilter),e.xp6(6),e.hij(" ",e.lcZ(39,36,"Refresh")," "),e.xp6(3),e.Q6J("busyIf",o.primengTableHelper.isLoading),e.xp6(1),e.s9C("rows",o.primengTableHelper.defaultRecordsCountPerPage),e.Q6J("value",o.primengTableHelper.records)("paginator",!1)("lazy",!0)("tableStyle",e.DdM(41,P)),e.xp6(4),e.Q6J("ngIf",0==o.primengTableHelper.totalRecordsCount),e.xp6(2),e.Q6J("rows",o.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",o.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",o.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.xi3(50,38,"TotalRecordsCount",o.primengTableHelper.totalRecordsCount)))},dependencies:[T.O5,p.Fj,p.JJ,p.On,f.FR,f.TB,C.U,b.t,d.iA,R.jx,d.lQ,d.fz,y.D,_.$,z,S.n,U.F],encapsulation:2,data:{animation:[(0,Z.MH)()]}})),i})(),pathMatch:"full"}];let q=(()=>{var n;class i{}return n=i,(0,s.Z)(i,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(i,"\u0275mod",e.oAB({type:n})),(0,s.Z)(i,"\u0275inj",e.cJS({imports:[m.Bz.forChild(N),m.Bz]})),i})();var Q=l(8387),D=l(40031);let w=(()=>{var n;class i{}return n=i,(0,s.Z)(i,"\u0275fac",function(t){return new(t||n)}),(0,s.Z)(i,"\u0275mod",e.oAB({type:n})),(0,s.Z)(i,"\u0275inj",e.cJS({imports:[D.o,Q.g,q]})),i})()}}]);