"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[12263],{23123:(B,O,o)=>{o.d(O,{B:()=>W});var n=o(81180),x=o(5836),t=o(44328),I=o(20553),E=o(10217),C=o.n(E),Z=o(52572),e=o(99468),M=o(65118),v=o(22875),f=o(20244),P=o(96814),D=o(86977),h=o(48983),d=o(97680),y=o(33259);function b(s,m){1&s&&(e.TgZ(0,"span"),e._uU(1,"You are in preview mode."),e.qZA())}function S(s,m){1&s&&(e.O4$(),e.kcU(),e.TgZ(0,"div",17)(1,"div",18)(2,"button",19),e.O4$(),e.TgZ(3,"svg",20),e._UZ(4,"path",21)(5,"path",22)(6,"path",23)(7,"path",24),e.qZA(),e._uU(8," Print "),e.qZA()()()),2&s&&(e.xp6(2),e.Q6J("openNewTab",!0)("useExistingCss",!0))}function Q(s,m){if(1&s&&e._UZ(0,"app-section-templates-container-preview",30),2&s){const r=e.oxw(2);e.Q6J("quoteId",r.quoteId)("quoteInfo",r.quote)("selectedImg",r.selectedCoverImage)("templateInfo",r.templateInfo)("clients",r.clients)("client",r.client)("pages",r.pages)}}function _(s,m){1&s&&(e.TgZ(0,"div",31)(1,"div",32),e._uU(2,"This template is not supported yet"),e.qZA()())}function g(s,m){if(1&s&&(e.O4$(),e.kcU(),e.TgZ(0,"div",25)(1,"div",26),e.ynx(2,27),e.YNc(3,Q,1,7,"app-section-templates-container-preview",28),e.YNc(4,_,3,0,"div",29),e.BQk(),e.qZA()()),2&s){const r=e.oxw();e.xp6(2),e.Q6J("ngSwitch",r.currentUserTemplateId),e.xp6(1),e.Q6J("ngSwitchCase",1)}}function c(s,m){if(1&s){const r=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(r);const a=e.oxw();return e.KtG(a.onEmailQuote())}),e.O4$(),e.TgZ(1,"svg",20),e._UZ(2,"path",34)(3,"path",35),e.qZA(),e._uU(4),e.qZA()}if(2&s){const r=e.oxw();e.Q6J("disabled",r.emailQuoteLoading),e.xp6(4),e.hij(" ",r.invoiceId?"Email Invoice":"Email Quote"," ")}}function l(s,m){if(1&s&&(e.TgZ(0,"button",36),e.O4$(),e.TgZ(1,"svg",20),e._UZ(2,"path",34)(3,"path",35),e.qZA(),e._uU(4),e.qZA()),2&s){const r=e.oxw();e.xp6(4),e.hij(" ",r.invoiceId?"Email Invoice":"Accept Quote"," ")}}function U(s,m){1&s&&(e.O4$(),e.TgZ(0,"svg",20),e._UZ(1,"path",40)(2,"path",41),e.qZA())}function R(s,m){1&s&&e._UZ(0,"p-progressSpinner",42)}function L(s,m){if(1&s){const r=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(r);const a=e.oxw();return e.KtG(a.onDownloadPDF())}),e.YNc(1,U,3,0,"svg",38),e.YNc(2,R,1,0,"p-progressSpinner",39),e.TgZ(3,"span"),e._uU(4),e.qZA()()}if(2&s){const r=e.oxw();e.xp6(1),e.Q6J("ngIf",!r.downloadingPdf),e.xp6(1),e.Q6J("ngIf",r.downloadingPdf),e.xp6(2),e.hij(" ",r.downloadingPdf?"Downloading...":r.invoiceId?"Download Invoice":"Download Quote"," ")}}function N(s,m){if(1&s&&(e.TgZ(0,"button",43),e.O4$(),e.TgZ(1,"svg",20),e._UZ(2,"path",40)(3,"path",41),e.qZA(),e.kcU(),e.TgZ(4,"span"),e._uU(5),e.qZA()()),2&s){const r=e.oxw();e.xp6(5),e.hij(" ",r.downloadingPdf?"Downloading...":r.invoiceId?"Download Invoice":"Download Quote"," ")}}let W=(()=>{var s;class m{constructor(i,a,p,u,w,T,A,K){(0,n.Z)(this,"_quoteService",void 0),(0,n.Z)(this,"_dialogService",void 0),(0,n.Z)(this,"_businessService",void 0),(0,n.Z)(this,"_clientService",void 0),(0,n.Z)(this,"_quoteImageService",void 0),(0,n.Z)(this,"_pdfService",void 0),(0,n.Z)(this,"_dialogConfig",void 0),(0,n.Z)(this,"_dialogRef",void 0),(0,n.Z)(this,"currentUserTemplateId",void 0),(0,n.Z)(this,"quoteId",void 0),(0,n.Z)(this,"isChanged",!1),(0,n.Z)(this,"quote",void 0),(0,n.Z)(this,"templateInfo",void 0),(0,n.Z)(this,"pages",void 0),(0,n.Z)(this,"isIdSelected",!1),(0,n.Z)(this,"loading",!0),(0,n.Z)(this,"selectedCoverImage",void 0),(0,n.Z)(this,"baseUrl",I.N.remoteServiceBaseUrl),(0,n.Z)(this,"clients",void 0),(0,n.Z)(this,"client",void 0),(0,n.Z)(this,"modeId",void 0),(0,n.Z)(this,"invoiceId",void 0),(0,n.Z)(this,"downloadingPdf",!1),(0,n.Z)(this,"pdfUrl",void 0),(0,n.Z)(this,"emailQuoteLoading",!0),(0,n.Z)(this,"companyName",void 0),(0,n.Z)(this,"formValue",void 0),this._quoteService=i,this._dialogService=a,this._businessService=p,this._clientService=u,this._quoteImageService=w,this._pdfService=T,this._dialogConfig=A,this._dialogRef=K}ngOnInit(){var i,a;const{quoteId:p,modeId:u,pages:w,quote:T,isChanged:A}=this._dialogConfig.data;this.quoteId=p,this.isChanged=A,this.pages=w,this.modeId=u,this.quote=T,this.getAllClients(),this.getCurrentUserBusiness(),this.getPdfUrl(),this.selectedCoverImage={imgSrc:`${this.baseUrl}/${null===(i=this.quote)||void 0===i?void 0:i.imagePath}`,uniqueFileName:null===(a=this.quote)||void 0===a?void 0:a.imageName}}getCurrentUserBusiness(){(0,Z.a)(this._quoteService.getQuote(this.quoteId),this._businessService.getBusinessByCurrentUser()).subscribe({next:([i,a])=>{this.formValue=this.setEmailDefaultContent(i,this.companyName),this.emailQuoteLoading=!1,this.loading=!1,this.currentUserTemplateId=a.templateId,this.companyName=a.name,this.setTemplateInfo(a)},error:()=>{this.loading=!1,this.emailQuoteLoading=!1}})}getAllClients(i=""){const a=new t.RzB;a.filter=i,a.maxResultCount=100,this._clientService.getAllClient(a).subscribe(p=>{if(this.clients=p.items,this.quote&&!i){const u=this.quote.clientId;this.client=this.clients.find(w=>w.id===u)}})}sortByKey(i,a){return i.sort((p,u)=>{const w=p[a],T=u[a];return w<T?-1:w>T?1:0})}setTemplateInfo(i){this.templateInfo={address:i.address,email:i.email,web:i.web,phone:i.phone,description1:i.description1,templateColor:i.primaryColor,name:i.name,usePhoneNumer:i.phone}}getEmailQuoteData(){this.emailQuoteLoading=!0,this._quoteService.getQuote(this.quoteId).subscribe(i=>{this.formValue=this.setEmailDefaultContent(i,this.companyName),this.emailQuoteLoading=!1})}onEmailQuote(){this._dialogService.open(x.k,{header:"Send Mail",width:"800px",styleClass:"email-popup",data:{invoiceId:this.invoiceId,quoteId:this.quoteId,formValue:this.formValue}})}getPdfUrl(){this._pdfService.generateQuotePdf(this.quoteId,this.isChanged).subscribe({next:i=>{this.pdfUrl=i.result.quoteUrlPDf}})}onDownloadPDF(){this.downloadingPdf=!0;const{quoteNumber:i,invoiceNumber:a}={quoteNumber:this.quote.id,invoiceNumber:null},p=this.pdfUrl.split("/").pop(),w=this.invoiceId?a:i;this._quoteImageService.downloadPdf(this.invoiceId?"DownloadPDFInvoiceFile":"DownloadPDFQuoteFile",p).subscribe({next:T=>{const A=window.URL.createObjectURL(T);C()(A,w),this.downloadingPdf=!1},error:()=>this.downloadingPdf=!1})}setEmailDefaultContent(i,a){let p="",u="AB Client";return i.name&&(p+=i.name),a&&(p+=` from ${a}`,i.clientAddress1&&(p+=` ${i.clientAddress1} `),i.clientCity&&(p+=` ${i.clientCity} `),i.clientState&&(p+=` ${i.clientState} `),i.clientZip&&(p+=` ${i.clientZip} `),u=i.clientName),{to:i.clientEmail,subject:p,description:`<div>Hello ${u},<br><br>Thank you for requesting a quote with our company. Please do not hesitate to contact us with any questions.</div>`}}closePreviewMode(){this._dialogRef.close()}}return s=m,(0,n.Z)(m,"\u0275fac",function(i){return new(i||s)(e.Y36(t.k_Y),e.Y36(M.xA),e.Y36(t.fGn),e.Y36(t.Z0V),e.Y36(v.Y),e.Y36(f.n),e.Y36(M.S),e.Y36(M.E7))}),(0,n.Z)(m,"\u0275cmp",e.Xpm({type:s,selectors:[["app-preview"]],decls:20,vars:7,consts:[[1,"view-pdf-container"],[1,"main-header"],[1,"main-header__title"],[4,"ngIf"],[1,"main-header__close"],[3,"click"],["width","19","height","18","viewBox","0 0 19 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15.1692 3.75L4.66919 14.25M4.66919 3.75L15.1692 14.25","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["class","sub-header",4,"ngIf"],["class","container-fluid content-pdf",4,"ngIf"],[1,"view-footer"],[1,"view-footer__items"],[1,"view-footer__items__item"],["class","btn btn-outline-danger",3,"disabled","click",4,"ngIf","ngIfElse"],["tooltipEmailBtn",""],["class","btn btn-outline-primary",3,"click",4,"ngIf","ngIfElse"],["tooltipDownloadBtn",""],[1,"sub-header"],[1,"sub-header__actions"],["printSectionId","print-section","ngxPrint","",1,"btn","btn-outline-primary",3,"openNewTab","useExistingCss"],["width","15","height","15","viewBox","0 0 15 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.68964 11.0363C3.43833 11.0363 2.81267 11.0363 2.36723 10.7692C2.0761 10.5947 1.84156 10.3451 1.69019 10.0487C1.45859 9.59513 1.52084 8.9955 1.64535 7.79624C1.74929 6.79513 1.80126 6.29454 2.05683 5.92692C2.22462 5.68556 2.45157 5.48774 2.7176 5.35094C3.1228 5.14258 3.64508 5.14258 4.68964 5.14258H10.1661C11.2107 5.14258 11.733 5.14258 12.1382 5.35094C12.4042 5.48774 12.6312 5.68556 12.799 5.92692C13.0545 6.29454 13.1065 6.79513 13.2104 7.79624C13.335 8.9955 13.3972 9.59513 13.1656 10.0487C13.0142 10.3451 12.7797 10.5947 12.4886 10.7692C12.0431 11.0363 11.4175 11.0363 10.1661 11.0363","stroke","#326BF6","stroke-width","0.884063"],["d","M10.3748 5.14172V3.96297C10.3748 2.85163 10.3748 2.29596 10.0295 1.95072C9.68426 1.60547 9.12859 1.60547 8.01727 1.60547H6.83852C5.72718 1.60547 5.17151 1.60547 4.82627 1.95072C4.48102 2.29596 4.48102 2.85163 4.48102 3.96297V5.14172","stroke","#326BF6","stroke-width","0.884063","stroke-linejoin","round"],["d","M8.59998 9.85742H6.2558C5.85192 9.85742 5.64997 9.85742 5.47814 9.9216C5.24904 10.0071 5.05287 10.1733 4.92081 10.3937C4.82177 10.559 4.77279 10.7716 4.67483 11.1967C4.52176 11.861 4.44523 12.1931 4.49728 12.4595C4.56668 12.8146 4.783 13.1151 5.08367 13.2743C5.30917 13.3937 5.62471 13.3937 6.2558 13.3937H8.59998C9.23109 13.3937 9.54664 13.3937 9.77213 13.2743C10.0728 13.1151 10.2891 12.8146 10.3585 12.4595C10.4105 12.1931 10.334 11.861 10.181 11.1967C10.083 10.7716 10.034 10.559 9.93498 10.3937C9.8029 10.1733 9.60675 10.0071 9.37766 9.9216C9.2058 9.85742 9.00388 9.85742 8.59998 9.85742Z","stroke","#326BF6","stroke-width","0.884063","stroke-linejoin","round"],["d","M10.9641 7.5H10.9699","stroke","#326BF6","stroke-width","1.17875","stroke-linecap","round","stroke-linejoin","round"],[1,"container-fluid","content-pdf"],["id","print-section"],[3,"ngSwitch"],[3,"quoteId","quoteInfo","selectedImg","templateInfo","clients","client","pages",4,"ngSwitchCase"],["class","container flex-1 d-flex p-0 justify-content-center align-items-center",4,"ngSwitchDefault"],[3,"quoteId","quoteInfo","selectedImg","templateInfo","clients","client","pages"],[1,"container","flex-1","d-flex","p-0","justify-content-center","align-items-center"],[2,"font-size","5mm","font-weight","600"],[1,"btn","btn-outline-danger",3,"disabled","click"],["d","M1.47839 4.11084L5.52482 6.40358C7.01659 7.24882 7.64688 7.24882 9.13866 6.40358L13.1851 4.11084","stroke","#FF0000","stroke-width","0.878001","stroke-linejoin","round"],["d","M1.48762 8.48701C1.52589 10.2814 1.54502 11.1786 2.20711 11.8432C2.86919 12.5078 3.79066 12.5309 5.63358 12.5772C6.76941 12.6058 7.89407 12.6058 9.02991 12.5772C10.8728 12.5309 11.7943 12.5078 12.4564 11.8432C13.1185 11.1786 13.1376 10.2814 13.1758 8.48701C13.1882 7.91005 13.1882 7.33654 13.1758 6.75957C13.1376 4.96521 13.1185 4.06802 12.4564 3.40342C11.7943 2.73881 10.8728 2.71566 9.02991 2.66936C7.89407 2.64081 6.76941 2.64081 5.63358 2.66935C3.79066 2.71565 2.86919 2.7388 2.20711 3.40341C1.54502 4.06802 1.52589 4.9652 1.48762 6.75957C1.47531 7.33654 1.47532 7.91005 1.48762 8.48701Z","stroke","#FF0000","stroke-width","0.878001","stroke-linejoin","round"],["pTooltip","This is a sample of what the client sees when you email a quote","tooltipPosition","top","tooltipStyleClass","primary-tooltip",1,"btn","btn-outline-danger"],[1,"btn","btn-outline-primary",3,"click"],["width","15","height","15","viewBox","0 0 15 15","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","progress-spinner-height progress-spinner-sm me-3","strokeWidth","4",4,"ngIf"],["d","M7.50249 9.37129V3.47754M7.50249 9.37129C7.08981 9.37129 6.31875 8.1959 6.02905 7.89785M7.50249 9.37129C7.91517 9.37129 8.68625 8.1959 8.97593 7.89785","stroke","#326BF6","stroke-width","0.884063","stroke-linecap","round","stroke-linejoin","round"],["d","M12.2175 10.5498C12.2175 12.0126 11.9122 12.3179 10.4494 12.3179H4.55563C3.0928 12.3179 2.78751 12.0126 2.78751 10.5498","stroke","#326BF6","stroke-width","0.884063","stroke-linecap","round","stroke-linejoin","round"],["strokeWidth","4",1,"progress-spinner-height","progress-spinner-sm","me-3"],["pTooltip","This is a sample of what the client sees when you email a quote","tooltipPosition","top","tooltipStyleClass","primary-tooltip",1,"btn","btn-outline-primary"]],template:function(i,a){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,b,2,0,"span",3),e.qZA(),e.TgZ(4,"div",4)(5,"a",5),e.NdJ("click",function(){return a.closePreviewMode()}),e.O4$(),e.TgZ(6,"svg",6),e._UZ(7,"path",7),e.qZA()()()(),e.YNc(8,S,9,2,"div",8),e.YNc(9,g,5,2,"div",9),e.kcU(),e.TgZ(10,"div",10)(11,"ul",11)(12,"li",12),e.YNc(13,c,5,2,"button",13),e.YNc(14,l,5,1,"ng-template",null,14,e.W1O),e.qZA(),e.TgZ(16,"li",12),e.YNc(17,L,5,3,"button",15),e.YNc(18,N,6,1,"ng-template",null,16,e.W1O),e.qZA()()()()),2&i){const p=e.MAs(15),u=e.MAs(19);e.xp6(3),e.Q6J("ngIf",!a.modeId),e.xp6(5),e.Q6J("ngIf",a.modeId),e.xp6(1),e.Q6J("ngIf",!a.loading),e.xp6(4),e.Q6J("ngIf",a.modeId)("ngIfElse",p),e.xp6(4),e.Q6J("ngIf",a.modeId)("ngIfElse",u)}},dependencies:[P.O5,P.RF,P.n9,P.ED,D.G,h.IH,d.G,y.u],styles:[".view-pdf-container[_ngcontent-%COMP%]{height:100vh;background:rgb(221,227,233)}.view-pdf-container[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:space-between;padding:10px 30px;background:#011c2c}.view-pdf-container[_ngcontent-%COMP%]   .main-header__title[_ngcontent-%COMP%]{font-size:14px;font-weight:400;color:#fff}.view-pdf-container[_ngcontent-%COMP%]   .main-header__title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.view-pdf-container[_ngcontent-%COMP%]   .main-header__close[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.view-pdf-container[_ngcontent-%COMP%]   .sub-header[_ngcontent-%COMP%]{padding:5px 25px;display:flex;justify-content:flex-end;background:#fff}.view-pdf-container[_ngcontent-%COMP%]   .sub-header__actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;font-weight:500;height:36px;border-radius:40px;padding:7px 15px!important}.view-pdf-container[_ngcontent-%COMP%]   .sub-header__actions[_ngcontent-%COMP%]   button.btn-outline-primary[_ngcontent-%COMP%]{background:#fff!important;border:1px solid #326bf6!important;color:#326bf6}.view-pdf-container[_ngcontent-%COMP%]   .sub-header__actions[_ngcontent-%COMP%]   button.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#326bf6!important;color:#fff!important}.view-pdf-container[_ngcontent-%COMP%]   .sub-header__actions[_ngcontent-%COMP%]   button.btn-outline-primary[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#fff!important}.view-pdf-container[_ngcontent-%COMP%]   .content-pdf[_ngcontent-%COMP%]{height:calc(100vh - 101px);padding-bottom:60px;margin-top:15px;overflow:auto}.view-pdf-container[_ngcontent-%COMP%]   .view-footer[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;height:50px;padding:10px 30px;background:#fff}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none;display:inline-flex;float:right}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{cursor:pointer;margin:4px 0}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px;font-weight:500;height:36px;border-radius:40px;padding:7px 15px!important}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]   button.btn-outline-primary[_ngcontent-%COMP%]{background:#fff!important;border:1px solid #326bf6!important;color:#326bf6}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]   button.btn-outline-primary[_ngcontent-%COMP%]:hover{background:#326bf6!important;color:#fff!important}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]   button.btn-outline-primary[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#fff!important}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]   button.btn-outline-danger[_ngcontent-%COMP%]{background:rgba(255,0,0,.05)!important;border:1px solid rgba(255,0,0,.25)!important;color:red!important}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]   button.btn-outline-danger[_ngcontent-%COMP%]:hover{background:rgb(255,0,0)!important;color:#fff!important}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]   button.btn-outline-danger[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:#fff!important}.view-pdf-container[_ngcontent-%COMP%]   .view-footer__items__item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:4px}#print-section[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:auto}#print-section-loader[_ngcontent-%COMP%]{max-width:215.9mm}"]})),m})()},12263:(B,O,o)=>{o.r(O),o.d(O,{PreviewModule:()=>D});var n=o(81180),x=o(96814),t=o(21051),I=o(48983),E=o(65118),C=o(97680),Z=o(33259),e=o(12236),M=o(23123),v=o(99468);const f=[{path:":quoteId/:modeId",component:M.B}];let P=(()=>{var h;class d{}return h=d,(0,n.Z)(d,"\u0275fac",function(b){return new(b||h)}),(0,n.Z)(d,"\u0275mod",v.oAB({type:h})),(0,n.Z)(d,"\u0275inj",v.cJS({imports:[e.Bz.forChild(f),e.Bz]})),d})(),D=(()=>{var h;class d{}return h=d,(0,n.Z)(d,"\u0275fac",function(b){return new(b||h)}),(0,n.Z)(d,"\u0275mod",v.oAB({type:h})),(0,n.Z)(d,"\u0275inj",v.cJS({providers:[E.xA],imports:[x.ez,P,t.$,I.K8,C.L,Z.z]})),d})()},21051:(B,O,o)=>{o.d(O,{$:()=>M});var n=o(81180),x=o(96814),t=o(56223),I=o(41219),E=o(40031),C=o(35732),Z=o(97680),e=o(99468);let M=(()=>{var v;class f{}return v=f,(0,n.Z)(f,"\u0275fac",function(D){return new(D||v)}),(0,n.Z)(f,"\u0275mod",e.oAB({type:v})),(0,n.Z)(f,"\u0275inj",e.cJS({imports:[x.ez,t.u5,E.o,I.ClientsModule,C.A,Z.L]})),f})()},86977:(B,O,o)=>{o.d(O,{G:()=>Q});var n=o(81180),x=o(53199),t=o(99468),I=o(44328),E=o(12236),C=o(96814),Z=o(64484),e=o(67919),M=o(6602),v=o(97256),f=o(27636);function P(_,g){if(1&_&&(t.ynx(0),t._UZ(1,"app-cover",4),t.BQk()),2&_){const c=t.oxw(2);t.xp6(1),t.Q6J("selectedImg",c.selectedImg)("templateInfo",c.templateInfo)("quoteName",c.quoteInfo.name)("clients",c.clients)("client",c.client)("isTemplateType",c.templateViewTypesEnum.PreviewTemplate)}}function D(_,g){if(1&_&&t._UZ(0,"app-signature-new",6),2&_){const c=t.oxw(2).$implicit,l=t.oxw();t.Q6J("isTemplateType",l.templateViewTypesEnum.PreviewTemplate)("data",c)("quoteId",l.quoteId)}}function h(_,g){if(1&_&&(t.ynx(0),t.YNc(1,D,1,3,"app-signature-new",5),t.BQk()),2&_){const c=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",c&&c.jsonValue)}}function d(_,g){if(1&_&&(t.ynx(0),t._UZ(1,"app-image-text-list-new",7),t.BQk()),2&_){const c=t.oxw().$implicit,l=t.oxw();t.xp6(1),t.Q6J("isTemplateType",l.templateViewTypesEnum.PreviewTemplate)("data",c)}}function y(_,g){if(1&_&&(t.ynx(0),t._UZ(1,"app-free-text-new",7),t.BQk()),2&_){const c=t.oxw().$implicit,l=t.oxw();t.xp6(1),t.Q6J("isTemplateType",l.templateViewTypesEnum.PreviewTemplate)("data",c)}}function b(_,g){if(1&_&&(t.ynx(0),t._UZ(1,"app-price-list-new",7),t.BQk()),2&_){const c=t.oxw().$implicit,l=t.oxw();t.xp6(1),t.Q6J("isTemplateType",l.templateViewTypesEnum.PreviewTemplate)("data",c)}}function S(_,g){if(1&_&&(t.TgZ(0,"div"),t.ynx(1,2),t.YNc(2,P,2,6,"ng-container",3),t.YNc(3,h,2,1,"ng-container",3),t.YNc(4,d,2,2,"ng-container",3),t.YNc(5,y,2,2,"ng-container",3),t.YNc(6,b,2,2,"ng-container",3),t.BQk(),t.qZA()),2&_){const c=g.$implicit,l=t.oxw();t.xp6(1),t.Q6J("ngSwitch",c.key),t.xp6(1),t.Q6J("ngSwitchCase",l.quotePageTypes.TEMPLATE),t.xp6(1),t.Q6J("ngSwitchCase",l.quotePageTypes.APPROVAL),t.xp6(1),t.Q6J("ngSwitchCase",l.quotePageTypes.INSPECTION_REPORT),t.xp6(1),t.Q6J("ngSwitchCase",l.quotePageTypes.PROJECT_DESCRIPTION),t.xp6(1),t.Q6J("ngSwitchCase",l.quotePageTypes.PROJECT_COST)}}let Q=(()=>{var _;class g{constructor(l,U){(0,n.Z)(this,"_quoteDetailService",void 0),(0,n.Z)(this,"route",void 0),(0,n.Z)(this,"templateViewTypesEnum",x.e3),(0,n.Z)(this,"priceListJson",{}),(0,n.Z)(this,"quoteInfo",void 0),(0,n.Z)(this,"pages",void 0),(0,n.Z)(this,"selectedImg",void 0),(0,n.Z)(this,"templateInfo",void 0),(0,n.Z)(this,"client",void 0),(0,n.Z)(this,"clients",[]),(0,n.Z)(this,"quotePageTypes",x.Yh),(0,n.Z)(this,"loading",!0),(0,n.Z)(this,"quoteId",void 0),this._quoteDetailService=l,this.route=U}ngOnInit(){}}return _=g,(0,n.Z)(g,"\u0275fac",function(l){return new(l||_)(t.Y36(I.xCW),t.Y36(E.gz))}),(0,n.Z)(g,"\u0275cmp",t.Xpm({type:_,selectors:[["app-section-templates-container-preview"]],inputs:{quoteInfo:"quoteInfo",pages:"pages",selectedImg:"selectedImg",templateInfo:"templateInfo",client:"client",clients:"clients",quoteId:"quoteId"},decls:3,vars:1,consts:[[1,"section","d-flex","flex-column",2,"gap","30px","padding","20px 0","margin","0 auto"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[2,"margin","0 auto",3,"selectedImg","templateInfo","quoteName","clients","client","isTemplateType"],["style","margin: 0 auto",3,"isTemplateType","data","quoteId",4,"ngIf"],[2,"margin","0 auto",3,"isTemplateType","data","quoteId"],[2,"margin","0 auto",3,"isTemplateType","data"]],template:function(l,U){1&l&&(t.TgZ(0,"div")(1,"div",0),t.YNc(2,S,7,6,"div",1),t.qZA()()),2&l&&(t.xp6(2),t.Q6J("ngForOf",U.pages))},dependencies:[C.sg,C.O5,C.RF,C.n9,Z.i,e.z,M.D,v.l,f.w],styles:[".section[_ngcontent-%COMP%]{max-width:215.9mm}"]})),g})()}}]);