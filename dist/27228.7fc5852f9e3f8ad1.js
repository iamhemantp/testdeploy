"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[27228],{52134:(D,y,l)=>{l.r(y),l.d(y,{UsersModule:()=>Ct});var a=l(81180),w=l(8387),P=l(40031),b=l(12236),x=l(15047),E=l(47530),U=l(41840),h=l(44328),v=l(64716),e=l(99468),T=l(12990),q=l(98547),S=l(69862),N=l(71536),L=l(58399),Z=l(96814),p=l(56223),A=l(73552),J=l(32925),m=l(94901),c=l(56916),_=l(85219),f=l(51712),u=l(3291);function C(n,s){if(1&n&&(e.TgZ(0,"option",3),e._uU(1),e.qZA()),2&n){const i=s.$implicit;e.Q6J("value",i.id),e.xp6(1),e.Oqu(i.displayName)}}let M=(()=>{var n;class s extends U.c{constructor(o,t){super(t),(0,a.Z)(this,"_roleService",void 0),(0,a.Z)(this,"roles",[]),(0,a.Z)(this,"selectedRole",new p.p4("")),(0,a.Z)(this,"onTouched",()=>{}),this._roleService=o}ngOnInit(){this._roleService.getRoles(new h.mik({permissions:[]})).subscribe(o=>{this.roles=o.items})}writeValue(o){this.selectedRole&&this.selectedRole.setValue(o)}registerOnChange(o){this.selectedRole.valueChanges.subscribe(o)}registerOnTouched(o){this.onTouched=o}setDisabledState(o){o?this.selectedRole.disable():this.selectedRole.enable()}}return n=s,(0,a.Z)(s,"\u0275fac",function(o){return new(o||n)(e.Y36(h.AR1),e.Y36(e.zs3))}),(0,a.Z)(s,"\u0275cmp",e.Xpm({type:n,selectors:[["role-combo"]],features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>n),multi:!0}]),e.qOj],decls:5,vars:5,consts:[[1,"form-select",3,"formControl"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(o,t){1&o&&(e.TgZ(0,"select",0)(1,"option",1),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.YNc(4,C,2,2,"option",2),e.qZA()),2&o&&(e.Q6J("formControl",t.selectedRole),e.xp6(2),e.Oqu(e.lcZ(3,3,"FilterByRole")),e.xp6(2),e.Q6J("ngForOf",t.roles))},dependencies:[Z.sg,p.YN,p.Kr,p.EJ,p.JJ,p.oH,u.F],encapsulation:2})),s})();var G=l(59170),Y=l(57102),K=l(68989),B=l(50387),z=l(24142),V=l(40457);const W=["dynamicEntityPropertyValueManager"],$=["manageDynamicEntityParameterValuesModal"];function X(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"span",7),e._uU(5),e.ALo(6,"localize"),e.qZA(),e._uU(7),e.qZA(),e.TgZ(8,"div",8)(9,"span",7),e._uU(10),e.ALo(11,"localize"),e.qZA(),e._uU(12),e.qZA()(),e.TgZ(13,"div",9)(14,"dynamic-entity-property-value-manager",10,11),e.NdJ("onSaveDone",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.close())}),e.qZA()(),e.TgZ(16,"div",12)(17,"button",13),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.close())}),e._uU(18),e.ALo(19,"localize"),e.qZA(),e.TgZ(20,"button",14),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.saveAll())}),e._uU(21),e.ALo(22,"localize"),e.qZA()()()()}if(2&n){const i=e.oxw();e.xp6(5),e.hij("",e.lcZ(6,8,"EntityFullName"),":"),e.xp6(2),e.hij(" ",i.entityFullName," "),e.xp6(3),e.hij("",e.lcZ(11,10,"EntityId"),":"),e.xp6(2),e.hij(" ",i.entityId," "),e.xp6(2),e.Q6J("entityFullName",i.entityFullName)("entityId",i.entityId),e.xp6(4),e.hij(" ",e.lcZ(19,12,"Cancel")," "),e.xp6(3),e.hij(" ",e.lcZ(22,14,"Save")," ")}}const ee=function(){return{backdrop:"static"}};let te=(()=>{var n;class s extends U.c{constructor(o){super(o),(0,a.Z)(this,"dynamicEntityPropertyValueManager",void 0),(0,a.Z)(this,"modal",void 0),(0,a.Z)(this,"entityFullName",void 0),(0,a.Z)(this,"entityId",void 0),(0,a.Z)(this,"initialized",!1)}saveAll(){this.dynamicEntityPropertyValueManager.saveAll()}close(){this.modal.hide()}show(o,t){this.entityFullName=o,this.entityId=t,this.dynamicEntityPropertyValueManager&&(this.dynamicEntityPropertyValueManager.entityFullName=o,this.dynamicEntityPropertyValueManager.entityId=t,this.dynamicEntityPropertyValueManager.initialize()),this.initialized=!0,this.modal.show()}}return n=s,(0,a.Z)(s,"\u0275fac",function(o){return new(o||n)(e.Y36(e.zs3))}),(0,a.Z)(s,"\u0275cmp",e.Xpm({type:n,selectors:[["manage-dynamic-entity-property-values-modal"]],viewQuery:function(o,t){if(1&o&&(e.Gf(W,5),e.Gf($,5)),2&o){let r;e.iGM(r=e.CRH())&&(t.dynamicEntityPropertyValueManager=r.first),e.iGM(r=e.CRH())&&(t.modal=r.first)}},features:[e.qOj],decls:3,vars:3,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","manageDynamicEntityParameterValuesModal","aria-hidden","true",1,"modal","fade",3,"config"],["manageDynamicEntityParameterValuesModal","bs-modal"],["class","modal-dialog modal-lg",4,"ngIf"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"float-left"],[1,"fw-bold"],[1,"float-end"],[1,"modal-body"],[3,"entityFullName","entityId","onSaveDone"],["dynamicEntityPropertyValueManager",""],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"click"],["type","button",1,"btn","btn-primary","fw-bold",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0,1),e.YNc(2,X,23,16,"div",2),e.qZA()),2&o&&(e.Q6J("config",e.DdM(2,ee)),e.xp6(2),e.Q6J("ngIf",t.initialized))},dependencies:[Z.O5,z.Z,V.J,u.F],encapsulation:2})),s})();const oe=["dynamicPropertiesModal"];let ie=(()=>{var n;class s{constructor(o,t){(0,a.Z)(this,"_dynamicEntityProperty",void 0),(0,a.Z)(this,"_permissionCheckerService",void 0),(0,a.Z)(this,"dynamicPropertiesModal",void 0),(0,a.Z)(this,"entityNamesHasDynamicProperty",void 0),this._dynamicEntityProperty=o,this._permissionCheckerService=t}ngOnInit(){this.hasPermission()&&this._dynamicEntityProperty.getAllEntitiesHasDynamicProperty().subscribe(o=>{o&&o.items&&(this.entityNamesHasDynamicProperty=o.items.map(t=>t.entityFullName))})}hasPermission(){return this._permissionCheckerService.isGranted("Pages.Administration.DynamicEntityProperties")&&this._permissionCheckerService.isGranted("Pages.Administration.DynamicEntityPropertyValue.Edit")}hasEntity(o){return this.entityNamesHasDynamicProperty.indexOf(o)>-1}canShow(o){return this.hasPermission()&&this.hasEntity(o)}getModal(){return this.dynamicPropertiesModal}}return n=s,(0,a.Z)(s,"\u0275fac",function(o){return new(o||n)(e.Y36(h.kvd),e.Y36(B.qT))}),(0,a.Z)(s,"\u0275cmp",e.Xpm({type:n,selectors:[["dynamic-entity-property-manager"]],viewQuery:function(o,t){if(1&o&&e.Gf(oe,7),2&o){let r;e.iGM(r=e.CRH())&&(t.dynamicPropertiesModal=r.first)}},decls:2,vars:0,consts:[["dynamicPropertiesModal",""]],template:function(o,t){1&o&&e._UZ(0,"manage-dynamic-entity-property-values-modal",null,0)},dependencies:[te],encapsulation:2})),s})();var R=l(45513),ne=l(99824),F=l(79917);const re=["editModal"],se=["permissionTree"];function ae(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.hij("- ",i.userName,"")}}const le=function(n){return{backdrop:"static",keyboard:n}};let de=(()=>{var n;class s extends U.c{constructor(o,t){super(o),(0,a.Z)(this,"_userService",void 0),(0,a.Z)(this,"modal",void 0),(0,a.Z)(this,"permissionTree",void 0),(0,a.Z)(this,"saving",!1),(0,a.Z)(this,"resettingPermissions",!1),(0,a.Z)(this,"userId",void 0),(0,a.Z)(this,"userName",void 0),this._userService=t}show(o,t){this.userId=o,this.userName=t,this._userService.getUserPermissionsForEdit(o).subscribe(r=>{this.permissionTree.editData=r,this.modal.show()})}save(){let o=new h.Ble;o.id=this.userId,o.grantedPermissionNames=this.permissionTree.getGrantedPermissionNames(),this.saving=!0,this._userService.updateUserPermissions(o).pipe((0,v.x)(()=>{this.saving=!1})).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close()})}resetPermissions(){let o=new h.QJI;o.id=this.userId,this.resettingPermissions=!0,this._userService.resetUserSpecificPermissions(o).subscribe({next:()=>{this.notify.info(this.l("ResetSuccessfully")),this._userService.getUserPermissionsForEdit(this.userId).subscribe(t=>{this.permissionTree.editData=t})},complete:()=>{this.resettingPermissions=!1}})}close(){this.modal.hide()}}return n=s,(0,a.Z)(s,"\u0275fac",function(o){return new(o||n)(e.Y36(e.zs3),e.Y36(h.wKd))}),(0,a.Z)(s,"\u0275cmp",e.Xpm({type:n,selectors:[["editUserPermissionsModal"]],viewQuery:function(o,t){if(1&o&&(e.Gf(re,7),e.Gf(se,5)),2&o){let r;e.iGM(r=e.CRH())&&(t.modal=r.first),e.iGM(r=e.CRH())&&(t.permissionTree=r.first)}},features:[e.qOj],decls:34,vars:31,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","editModal","aria-hidden","true",1,"modal","fade",3,"config"],["editModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit"],["userForm","ngForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],["permissionTree",""],[1,"alert","alert-warning",2,"margin-bottom","0","margin-top","15px"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold","pull-left",3,"disabled","buttonBusy","busyText","tooltip","click"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"form",4,5),e.NdJ("ngSubmit",function(){return t.save()}),e.TgZ(6,"div",6)(7,"h4",7)(8,"span"),e._uU(9),e.ALo(10,"localize"),e.YNc(11,ae,2,1,"span",8),e.qZA()(),e.TgZ(12,"button",9),e.NdJ("click",function(){return t.close()}),e.qZA()(),e.TgZ(13,"div",10),e._UZ(14,"permission-tree",null,11),e.TgZ(16,"div",12)(17,"em"),e._uU(18),e.ALo(19,"localize"),e.qZA()()(),e.TgZ(20,"div",13)(21,"button",14),e.NdJ("click",function(){return t.resetPermissions()}),e.ALo(22,"localize"),e.TgZ(23,"span"),e._uU(24),e.ALo(25,"localize"),e.qZA()(),e.TgZ(26,"button",15),e.NdJ("click",function(){return t.close()}),e._uU(27),e.ALo(28,"localize"),e.qZA(),e.TgZ(29,"button",16),e._UZ(30,"i",17),e.TgZ(31,"span"),e._uU(32),e.ALo(33,"localize"),e.qZA()()()()()()()),2&o){const r=e.MAs(5);e.Q6J("config",e.VKq(29,le,!t.saving)),e.xp6(9),e.hij(" ",e.lcZ(10,17,"Permissions")," "),e.xp6(2),e.Q6J("ngIf",t.userName),e.xp6(1),e.Q6J("disabled",t.saving),e.uIk("aria-label",t.l("Close")),e.xp6(6),e.Oqu(e.lcZ(19,19,"Note_RefreshPageForPermissionChanges")),e.xp6(3),e.s9C("tooltip",e.lcZ(22,21,"ResetPermissionsTooltip")),e.Q6J("disabled",t.saving)("buttonBusy",t.resettingPermissions)("busyText",t.l("SavingWithThreeDot")),e.xp6(3),e.Oqu(e.lcZ(25,23,"ResetSpecialPermissions")),e.xp6(2),e.Q6J("disabled",t.saving||t.resettingPermissions),e.xp6(1),e.hij(" ",e.lcZ(28,25,"Cancel")," "),e.xp6(2),e.Q6J("disabled",!r.form.valid||t.resettingPermissions)("buttonBusy",t.saving)("busyText",t.l("SavingWithThreeDot")),e.xp6(3),e.Oqu(e.lcZ(33,27,"Save"))}},dependencies:[Z.O5,p._Y,p.JL,p.F,R.L,z.Z,ne.I,F.i9,u.F],encapsulation:2})),s})();var ce=l(74550),Q=l(66232),I=l(14647),pe=l(78176),me=l(24276),ue=l(42152),ge=l(87672),_e=l(51419),k=l(83410);const he=["createOrEditModal"],fe=["organizationUnitTree"];function xe(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n){const i=e.oxw(2);e.xp6(1),e.AsE("",e.lcZ(2,2,"EditUser"),": ",i.user.userName,"")}}function Ze(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"CreateNewUser")))}function Ce(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2),r=e.MAs(6);return e.KtG(r.show(t.user.id))}),e._uU(1),e.ALo(2,"localize"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"ChangeProfilePicture")," "))}function Ue(n,s){1&n&&(e.TgZ(0,"span",59),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"CanNotChangeAdminUserName")," "))}function ve(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",20)(1,"div",60)(2,"label",61),e._uU(3),e.ALo(4,"localize"),e.qZA(),e.TgZ(5,"input",62,63),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw(2);return e.KtG(r.user.password=t)}),e.qZA()()()}if(2&n){const i=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,8,"Password")),e.xp6(2),e.Q6J("ngModel",i.user.password)("required",!i.user.id&&!i.setRandomPassword)("requireDigit",i.passwordComplexitySetting.requireDigit)("requireLowercase",i.passwordComplexitySetting.requireLowercase)("requireUppercase",i.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",i.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",i.passwordComplexitySetting.requiredLength)}}function be(n,s){if(1&n&&(e.TgZ(0,"ul",64)(1,"li",44),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",44),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",44),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",44),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",44),e._uU(14),e.ALo(15,"localize"),e.qZA()()),2&n){e.oxw();const i=e.MAs(1),o=e.oxw();e.xp6(1),e.Q6J("hidden",!i.controls.Password.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,10,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!i.controls.Password.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,12,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!i.controls.Password.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,14,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!i.controls.Password.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,16,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!i.controls.Password.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,18,"PasswordComplexity_RequiredLength_Hint",o.passwordComplexitySetting.requiredLength)," ")}}function Ae(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",20)(1,"div",60)(2,"label",65),e._uU(3),e.ALo(4,"localize"),e.qZA(),e.TgZ(5,"input",66,67),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw(2);return e.KtG(r.userPasswordRepeat=t)}),e.qZA()()()}if(2&n){const i=e.oxw(2);e.xp6(3),e.hij(" ",e.lcZ(4,8,"PasswordRepeat")," "),e.xp6(2),e.Q6J("ngModel",i.userPasswordRepeat)("required",!i.user.id&&!i.setRandomPassword)("requireDigit",i.passwordComplexitySetting.requireDigit)("requireLowercase",i.passwordComplexitySetting.requireLowercase)("requireUppercase",i.passwordComplexitySetting.requireUppercase)("requireNonAlphanumeric",i.passwordComplexitySetting.requireNonAlphanumeric)("requiredLength",i.passwordComplexitySetting.requiredLength)}}function ye(n,s){if(1&n&&(e.TgZ(0,"ul",64)(1,"li",44),e._uU(2),e.ALo(3,"localize"),e.qZA(),e.TgZ(4,"li",44),e._uU(5),e.ALo(6,"localize"),e.qZA(),e.TgZ(7,"li",44),e._uU(8),e.ALo(9,"localize"),e.qZA(),e.TgZ(10,"li",44),e._uU(11),e.ALo(12,"localize"),e.qZA(),e.TgZ(13,"li",44),e._uU(14),e.ALo(15,"localize"),e.qZA(),e.TgZ(16,"li",44),e._uU(17),e.ALo(18,"localize"),e.qZA()()),2&n){e.oxw();const i=e.MAs(1),o=e.oxw();e.xp6(1),e.Q6J("hidden",!i.controls.PasswordRepeat.errors.requireDigit),e.xp6(1),e.hij(" ",e.lcZ(3,12,"PasswordComplexity_RequireDigit_Hint")," "),e.xp6(2),e.Q6J("hidden",!i.controls.PasswordRepeat.errors.requireLowercase),e.xp6(1),e.hij(" ",e.lcZ(6,14,"PasswordComplexity_RequireLowercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!i.controls.PasswordRepeat.errors.requireUppercase),e.xp6(1),e.hij(" ",e.lcZ(9,16,"PasswordComplexity_RequireUppercase_Hint")," "),e.xp6(2),e.Q6J("hidden",!i.controls.PasswordRepeat.errors.requireNonAlphanumeric),e.xp6(1),e.hij(" ",e.lcZ(12,18,"PasswordComplexity_RequireNonAlphanumeric_Hint")," "),e.xp6(2),e.Q6J("hidden",!i.controls.PasswordRepeat.errors.requiredLength),e.xp6(1),e.hij(" ",e.xi3(15,20,"PasswordComplexity_RequiredLength_Hint",o.passwordComplexitySetting.requiredLength)," "),e.xp6(2),e.Q6J("hidden",i.controls.PasswordRepeat.valid),e.xp6(1),e.hij(" ",e.lcZ(18,23,"PasswordsDontMatch")," ")}}function Te(n,s){1&n&&(e.TgZ(0,"span",59),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"SMTPSettingsNotProvidedWarningText")," "))}function Me(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"label",40)(1,"input",68),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw(2);return e.KtG(r.user.isTwoFactorEnabled=t)}),e.qZA(),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"localize"),e.qZA()()}if(2&n){const i=e.oxw(2);e.xp6(1),e.Q6J("ngModel",i.user.isTwoFactorEnabled),e.xp6(2),e.hij(" ",e.lcZ(4,2,"IsTwoFactorEnabled")," ")}}function we(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"label",40)(1,"input",69),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw(2);return e.KtG(r.user.isLockoutEnabled=t)}),e.qZA(),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"localize"),e.qZA()()}if(2&n){const i=e.oxw(2);e.xp6(1),e.Q6J("ngModel",i.user.isLockoutEnabled),e.xp6(2),e.hij(" ",e.lcZ(4,2,"IsLockoutEnabled")," ")}}function Pe(n,s){if(1&n&&(e.TgZ(0,"span",70),e._uU(1),e.qZA()),2&n){const i=e.oxw(2);e.xp6(1),e.hij(" ",i.getAssignedRoleCount()," ")}}function Ee(n,s){1&n&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" (",e.lcZ(2,1,"RoleIsInheritedFromOrganizationUnit"),") "))}function qe(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",71)(1,"label",40)(2,"input",72),e.NdJ("ngModelChange",function(t){const g=e.CHM(i).$implicit;return e.KtG(g.isAssigned=t)}),e.qZA(),e.TgZ(3,"span",42),e._uU(4),e.YNc(5,Ee,3,3,"small",11),e.qZA()()()}if(2&n){const i=s.$implicit;e.xp6(2),e.MGl("id","EditUser_",i.roleName,""),e.s9C("name",i.roleName),e.Q6J("ngModel",i.isAssigned)("disabled",i.inheritedFromOrganizationUnit),e.xp6(2),e.hij(" ",i.roleDisplayName," "),e.xp6(1),e.Q6J("ngIf",i.inheritedFromOrganizationUnit)}}function Se(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"form",7,8),e.NdJ("ngSubmit",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.save())}),e.TgZ(2,"div",9)(3,"h4",10),e.YNc(4,xe,3,4,"span",11),e.YNc(5,Ze,3,3,"span",11),e.qZA(),e.TgZ(6,"button",12),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.close())}),e.qZA()(),e.TgZ(7,"div",13)(8,"tabset")(9,"tab",14),e.ALo(10,"localize"),e.TgZ(11,"div",15)(12,"div",16),e._UZ(13,"img",17),e.YNc(14,Ce,3,3,"button",18),e.ALo(15,"permission"),e.qZA(),e.TgZ(16,"div",19)(17,"div",20)(18,"label",21),e._uU(19),e.ALo(20,"localize"),e.qZA(),e.TgZ(21,"input",22,23),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.user.name=t)}),e.qZA(),e._UZ(23,"validation-messages",24),e.qZA(),e.TgZ(24,"div",20)(25,"label",25),e._uU(26),e.ALo(27,"localize"),e.qZA(),e.TgZ(28,"input",26,27),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.user.surname=t)}),e.qZA(),e._UZ(30,"validation-messages",24),e.qZA()()(),e.TgZ(31,"div",20)(32,"label",28),e._uU(33),e.ALo(34,"localize"),e.qZA(),e.TgZ(35,"input",29,30),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.user.emailAddress=t)}),e.qZA(),e._UZ(37,"validation-messages",24),e.qZA(),e.TgZ(38,"div",20)(39,"label",31),e._uU(40),e.ALo(41,"localize"),e.qZA(),e.TgZ(42,"input",32),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.user.phoneNumber=t)}),e.qZA()(),e.TgZ(43,"div",20)(44,"label",33),e._uU(45),e.ALo(46,"localize"),e.qZA(),e.TgZ(47,"div",34)(48,"input",35,36),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.user.userName=t)}),e.qZA(),e.TgZ(50,"span",37),e.ALo(51,"localize"),e._UZ(52,"i",38),e.qZA()(),e.YNc(53,Ue,3,3,"span",39),e._UZ(54,"validation-messages",24),e.qZA(),e.TgZ(55,"label",40)(56,"input",41),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.setRandomPassword=t)}),e.qZA(),e.TgZ(57,"span",42),e._uU(58),e.ALo(59,"localize"),e.qZA()(),e.YNc(60,ve,7,10,"div",43),e.TgZ(61,"div",44),e.YNc(62,be,16,21,"ul",45),e.qZA(),e.YNc(63,Ae,7,10,"div",43),e.TgZ(64,"div",44),e.YNc(65,ye,19,25,"ul",45),e.qZA(),e.TgZ(66,"label",40)(67,"input",46),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.user.shouldChangePasswordOnNextLogin=t)}),e.qZA(),e.TgZ(68,"span",42),e._uU(69),e.ALo(70,"localize"),e.qZA()(),e.YNc(71,Te,3,3,"span",39),e.TgZ(72,"label",40)(73,"input",47),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.sendActivationEmail=t)}),e.qZA(),e.TgZ(74,"span",42),e._uU(75),e.ALo(76,"localize"),e.qZA()(),e.TgZ(77,"label",40)(78,"input",48),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.user.isActive=t)}),e.qZA(),e.TgZ(79,"span",42),e._uU(80),e.ALo(81,"localize"),e.qZA()(),e.YNc(82,Me,5,4,"label",49),e.YNc(83,we,5,4,"label",49),e.qZA(),e.TgZ(84,"tab",14),e.ALo(85,"localize"),e.YNc(86,Pe,2,1,"ng-template",50),e.TgZ(87,"div",15),e.YNc(88,qe,6,6,"div",51),e.qZA()(),e.TgZ(89,"tab",14),e.ALo(90,"localize"),e._UZ(91,"organization-unit-tree",52,53),e.qZA()()(),e.TgZ(93,"div",54)(94,"button",55),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.close())}),e._uU(95),e.ALo(96,"localize"),e.qZA(),e.TgZ(97,"button",56),e._UZ(98,"i",57),e.TgZ(99,"span"),e._uU(100),e.ALo(101,"localize"),e.qZA()()()()}if(2&n){const i=e.MAs(1),o=e.MAs(22),t=e.MAs(29),r=e.MAs(36),g=e.MAs(49),d=e.oxw();e.xp6(4),e.Q6J("ngIf",d.user.id),e.xp6(1),e.Q6J("ngIf",!d.user.id),e.xp6(1),e.Q6J("disabled",d.saving),e.uIk("aria-label",d.l("Close")),e.xp6(3),e.s9C("heading",e.lcZ(10,54,"UserInformations")),e.xp6(4),e.s9C("src",d.profilePicture,e.LSH),e.xp6(1),e.Q6J("ngIf",e.lcZ(15,56,"Pages.Administration.Users.ChangeProfilePicture")),e.xp6(5),e.hij("",e.lcZ(20,58,"FirstName")," *"),e.xp6(2),e.Q6J("ngModel",d.user.name),e.xp6(2),e.Q6J("formCtrl",o),e.xp6(3),e.hij("",e.lcZ(27,60,"Surname")," *"),e.xp6(2),e.Q6J("ngModel",d.user.surname),e.xp6(2),e.Q6J("formCtrl",t),e.xp6(3),e.hij("",e.lcZ(34,62,"EmailAddress")," *"),e.xp6(2),e.Q6J("ngModel",d.user.emailAddress),e.xp6(2),e.Q6J("formCtrl",r),e.xp6(3),e.Oqu(e.lcZ(41,64,"PhoneNumber")),e.xp6(2),e.Q6J("ngModel",d.user.phoneNumber),e.xp6(3),e.hij("",e.lcZ(46,66,"UserName")," *"),e.xp6(3),e.Q6J("disabled",!d.canChangeUserName)("ngModel",d.user.userName),e.xp6(2),e.s9C("tooltip",e.xi3(51,68,"AllowedUserNameCharactersInfoText",d.allowedUserNameCharacters)),e.xp6(3),e.Q6J("ngIf",!d.canChangeUserName),e.xp6(1),e.Q6J("formCtrl",g),e.xp6(2),e.Q6J("ngModel",d.setRandomPassword),e.xp6(2),e.hij(" ",e.lcZ(59,71,"SetRandomPassword")," "),e.xp6(2),e.Q6J("ngIf",!d.setRandomPassword),e.xp6(1),e.Q6J("hidden",d.setRandomPassword||i.form.valid||i.form.pristine),e.xp6(1),e.Q6J("ngIf",i.controls.Password&&i.controls.Password.errors),e.xp6(1),e.Q6J("ngIf",!d.setRandomPassword),e.xp6(1),e.Q6J("hidden",d.setRandomPassword||i.form.valid||i.form.pristine),e.xp6(1),e.Q6J("ngIf",i.controls.PasswordRepeat&&i.controls.PasswordRepeat.errors),e.xp6(2),e.Q6J("ngModel",d.user.shouldChangePasswordOnNextLogin),e.xp6(2),e.hij(" ",e.lcZ(70,73,"ShouldChangePasswordOnNextLogin")," "),e.xp6(2),e.Q6J("ngIf",!d.isSMTPSettingsProvided),e.xp6(1),e.ekj("checkbox-disabled",!d.isSMTPSettingsProvided),e.xp6(1),e.Q6J("ngModel",d.sendActivationEmail)("disabled",!d.isSMTPSettingsProvided),e.xp6(2),e.hij(" ",e.lcZ(76,75,"SendActivationEmail")," "),e.xp6(3),e.Q6J("ngModel",d.user.isActive),e.xp6(2),e.hij(" ",e.lcZ(81,77,"Active")," "),e.xp6(2),e.Q6J("ngIf",d.isTwoFactorEnabled),e.xp6(1),e.Q6J("ngIf",d.isLockoutEnabled),e.xp6(1),e.s9C("heading",e.lcZ(85,79,"Roles")),e.xp6(4),e.Q6J("ngForOf",d.roles),e.xp6(1),e.s9C("heading",e.lcZ(90,81,"OrganizationUnits")),e.xp6(2),e.Q6J("cascadeSelectEnabled",!1),e.xp6(3),e.Q6J("disabled",d.saving),e.xp6(1),e.hij(" ",e.lcZ(96,83,"Cancel")," "),e.xp6(2),e.Q6J("disabled",!i.form.valid)("buttonBusy",d.saving)("busyText",d.l("SavingWithThreeDot")),e.xp6(3),e.Oqu(e.lcZ(101,85,"Save"))}}const Ne=function(n){return{backdrop:"static",keyboard:n}};let Le=(()=>{var n;class s extends U.c{constructor(o,t,r){super(o),(0,a.Z)(this,"_userService",void 0),(0,a.Z)(this,"_profileService",void 0),(0,a.Z)(this,"modal",void 0),(0,a.Z)(this,"organizationUnitTree",void 0),(0,a.Z)(this,"modalSave",new e.vpe),(0,a.Z)(this,"active",!1),(0,a.Z)(this,"saving",!1),(0,a.Z)(this,"canChangeUserName",!0),(0,a.Z)(this,"isTwoFactorEnabled",this.setting.getBoolean("Abp.Zero.UserManagement.TwoFactorLogin.IsEnabled")),(0,a.Z)(this,"isLockoutEnabled",this.setting.getBoolean("Abp.Zero.UserManagement.UserLockOut.IsEnabled")),(0,a.Z)(this,"passwordComplexitySetting",new h.qSp),(0,a.Z)(this,"user",new h.rO3),(0,a.Z)(this,"roles",void 0),(0,a.Z)(this,"sendActivationEmail",!0),(0,a.Z)(this,"setRandomPassword",!0),(0,a.Z)(this,"passwordComplexityInfo",""),(0,a.Z)(this,"profilePicture",void 0),(0,a.Z)(this,"allowedUserNameCharacters",""),(0,a.Z)(this,"isSMTPSettingsProvided",!1),(0,a.Z)(this,"allOrganizationUnits",void 0),(0,a.Z)(this,"memberedOrganizationUnits",void 0),(0,a.Z)(this,"userPasswordRepeat",""),this._userService=t,this._profileService=r}show(o){o||(this.active=!0,this.setRandomPassword=!0,this.sendActivationEmail=!0),this._userService.getUserForEdit(o).subscribe(t=>{this.user=t.user,this.roles=t.roles,this.canChangeUserName=this.user.userName!==x.g.userManagement.defaultAdminUserName,this.allowedUserNameCharacters=t.allowedUserNameCharacters,this.isSMTPSettingsProvided=t.isSMTPSettingsProvided,this.sendActivationEmail=t.isSMTPSettingsProvided,this.allOrganizationUnits=t.allOrganizationUnits,this.memberedOrganizationUnits=t.memberedOrganizationUnits,this.getProfilePicture(o),o&&(this.active=!0,setTimeout(()=>{this.setRandomPassword=!1},0),this.sendActivationEmail=!1),this._profileService.getPasswordComplexitySetting().subscribe(r=>{this.passwordComplexitySetting=r.setting,this.setPasswordComplexityInfo(),this.modal.show()})})}setPasswordComplexityInfo(){this.passwordComplexityInfo="<ul>",this.passwordComplexitySetting.requireDigit&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireDigit_Hint")+"</li>"),this.passwordComplexitySetting.requireLowercase&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireLowercase_Hint")+"</li>"),this.passwordComplexitySetting.requireUppercase&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireUppercase_Hint")+"</li>"),this.passwordComplexitySetting.requireNonAlphanumeric&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequireNonAlphanumeric_Hint")+"</li>"),this.passwordComplexitySetting.requiredLength&&(this.passwordComplexityInfo+="<li>"+this.l("PasswordComplexity_RequiredLength_Hint",this.passwordComplexitySetting.requiredLength)+"</li>"),this.passwordComplexityInfo+="</ul>"}getProfilePicture(o){o?this._profileService.getProfilePictureByUser(o).subscribe(t=>{this.profilePicture=t&&t.profilePicture?"data:image/jpeg;base64,"+t.profilePicture:this.appRootUrl()+"assets/common/images/default-profile-picture.png"}):this.profilePicture=this.appRootUrl()+"assets/common/images/default-profile-picture.png"}onShown(){this.organizationUnitTree.data={allOrganizationUnits:this.allOrganizationUnits,selectedOrganizationUnits:this.memberedOrganizationUnits},document.getElementById("Name").focus()}save(){let o=new h.thj;o.user=this.user,o.setRandomPassword=this.setRandomPassword,o.sendActivationEmail=this.sendActivationEmail,o.assignedRoleNames=(0,ce.Z)((0,Q.Z)(this.roles,{isAssigned:!0,inheritedFromOrganizationUnit:!1}),t=>t.roleName),o.organizationUnits=this.organizationUnitTree.getSelectedOrganizationIds(),this.saving=!0,this._userService.createOrUpdateUser(o).pipe((0,v.x)(()=>{this.saving=!1})).subscribe(()=>{this.notify.info(this.l("SavedSuccessfully")),this.close(),this.modalSave.emit(null)})}close(){this.active=!1,this.userPasswordRepeat="",this.modal.hide()}getAssignedRoleCount(){return(0,Q.Z)(this.roles,{isAssigned:!0}).length}}return n=s,(0,a.Z)(s,"\u0275fac",function(o){return new(o||n)(e.Y36(e.zs3),e.Y36(h.wKd),e.Y36(h.qAB))}),(0,a.Z)(s,"\u0275cmp",e.Xpm({type:n,selectors:[["createOrEditUserModal"]],viewQuery:function(o,t){if(1&o&&(e.Gf(he,7),e.Gf(fe,5)),2&o){let r;e.iGM(r=e.CRH())&&(t.modal=r.first),e.iGM(r=e.CRH())&&(t.organizationUnitTree=r.first)}},outputs:{modalSave:"modalSave"},features:[e.qOj],decls:7,vars:4,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-labelledby","createOrEditModal","aria-hidden","true",1,"modal","fade","create-or-edit-user-modal",3,"config","onShown"],["createOrEditModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],["novalidate","",3,"ngSubmit",4,"ngIf"],[3,"modalSave"],["changeProfilePictureModal",""],["novalidate","",3,"ngSubmit"],["userForm","ngForm"],[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],["type","button",1,"btn-close",3,"disabled","click"],[1,"modal-body"],[1,"pt-5",3,"heading"],[1,"row"],[1,"col-sm-3","text-center","mb-5","mt-5"],["width","128","height","128",1,"img-thumbnail","img-rounded",3,"src"],["type","button","class","btn btn-light btn-sm mb-5 mt-5",3,"click",4,"ngIf"],[1,"col-sm-9"],[1,"mb-5"],["for","Name",1,"form-label"],["id","Name","type","text","name","Name","required","","maxlength","64",1,"form-control",3,"ngModel","ngModelChange"],["nameInput","ngModel"],[3,"formCtrl"],["for","Surname",1,"form-label"],["id","Surname","type","text","name","Surname","required","","maxlength","64",1,"form-control",3,"ngModel","ngModelChange"],["surnameInput","ngModel"],["for","EmailAddress",1,"form-label"],["id","EmailAddress","type","email","name","EmailAddress","required","","maxlength","256","email","",1,"form-control",3,"ngModel","ngModelChange"],["emailAddressInput","ngModel"],["for","PhoneNumber",1,"form-label"],["id","PhoneNumber","type","text","name","PhoneNumber","maxlength","32",1,"form-control",3,"ngModel","ngModelChange"],["for","UserName",1,"form-label"],[1,"input-group"],["id","UserName","type","text","name","UserName","required","","maxlength","256",1,"form-control",3,"disabled","ngModel","ngModelChange"],["userNameInput","ngModel"],[1,"input-group-text",3,"tooltip"],[1,"fas","fa-info-circle"],["class","form-text text-muted",4,"ngIf"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["id","EditUser_SetRandomPassword","type","checkbox","name","SetRandomPassword",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","mb-5",4,"ngIf"],[3,"hidden"],["class","help-block text-danger",4,"ngIf"],["id","EditUser_ShouldChangePasswordOnNextLogin","type","checkbox","name","ShouldChangePasswordOnNextLogin",1,"form-check-input",3,"ngModel","ngModelChange"],["id","EditUser_SendActivationEmail","type","checkbox","name","SendActivationEmail",1,"form-check-input",3,"ngModel","disabled","ngModelChange"],["id","EditUser_IsActive","type","checkbox","name","IsActive",1,"form-check-input",3,"ngModel","ngModelChange"],["class","form-check form-check-custom form-check-solid py-1",4,"ngIf"],["tabHeading",""],["class","col-4",4,"ngFor","ngForOf"],[3,"cascadeSelectEnabled"],["organizationUnitTree",""],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled","buttonBusy","busyText"],[1,"fa","fa-save"],["type","button",1,"btn","btn-light","btn-sm","mb-5","mt-5",3,"click"],[1,"form-text","text-muted"],[1,"right"],["for","Password",1,"form-label"],["id","Password","type","password","name","Password","id","Password","maxlength","32","validateEqual","PasswordRepeat","reverse","true","autocomplete","new-password",1,"form-control",3,"ngModel","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["Password","ngModel"],[1,"help-block","text-danger"],["for","PasswordRepeat",1,"form-label"],["id","PasswordRepeat","type","password","name","PasswordRepeat","maxlength","32","validateEqual","Password","reverse","false","autocomplete","new-password",1,"form-control",3,"ngModel","required","requireDigit","requireLowercase","requireUppercase","requireNonAlphanumeric","requiredLength","ngModelChange"],["PasswordRepeat","ngModel"],["id","EditUser_IsTwoFactorEnabled","type","checkbox","name","IsTwoFactorEnabled",1,"form-check-input",3,"ngModel","ngModelChange"],["id","EditUser_IsLockoutEnabled","type","checkbox","name","IsLockoutEnabled",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"badge","badge-success","assigned-role-count","ms-2"],[1,"col-4"],["type","checkbox",1,"form-check-input",3,"id","name","ngModel","disabled","ngModelChange"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0,1),e.NdJ("onShown",function(){return t.onShown()}),e.TgZ(2,"div",2)(3,"div",3),e.YNc(4,Se,102,87,"form",4),e.qZA()()(),e.TgZ(5,"changeProfilePictureModal",5,6),e.NdJ("modalSave",function(g){return t.getProfilePicture(g)}),e.qZA()),2&o&&(e.Q6J("config",e.VKq(2,Ne,!t.saving)),e.xp6(4),e.Q6J("ngIf",t.active))},dependencies:[Z.sg,Z.O5,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.Q7,p.nD,p.on,p.On,p.F,I.wW,I.AH,I.y3,pe.z,me.J,R.L,ue.s,z.Z,ge.x,F.i9,_e.h,u.F,k.a],styles:[".user-edit-dialog-profile-image{margin-bottom:20px}.create-or-edit-user-modal ul.nav-tabs li.nav-item a{min-height:38px!important}\n"],encapsulation:2})),s})();var Je=l(88922),ze=l(98155);const Ie=["createOrEditUserModal"],Oe=["editUserPermissionsModal"],Re=["dataTable"],Fe=["paginator"],Qe=["ExcelFileUpload"],ke=["permissionFilterTreeModal"],He=["dynamicEntityPropertyManager"];function je(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"li",50)(1,"a",55)(2,"span",56)(3,"p-fileUpload",57,58),e.NdJ("uploadHandler",function(t){e.CHM(i);const r=e.oxw(2);return e.KtG(r.uploadExcel(t))})("onError",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.onUploadExcelError())}),e.ALo(5,"localize"),e.qZA()()()()}2&n&&(e.xp6(3),e.s9C("chooseLabel",e.lcZ(5,1,"ImportFromExcel")))}function De(n,s){1&n&&e._UZ(0,"li",59)}function Ge(n,s){if(1&n&&(e.TgZ(0,"li",50)(1,"span",60),e._UZ(2,"small",61),e.qZA()()),2&n){const i=e.oxw(2);e.xp6(2),e.Q6J("innerHTML",i.l("ImportToExcelSampleFileDownloadInfo","<a href=/assets/sampleFiles/ImportUsersSampleFile.xlsx>"+i.l("ClickHere")+"</a>"),e.oJD)}}function Ye(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"ul",49)(1,"li",50)(2,"a",51),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.exportToExcel())}),e._UZ(3,"i",52),e._uU(4),e.ALo(5,"localize"),e.qZA()(),e.YNc(6,je,6,3,"li",53),e.ALo(7,"permission"),e.YNc(8,De,1,0,"li",54),e.ALo(9,"permission"),e.YNc(10,Ge,3,1,"li",53),e.ALo(11,"permission"),e.qZA()}2&n&&(e.xp6(4),e.hij(" ",e.lcZ(5,4,"ExportToExcel")," "),e.xp6(2),e.Q6J("ngIf",e.lcZ(7,6,"Pages.Administration.Users.Create")),e.xp6(2),e.Q6J("ngIf",e.lcZ(9,8,"Pages.Administration.Users.Create")),e.xp6(2),e.Q6J("ngIf",e.lcZ(11,10,"Pages.Administration.Users.Create")))}function Ke(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.createUser())}),e._UZ(1,"i",63),e.TgZ(2,"span",8),e._uU(3),e.ALo(4,"localize"),e.qZA()()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"CreateNewUser")," "))}function Be(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",27)(1,"div",23)(2,"role-combo",64),e.NdJ("ngModelChange",function(t){e.CHM(i);const r=e.oxw();return e.KtG(r.role=t)}),e.qZA()()()}if(2&n){const i=e.oxw();e.xp6(2),e.Q6J("ngModel",i.role)}}function Ve(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"div",32)(1,"div",65)(2,"button",66),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.getUsers())}),e._UZ(3,"i",67),e.TgZ(4,"span",8),e._uU(5),e.ALo(6,"localize"),e.qZA()()()()}2&n&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"Refresh")," "))}function We(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"span",68),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.advancedFiltersAreShown=!t.advancedFiltersAreShown)}),e._UZ(1,"i",69),e._uU(2),e.ALo(3,"localize"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"ShowAdvancedFilters")," "))}function $e(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"span",68),e.NdJ("click",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.advancedFiltersAreShown=!t.advancedFiltersAreShown)}),e._UZ(1,"i",70),e._uU(2),e.ALo(3,"localize"),e.qZA()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"HideAdvancedFilters")," "))}const H=function(){return["Pages.Administration.Users.Impersonation","Pages.Administration.Users.Edit","Pages.Administration.Users.ChangePermissions","Pages.Administration.Users.Delete"]};function Xe(n,s){1&n&&(e.TgZ(0,"tr")(1,"th",71),e.ALo(2,"permissionAny"),e._uU(3),e.ALo(4,"localize"),e.qZA(),e.TgZ(5,"th",72),e._uU(6),e.ALo(7,"localize"),e._UZ(8,"p-sortIcon",73),e.qZA(),e.TgZ(9,"th",74),e._uU(10),e.ALo(11,"localize"),e._UZ(12,"p-sortIcon",75),e.qZA(),e.TgZ(13,"th",76),e._uU(14),e.ALo(15,"localize"),e._UZ(16,"p-sortIcon",77),e.qZA(),e.TgZ(17,"th",78),e._uU(18),e.ALo(19,"localize"),e.qZA(),e.TgZ(20,"th",79),e._uU(21),e.ALo(22,"localize"),e._UZ(23,"p-sortIcon",80),e.qZA(),e.TgZ(24,"th",81),e._uU(25),e.ALo(26,"localize"),e._UZ(27,"p-sortIcon",82),e.qZA(),e.TgZ(28,"th",83),e._uU(29),e.ALo(30,"localize"),e._UZ(31,"p-sortIcon",84),e.qZA(),e.TgZ(32,"th",85),e._uU(33),e.ALo(34,"localize"),e._UZ(35,"p-sortIcon",86),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("hidden",!e.lcZ(2,10,e.DdM(30,H))),e.xp6(2),e.hij(" ",e.lcZ(4,12,"Actions")," "),e.xp6(3),e.hij(" ",e.lcZ(7,14,"UserName")," "),e.xp6(4),e.hij(" ",e.lcZ(11,16,"Name")," "),e.xp6(4),e.hij(" ",e.lcZ(15,18,"Surname")," "),e.xp6(4),e.hij(" ",e.lcZ(19,20,"Roles")," "),e.xp6(3),e.hij(" ",e.lcZ(22,22,"EmailAddress")," "),e.xp6(4),e.hij(" ",e.lcZ(26,24,"EmailConfirm")," "),e.xp6(4),e.hij(" ",e.lcZ(30,26,"Active")," "),e.xp6(4),e.hij(" ",e.lcZ(34,28,"CreationTime")," "))}function et(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"li",50)(1,"a",103),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r._impersonationService.impersonateUser(t.id,r.appSession.tenantId))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"LoginAsThisUser")," "))}function tt(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"li",50)(1,"a",103),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2).$implicit;e.oxw();const r=e.MAs(60);return e.KtG(r.show(t.id))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Edit")," "))}function ot(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"li",50)(1,"a",103),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2).$implicit;e.oxw();const r=e.MAs(62);return e.KtG(r.show(t.id,t.userName))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Permissions")," "))}function it(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"li",50)(1,"a",103),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.unlockUser(t))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Unlock")," "))}function nt(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"li",50)(1,"a",103),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.showDynamicProperties(t))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"DynamicProperties")," "))}function rt(n,s){if(1&n){const i=e.EpF();e.TgZ(0,"li",50)(1,"a",103),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.deleteUser(t))}),e._uU(2),e.ALo(3,"localize"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"Delete")," "))}function st(n,s){if(1&n&&(e.TgZ(0,"ul",102),e.YNc(1,et,4,3,"li",53),e.ALo(2,"permission"),e.YNc(3,tt,4,3,"li",53),e.ALo(4,"permission"),e.YNc(5,ot,4,3,"li",53),e.ALo(6,"permission"),e.YNc(7,it,4,3,"li",53),e.ALo(8,"permission"),e.YNc(9,nt,4,3,"li",53),e.YNc(10,rt,4,3,"li",53),e.ALo(11,"permission"),e.qZA()),2&n){const i=e.oxw().$implicit,o=e.oxw(),t=e.MAs(64);e.xp6(1),e.Q6J("ngIf",e.lcZ(2,6,"Pages.Administration.Users.Impersonation")&&i.id!==o.appSession.userId),e.xp6(2),e.Q6J("ngIf",e.lcZ(4,8,"Pages.Administration.Users.Edit")),e.xp6(2),e.Q6J("ngIf",e.lcZ(6,10,"Pages.Administration.Users.ChangePermissions")),e.xp6(2),e.Q6J("ngIf",e.lcZ(8,12,i.lockoutEndDateUtc&&"Pages.Administration.Users.Unlock")),e.xp6(2),e.Q6J("ngIf",t.canShow("TR.CompanyQuote.Authorization.Users.User")),e.xp6(1),e.Q6J("ngIf",e.lcZ(11,14,"Pages.Administration.Users.Delete"))}}function at(n,s){1&n&&e._UZ(0,"i",104)}function lt(n,s){1&n&&(e.TgZ(0,"span",105),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Yes")," "))}function dt(n,s){1&n&&(e.TgZ(0,"span",106),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No")," "))}function ct(n,s){1&n&&(e.TgZ(0,"span",105),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Yes")," "))}function pt(n,s){1&n&&(e.TgZ(0,"span",106),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"No")," "))}function mt(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td",71),e.ALo(2,"permissionAny"),e.TgZ(3,"div",87)(4,"button",88),e._UZ(5,"i",89)(6,"span",90),e._uU(7),e.ALo(8,"localize"),e.qZA(),e.YNc(9,st,12,16,"ul",91),e.qZA()(),e.TgZ(10,"td",78)(11,"span",92),e._uU(12),e.ALo(13,"localize"),e.qZA(),e.TgZ(14,"span",93)(15,"a",94),e._UZ(16,"img",95),e.qZA(),e.TgZ(17,"span"),e._uU(18),e.YNc(19,at,1,0,"i",96),e.qZA()()(),e.TgZ(20,"td",78)(21,"span",92),e._uU(22),e.ALo(23,"localize"),e.qZA(),e._uU(24),e.qZA(),e.TgZ(25,"td",78)(26,"span",92),e._uU(27),e.ALo(28,"localize"),e.qZA(),e._uU(29),e.qZA(),e.TgZ(30,"td",78)(31,"span",92),e._uU(32),e.ALo(33,"localize"),e.qZA(),e._uU(34),e.qZA(),e.TgZ(35,"td",97)(36,"span",92),e._uU(37),e.ALo(38,"localize"),e.qZA(),e._uU(39),e.qZA(),e.TgZ(40,"td",98)(41,"span",92),e._uU(42),e.ALo(43,"localize"),e.qZA(),e.YNc(44,lt,3,3,"span",99),e.YNc(45,dt,3,3,"span",100),e.qZA(),e.TgZ(46,"td",101)(47,"span",92),e._uU(48),e.ALo(49,"localize"),e.qZA(),e.YNc(50,ct,3,3,"span",99),e.YNc(51,pt,3,3,"span",100),e.qZA(),e.TgZ(52,"td",98)(53,"span",92),e._uU(54),e.ALo(55,"localize"),e.qZA(),e._uU(56),e.ALo(57,"luxonFormat"),e.qZA()()),2&n){const i=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("hidden",!e.lcZ(2,23,e.DdM(46,H))),e.xp6(6),e.hij(" ",e.lcZ(8,25,"Actions")," "),e.xp6(5),e.Oqu(e.lcZ(13,27,"UserName")),e.xp6(3),e.Q6J("href",i.profilePictureUrl,e.LSH),e.xp6(1),e.Q6J("src",i.profilePictureUrl,e.LSH),e.xp6(2),e.hij(" ",i.userName," "),e.xp6(1),e.Q6J("ngIf",o.isUserLocked(i)),e.xp6(3),e.Oqu(e.lcZ(23,29,"FirstName")),e.xp6(2),e.hij(" ",i.name," "),e.xp6(3),e.Oqu(e.lcZ(28,31,"Surname")),e.xp6(2),e.hij(" ",i.surname," "),e.xp6(3),e.Oqu(e.lcZ(33,33,"Roles")),e.xp6(2),e.hij(" ",o.getRolesAsString(i.roles)," "),e.xp6(3),e.Oqu(e.lcZ(38,35,"EmailAddress")),e.xp6(2),e.hij(" ",i.emailAddress," "),e.xp6(3),e.Oqu(e.lcZ(43,37,"EmailConfirm")),e.xp6(2),e.Q6J("ngIf",i.isEmailConfirmed),e.xp6(1),e.Q6J("ngIf",!i.isEmailConfirmed),e.xp6(3),e.Oqu(e.lcZ(49,39,"Active")),e.xp6(2),e.Q6J("ngIf",i.isActive),e.xp6(1),e.Q6J("ngIf",!i.isActive),e.xp6(3),e.Oqu(e.lcZ(55,41,"CreationTime")),e.xp6(2),e.hij(" ",e.xi3(57,43,i.creationTime,"F")," ")}}function ut(n,s){1&n&&(e.TgZ(0,"div",107),e._uU(1),e.ALo(2,"localize"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"NoData")," "))}const gt=function(n,s){return{"col-md-6":n,"col-md-12":s}},_t=function(){return{"min-width":"50rem"}},ht=[{path:"",component:(()=>{var n;class s extends U.c{constructor(o,t,r,g,d,O,Ut,vt){super(o),(0,a.Z)(this,"_impersonationService",void 0),(0,a.Z)(this,"_userServiceProxy",void 0),(0,a.Z)(this,"_fileDownloadService",void 0),(0,a.Z)(this,"_activatedRoute",void 0),(0,a.Z)(this,"_httpClient",void 0),(0,a.Z)(this,"_localStorageService",void 0),(0,a.Z)(this,"_dateTimeService",void 0),(0,a.Z)(this,"createOrEditUserModal",void 0),(0,a.Z)(this,"editUserPermissionsModal",void 0),(0,a.Z)(this,"dataTable",void 0),(0,a.Z)(this,"paginator",void 0),(0,a.Z)(this,"excelFileUpload",void 0),(0,a.Z)(this,"permissionFilterTreeModal",void 0),(0,a.Z)(this,"dynamicEntityPropertyManager",void 0),(0,a.Z)(this,"uploadUrl",void 0),(0,a.Z)(this,"advancedFiltersAreShown",!1),(0,a.Z)(this,"filterText",""),(0,a.Z)(this,"role",""),(0,a.Z)(this,"onlyLockedUsers",!1),this._impersonationService=t,this._userServiceProxy=r,this._fileDownloadService=g,this._activatedRoute=d,this._httpClient=O,this._localStorageService=Ut,this._dateTimeService=vt,this.filterText=this._activatedRoute.snapshot.queryParams.filterText||"",this.uploadUrl=x.g.remoteServiceBaseUrl+"/Users/ImportFromExcel"}ngAfterViewInit(){this.primengTableHelper.adjustScroll(this.dataTable)}getUsers(o){console.log("Event",o),console.log("paginator",this.paginator),!(this.primengTableHelper.shouldResetPaging(o)&&(console.log("### INSIDE"),this.paginator.changePage(0),this.primengTableHelper.records&&this.primengTableHelper.records.length>0))&&(console.log("dont stop"),this.primengTableHelper.showLoadingIndicator(),this._userServiceProxy.getUsers(new h.Yod({filter:this.filterText,permissions:this.permissionFilterTreeModal.getSelectedPermissions(),role:""!==this.role?parseInt(this.role):void 0,onlyLockedUsers:this.onlyLockedUsers,sorting:this.primengTableHelper.getSorting(this.dataTable),maxResultCount:this.primengTableHelper.getMaxResultCount(this.paginator,o),skipCount:this.primengTableHelper.getSkipCount(this.paginator,o)})).pipe((0,v.x)(()=>this.primengTableHelper.hideLoadingIndicator())).subscribe(t=>{this.primengTableHelper.totalRecordsCount=t.totalCount,this.primengTableHelper.records=t.items,this.setUsersProfilePictureUrl(this.primengTableHelper.records),this.primengTableHelper.hideLoadingIndicator()}))}unlockUser(o){this._userServiceProxy.unlockUser(new h.QJI({id:o.id})).subscribe(()=>{this.notify.success(this.l("UnlockedTheUser",o.userName)),this.reloadPage()})}getRolesAsString(o){let t="";for(let r=0;r<o.length;r++)t.length&&(t+=", "),t+=o[r].roleName;return t}reloadPage(){this.paginator.changePage(this.paginator.getPage())}exportToExcel(){this._userServiceProxy.getUsersToExcel(this.filterText,this.permissionFilterTreeModal.getSelectedPermissions(),""!==this.role?parseInt(this.role):void 0,this.onlyLockedUsers,this.primengTableHelper.getSorting(this.dataTable)).subscribe(o=>{this._fileDownloadService.downloadTempFile(o)})}createUser(){this.createOrEditUserModal.show()}uploadExcel(o){const t=new FormData,r=o.files[0];t.append("file",r,r.name),this._httpClient.post(this.uploadUrl,t).pipe((0,v.x)(()=>this.excelFileUpload.clear())).subscribe(g=>{g.success?this.notify.success(this.l("ImportUsersProcessStart")):null!=g.error&&this.notify.error(this.l("ImportUsersUploadFailed"))})}onUploadExcelError(){this.notify.error(this.l("ImportUsersUploadFailed"))}deleteUser(o){o.userName!==x.g.userManagement.defaultAdminUserName?this.message.confirm(this.l("UserDeleteWarningMessage",o.userName),this.l("AreYouSure"),t=>{t&&this._userServiceProxy.deleteUser(o.id).subscribe(()=>{this.reloadPage(),this.notify.success(this.l("SuccessfullyDeleted"))})}):this.message.warn(this.l("{0}UserCannotBeDeleted",x.g.userManagement.defaultAdminUserName))}showDynamicProperties(o){this.dynamicEntityPropertyManager.getModal().show("TR.CompanyQuote.Authorization.Users.User",o.id.toString())}setUsersProfilePictureUrl(o){for(let t=0;t<o.length;t++){let r=o[t];this._localStorageService.getItem(x.g.authorization.encrptedAuthTokenName,function(g,d){let O=x.g.remoteServiceBaseUrl+"/Profile/GetProfilePictureByUser?userId="+r.id+"&"+x.g.authorization.encrptedAuthTokenName+"="+encodeURIComponent(d.token);r.profilePictureUrl=O})}}isUserLocked(o){return!!o.lockoutEndDateUtc&&this._dateTimeService.changeDateTimeZone(o.lockoutEndDateUtc,"UTC")>this._dateTimeService.getUTCDate()}}return n=s,(0,a.Z)(s,"\u0275fac",function(o){return new(o||n)(e.Y36(e.zs3),e.Y36(T.h),e.Y36(h.wKd),e.Y36(q._),e.Y36(b.gz),e.Y36(S.eN),e.Y36(N.n),e.Y36(L.C))}),(0,a.Z)(s,"\u0275cmp",e.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(o,t){if(1&o&&(e.Gf(Ie,7),e.Gf(Oe,7),e.Gf(Re,7),e.Gf(Fe,7),e.Gf(Qe,5),e.Gf(ke,7),e.Gf(He,7)),2&o){let r;e.iGM(r=e.CRH())&&(t.createOrEditUserModal=r.first),e.iGM(r=e.CRH())&&(t.editUserPermissionsModal=r.first),e.iGM(r=e.CRH())&&(t.dataTable=r.first),e.iGM(r=e.CRH())&&(t.paginator=r.first),e.iGM(r=e.CRH())&&(t.excelFileUpload=r.first),e.iGM(r=e.CRH())&&(t.permissionFilterTreeModal=r.first),e.iGM(r=e.CRH())&&(t.dynamicEntityPropertyManager=r.first)}},features:[e.qOj],decls:65,vars:56,consts:[[1,"users-container","container"],[1,"c-route-page-container"],[1,"p-28"],[3,"title","description"],["role","actions"],["dropdown","","placement","button right",1,"btn-group"],["id","dropdownButtonExcelOperations","dropdownToggle","","type","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false","aria-controls","dropdownMenuExcelOperations",1,"btn","btn-outline","btn-outline-success","btn-active-light-success","dropdown-toggle","me-1"],[1,"far","fa-file-excel","btn-md-icon"],[1,"d-none","d-md-inline-block"],["id","dropdownMenuExcelOperations","class","dropdown-menu dropdown-menu-right dropdown-excel-operations","role","menu","aria-labelledby","dropdownButtonExcelOperations",4,"dropdownMenu"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"card","card-custom","gutter-b"],[1,"card-body"],["autocomplete","new-password",1,"form"],[1,"row","align-items-center","mb-4"],[1,"col-xl-12"],[1,"mb-5","m-form__group","align-items-center"],[1,"input-group"],["name","filterText","autoFocus","","type","text",1,"form-control","m-input",3,"ngModel","placeholder","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"flaticon-search-1"],[1,"row","mb-4",3,"hidden"],[3,"ngClass"],[1,"mb-5"],[3,"disableCascade","onModalclose"],["permissionFilterTreeModal",""],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],[1,"form-check","form-check-custom","form-check-solid","form-switch","py-1"],["id","UsersTable_OnlyLockedUsers","type","checkbox","name","OnlyLockedUsers",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check-label"],["class","row mb-4",4,"ngIf"],[1,"row","mb-4"],[1,"col-sm-12"],["class","clickable-item text-muted",3,"click",4,"ngIf"],[1,"row","align-items-center"],[1,"primeng-datatable-container",3,"busyIf"],["sortMode","multiple","ScrollWidth","100%","scrollDirection","horizontal",3,"value","rows","paginator","lazy","scrollable","tableStyle","resizableColumns","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"primeng-paging-container"],[3,"rows","totalRecords","rowsPerPageOptions","showCurrentPageReport","currentPageReportTemplate","onPageChange"],["paginator",""],[3,"modalSave"],["createOrEditUserModal",""],["editUserPermissionsModal",""],["dynamicEntityPropertyManager",""],["id","dropdownMenuExcelOperations","role","menu","aria-labelledby","dropdownButtonExcelOperations",1,"dropdown-menu","dropdown-menu-right","dropdown-excel-operations"],["role","menuitem"],["id","ExportUsersToExcelButton","href","javascript:;",1,"dropdown-item","text-dark",3,"click"],[1,"fa","fa-download","me-2","mt-1","text-dark",2,"font-size","1rem"],["role","menuitem",4,"ngIf"],["class","divider dropdown-divider",4,"ngIf"],["href","javascript:;",1,"no-padding"],[1,"fileinput-button"],["customUpload","true","name","ExcelFileUpload","maxFileSize","10000000","auto","auto","accept",".csv,.xls,.xlsx",3,"chooseLabel","uploadHandler","onError"],["ExcelFileUpload",""],[1,"divider","dropdown-divider"],["href","#",1,"dropdown-item-text","text-muted","pl-3"],[3,"innerHTML"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-plus","btn-md-icon"],["name","roleFilter",3,"ngModel","ngModelChange"],[1,"col-sm-12","text-end"],[1,"btn","btn-primary","float-end",3,"click"],[1,"fa","fa-sync","btn-md-icon"],[1,"clickable-item","text-muted",3,"click"],[1,"fa","fa-angle-down"],[1,"fa","fa-angle-up"],[2,"min-width","130px",3,"hidden"],["pSortableColumn","username",2,"min-width","150px"],["field","username"],["pSortableColumn","name",2,"min-width","150px"],["field","name"],["pSortableColumn","surname",2,"min-width","150px"],["field","surname"],[2,"min-width","150px"],["pSortableColumn","emailAddress",2,"min-width","250px"],["field","emailAddress"],["pSortableColumn","isEmailConfirmed",2,"min-width","200px"],["field","isEmailConfirmed"],["pSortableColumn","isActive",2,"min-width","100px"],["field","isActive"],["pSortableColumn","creationTime",2,"min-width","200px"],["field","creationTime"],["dropdown","","placement","bottom left","container","body",1,"btn-group"],["id","dropdownButton","type","button","dropdownToggle","","aria-controls","dropdownMenu",1,"btn","btn-primary","btn-sm","dropdown-toggle"],[1,"fa","fa-cog"],[1,"caret"],["id","dropdownMenu","class","dropdown-menu","role","menu","aria-labelledby","dropdownButton",4,"dropdownMenu"],[1,"p-column-title"],[1,"w-100"],["target","_blank",1,"float-left",3,"href"],[1,"img-circle",3,"src"],["class","fas fa-lock ms-2",4,"ngIf"],[2,"min-width","250px"],[2,"min-width","200px"],["class","badge badge-success",4,"ngIf"],["class","badge badge-dark",4,"ngIf"],[2,"min-width","100px"],["id","dropdownMenu","role","menu","aria-labelledby","dropdownButton",1,"dropdown-menu"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"fas","fa-lock","ms-2"],[1,"badge","badge-success"],[1,"badge","badge-dark"],[1,"primeng-no-data"]],template:function(o,t){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"sub-header",3),e.ALo(4,"localize"),e.ALo(5,"localize"),e.TgZ(6,"div",4)(7,"div",5)(8,"button",6),e._UZ(9,"i",7),e.TgZ(10,"span",8),e._uU(11),e.ALo(12,"localize"),e.qZA()(),e.YNc(13,Ye,12,12,"ul",9),e.qZA(),e.YNc(14,Ke,5,3,"button",10),e.ALo(15,"permission"),e.qZA()()()(),e.TgZ(16,"div")(17,"div",11)(18,"div",12)(19,"form",13)(20,"div")(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"input",18),e.NdJ("ngModelChange",function(g){return t.filterText=g}),e.qZA(),e.TgZ(26,"button",19),e.NdJ("click",function(){return t.getUsers()}),e._UZ(27,"i",20),e.qZA()()()()(),e.TgZ(28,"div",21)(29,"div",22),e.ALo(30,"permission"),e.ALo(31,"permission"),e.TgZ(32,"div",23)(33,"permission-tree-modal",24,25),e.NdJ("onModalclose",function(){return t.getUsers()}),e.qZA()()(),e.YNc(35,Be,3,1,"div",26),e.ALo(36,"permission"),e.TgZ(37,"div",27)(38,"label",28)(39,"input",29),e.NdJ("ngModelChange",function(g){return t.onlyLockedUsers=g}),e.qZA(),e.TgZ(40,"span",30),e._uU(41),e.ALo(42,"localize"),e.qZA()()()(),e.YNc(43,Ve,7,3,"div",31),e.TgZ(44,"div",32)(45,"div",33),e.YNc(46,We,4,3,"span",34),e.YNc(47,$e,4,3,"span",34),e.qZA()()()(),e.TgZ(48,"div",35)(49,"div",36)(50,"p-table",37,38),e.NdJ("onLazyLoad",function(g){return t.getUsers(g)}),e.YNc(52,Xe,36,31,"ng-template",39),e.YNc(53,mt,58,47,"ng-template",40),e.qZA(),e.YNc(54,ut,3,3,"div",41),e.TgZ(55,"div",42)(56,"p-paginator",43,44),e.NdJ("onPageChange",function(g){return t.getUsers(g)}),e.ALo(58,"localize"),e.qZA()()()()()()(),e.TgZ(59,"createOrEditUserModal",45,46),e.NdJ("modalSave",function(){return t.getUsers()}),e.qZA(),e._UZ(61,"editUserPermissionsModal",null,47)(63,"dynamic-entity-property-manager",null,48),e.qZA()),2&o&&(e.Q6J("@routerTransition",void 0),e.xp6(3),e.Q6J("title",e.lcZ(4,33,"Users"))("description",e.lcZ(5,35,"UsersHeaderInfo")),e.xp6(8),e.hij(" ",e.lcZ(12,37,"ExcelOperations")," "),e.xp6(3),e.Q6J("ngIf",e.lcZ(15,39,"Pages.Administration.Users.Create")),e.xp6(2),e.Tol(t.containerClass),e.xp6(9),e.Q6J("ngModel",t.filterText)("placeholder",t.l("SearchWithThreeDot")),e.xp6(2),e.uIk("aria-label",t.l("Search")),e.xp6(1),e.Q6J("hidden",!t.advancedFiltersAreShown),e.xp6(1),e.Q6J("ngClass",e.WLB(52,gt,e.lcZ(30,41,"Pages.Administration.Roles"),!e.lcZ(31,43,"Pages.Administration.Roles"))),e.xp6(4),e.Q6J("disableCascade",!0),e.xp6(2),e.Q6J("ngIf",e.lcZ(36,45,"Pages.Administration.Roles")),e.xp6(4),e.Q6J("ngModel",t.onlyLockedUsers),e.xp6(2),e.hij(" ",e.lcZ(42,47,"OnlyLockedUsers")," "),e.xp6(2),e.Q6J("ngIf",t.advancedFiltersAreShown),e.xp6(3),e.Q6J("ngIf",!t.advancedFiltersAreShown),e.xp6(1),e.Q6J("ngIf",t.advancedFiltersAreShown),e.xp6(2),e.Q6J("busyIf",t.primengTableHelper.isLoading),e.xp6(1),e.s9C("rows",t.primengTableHelper.defaultRecordsCountPerPage),e.Q6J("value",t.primengTableHelper.records)("paginator",!1)("lazy",!0)("scrollable",!0)("tableStyle",e.DdM(55,_t))("resizableColumns",t.primengTableHelper.resizableColumns),e.xp6(4),e.Q6J("ngIf",0==t.primengTableHelper.totalRecordsCount),e.xp6(2),e.Q6J("rows",t.primengTableHelper.defaultRecordsCountPerPage)("totalRecords",t.primengTableHelper.totalRecordsCount)("rowsPerPageOptions",t.primengTableHelper.predefinedRecordsCountPerPage)("showCurrentPageReport",!0)("currentPageReportTemplate",e.xi3(58,49,"TotalRecordsCount",t.primengTableHelper.totalRecordsCount)))},dependencies:[Z.mk,Z.O5,p._Y,p.Fj,p.Wl,p.JJ,p.JL,p.On,p.F,A.Hz,A.Mq,A.TO,J.h,m.U,c.iA,_.jx,c.lQ,c.fz,f.D,M,G.Z,Y.p,K.$,ie,de,Le,Je.n,u.F,k.a,ze.G],styles:[".dropdown-excel-operations .p-button{display:block;text-align:left;border-radius:0;transition:none!important;background-color:#fff;color:#181c32!important;font-size:13px!important;font-weight:400!important;margin:0;margin-right:0!important}.dropdown-excel-operations .p-fileupload-choose.p-button.p-state-hover,.p-fileupload-choose.p-button.p-state-focus,.p-fileupload-choose.p-button.p-state-active{background-color:#eee}.dropdown-excel-operations a:hover span.p-button,.dropdown-excel-operations a:hover div.p-fileupload-buttonbar.p-widget-header.p-corner-top{background-color:#f4f5f8!important}.dropdown-excel-operations a.no-padding{padding:0!important}.dropdown-excel-operations a .p-button-text{margin-left:5px!important}.dropdown-excel-operations .p-button-label{font-weight:inherit!important}.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled){border:none}.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled):hover,.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled):focus,.dropdown-excel-operations .p-fileupload-choose:not(.p-state-disabled):active{background-color:#f4f5f8!important;color:#b2b1c5;box-shadow:none!important;border:none}.dropdown-excel-operations div.p-fileupload-buttonbar.p-widget-header.p-corner-top{border:none;background:#fff;padding-bottom:3px!important;padding-top:3px!important}.dropdown-excel-operations div.p-fileupload-content,.dropdown-excel-operations div.p-fileupload-content.p-widget-content.p-corner-bottom{display:none}.dropdown-excel-operations div.p-fileupload-buttonbar{border:none;padding:0}.dropdown-excel-operations div.p-fileupload-buttonbar.p-widget-header.p-corner-top:hover{background-color:#f4f5f8!important}.p-datatable img.img-circle{height:24px;margin-right:5px}#ExportUsersToExcelButton{padding-left:12px!important}.toolbar{height:55px;display:flex;align-items:center;border-top:1px solid #EFF2F5;background:#ffffff;box-shadow:0 10px 30px #523f690d;left:265px;transition:left .3s ease;padding:0 30px}.users-container{background-color:#f5f8ff}.users-container .c-route-page-container{font-family:Roboto,sans-serif}.users-container .c-route-page-container .content{margin-top:1.14rem}.p-28{padding-top:28px;padding-bottom:28px}.search p{opacity:50%;padding-bottom:0!important;margin-bottom:0!important}.card .card-body{flex-shrink:0;border-radius:12px;background:var(--Primary-Base-White, #FFF);box-shadow:0 25.787px 53.723px 4.298px #5a52800d}.text-header{color:#000624;font-family:Roboto;font-size:18px;font-style:normal;font-weight:600;line-height:normal}.text-des{color:#00062480;font-family:Roboto;font-size:10.5px;font-style:normal;font-weight:400;line-height:normal;opacity:unset!important}.container{padding:0!important}\n"],encapsulation:2,data:{animation:[(0,E.MH)()]}})),s})(),pathMatch:"full"}];let ft=(()=>{var n;class s{}return n=s,(0,a.Z)(s,"\u0275fac",function(o){return new(o||n)}),(0,a.Z)(s,"\u0275mod",e.oAB({type:n})),(0,a.Z)(s,"\u0275inj",e.cJS({imports:[b.Bz.forChild(ht),b.Bz]})),s})();var j=l(77213);let xt=(()=>{var n;class s{}return n=s,(0,a.Z)(s,"\u0275fac",function(o){return new(o||n)}),(0,a.Z)(s,"\u0275mod",e.oAB({type:n})),(0,a.Z)(s,"\u0275inj",e.cJS({imports:[j.DynamicEntityPropertyValueModule,j.DynamicEntityPropertyValueModule]})),s})();var Zt=l(27355);let Ct=(()=>{var n;class s{}return n=s,(0,a.Z)(s,"\u0275fac",function(o){return new(o||n)}),(0,a.Z)(s,"\u0275mod",e.oAB({type:n})),(0,a.Z)(s,"\u0275inj",e.cJS({providers:[T.h],imports:[P.o,w.g,ft,xt,Zt.o]})),s})()},43136:(D,y,l)=>{l.d(y,{Z:()=>J});var a=l(94138),w=l(45920);var x=l(14818);const v=function h(m,c){return c.length<2?m:(0,x.Z)(m,function E(m,c,_){var f=-1,u=m.length;c<0&&(c=-c>u?0:u+c),(_=_>u?u:_)<0&&(_+=u),u=c>_?0:_-c>>>0,c>>>=0;for(var C=Array(u);++f<u;)C[f]=m[f+c];return C}(c,0,-1))};var e=l(77801);const q=function T(m,c){return c=(0,w.Z)(c,m),null==(m=v(m,c))||delete m[(0,e.Z)(function P(m){var c=null==m?0:m.length;return c?m[c-1]:void 0}(c))]};var S=l(19229),L=Array.prototype.splice;const J=function A(m,c){var _=[];if(!m||!m.length)return _;var f=-1,u=[],C=m.length;for(c=(0,a.Z)(c,3);++f<C;){var M=m[f];c(M,f,m)&&(_.push(M),u.push(f))}return function Z(m,c){for(var _=m?c.length:0,f=_-1;_--;){var u=c[_];if(_==f||u!==C){var C=u;(0,S.Z)(u)?L.call(m,u,1):q(m,u)}}}(m,u),_}}}]);