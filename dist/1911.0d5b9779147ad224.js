"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[1911],{55507:(mi,Wt,$)=>{$.d(Wt,{t:()=>c});var s=$(81180);let c=(()=>{class dt{}return(0,s.Z)(dt,"widgets",{tenant:{profitShare:"Widgets_Tenant_ProfitShare",memberActivity:"Widgets_Tenant_MemberActivity",regionalStats:"Widgets_Tenant_RegionalStats",salesSummary:"Widgets_Tenant_SalesSummary",topStats:"Widgets_Tenant_TopStats",generalStats:"Widgets_Tenant_GeneralStats",dailySales:"Widgets_Tenant_DailySales"},host:{topStats:"Widgets_Host_TopStats",incomeStatistics:"Widgets_Host_IncomeStatistics",editionStatistics:"Widgets_Host_EditionStatistics",subscriptionExpiringTenants:"Widgets_Host_SubscriptionExpiringTenants",recentTenants:"Widgets_Host_RecentTenants"}}),(0,s.Z)(dt,"filters",{filterDateRangePicker:"Filters_DateRangePicker"}),(0,s.Z)(dt,"dashboardNames",{defaultTenantDashboard:"TenantDashboard",defaultHostDashboard:"HostDashboard"}),(0,s.Z)(dt,"Applications",{Angular:"Angular"}),dt})()},84448:(mi,Wt,$)=>{$.d(Wt,{OE:()=>Ti,Lb:()=>li});var s=$(81180),c=$(99468),dt=$(41840),gt=$(47530),at=$(44328),j=$(55507),_t=$(15673),r=$(78645),H=$(9315),tt=$(82296),Q=$(81666),ot=$(96814),At=$(56223),Rt=$(35024),de=$(73552),Ee=$(14647),Ve=$(80890),ye=$(24142),J=$(68989),ge=$(32925),xt=$(3291);const Ft=["addWidgetModal"];function Bi(z,nt){if(1&z&&(c.TgZ(0,"option",18),c._uU(1),c.ALo(2,"localize"),c.qZA()),2&z){const B=nt.$implicit;c.Q6J("value",B.id),c.xp6(1),c.hij(" ",c.lcZ(2,2,B.name)," ")}}function pi(z,nt){if(1&z){const B=c.EpF();c.TgZ(0,"div",15)(1,"select",16),c.NdJ("ngModelChange",function(d){c.CHM(B);const p=c.oxw();return c.KtG(p.selectedWidgetId=d)}),c.YNc(2,Bi,3,4,"option",17),c.qZA()()}if(2&z){const B=c.oxw();c.xp6(1),c.Q6J("ngModel",B.selectedWidgetId),c.xp6(1),c.Q6J("ngForOf",B.widgets)}}function kt(z,nt){1&z&&(c.TgZ(0,"div",15),c._uU(1),c.ALo(2,"localize"),c.qZA()),2&z&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"NoWidgetAvailableMessage")," "))}const ft=function(){return{backdrop:"static"}};let fi=(()=>{var z;class nt extends dt.c{constructor(y,d){super(y),(0,s.Z)(this,"_dashboardCustomizationServiceProxy",void 0),(0,s.Z)(this,"onClose",new c.vpe),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"widgets",void 0),(0,s.Z)(this,"saving",!1),(0,s.Z)(this,"selectedWidgetId",void 0),this._dashboardCustomizationServiceProxy=d}close(){this.onClose.emit(),this.hide()}save(){this.onClose.emit(this.selectedWidgetId),this.hide()}show(y,d){this._dashboardCustomizationServiceProxy.getAllAvailableWidgetDefinitionsForPage(y,j.t.Applications.Angular,d).subscribe(p=>{this.widgets=p,this.selectedWidgetId=this.widgets&&this.widgets.length?this.widgets[0].id:null,this.modal.show()})}hide(){this.modal.hide()}}return z=nt,(0,s.Z)(nt,"\u0275fac",function(y){return new(y||z)(c.Y36(c.zs3),c.Y36(at.hTT))}),(0,s.Z)(nt,"\u0275cmp",c.Xpm({type:z,selectors:[["add-widget-modal"]],viewQuery:function(y,d){if(1&y&&c.Gf(Ft,7),2&y){let p;c.iGM(p=c.CRH())&&(d.modal=p.first)}},outputs:{onClose:"onClose"},features:[c.qOj],decls:24,vars:16,consts:[["appBsModal","","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade",3,"config"],["addWidgetModal","bs-modal"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[3,"ngSubmit"],["addWidgetModalForm","ngForm"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],["class","mb-5",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"disabled","click"],["type","submit",1,"btn","btn-primary","fw-bold",3,"disabled"],[1,"fa","fa-save"],[1,"mb-5"],["autoFocus","","size","1","name","selectedWidget",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(y,d){1&y&&(c.TgZ(0,"div",0,1)(2,"div",2)(3,"div",3)(4,"form",4,5),c.NdJ("ngSubmit",function(){return d.save()}),c.TgZ(6,"div",6)(7,"h5",7)(8,"span"),c._uU(9),c.ALo(10,"localize"),c.qZA()(),c.TgZ(11,"button",8),c.NdJ("click",function(){return d.close()}),c.qZA()(),c.TgZ(12,"div",9),c.YNc(13,pi,3,2,"div",10),c.YNc(14,kt,3,3,"div",10),c.qZA(),c.TgZ(15,"div",11)(16,"button",12),c.NdJ("click",function(){return d.close()}),c._uU(17),c.ALo(18,"localize"),c.qZA(),c.TgZ(19,"button",13),c._UZ(20,"i",14),c.TgZ(21,"span"),c._uU(22),c.ALo(23,"localize"),c.qZA()()()()()()()),2&y&&(c.Q6J("config",c.DdM(15,ft)),c.xp6(9),c.Oqu(c.lcZ(10,9,"AddWidget")),c.xp6(2),c.uIk("aria-label",d.l("Close")),c.xp6(2),c.Q6J("ngIf",d.widgets&&d.widgets.length>0),c.xp6(1),c.Q6J("ngIf",!d.widgets||0==d.widgets.length),c.xp6(2),c.Q6J("disabled",d.saving),c.xp6(1),c.hij(" ",c.lcZ(18,11,"Cancel")," "),c.xp6(2),c.Q6J("disabled",d.saving),c.xp6(3),c.Oqu(c.lcZ(23,13,"Save")))},dependencies:[ot.sg,ot.O5,At._Y,At.YN,At.Kr,At.EJ,At.JJ,At.JL,At.On,At.F,ge.h,ye.Z,xt.F]})),nt})();const Ie=["addWidgetModal"],We=["dashboardTabs"],ai=["filterModal"],Te=["dropdownRenamePage"],oe=["dropdownAddPage"];function oi(z,nt){if(1&z){const B=c.EpF();c.TgZ(0,"button",18),c.NdJ("click",function(){c.CHM(B),c.oxw();const d=c.MAs(14);return c.KtG(d.show())}),c._UZ(1,"i",19),c._uU(2),c.ALo(3,"localize"),c.qZA()}2&z&&(c.xp6(2),c.hij(" ",c.lcZ(3,1,"Filter")," "))}function Yt(z,nt){1&z&&(c.TgZ(0,"div",21)(1,"div",27)(2,"div",28),c._uU(3),c.ALo(4,"localize"),c.qZA()()()),2&z&&(c.xp6(3),c.hij(" ",c.lcZ(4,1,"Dashboard_NoPageDefined_Warning")," "))}function ie(z,nt){1&z&&c.GkF(0)}function Gt(z,nt){if(1&z){const B=c.EpF();c.TgZ(0,"button",35),c.NdJ("click",function(){c.CHM(B);const d=c.oxw().$implicit,p=c.oxw(3);return c.KtG(p.removeItem(d.gridInformation))}),c._UZ(1,"i",36),c.qZA()}}function Qt(z,nt){if(1&z){const B=c.EpF();c.TgZ(0,"gridster-item",32),c.NdJ("itemResize",function(){const p=c.CHM(B).$implicit,u=c.oxw(3);return c.KtG(u.onGridSterItemResize(p))}),c.YNc(1,ie,1,0,"ng-container",33),c.YNc(2,Gt,2,0,"button",34),c.qZA()}if(2&z){const B=nt.$implicit,y=c.oxw(3);c.Q6J("item",B.gridInformation),c.xp6(1),c.Q6J("ngComponentOutlet",B.component)("ngComponentOutletInjector",y.widgetSubjects[B.guid].injector),c.xp6(1),c.Q6J("ngIf",y.editModeEnabled)}}const ue=function(){return{wheelPropagation:!1}},Ce=function(z){return{"no-tab":z}};function be(z,nt){if(1&z){const B=c.EpF();c.TgZ(0,"tab",29),c.NdJ("selectTab",function(){const p=c.CHM(B).$implicit,u=c.oxw(2);return c.KtG(u.selectPageTab(p.id))}),c.TgZ(1,"gridster",30),c.YNc(2,Qt,3,4,"gridster-item",31),c.qZA()()}if(2&z){const B=nt.$implicit,y=nt.index,d=c.oxw(2);c.s9C("heading",B.name),c.xp6(1),c.Q6J("options",d.options[y])("perfectScrollOptions",c.DdM(5,ue))("ngClass",c.VKq(6,Ce,!d.moreThanOnePage())),c.xp6(1),c.Q6J("ngForOf",B.widgets)}}function ri(z,nt){if(1&z){const B=c.EpF();c.TgZ(0,"ul",58)(1,"li",59)(2,"div",60)(3,"label"),c._uU(4),c.ALo(5,"localize"),c.qZA(),c.TgZ(6,"input",61),c.NdJ("ngModelChange",function(d){c.CHM(B);const p=c.oxw(3);return c.KtG(p.addPageInput=d)}),c.qZA()(),c.TgZ(7,"button",62),c.NdJ("click",function(){c.CHM(B);const d=c.oxw(3);return c.KtG(d.addNewPage(d.addPageInput))}),c._uU(8),c.ALo(9,"localize"),c.qZA()()()}if(2&z){const B=c.oxw(3);c.xp6(4),c.Oqu(c.lcZ(5,3,"NewPageName")),c.xp6(2),c.Q6J("ngModel",B.addPageInput),c.xp6(2),c.hij(" ",c.lcZ(9,5,"Save")," ")}}function Ye(z,nt){if(1&z){const B=c.EpF();c.TgZ(0,"ul",63)(1,"li",59)(2,"div",60)(3,"label"),c._uU(4),c.ALo(5,"localize"),c.qZA(),c.TgZ(6,"input",64),c.NdJ("ngModelChange",function(d){c.CHM(B);const p=c.oxw(3);return c.KtG(p.renamePageInput=d)}),c.qZA()(),c.TgZ(7,"button",62),c.NdJ("click",function(){c.CHM(B);const d=c.oxw(3);return c.KtG(d.renamePage(d.renamePageInput))}),c._uU(8),c.ALo(9,"localize"),c.qZA()()()}if(2&z){const B=c.oxw(3);c.xp6(4),c.Oqu(c.lcZ(5,4,"PageNewName")),c.xp6(2),c.s9C("placeholder",B.selectedPage.name),c.Q6J("ngModel",B.renamePageInput),c.xp6(2),c.hij(" ",c.lcZ(9,6,"Save")," ")}}function we(z,nt){1&z&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"localize"),c.qZA()),2&z&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"DeletePage")," "))}function fe(z,nt){1&z&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"localize"),c.qZA()),2&z&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"BackToDefaultPage")," "))}function Ge(z,nt){1&z&&(c.TgZ(0,"span"),c._uU(1),c.ALo(2,"localize"),c.qZA()),2&z&&(c.xp6(1),c.hij(" ",c.lcZ(2,1,"BackToDefaultPage")," "))}function Pe(z,nt){if(1&z){const B=c.EpF();c.TgZ(0,"div",37)(1,"div",38)(2,"button",39),c.NdJ("click",function(){c.CHM(B);const d=c.oxw(2);return c.KtG(d.openAddWidgetModal())}),c._UZ(3,"i",40),c._uU(4),c.ALo(5,"localize"),c.qZA(),c._uU(6," \xa0 "),c.qZA(),c.TgZ(7,"div",41)(8,"div",42,43),c.NdJ("onShown",function(){c.CHM(B);const d=c.oxw(2);return c.KtG(d.addPageDropdownShown())}),c.TgZ(10,"button",44),c._UZ(11,"i",40),c._uU(12),c.ALo(13,"localize"),c._UZ(14,"span",45),c.qZA(),c.YNc(15,ri,10,7,"ul",46),c.qZA(),c.TgZ(16,"div",47,48),c.NdJ("onShown",function(){c.CHM(B);const d=c.oxw(2);return c.KtG(d.renamePageDropdownShown())}),c.TgZ(18,"button",49),c._UZ(19,"i",50),c._uU(20),c.ALo(21,"localize"),c._UZ(22,"span",45),c.qZA(),c.YNc(23,Ye,10,8,"ul",51),c.qZA(),c.TgZ(24,"button",52),c.NdJ("click",function(){c.CHM(B);const d=c.oxw(2);return c.KtG(d.deletePage())}),c._UZ(25,"i",53),c.YNc(26,we,3,3,"span",54),c.YNc(27,fe,3,3,"span",54),c.YNc(28,Ge,3,3,"span",54),c.qZA(),c._uU(29," \xa0 "),c.qZA(),c.TgZ(30,"div",55)(31,"button",56),c.NdJ("click",function(){c.CHM(B);const d=c.oxw(2);return c.KtG(d.savePage())}),c._UZ(32,"i",57),c._uU(33),c.ALo(34,"localize"),c.qZA()()()}if(2&z){const B=c.oxw(2);c.xp6(2),c.Q6J("disabled",""===B.selectedPage.id),c.xp6(2),c.hij(" ",c.lcZ(5,14,"AddWidget")," "),c.xp6(4),c.Q6J("dropup",!0)("insideClick",!0),c.xp6(4),c.hij(" ",c.lcZ(13,16,"AddPage")," "),c.xp6(4),c.Q6J("dropup",!0)("insideClick",!0)("isDisabled",""===B.selectedPage.id),c.xp6(4),c.hij(" ",c.lcZ(21,18,"RenamePage")," "),c.xp6(4),c.Q6J("disabled",""===B.selectedPage.id),c.xp6(2),c.Q6J("ngIf",B.userDashboard&&B.userDashboard.pages.length>1),c.xp6(1),c.Q6J("ngIf",B.userDashboard&&1==B.userDashboard.pages.length),c.xp6(1),c.Q6J("ngIf",!B.userDashboard||0==B.userDashboard.pages.length),c.xp6(5),c.hij(" ",c.lcZ(34,20,"Save")," ")}}const Oe=function(z){return{"nav-hidden":z}},Se=function(){return[]};function Xe(z,nt){if(1&z&&(c.TgZ(0,"div"),c.YNc(1,Yt,5,3,"div",20),c.TgZ(2,"div",21)(3,"div",22)(4,"tabset",23,24),c.YNc(6,be,3,8,"tab",25),c.qZA()(),c.YNc(7,Pe,35,22,"div",26),c.qZA()()),2&z){const B=c.oxw();c.Tol(B.containerClass),c.xp6(1),c.Q6J("ngIf",!(null!=B.userDashboard&&null!=B.userDashboard.pages&&B.userDashboard.pages.length)),c.xp6(3),c.Q6J("justified",!1)("ngClass",c.VKq(7,Oe,!B.moreThanOnePage())),c.xp6(2),c.Q6J("ngForOf",(null==B.userDashboard?null:B.userDashboard.pages)||c.DdM(9,Se)),c.xp6(1),c.Q6J("ngIf",B.editModeEnabled)}}function Ue(z,nt){if(1&z){const B=c.EpF();c.TgZ(0,"add-widget-modal",65,66),c.NdJ("onClose",function(d){c.CHM(B);const p=c.oxw();return c.KtG(p.addWidget(d))}),c.qZA()}}function _i(z,nt){1&z&&c.GkF(0)}function xi(z,nt){1&z&&c._UZ(0,"hr")}function Nt(z,nt){if(1&z&&(c.TgZ(0,"div")(1,"div",21)(2,"h6",69),c._uU(3),c.ALo(4,"localize"),c.qZA(),c.TgZ(5,"div",27),c.YNc(6,_i,1,0,"ng-container",70),c.qZA()(),c.YNc(7,xi,1,0,"hr",54),c.qZA()),2&z){const B=nt.$implicit,y=nt.index,d=c.oxw(2);c.xp6(3),c.Oqu(c.lcZ(4,3,B.name)),c.xp6(3),c.Q6J("ngComponentOutlet",B.component),c.xp6(1),c.Q6J("ngIf",y!=d.userDashboard.filters.length-1)}}function vi(z,nt){if(1&z&&(c.TgZ(0,"div",67),c.YNc(1,Nt,8,5,"div",68),c.qZA()),2&z){const B=c.oxw();c.xp6(1),c.Q6J("ngForOf",B.userDashboard.filters)}}const li=new c.OlP("WidgetOnResizeEventHandlerToken");let yi=(()=>{var z;class nt{constructor(){(0,s.Z)(this,"onResize",new r.x)}}return z=nt,(0,s.Z)(nt,"\u0275fac",function(y){return new(y||z)}),(0,s.Z)(nt,"\u0275prov",c.Yz7({token:z,factory:z.\u0275fac})),nt})(),Ti=(()=>{var z;class nt extends dt.c{constructor(y,d,p,u){super(y),(0,s.Z)(this,"_injector",void 0),(0,s.Z)(this,"_dashboardViewConfiguration",void 0),(0,s.Z)(this,"_dashboardCustomizationServiceProxy",void 0),(0,s.Z)(this,"_guidGenerator",void 0),(0,s.Z)(this,"dashboardName",void 0),(0,s.Z)(this,"addWidgetModal",void 0),(0,s.Z)(this,"dashboardTabs",void 0),(0,s.Z)(this,"modal",void 0),(0,s.Z)(this,"dropdownRenamePage",void 0),(0,s.Z)(this,"dropdownAddPage",void 0),(0,s.Z)(this,"loading",!0),(0,s.Z)(this,"busy",!0),(0,s.Z)(this,"editModeEnabled",!1),(0,s.Z)(this,"options",[]),(0,s.Z)(this,"dashboardDefinition",void 0),(0,s.Z)(this,"userDashboard",void 0),(0,s.Z)(this,"selectedPage",{id:"",name:""}),(0,s.Z)(this,"renamePageInput",""),(0,s.Z)(this,"addPageInput",""),(0,s.Z)(this,"widgetSubjects",{}),(0,s.Z)(this,"myinjector",void 0),(0,s.Z)(this,"onMenuToggle",()=>{this.refreshAllGrids()}),this._injector=y,this._dashboardViewConfiguration=d,this._dashboardCustomizationServiceProxy=p,this._guidGenerator=u}ngOnInit(){this.loading=!0,(0,H.D)([this._dashboardCustomizationServiceProxy.getUserDashboard(this.dashboardName,j.t.Applications.Angular),this._dashboardCustomizationServiceProxy.getDashboardDefinition(this.dashboardName,j.t.Applications.Angular)]).subscribe(([y,d])=>{var p;return this.dashboardDefinition=d,this.dashboardDefinition.widgets&&0!==this.dashboardDefinition.widgets.length&&y.pages&&0!==y.pages.length?(this.initializeUserDashboardDefinition(y,d),this.initializeUserDashboardFilters(),null!==(p=this.userDashboard.pages)&&void 0!==p&&p.length&&(this.selectedPage={id:this.userDashboard.pages[0].id,name:this.userDashboard.pages[0].name}),this.loading=!1,void(this.busy=!1)):(this.loading=!1,void(this.busy=!1))}),this.subscribeToEvent("app.kt_aside_toggler.onClick",this.onMenuToggle)}initializeUserDashboardDefinition(y,d){this.userDashboard={dashboardName:this.dashboardName,filters:[],pages:y.pages.map(p=>(this.options.push(this.getGridsterConfig()),p.widgets?(p.widgets=p.widgets.filter(u=>d.widgets.find(f=>f.id===u.widgetId)&&this.getWidgetViewDefinition(u.widgetId)),{id:p.id,name:p.name,widgets:p.widgets.map(u=>({id:u.widgetId,guid:this._guidGenerator.guid(),component:this.getWidgetViewDefinition(u.widgetId).component,gridInformation:{id:u.widgetId,cols:u.width,rows:u.height,x:u.positionX,y:u.positionY}}))}):{id:p.id,name:p.name,widgets:[]}))},this.createWidgetSubjects()}removeItem(y){let d=this.userDashboard.pages.find(f=>f.id===this.selectedPage.id),p=d.widgets.find(f=>f.id===y.id),u=this.dashboardDefinition.widgets.find(f=>f.id===y.id);!p||!u||this.message.confirm(this.l("WidgetDeleteWarningMessage",this.l(u.name),this.selectedPage.name),this.l("AreYouSure"),f=>{f&&d.widgets.splice(d.widgets.indexOf(p),1)})}addWidget(y){if(!y)return;let d=this._dashboardViewConfiguration.WidgetViewDefinitions.find(p=>p.id===y);d?(this.busy=!0,this._dashboardCustomizationServiceProxy.addWidget(new at.z8o({widgetId:y,pageId:this.selectedPage.id,dashboardName:this.dashboardName,width:d.defaultWidth,height:d.defaultHeight,application:j.t.Applications.Angular})).subscribe(p=>{const u={id:y,guid:this._guidGenerator.guid(),component:d.component,gridInformation:{id:y,cols:p.width,rows:p.height,x:p.positionX,y:p.positionY}};this.userDashboard.pages.find(f=>f.id===this.selectedPage.id).widgets.push(u),this.createWidgetSubject(u.guid),this.initializeUserDashboardFilters(),this.busy=!1,this.notify.success(this.l("SavedSuccessfully"))})):abp.notify.error(this.l("ThereIsNoViewConfigurationForX",y))}changeEditMode(){this.editModeEnabled=!this.editModeEnabled,this.refreshAllGrids()}refreshAllGrids(){this.options&&this.options.forEach(y=>{y.draggable.enabled=this.editModeEnabled,y.resizable.enabled=this.editModeEnabled,y.api.optionsChanged()})}openAddWidgetModal(){this.userDashboard.pages.find(d=>d.id===this.selectedPage.id)&&this.addWidgetModal.show(this.dashboardName,this.selectedPage.id)}addNewPage(y){y&&""!==y.trim()?(y=y.trim(),this.busy=!0,this._dashboardCustomizationServiceProxy.addNewPage(new at.Zqn({dashboardName:this.dashboardName,name:y,application:j.t.Applications.Angular})).subscribe(d=>{this.options.push(this.getGridsterConfig()),this.userDashboard.pages.push({id:d.pageId,name:y,widgets:[]}),this.busy=!1,this.notify.success(this.l("SavedSuccessfully")),""===this.selectedPage.id&&this.selectPageTab(d.pageId)}),this.dropdownAddPage.hide()):this.notify.warn(this.l("PageNameCanNotBeEmpty"))}selectPageTab(y){y?(this.selectedPage={id:y,name:this.userDashboard.pages.find(d=>d.id===y).name},this.options.forEach(d=>{d.api&&d.api.optionsChanged()})):this.selectedPage={id:"",name:""}}renamePage(y){if(!y||""===y)return void this.notify.warn(this.l("PageNameCanNotBeEmpty"));y=y.trim(),this.busy=!0;let d=this.selectedPage.id;this._dashboardCustomizationServiceProxy.renamePage(new at.A6Z({dashboardName:this.dashboardName,id:d,name:y,application:j.t.Applications.Angular})).subscribe(()=>{this.userDashboard.pages.find(u=>u.id===d).name=y,this.notify.success(this.l("Renamed")),this.busy=!1}),this.dropdownRenamePage.hide()}deletePage(){let y=this.l(this.userDashboard.pages.length>1?"PageDeleteWarningMessage":"BackToDefaultPageWarningMessage",this.selectedPage.name);this.message.confirm(y,this.l("AreYouSure"),d=>{d&&(this.busy=!0,this._dashboardCustomizationServiceProxy.deletePage(this.selectedPage.id,this.dashboardName,j.t.Applications.Angular).subscribe(()=>{let p=this.userDashboard.pages.find(u=>u.id===this.selectedPage.id);this.options.pop(),this.userDashboard.pages.splice(this.userDashboard.pages.indexOf(p),1),this.activateFirstPage(),this.busy=!1,this.notify.success(this.l("SuccessfullyRemoved")),0===this.userDashboard.pages.length&&window.location.reload()}))})}activateFirstPage(){this.userDashboard.pages[0]?(setTimeout(()=>{this.dashboardTabs.tabs[0].active=!0},0),this.selectPageTab(this.userDashboard.pages[0].id),this.initializeUserDashboardFilters()):this.selectPageTab(null)}savePage(){this.busy=!0;let y=new at.RDD({dashboardName:this.dashboardName,pages:this.userDashboard.pages.map(d=>new at.T3C({id:d.id,name:d.name,widgets:d.widgets.map(p=>new at.$LY({widgetId:p.gridInformation.id,height:p.gridInformation.rows,width:p.gridInformation.cols,positionX:p.gridInformation.x,positionY:p.gridInformation.y}))})),application:j.t.Applications.Angular});this._dashboardCustomizationServiceProxy.savePage(y).subscribe(()=>{this.changeEditMode(),this.initializeUserDashboardFilters(),this.busy=!1,this.notify.success(this.l("SavedSuccessfully")),window.location.reload()})}moreThanOnePage(){return this.userDashboard&&this.userDashboard.pages&&this.userDashboard.pages.length>1}close(){this.modal.hide()}addPageDropdownShown(){this.addPageInput=""}renamePageDropdownShown(){this.renamePageInput=""}getWidgetViewDefinition(y){return this._dashboardViewConfiguration.WidgetViewDefinitions.find(d=>d.id===y)}getWidgetFilterViewDefinition(y){return this._dashboardViewConfiguration.widgetFilterDefinitions.find(d=>d.id===y)}initializeUserDashboardFilters(){let y=[];this.dashboardDefinition.widgets.filter(d=>null!=d.filters&&d.filters.length>0).forEach(d=>{this.userDashboard.pages&&this.userDashboard.pages.forEach(p=>{0!==p.widgets.filter(u=>u.id===d.id).length&&d.filters.forEach(u=>{y.find(f=>f.id===u.id)||y.push(u)})})}),this.userDashboard.filters=y.map(d=>{let p=this.getWidgetFilterViewDefinition(d.id);return p.name=d.name,p})}getGridsterConfig(){const y=_t.isRtlLang(abp.localization.currentLanguage.name);return{pushItems:!0,draggable:{enabled:this.editModeEnabled},resizable:{enabled:this.editModeEnabled},fixedRowHeight:30,fixedColWidth:30,gridType:"verticalFixed",dirType:y?"rtl":"ltr"}}onGridSterItemResize(y){this.editModeEnabled&&this.widgetSubjects[y.guid]&&this.widgetSubjects[y.guid].handler.onResize.next(null)}createWidgetSubjects(){for(let d=0;d<this.userDashboard.pages.length;d++){var y=this.userDashboard.pages[d];for(let p=0;p<y.widgets.length;p++)this.createWidgetSubject(y.widgets[p].guid)}}createWidgetSubject(y){var d=new yi;this.widgetSubjects[y]={handler:d,injector:c.zs3.create({providers:[{provide:li,useValue:d}],parent:this._injector})}}}return z=nt,(0,s.Z)(nt,"\u0275fac",function(y){return new(y||z)(c.Y36(c.zs3),c.Y36(tt.p),c.Y36(at.hTT),c.Y36(Q.d))}),(0,s.Z)(nt,"\u0275cmp",c.Xpm({type:z,selectors:[["customizable-dashboard"]],viewQuery:function(y,d){if(1&y&&(c.Gf(Ie,5),c.Gf(We,5),c.Gf(ai,7),c.Gf(Te,5),c.Gf(oe,5)),2&y){let p;c.iGM(p=c.CRH())&&(d.addWidgetModal=p.first),c.iGM(p=c.CRH())&&(d.dashboardTabs=p.first),c.iGM(p=c.CRH())&&(d.modal=p.first),c.iGM(p=c.CRH())&&(d.dropdownRenamePage=p.first),c.iGM(p=c.CRH())&&(d.dropdownAddPage=p.first)}},inputs:{dashboardName:"dashboardName"},features:[c.qOj],decls:28,vars:22,consts:[[3,"title","description"],["role","actions",1,"d-flex","align-items-center"],["type","button","class","btn btn-light-primary btn-filter",3,"click",4,"ngIf"],[1,"form-check","form-check-custom","form-check-solid","form-switch"],["type","checkbox",1,"form-check-input",3,"checked","change"],[1,"form-check-label"],[3,"class",4,"ngIf"],[3,"onClose",4,"ngIf"],["appBsModal","","tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade","filterModal"],["filterModal","bs-modal"],[1,"modal-dialog","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-light-primary","fw-bold",3,"click"],["type","button",1,"btn","btn-light-primary","btn-filter",3,"click"],[1,"fa","fa-filter"],["class","row",4,"ngIf"],[1,"row"],[1,"col-md-12",2,"z-index","0"],[3,"justified","ngClass"],["dashboardTabs",""],[3,"heading","selectTab",4,"ngFor","ngForOf"],["class","div-dashboard-customization d-flex w-auto shadow-lg",4,"ngIf"],[1,"col-md-12"],["role","alert",1,"alert","alert-warning"],[3,"heading","selectTab"],["perfectScrollbar","",3,"options","perfectScrollOptions","ngClass"],[3,"item","itemResize",4,"ngFor","ngForOf"],[3,"item","itemResize"],[4,"ngComponentOutlet","ngComponentOutletInjector"],["class","btn btn-sm bg-danger deleteWidgetButton",3,"click",4,"ngIf"],[1,"btn","btn-sm","bg-danger","deleteWidgetButton",3,"click"],[1,"la","la-times","text-white"],[1,"div-dashboard-customization","d-flex","w-auto","shadow-lg"],[1,"me-1","border-right"],["type","button","id","AddWidgetButton",1,"btn","btn-sm","btn-warning","btn-elevate-hover","btn-pill",3,"disabled","click"],[1,"fa","fa-plus"],[1,"ms-1","me-1","border-right"],["dropdown","",1,"btn-group",3,"dropup","insideClick","onShown"],["dropdownAddPage","bs-dropdown"],["id","dropdownButtonAddPage","dropdownToggle","","type","button","aria-controls","dropdownMenuAddPage",1,"btn","btn-sm","btn-primary","dropdown-toggle","btn-elevate-hover","btn-pill"],[1,"caret"],["id","dropdownMenuAddPage","class","dropdown-menu p-10","role","menu","aria-labelledby","dropdownButtonAddPage",4,"dropdownMenu"],["dropdown","",1,"btn-group",3,"dropup","insideClick","isDisabled","onShown"],["dropdownRenamePage","bs-dropdown"],["id","dropdownButtonRenamePage","dropdownToggle","","type","button","aria-controls","dropdownMenuRenamePage",1,"btn","btn-sm","btn-info","btn-elevate-hover","btn-pill","dropdown-toggle"],[1,"fa","fa-edit"],["id","dropdownMenuRenamePage","class","dropdown-menu p-10","role","menu","aria-labelledby","dropdownButtonRenamePage",4,"dropdownMenu"],["id","DeletePageButton",1,"btn","btn-sm","btn-danger","btn-elevate-hover","btn-pill",3,"disabled","click"],[1,"fa","fa-trash"],[4,"ngIf"],[1,"ms-1"],["type","button",1,"btn","btn-sm","btn-success","btn-elevate-hover","btn-pill",3,"click"],[1,"fa","fa-save"],["id","dropdownMenuAddPage","role","menu","aria-labelledby","dropdownButtonAddPage",1,"dropdown-menu","p-10"],["role","menuitem"],[1,"mb-5"],["type","text","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","w-100","btn-info",3,"click"],["id","dropdownMenuRenamePage","role","menu","aria-labelledby","dropdownButtonRenamePage",1,"dropdown-menu","p-10"],["type","text",1,"form-control",3,"placeholder","ngModel","ngModelChange"],[3,"onClose"],["addWidgetModal",""],[1,"modal-body"],[4,"ngFor","ngForOf"],[2,"margin-left","10px"],[4,"ngComponentOutlet"]],template:function(y,d){1&y&&(c.TgZ(0,"div")(1,"sub-header",0),c.ALo(2,"localize"),c.ALo(3,"localize"),c.TgZ(4,"div",1),c.YNc(5,oi,4,3,"button",2),c.TgZ(6,"label",3)(7,"input",4),c.NdJ("change",function(){return d.changeEditMode()}),c.qZA(),c.TgZ(8,"span",5),c._uU(9),c.ALo(10,"localize"),c.qZA()()()(),c.YNc(11,Xe,8,10,"div",6),c.YNc(12,Ue,2,0,"add-widget-modal",7),c.TgZ(13,"div",8,9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"h5",13)(19,"span"),c._uU(20),c.ALo(21,"localize"),c.qZA()(),c.TgZ(22,"button",14),c.NdJ("click",function(){return d.close()}),c.qZA()(),c.YNc(23,vi,2,1,"div",15),c.TgZ(24,"div",16)(25,"button",17),c.NdJ("click",function(){return d.close()}),c._uU(26),c.ALo(27,"localize"),c.qZA()()()()()()),2&y&&(c.Q6J("@routerTransition",void 0),c.xp6(1),c.Q6J("title",c.lcZ(2,12,"Dashboard"))("description",c.lcZ(3,14,"DashboardHeaderInfo")),c.xp6(4),c.Q6J("ngIf",!d.loading&&d.userDashboard&&d.userDashboard.filters&&d.userDashboard.filters.length>0),c.xp6(2),c.Q6J("checked",d.editModeEnabled),c.xp6(2),c.hij(" ",c.lcZ(10,16,"EditMode")," "),c.xp6(2),c.Q6J("ngIf",!d.loading),c.xp6(1),c.Q6J("ngIf",d.dashboardName),c.xp6(8),c.Oqu(c.lcZ(21,18,"DashboardFilters")),c.xp6(2),c.uIk("aria-label",d.l("Close")),c.xp6(1),c.Q6J("ngIf",d.userDashboard),c.xp6(3),c.hij(" ",c.lcZ(27,20,"Close")," "))},dependencies:[ot.mk,ot.$G,ot.sg,ot.O5,At.Fj,At.JJ,At.On,Rt.sm,Rt.IM,de.Hz,de.Mq,de.TO,Ee.wW,Ee.AH,Ve.$,ye.Z,J.$,fi,xt.F],styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:50px;height:24px;margin:0;top:0}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#ccc;transition:.4s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:#fff;transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.slider.round[_ngcontent-%COMP%]{border-radius:34px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}.deleteWidgetButton[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:22px;padding:0 7px!important;height:22px;border-radius:0 0 0 10px;box-shadow:none;outline:none;text-align:center;border:0!important;z-index:1002}gridster[_ngcontent-%COMP%]{height:calc(100vh - 300px);background:none}gridster.no-tab[_ngcontent-%COMP%]{height:calc(100vh - 230px)}[_nghost-%COMP%]     gridster .gridster-row{border-top:1px dotted #c1c1c1!important;border-bottom:1px dotted #c1c1c1!important}[_nghost-%COMP%]     gridster .gridster-column{border-left:1px dotted #c1c1c1!important;border-right:1px dotted #c1c1c1!important}.div-dashboard-customization[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:120;background-color:#cecece;border-radius:10px;padding:15px}.div-dashboard-customization[_ngcontent-%COMP%]   .vr[_ngcontent-%COMP%]{border-right:1px solid white;float:left;margin-right:8px}[_nghost-%COMP%]     tabset.nav-hidden .nav-tabs{display:none}[_nghost-%COMP%]     tabset .nav-tabs{padding-bottom:1px!important}.btn-filter[_ngcontent-%COMP%]{margin-right:8px}[_nghost-%COMP%]     gridster .kt-portlet{margin:0;height:100%}[_nghost-%COMP%]     gridster .kt-portlet__body{overflow:auto}.div-dashboard-customization[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 3px}.filterModal[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:10px}gridster-item[_ngcontent-%COMP%]{background:none}#dropdownMenuAddPage[_ngcontent-%COMP%], #dropdownMenuRenamePage[_ngcontent-%COMP%]{min-width:250px}.div-dashboard-customization[_ngcontent-%COMP%]   .border-right[_ngcontent-%COMP%]{border-right:1px solid white}#PagesDiv[_ngcontent-%COMP%]{margin-left:-20px}'],data:{animation:[(0,gt.MH)()]}})),nt})()},1911:(mi,Wt,$)=>{$.d(Wt,{u:()=>ye});var s=$(81180),c=$(96814),dt=$(82296),gt=$(35024),at=$(60357),j=$(35732),_t=$(73552),r=$(56842),H=$(56223),tt=$(14647),Q=$(80890),ot=$(60016),At=$(32297),Rt=$(56916),de=$(16316),Ee=$(58489),Ve=$(99468);let ye=(()=>{var J;class ge{}return J=ge,(0,s.Z)(ge,"\u0275fac",function(Ft){return new(Ft||J)}),(0,s.Z)(ge,"\u0275mod",Ve.oAB({type:J})),(0,s.Z)(ge,"\u0275inj",Ve.cJS({providers:[dt.p],imports:[c.ez,H.u5,j.A,gt.IX,at.NA,at.vP,at.Zk,at.pT,_t.mr,r.zk,tt.P4,Q.X,ot._,At.k,Rt.U$,de.kn,Ee.Q]})),ge})()},82296:(mi,Wt,$)=>{$.d(Wt,{p:()=>vs});var s=$(81180);class c{constructor(w,A,k=6,b=10){(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"component",void 0),(0,s.Z)(this,"defaultWidth",void 0),(0,s.Z)(this,"defaultHeight",void 0),this.id=w,this.component=A,this.defaultWidth=k,this.defaultHeight=b}}class dt{constructor(w,A){(0,s.Z)(this,"id",void 0),(0,s.Z)(this,"component",void 0),this.id=w,this.component=A}}var gt=$(55507);class at{constructor(){(0,s.Z)(this,"loading",!0)}showLoading(){setTimeout(()=>{this.loading=!0})}hideLoading(){setTimeout(()=>{this.loading=!1})}}var j=$(41840),_t=$(99080),r=$(99468);let H=(()=>{var C;class w extends j.c{constructor(k){super(k),(0,s.Z)(this,"delay",300),(0,s.Z)(this,"timer",void 0)}runDelayed(k){this.timer&&!this.timer.closed&&this.timer.unsubscribe(),this.timer=(0,_t.H)(this.delay).subscribe(()=>{k()})}ngOnDestroy(){this.timer&&!this.timer.closed&&this.timer.unsubscribe(),super.ngOnDestroy()}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["ng-component"]],features:[r.qOj],decls:0,vars:0,template:function(k,b){},encapsulation:2})),w})();var tt=$(44328),Q=$(60357),ot=$(80890);class At extends at{constructor(w){super(),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"data",[]),this._dashboardService=w}init(w,A,k){this.data=[{name:"Operations",value:w},{name:"New Visits",value:A},{name:"Bounce",value:k}],this.hideLoading()}reload(){this.showLoading(),this._dashboardService.getGeneralStats().subscribe(w=>{this.init(w.transactionPercent,w.newVisitPercent,w.bouncePercent)})}}let Rt=(()=>{var C;class w extends H{constructor(k,b){super(k),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"generalStatsPieChart",void 0),this._dashboardService=b,this.generalStatsPieChart=new At(this._dashboardService)}ngOnInit(){this.generalStatsPieChart.reload()}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.AdH))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-general-stats"]],features:[r.qOj],decls:12,vars:1,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],[1,"card-toolbar"],["href","javascript:;",1,"btn","btn-primary",3,"click"],[1,"fa","fa-redo"],["perfectScrollbar","",1,"card-body"],[1,"row",2,"max-height","200px"],[3,"results"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"General Stats"),r.qZA()(),r.TgZ(5,"div",4)(6,"a",5),r.NdJ("click",function(){return b.generalStatsPieChart.reload()}),r._UZ(7,"i",6),r._uU(8," Refresh "),r.qZA()()(),r.TgZ(9,"div",7)(10,"div",8),r._UZ(11,"ngx-charts-pie-grid",9),r.qZA()()()),2&k&&(r.xp6(11),r.Q6J("results",b.generalStatsPieChart.data))},dependencies:[Q.Nm,ot.$]})),w})();function de(C,w){if(1&C&&(r.TgZ(0,"span"),r._uU(1),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"span"),r._uU(4),r.qZA()),2&C){const A=w.model;r.xp6(1),r.hij("Day ",A.name,""),r.xp6(3),r.Oqu(A.value)}}class Ee extends at{constructor(w){super(),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"chartData",void 0),(0,s.Z)(this,"scheme",{name:"green",selectable:!0,group:"Ordinal",domain:["#34bfa3"]}),this._dashboardService=w}init(w){this.chartData=[];for(let A=0;A<w.length;A++)this.chartData.push({name:A+1,value:w[A]})}reload(){this.showLoading(),this._dashboardService.getDailySales().subscribe(w=>{this.init(w.dailySales),this.hideLoading()})}}let Ve=(()=>{var C;class w extends H{constructor(k,b){super(k),(0,s.Z)(this,"_tenantdashboardService",void 0),(0,s.Z)(this,"dailySalesLineChart",void 0),this._tenantdashboardService=b,this.dailySalesLineChart=new Ee(this._tenantdashboardService)}ngOnInit(){this.dailySalesLineChart.reload()}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.AdH))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-daily-sales"]],features:[r.qOj],decls:11,vars:2,consts:[[1,"card","card-custom"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],["perfectScrollbar","",1,"card-body"],[1,"row"],[1,"col",2,"max-height","200px"],[3,"results","scheme"],["tooltipTemplate",""]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"Daily Sales"),r.qZA()()(),r.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"ngx-charts-bar-vertical",7),r.YNc(9,de,5,2,"ng-template",null,8,r.W1O),r.qZA()()()()()),2&k&&(r.xp6(8),r.Q6J("results",b.dailySalesLineChart.chartData)("scheme",b.dailySalesLineChart.scheme))},dependencies:[Q.K$,ot.$]})),w})();var ye=$(84448),J=$(96814);const ge=function(C){return{backgroundColor:C}};function xt(C,w){if(1&C&&(r.TgZ(0,"div"),r._UZ(1,"span",12),r.TgZ(2,"span"),r._uU(3),r.qZA()()),2&C){const A=w.$implicit;r.xp6(1),r.Q6J("ngStyle",r.VKq(3,ge,A.color)),r.xp6(2),r.AsE("%",A.value," ",A.name,"")}}function Ft(C,w){if(1&C&&(r.TgZ(0,"div",10)(1,"div"),r.YNc(2,xt,4,5,"div",11),r.qZA()()),2&C){const A=r.oxw();r.xp6(2),r.Q6J("ngForOf",A.profitSharePieChart.chartData)}}class Bi extends at{constructor(w){super(),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"chartData",[]),(0,s.Z)(this,"scheme",{name:"custom",selectable:!0,group:"Ordinal",domain:["#00c5dc","#ffb822","#716aca"]}),this._dashboardService=w}init(w){let A=[];for(let k=0;k<w.length;k++)A.push({name:this.getChartItemName(k),value:w[k],color:this.scheme.domain[k]});this.chartData=A}getChartItemName(w){return 0===w?"Product Sales":1===w?"Online Courses":2===w?"Custom Development":"Other"}reload(){this.showLoading(),this._dashboardService.getProfitShare().subscribe(w=>{this.init(w.profitShares),this.hideLoading()})}}let pi=(()=>{var C;class w extends H{constructor(k,b,q){super(k),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"_widgetOnResizeEventHandler",void 0),(0,s.Z)(this,"profitSharePieChart",void 0),this._dashboardService=b,this._widgetOnResizeEventHandler=q,this.profitSharePieChart=new Bi(this._dashboardService),q.onResize.subscribe(()=>{this.profitSharePieChart.reload()})}ngOnInit(){this.profitSharePieChart.reload()}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.AdH),r.Y36(ye.Lb))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-profit-share"]],features:[r.qOj],decls:13,vars:8,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-label","text-dark"],[1,"text-muted"],[1,"card-body"],[1,"row"],[1,"col-lg-6","col-md-12",2,"max-height","300px"],[3,"results","doughnut","legend","labels","scheme","animations","tooltipDisabled"],["class","col-lg-6 col-md-12 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"col-lg-6","col-md-12","d-flex","justify-content-center","align-items-center"],[4,"ngFor","ngForOf"],[1,"pieChart-color",3,"ngStyle"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),r._uU(4," Profit Share "),r.TgZ(5,"small",4),r._uU(6,"Profit Share between customers"),r.qZA()()()(),r.TgZ(7,"div",5)(8,"div")(9,"div",6)(10,"div",7),r._UZ(11,"ngx-charts-pie-chart",8),r.qZA(),r.YNc(12,Ft,3,1,"div",9),r.qZA()()()()),2&k&&(r.xp6(11),r.Q6J("results",b.profitSharePieChart.chartData)("doughnut",!0)("legend",!1)("labels",!1)("scheme",b.profitSharePieChart.scheme)("animations",!1)("tooltipDisabled",!0),r.xp6(1),r.Q6J("ngIf",b.profitSharePieChart.chartData.length))},dependencies:[J.sg,J.O5,J.PC,Q.JU],styles:[".kt-widget14[_ngcontent-%COMP%]{padding:0}.pieChart-color[_ngcontent-%COMP%]{width:12px;height:12px;margin-right:12px;display:inline-block;background-color:red}"]})),w})();function kt(C,w){if(1&C&&(r.TgZ(0,"tr")(1,"td",13)(2,"div",14)(3,"div",15),r._UZ(4,"img",16),r.qZA()()(),r.TgZ(5,"td",13)(6,"span",17),r._uU(7),r.qZA()(),r.TgZ(8,"td"),r._uU(9),r.qZA(),r.TgZ(10,"td"),r._uU(11),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.qZA(),r.TgZ(14,"td")(15,"span",18),r._uU(16),r.qZA()()()),2&C){const A=w.$implicit;r.xp6(4),r.MGl("src","/assets/metronic/assets/media/svg/avatars/",A.profilePictureName,"",r.LSH),r.xp6(3),r.hij(" ",A.name," "),r.xp6(2),r.hij(" ",A.earnings," "),r.xp6(2),r.hij(" ",A.cases," "),r.xp6(2),r.hij(" ",A.closed," "),r.xp6(3),r.Oqu(A.rate)}}class ft extends at{constructor(w){super(),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"memberActivities",void 0),this._dashboardService=w}init(){this.reload()}reload(){this.showLoading(),this._dashboardService.getMemberActivity().subscribe(w=>{this.memberActivities=w.memberActivities,this.hideLoading()})}}let fi=(()=>{var C;class w extends H{constructor(k,b){super(k),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"memberActivityTable",void 0),this._dashboardService=b,this.memberActivityTable=new ft(this._dashboardService)}ngOnInit(){this.memberActivityTable.init()}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.AdH))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-member-activity"]],features:[r.qOj],decls:25,vars:1,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],[1,"card-toolbar"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-sync"],["perfectScrollbar","",1,"card-body"],[1,"table-scrollable","table-scrollable-borderless"],[1,"table","table-hover","table-light"],[1,"uppercase"],["colspan","2"],[4,"ngFor","ngForOf"],[1,"pl-0"],[1,"symbol","symbol-50","symbol-light","mt-2","me-2"],[1,"symbol-label"],["alt","photo",1,"h-75","align-self-end",3,"src"],["href","javascript:;",1,"text-dark","fw-bolder","mb-1","fs-lg"],[1,"bold","font-green-haze"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"Member Activity"),r.qZA()(),r.TgZ(5,"div",4)(6,"button",5),r.NdJ("click",function(){return b.memberActivityTable.reload()}),r._UZ(7,"i",6),r._uU(8," Refresh "),r.qZA()()(),r.TgZ(9,"div",7)(10,"div",8)(11,"table",9)(12,"thead")(13,"tr",10)(14,"th",11),r._uU(15,"MEMBER"),r.qZA(),r.TgZ(16,"th"),r._uU(17,"Earnings"),r.qZA(),r.TgZ(18,"th"),r._uU(19,"CASES"),r.qZA(),r.TgZ(20,"th"),r._uU(21,"CLOSED"),r.qZA(),r.TgZ(22,"th"),r._uU(23,"RATE"),r.qZA()()(),r.YNc(24,kt,17,6,"tr",12),r.qZA()()()()),2&k&&(r.xp6(24),r.Q6J("ngForOf",b.memberActivityTable.memberActivities))},dependencies:[J.sg,ot.$]})),w})();function Ie(C,w,A){C._context.bezierCurveTo((2*C._x0+C._x1)/3,(2*C._y0+C._y1)/3,(C._x0+2*C._x1)/3,(C._y0+2*C._y1)/3,(C._x0+4*C._x1+w)/6,(C._y0+4*C._y1+A)/6)}function We(C){this._context=C}function ai(C){return new We(C)}function Te(C,w){if(1&C&&(r.TgZ(0,"tr")(1,"td")(2,"label",14),r._UZ(3,"input",15)(4,"span",16),r.qZA()(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.ALo(9,"currency"),r.qZA(),r.TgZ(10,"td")(11,"div",17),r._UZ(12,"ngx-charts-line-chart",18),r.qZA()(),r.TgZ(13,"td"),r._uU(14),r.ALo(15,"currency"),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.ALo(18,"currency"),r.qZA()()),2&C){const A=w.$implicit,k=r.oxw();r.xp6(6),r.Oqu(A.countryName),r.xp6(2),r.Oqu(r.lcZ(9,10,A.sales)),r.xp6(4),r.Q6J("results",A.changeData)("showGridLines",!1)("animations",!1)("tooltipDisabled",!0)("customColors",k.regionalStatsTable.customColors)("curve",k.regionalStatsTable.curve),r.xp6(2),r.Oqu(r.lcZ(15,12,A.averagePrice)),r.xp6(3),r.Oqu(r.lcZ(18,14,A.totalPrice))}}We.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ie(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(C,w){switch(C=+C,w=+w,this._point){case 0:this._point=1,this._line?this._context.lineTo(C,w):this._context.moveTo(C,w);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ie(this,C,w)}this._x0=this._x1,this._x1=C,this._y0=this._y1,this._y1=w}};class oe extends at{constructor(w){super(),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"stats",void 0),(0,s.Z)(this,"colors",["#00c5dc","#f4516c","#34bfa3","#ffb822"]),(0,s.Z)(this,"customColors",[{name:"1",value:"#00c5dc"},{name:"2",value:"#f4516c"},{name:"3",value:"#34bfa3"},{name:"4",value:"#ffb822"},{name:"5",value:"#00c5dc"}]),(0,s.Z)(this,"curve",ai),this._dashboardService=w}init(){this.reload()}formatData(){for(let w=0;w<this.stats.length;w++){let A=this.stats[w],k=[];for(let b=0;b<A.change.length;b++)k.push({name:b+1,value:A.change[b]});A.changeData=[{name:w+1,series:k}]}}reload(){this.showLoading(),this._dashboardService.getRegionalStats().subscribe(w=>{this.stats=w.stats,this.formatData(),this.hideLoading()})}}let oi=(()=>{var C;class w extends H{constructor(k,b){super(k),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"regionalStatsTable",void 0),this._dashboardService=b,this.regionalStatsTable=new oe(this._dashboardService)}ngOnInit(){this.regionalStatsTable.init()}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.AdH))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-regional-stats"]],features:[r.qOj],decls:24,vars:1,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],["perfectScrollbar","",1,"card-body"],[1,"table-responsive"],[1,"table"],[1,"m-widget11__label"],[1,"m-widget11__app"],[1,"m-widget11__sales"],[1,"m-widget11__change"],[1,"m-widget11__price"],[1,"m-widget11__total"],[4,"ngFor","ngForOf"],[1,"form-check","form-check-custom","form-check-solid","py-1"],["type","checkbox",1,"form-check-input"],[1,"form-check-label"],[1,"m-widget11__chart",2,"height","50px","width","100px"],[3,"results","showGridLines","animations","tooltipDisabled","customColors","curve"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"Regional Stats"),r.qZA()()(),r.TgZ(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead")(9,"tr")(10,"td",7),r._uU(11,"#"),r.qZA(),r.TgZ(12,"td",8),r._uU(13,"Country"),r.qZA(),r.TgZ(14,"td",9),r._uU(15,"Sales"),r.qZA(),r.TgZ(16,"td",10),r._uU(17,"Change"),r.qZA(),r.TgZ(18,"td",11),r._uU(19,"Avg Price"),r.qZA(),r.TgZ(20,"td",12),r._uU(21,"Total"),r.qZA()()(),r.TgZ(22,"tbody"),r.YNc(23,Te,19,16,"tr",13),r.qZA()()()()()),2&k&&(r.xp6(23),r.Q6J("ngForOf",b.regionalStatsTable.stats))},dependencies:[J.sg,Q.Dw,ot.$,J.H9]})),w})();var Yt=$(75857),ie=$(94901),Gt=$(32297),Qt=$(3291);const ue=function(C){return{active:C}};function Ce(C,w){if(1&C){const A=r.EpF();r.TgZ(0,"div",20)(1,"div",21)(2,"label",22),r.NdJ("click",function(){r.CHM(A);const b=r.oxw();return r.KtG(b.salesSummaryChart.reload(b.appSalesSummaryDateInterval.Daily))}),r._UZ(3,"input",23),r._uU(4),r.ALo(5,"localize"),r.qZA(),r.TgZ(6,"label",24),r.NdJ("click",function(){r.CHM(A);const b=r.oxw();return r.KtG(b.salesSummaryChart.reload(b.appSalesSummaryDateInterval.Weekly))}),r._UZ(7,"input",23),r._uU(8),r.ALo(9,"localize"),r.qZA(),r.TgZ(10,"label",24),r.NdJ("click",function(){r.CHM(A);const b=r.oxw();return r.KtG(b.salesSummaryChart.reload(b.appSalesSummaryDateInterval.Monthly))}),r._UZ(11,"input",23),r._uU(12),r.ALo(13,"localize"),r.qZA()()()}if(2&C){const A=r.oxw();r.xp6(2),r.Q6J("ngClass",r.VKq(15,ue,A.salesSummaryChart.selectedDatePeriod==A.appSalesSummaryDateInterval.Daily)),r.xp6(1),r.Q6J("value",A.appSalesSummaryDateInterval.Daily),r.xp6(1),r.hij(" ",r.lcZ(5,9,"Daily")," "),r.xp6(2),r.Q6J("ngClass",r.VKq(17,ue,A.salesSummaryChart.selectedDatePeriod==A.appSalesSummaryDateInterval.Weekly)),r.xp6(1),r.Q6J("value",A.appSalesSummaryDateInterval.Weekly),r.xp6(1),r.hij(" ",r.lcZ(9,11,"Weekly")," "),r.xp6(2),r.Q6J("ngClass",r.VKq(19,ue,A.salesSummaryChart.selectedDatePeriod==A.appSalesSummaryDateInterval.Monthly)),r.xp6(1),r.Q6J("value",A.appSalesSummaryDateInterval.Monthly),r.xp6(1),r.hij(" ",r.lcZ(13,13,"Monthly")," ")}}class be extends at{constructor(w){super(),(0,s.Z)(this,"_dashboardService",void 0),(0,s.Z)(this,"totalSales",0),(0,s.Z)(this,"totalSalesCounter",0),(0,s.Z)(this,"revenue",0),(0,s.Z)(this,"revenuesCounter",0),(0,s.Z)(this,"expenses",0),(0,s.Z)(this,"expensesCounter",0),(0,s.Z)(this,"growth",0),(0,s.Z)(this,"growthCounter",0),(0,s.Z)(this,"selectedDatePeriod",void 0),(0,s.Z)(this,"data",[]),this._dashboardService=w}init(w,A,k,b,q){this.totalSales=A,this.totalSalesCounter=A,this.revenue=k,this.expenses=b,this.growth=q,this.setChartData(w),this.hideLoading()}setChartData(w){let A=[],k=[];(0,Yt.Z)(w,b=>{A.push({name:b.period,value:b.sales}),k.push({name:b.period,value:b.profit})}),this.data=[{name:"Sales",series:A},{name:"Profit",series:k}]}reload(w){this.selectedDatePeriod!==w?(this.selectedDatePeriod=w,this.showLoading(),this._dashboardService.getSalesSummary(w).subscribe(A=>{this.setChartData(A.salesSummary),this.hideLoading()})):this.hideLoading()}}let ri=(()=>{var C;class w extends H{constructor(k,b){super(k),(0,s.Z)(this,"_tenantDashboardServiceProxy",void 0),(0,s.Z)(this,"salesSummaryChart",void 0),(0,s.Z)(this,"appSalesSummaryDateInterval",tt.mJY),(0,s.Z)(this,"onDateRangeFilterChange",q=>{this.runDelayed(()=>{this.salesSummaryChart.reload(tt.mJY.Daily)})}),this._tenantDashboardServiceProxy=b,this.salesSummaryChart=new be(this._tenantDashboardServiceProxy)}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(()=>{this.salesSummaryChart.reload(tt.mJY.Daily)})}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.AdH))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-sales-summary"]],features:[r.qOj],decls:42,vars:28,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title","align-items-start","flex-column"],[1,"fw-bolder","text-dark"],["class","card-toolbar",4,"ngIf"],["perfectScrollbar","",1,"card-body",3,"busyIf"],[1,"row","list-separated","text-center"],[1,"col-md-3","col-sm-3","col-xs-6"],["counto","",1,"text-danger","fw-bolder",3,"step","duration","countFrom","countTo","countoChange"],[1,"text-danger","fw-bolder"],[1,"uppercase","font-hg","font-green-haze"],["counto","",1,"text-warning","fw-bolder",3,"step","duration","countFrom","countTo","countoChange"],[1,"text-warning","fw-bolder"],[1,"uppercase","font-hg","font-purple"],["counto","",1,"text-info","fw-bolder",3,"step","duration","countFrom","countTo","countoChange"],[1,"text-success","fw-bolder"],[1,"uppercase","font-hg","font-blue-sharp"],[1,"text-info","fw-bolder"],[2,"height","260px","min-height","260px"],["showYAxisLabel","true",3,"results","showXAxisLabel","xAxis","yAxis","showGridLines","tooltipDisabled"],[1,"card-toolbar"],["data-toggle","buttons",1,"btn-group"],[1,"btn","btn-secondary","active",3,"ngClass","click"],["type","radio","name","SalesSummaryDateInterval",3,"value"],[1,"btn","btn-secondary",3,"ngClass","click"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h3",2)(3,"span",3),r._uU(4,"Sales Summary"),r.qZA()(),r.YNc(5,Ce,14,21,"div",4),r.qZA(),r.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"h6"),r._uU(10,"Total Sales"),r.qZA(),r.TgZ(11,"div")(12,"span",8),r.NdJ("countoChange",function(ct){return b.salesSummaryChart.totalSalesCounter=ct}),r._uU(13),r.qZA(),r.TgZ(14,"span",9),r._uU(15,"$"),r.qZA()()(),r.TgZ(16,"div",7)(17,"h6"),r._uU(18,"Revenue"),r.qZA(),r.TgZ(19,"div",10)(20,"span",11),r.NdJ("countoChange",function(ct){return b.salesSummaryChart.revenuesCounter=ct}),r._uU(21),r.qZA(),r.TgZ(22,"span",12),r._uU(23,"$"),r.qZA()()(),r.TgZ(24,"div",7)(25,"h6"),r._uU(26,"Expenses"),r.qZA(),r.TgZ(27,"div",13)(28,"span",14),r.NdJ("countoChange",function(ct){return b.salesSummaryChart.expensesCounter=ct}),r._uU(29),r.qZA(),r.TgZ(30,"span",15),r._uU(31,"$"),r.qZA()()(),r.TgZ(32,"div",7)(33,"h6"),r._uU(34,"Growth"),r.qZA(),r.TgZ(35,"div",16)(36,"span",14),r.NdJ("countoChange",function(ct){return b.salesSummaryChart.growthCounter=ct}),r._uU(37),r.qZA(),r.TgZ(38,"span",17),r._uU(39,"$"),r.qZA()()()(),r.TgZ(40,"div",18),r._UZ(41,"ngx-charts-area-chart-stacked",19),r.qZA()()()),2&k&&(r.xp6(5),r.Q6J("ngIf",b.salesSummaryChart&&!b.salesSummaryChart.loading),r.xp6(1),r.Q6J("busyIf",b.salesSummaryChart.loading),r.xp6(6),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",b.salesSummaryChart.totalSales),r.xp6(1),r.hij(" ",b.salesSummaryChart.totalSalesCounter.toFixed(0)," "),r.xp6(7),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",b.salesSummaryChart.revenue),r.xp6(1),r.hij(" ",b.salesSummaryChart.revenuesCounter.toFixed(0)," "),r.xp6(7),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",b.salesSummaryChart.expenses),r.xp6(1),r.hij(" ",b.salesSummaryChart.expensesCounter.toFixed(0)," "),r.xp6(7),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",b.salesSummaryChart.growth),r.xp6(1),r.hij(" ",b.salesSummaryChart.growthCounter.toFixed(0)," "),r.xp6(4),r.Q6J("results",b.salesSummaryChart.data)("showXAxisLabel",!0)("xAxis",!0)("yAxis",!0)("showGridLines",!1)("tooltipDisabled",!1))},dependencies:[J.mk,J.O5,ie.U,Q.vz,ot.$,Gt.T,Qt.F],styles:["input[type=radio][_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .sales-summary-chart svg.ngx-charts{margin-left:-35px;margin-top:35px}"]})),w})();var Ye=$(66232),we=$(58399),fe=$(88922);function Ge(C,w){if(1&C&&(r.TgZ(0,"span"),r._uU(1),r.qZA(),r._UZ(2,"br"),r.TgZ(3,"span"),r._uU(4),r.ALo(5,"localize"),r.qZA()),2&C){const A=w.model,k=r.oxw(2);r.xp6(1),r.Oqu(A.name),r.xp6(3),r.AsE(" ",r.lcZ(5,3,"IncomeWithAmount")," ",A.value+" "+k.appSession.application.currencySign," ")}}function Pe(C,w){if(1&C&&(r.TgZ(0,"ngx-charts-area-chart",14),r.YNc(1,Ge,6,5,"ng-template",null,15,r.W1O),r.qZA()),2&C){const A=r.oxw();r.Q6J("busyIf",A.loadingIncomeStatistics)("results",A.incomeStatisticsData)("showXAxisLabel",!0)("xAxis",!0)("yAxis",!0)("showGridLines",!0)}}const Oe=function(C){return{active:C}};let Se=(()=>{var C;class w extends H{constructor(k,b,q,ct){super(k),(0,s.Z)(this,"_hostDashboardServiceProxy",void 0),(0,s.Z)(this,"_dateTimeService",void 0),(0,s.Z)(this,"_widgetOnResizeEventHandler",void 0),(0,s.Z)(this,"selectedIncomeStatisticsDateInterval",tt.wo_.Daily),(0,s.Z)(this,"loadingIncomeStatistics",!0),(0,s.Z)(this,"selectedDateRange",void 0),(0,s.Z)(this,"incomeStatisticsData",[]),(0,s.Z)(this,"incomeStatisticsHasData",!1),(0,s.Z)(this,"appIncomeStatisticsDateInterval",tt.wo_),(0,s.Z)(this,"loadIncomeStatisticsData",()=>{this.loadingIncomeStatistics=!0,this._hostDashboardServiceProxy.getIncomeStatistics(this.selectedIncomeStatisticsDateInterval,this.selectedDateRange[0],this.selectedDateRange[1]).subscribe(Mt=>{this.incomeStatisticsData=this.normalizeIncomeStatisticsData(Mt.incomeStatistics),this.incomeStatisticsHasData=(0,Ye.Z)(this.incomeStatisticsData[0].series,Ci=>Ci.value>0).length>0,this.loadingIncomeStatistics=!1})}),(0,s.Z)(this,"onDateRangeFilterChange",Mt=>{!Mt||2!==Mt.length||this.selectedDateRange[0]===Mt[0]&&this.selectedDateRange[1]===Mt[1]||(this.selectedDateRange[0]=Mt[0],this.selectedDateRange[1]=Mt[1],this.runDelayed(this.loadIncomeStatisticsData))}),this._hostDashboardServiceProxy=b,this._dateTimeService=q,this._widgetOnResizeEventHandler=ct,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()],ct.onResize.subscribe(()=>{this.runDelayed(this.loadIncomeStatisticsData)})}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(this.loadIncomeStatisticsData)}incomeStatisticsDateIntervalChange(k){this.selectedIncomeStatisticsDateInterval!==k&&(this.selectedIncomeStatisticsDateInterval=k,this.loadIncomeStatisticsData())}normalizeIncomeStatisticsData(k){const b=[];for(let q=0;q<k.length;q++)b.push({name:this._dateTimeService.formatISODateString(k[q].date,"D"),value:k[q].amount});return[{name:"",series:b}]}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.EFb),r.Y36(we.C),r.Y36(ye.Lb))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-income-statistics"]],features:[r.qOj],decls:32,vars:37,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"la","la-pie-chart","text-primary"],[1,"card-label","text-success"],[1,"text-muted"],[1,"card-toolbar"],["data-toggle","buttons",1,"btn-group","btn-group-devided"],[1,"btn","m-btn--pill","btn-secondary",3,"ngClass","click"],["type","radio","name","IncomeStatisticsDatePeriod",1,"toggle",3,"value"],["perfectScrollbar","",1,"card-body"],["showYAxisLabel","true",3,"busyIf","results","showXAxisLabel","xAxis","yAxis","showGridLines",4,"ngIf"],[1,"note","note-info","text-center","chart",3,"hidden"],["showYAxisLabel","true",3,"busyIf","results","showXAxisLabel","xAxis","yAxis","showGridLines"],["tooltipTemplate",""]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r._UZ(4,"i",4),r.qZA(),r.TgZ(5,"h3",5),r._uU(6),r.ALo(7,"localize"),r.TgZ(8,"small",6),r._uU(9),r.ALo(10,"luxonFormat"),r.ALo(11,"luxonFormat"),r.qZA()()(),r.TgZ(12,"div",7)(13,"div",8)(14,"label",9),r.NdJ("click",function(){return b.incomeStatisticsDateIntervalChange(b.appIncomeStatisticsDateInterval.Daily)}),r._UZ(15,"input",10),r._uU(16),r.ALo(17,"localize"),r.qZA(),r.TgZ(18,"label",9),r.NdJ("click",function(){return b.incomeStatisticsDateIntervalChange(b.appIncomeStatisticsDateInterval.Weekly)}),r._UZ(19,"input",10),r._uU(20),r.ALo(21,"localize"),r.qZA(),r.TgZ(22,"label",9),r.NdJ("click",function(){return b.incomeStatisticsDateIntervalChange(b.appIncomeStatisticsDateInterval.Monthly)}),r._UZ(23,"input",10),r._uU(24),r.ALo(25,"localize"),r.qZA()()()(),r.TgZ(26,"div",11),r.YNc(27,Pe,3,6,"ngx-charts-area-chart",12),r.TgZ(28,"div",13)(29,"small",6),r._uU(30),r.ALo(31,"localize"),r.qZA()()()()),2&k&&(r.xp6(6),r.hij(" ",r.lcZ(7,15,"IncomeStatistics")," "),r.xp6(3),r.AsE(" ",r.xi3(10,17,b.selectedDateRange[0],"D")," - ",r.xi3(11,20,b.selectedDateRange[1],"D")," "),r.xp6(5),r.Q6J("ngClass",r.VKq(31,Oe,b.selectedIncomeStatisticsDateInterval==b.appIncomeStatisticsDateInterval.Daily)),r.xp6(1),r.Q6J("value",b.appIncomeStatisticsDateInterval.Daily),r.xp6(1),r.hij(" ",r.lcZ(17,23,"Daily")," "),r.xp6(2),r.Q6J("ngClass",r.VKq(33,Oe,b.selectedIncomeStatisticsDateInterval==b.appIncomeStatisticsDateInterval.Weekly)),r.xp6(1),r.Q6J("value",b.appIncomeStatisticsDateInterval.Weekly),r.xp6(1),r.hij(" ",r.lcZ(21,25,"Weekly")," "),r.xp6(2),r.Q6J("ngClass",r.VKq(35,Oe,b.selectedIncomeStatisticsDateInterval==b.appIncomeStatisticsDateInterval.Monthly)),r.xp6(1),r.Q6J("value",b.appIncomeStatisticsDateInterval.Monthly),r.xp6(1),r.hij(" ",r.lcZ(25,27,"Monthly")," "),r.xp6(3),r.Q6J("ngIf",b.incomeStatisticsHasData),r.xp6(1),r.Q6J("hidden",b.incomeStatisticsHasData),r.xp6(2),r.Oqu(r.lcZ(31,29,"NoData")))},dependencies:[J.mk,J.O5,ie.U,Q.rt,ot.$,fe.n,Qt.F],styles:["input[type=radio][_ngcontent-%COMP%]{display:none}"]})),w})();var Xe=$(56916),Ue=$(85219);const _i=["RecentTenantsTable"];function xi(C,w){if(1&C&&(r.TgZ(0,"small",14),r._uU(1),r.ALo(2,"localize"),r.qZA()),2&C){const A=r.oxw();r.xp6(1),r.hij(" ",r.Dn7(2,1,"RecentTenantsHelpText",A.recentTenantsData.recentTenantsDayCount,A.recentTenantsData.maxRecentTenantsShownCount)," ")}}function Nt(C,w){1&C&&(r.TgZ(0,"tr")(1,"th"),r._uU(2),r.ALo(3,"localize"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"localize"),r.qZA()()),2&C&&(r.xp6(2),r.Oqu(r.lcZ(3,2,"TenantName")),r.xp6(3),r.Oqu(r.lcZ(6,4,"CreationTime")))}function vi(C,w){if(1&C&&(r.TgZ(0,"tr")(1,"td")(2,"span",21),r._uU(3),r.ALo(4,"localize"),r.qZA(),r._uU(5),r.qZA(),r.TgZ(6,"td")(7,"span",21),r._uU(8),r.ALo(9,"localize"),r.qZA(),r._uU(10),r.ALo(11,"luxonFormat"),r.qZA()()),2&C){const A=w.$implicit;r.xp6(3),r.Oqu(r.lcZ(4,4,"TenantName")),r.xp6(2),r.hij(" ",A.name," "),r.xp6(3),r.Oqu(r.lcZ(9,6,"CreationTime")),r.xp6(2),r.hij(" ",r.xi3(11,8,A.creationTime,"F")," ")}}function li(C,w){1&C&&(r.TgZ(0,"div",22),r._uU(1),r.ALo(2,"localize"),r.qZA()),2&C&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoData")," "))}const yi=function(){return{"min-width":"25rem"}};function Ti(C,w){if(1&C&&(r.TgZ(0,"div",15)(1,"p-table",16,17),r.YNc(3,Nt,7,6,"ng-template",18),r.YNc(4,vi,12,11,"ng-template",19),r.qZA(),r.YNc(5,li,3,3,"div",20),r.qZA()),2&C){const A=r.oxw();r.Q6J("busyIf",A.primengTableHelper.isLoading),r.xp6(1),r.s9C("rows",A.primengTableHelper.defaultRecordsCountPerPage),r.Q6J("value",A.recentTenantsData.recentTenants)("paginator",!1)("lazy",!1)("tableStyle",r.DdM(7,yi)),r.xp6(4),r.Q6J("ngIf",0==(null==A.recentTenantsData||null==A.recentTenantsData.recentTenants?null:A.recentTenantsData.recentTenants.length))}}let z=(()=>{var C;class w extends H{constructor(k,b){super(k),(0,s.Z)(this,"_hostDashboardServiceProxy",void 0),(0,s.Z)(this,"recentTenantsTable",void 0),(0,s.Z)(this,"loading",!0),(0,s.Z)(this,"recentTenantsData",void 0),this._hostDashboardServiceProxy=b,this.loadRecentTenantsData()}loadRecentTenantsData(){this._hostDashboardServiceProxy.getRecentTenantsData().subscribe(k=>{this.recentTenantsData=k,this.loading=!1})}gotoAllRecentTenants(){window.open(abp.appPath+"app/admin/tenants?creationDateStart="+encodeURIComponent(this.recentTenantsData.tenantCreationStartDate.toString()))}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.EFb))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-recent-tenants"]],viewQuery:function(k,b){if(1&k&&r.Gf(_i,7),2&k){let q;r.iGM(q=r.CRH())&&(b.recentTenantsTable=q.first)}},features:[r.qOj],decls:18,vars:8,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"fas","fa-user-plus","text-primary"],[1,"card-label","text-primary"],["class","text-muted",4,"ngIf"],["perfectScrollbar","",1,"card-body"],["perfectScrollbar","",1,"scroller","chart"],["class","primeng-datatable-container recent-tenants-table",3,"busyIf",4,"ngIf"],[1,"scroller-footer"],[1,"btn-arrow-link","pull-right"],["href","javascript:;",1,"see-all-recent-tenants",3,"click"],[1,"icon-arrow-right"],[1,"text-muted"],[1,"primeng-datatable-container","recent-tenants-table",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle"],["RecentTenantsTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"p-column-title"],[1,"primeng-no-data"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r._UZ(4,"i",4),r.qZA(),r.TgZ(5,"h3",5),r._uU(6),r.ALo(7,"localize"),r.YNc(8,xi,3,5,"small",6),r.qZA()()(),r.TgZ(9,"div",7)(10,"div",8),r.YNc(11,Ti,6,8,"div",9),r.qZA(),r.TgZ(12,"div",10)(13,"div",11)(14,"a",12),r.NdJ("click",function(){return b.gotoAllRecentTenants()}),r._uU(15),r.ALo(16,"localize"),r.qZA(),r._UZ(17,"i",13),r.qZA()()()()),2&k&&(r.xp6(6),r.hij(" ",r.lcZ(7,4,"RecentTenants")," "),r.xp6(2),r.Q6J("ngIf",!b.loading),r.xp6(3),r.Q6J("ngIf",!b.loading),r.xp6(4),r.hij(" ",r.lcZ(16,6,"SeeAllRecords")," "))},dependencies:[J.O5,ie.U,ot.$,Xe.iA,Ue.jx,fe.n,Qt.F]})),w})();const nt=["EditionStatisticsChart"];function B(C,w){if(1&C&&r._UZ(0,"ngx-charts-pie-chart",10),2&C){const A=r.oxw();r.Q6J("results",A.editionStatisticsData)("legend",!0)("doughnut",!0)("arcWidth",.75)}}let y=(()=>{var C;class w extends H{constructor(k,b,q,ct){super(k),(0,s.Z)(this,"_hostDashboardServiceProxy",void 0),(0,s.Z)(this,"_dateTimeService",void 0),(0,s.Z)(this,"_widgetOnResizeEventHandler",void 0),(0,s.Z)(this,"editionStatisticsChart",void 0),(0,s.Z)(this,"selectedDateRange",void 0),(0,s.Z)(this,"editionStatisticsHasData",!1),(0,s.Z)(this,"editionStatisticsData",void 0),(0,s.Z)(this,"showChart",()=>{this._hostDashboardServiceProxy.getEditionTenantStatistics(this.selectedDateRange[0],this.selectedDateRange[1]).subscribe(Mt=>{this.editionStatisticsData=this.normalizeEditionStatisticsData(Mt),this.editionStatisticsHasData=(0,Ye.Z)(this.editionStatisticsData,Ci=>Ci.value>0).length>0})}),(0,s.Z)(this,"onDateRangeFilterChange",Mt=>{!Mt||2!==Mt.length||this.selectedDateRange[0]===Mt[0]&&this.selectedDateRange[1]===Mt[1]||(this.selectedDateRange[0]=Mt[0],this.selectedDateRange[1]=Mt[1],this.runDelayed(this.showChart))}),this._hostDashboardServiceProxy=b,this._dateTimeService=q,this._widgetOnResizeEventHandler=ct,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()],ct.onResize.subscribe(()=>{this.runDelayed(this.showChart)})}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(this.showChart)}normalizeEditionStatisticsData(k){if(!k||!k.editionStatistics||0===k.editionStatistics.length)return[];const b=new Array(k.editionStatistics.length);for(let q=0;q<k.editionStatistics.length;q++)b[q]={name:k.editionStatistics[q].label,value:k.editionStatistics[q].value};return b}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.EFb),r.Y36(we.C),r.Y36(ye.Lb))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-edition-statistics"]],viewQuery:function(k,b){if(1&k&&r.Gf(nt,7),2&k){let q;r.iGM(q=r.CRH())&&(b.editionStatisticsChart=q.first)}},features:[r.qOj],decls:18,vars:16,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"la","la-pie-chart","text-success"],[1,"card-label","text-success"],[1,"text-muted"],["perfectScrollbar","",1,"card-body"],[3,"results","legend","doughnut","arcWidth",4,"ngIf"],[1,"note","note-info","text-center","chart",3,"hidden"],[3,"results","legend","doughnut","arcWidth"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r._UZ(4,"i",4),r.qZA(),r.TgZ(5,"h3",5),r._uU(6),r.ALo(7,"localize"),r.TgZ(8,"small",6),r._uU(9),r.ALo(10,"luxonFormat"),r.ALo(11,"luxonFormat"),r.qZA()()()(),r.TgZ(12,"div",7),r.YNc(13,B,1,4,"ngx-charts-pie-chart",8),r.TgZ(14,"div",9)(15,"small",6),r._uU(16),r.ALo(17,"localize"),r.qZA()()()()),2&k&&(r.xp6(6),r.hij(" ",r.lcZ(7,6,"EditionStatistics")," "),r.xp6(3),r.AsE(" ",r.xi3(10,8,b.selectedDateRange[0],"D")," - ",r.xi3(11,11,b.selectedDateRange[1],"D")," "),r.xp6(4),r.Q6J("ngIf",b.editionStatisticsHasData),r.xp6(1),r.Q6J("hidden",b.editionStatisticsHasData),r.xp6(2),r.Oqu(r.lcZ(17,14,"NoData")))},dependencies:[J.O5,Q.JU,ot.$,fe.n,Qt.F]})),w})();const d=["ExpiringTenantsTable"];function p(C,w){if(1&C&&(r.TgZ(0,"small",14),r._uU(1),r.ALo(2,"localize"),r.qZA()),2&C){const A=r.oxw();r.xp6(1),r.hij(" ",r.Dn7(2,1,"ExpiringTenantsHelpText",A.expiringTenantsData.subscriptionEndAlertDayCount,A.expiringTenantsData.maxExpiringTenantsShownCount)," ")}}function u(C,w){1&C&&(r.TgZ(0,"tr")(1,"th"),r._uU(2),r.ALo(3,"localize"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"localize"),r.qZA()()),2&C&&(r.xp6(2),r.Oqu(r.lcZ(3,2,"TenantName")),r.xp6(3),r.Oqu(r.lcZ(6,4,"RemainingDay")))}function f(C,w){if(1&C&&(r.TgZ(0,"tr")(1,"td")(2,"span",21),r._uU(3),r.ALo(4,"localize"),r.qZA(),r._uU(5),r.qZA(),r.TgZ(6,"td")(7,"span",21),r._uU(8),r.ALo(9,"localize"),r.qZA(),r._uU(10),r.qZA()()),2&C){const A=w.$implicit;r.xp6(3),r.Oqu(r.lcZ(4,4,"TenantName")),r.xp6(2),r.hij(" ",A.tenantName," "),r.xp6(3),r.Oqu(r.lcZ(9,6,"RemainingDay")),r.xp6(2),r.hij(" ",A.remainingDayCount," ")}}function S(C,w){1&C&&(r.TgZ(0,"div",22),r._uU(1),r.ALo(2,"localize"),r.qZA()),2&C&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"NoData")," "))}const L=function(){return{"min-width":"25rem"}};function W(C,w){if(1&C&&(r.TgZ(0,"div",15)(1,"p-table",16,17),r.YNc(3,u,7,6,"ng-template",18),r.YNc(4,f,11,8,"ng-template",19),r.qZA(),r.YNc(5,S,3,3,"div",20),r.qZA()),2&C){const A=r.oxw();r.Q6J("busyIf",A.primengTableHelper.isLoading),r.xp6(1),r.s9C("rows",A.primengTableHelper.defaultRecordsCountPerPage),r.Q6J("value",A.expiringTenantsData.expiringTenants)("paginator",!1)("lazy",!1)("tableStyle",r.DdM(7,L)),r.xp6(4),r.Q6J("ngIf",0==(null==A.expiringTenantsData||null==A.expiringTenantsData.expiringTenants?null:A.expiringTenantsData.expiringTenants.length))}}let U=(()=>{var C;class w extends H{constructor(k,b){super(k),(0,s.Z)(this,"_hostDashboardServiceProxy",void 0),(0,s.Z)(this,"expiringTenantsTable",void 0),(0,s.Z)(this,"dataLoading",!0),(0,s.Z)(this,"expiringTenantsData",void 0),this._hostDashboardServiceProxy=b}ngOnInit(){this.getData()}getData(){this._hostDashboardServiceProxy.getSubscriptionExpiringTenantsData().subscribe(k=>{this.expiringTenantsData=k,this.dataLoading=!1})}gotoAllExpiringTenants(){const k=abp.appPath+"app/admin/tenants?subscriptionEndDateStart="+encodeURIComponent(this.expiringTenantsData.subscriptionEndDateStart.toString())+"&subscriptionEndDateEnd="+encodeURIComponent(this.expiringTenantsData.subscriptionEndDateEnd.toString());window.open(k)}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.EFb))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-subscription-expiring-tenants"]],viewQuery:function(k,b){if(1&k&&r.Gf(d,7),2&k){let q;r.iGM(q=r.CRH())&&(b.expiringTenantsTable=q.first)}},features:[r.qOj],decls:18,vars:8,consts:[[1,"card","card-custom","h-100"],[1,"card-header","align-items-center","border-0"],[1,"card-title"],[1,"card-icon"],[1,"far","fa-clock","text-danger"],[1,"card-label","text-danger"],["class","text-muted",4,"ngIf"],["perfectScrollbar","",1,"card-body"],[1,"scroller","chart"],["class","primeng-datatable-container expiring-tenants-table",3,"busyIf",4,"ngIf"],[1,"scroller-footer"],[1,"btn-arrow-link","pull-right"],["href","javascript:;",1,"see-all-expiring-tenants",3,"click"],[1,"icon-arrow-right"],[1,"text-muted"],[1,"primeng-datatable-container","expiring-tenants-table",3,"busyIf"],[3,"value","rows","paginator","lazy","tableStyle"],["ExpiringTenantsTable",""],["pTemplate","header"],["pTemplate","body"],["class","primeng-no-data",4,"ngIf"],[1,"p-column-title"],[1,"primeng-no-data"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),r._UZ(4,"i",4),r.qZA(),r.TgZ(5,"h3",5),r._uU(6),r.ALo(7,"localize"),r.YNc(8,p,3,5,"small",6),r.qZA()()(),r.TgZ(9,"div",7)(10,"div",8),r.YNc(11,W,6,8,"div",9),r.qZA(),r.TgZ(12,"div",10)(13,"div",11)(14,"a",12),r.NdJ("click",function(){return b.gotoAllExpiringTenants()}),r._uU(15),r.ALo(16,"localize"),r.qZA(),r._UZ(17,"i",13),r.qZA()()()()),2&k&&(r.xp6(6),r.hij(" ",r.lcZ(7,4,"SubscriptionExpiringTenants")," "),r.xp6(2),r.Q6J("ngIf",b.expiringTenantsData),r.xp6(3),r.Q6J("ngIf",!b.dataLoading),r.xp6(4),r.hij(" ",r.lcZ(16,6,"SeeAllRecords")," "))},dependencies:[J.O5,ie.U,ot.$,Xe.iA,Ue.jx,Qt.F]})),w})();function et(C,w){1&C&&(r.TgZ(0,"span"),r._uU(1,"..."),r.qZA())}function rt(C,w){if(1&C){const A=r.EpF();r.TgZ(0,"span",22),r.NdJ("countoChange",function(b){r.CHM(A);const q=r.oxw();return r.KtG(q.countoNewSubscriptionAmount=b)}),r._uU(1),r.ALo(2,"currency"),r.qZA()}if(2&C){const A=r.oxw();r.Q6J("step",30)("countTo",A.topStatsData.newSubscriptionAmount)("countFrom",0)("duration",5),r.xp6(1),r.hij(" ",r.gM2(2,5,A.countoNewSubscriptionAmount,"USD","symbol","1.0-0")," ")}}function Pt(C,w){1&C&&(r.TgZ(0,"span"),r._uU(1,"..."),r.qZA())}function Xt(C,w){if(1&C){const A=r.EpF();r.TgZ(0,"span",22),r.NdJ("countoChange",function(b){r.CHM(A);const q=r.oxw();return r.KtG(q.countoNewTenantsCount=b)}),r._uU(1),r.ALo(2,"number"),r.qZA()}if(2&C){const A=r.oxw();r.Q6J("step",10)("countTo",A.topStatsData.newTenantsCount)("countFrom",0)("duration",5),r.xp6(1),r.hij(" ",r.xi3(2,5,A.countoNewTenantsCount,"1.0-0")," ")}}function re(C,w){1&C&&(r.TgZ(0,"span"),r._uU(1,"..."),r.qZA())}function qt(C,w){if(1&C){const A=r.EpF();r.TgZ(0,"span",22),r.NdJ("countoChange",function(b){r.CHM(A);const q=r.oxw();return r.KtG(q.countoDashboardPlaceholder1=b)}),r._uU(1),r.ALo(2,"number"),r.qZA()}if(2&C){const A=r.oxw();r.Q6J("step",100)("countTo",A.topStatsData.dashboardPlaceholder1)("countFrom",0)("duration",5),r.xp6(1),r.hij(" ",r.xi3(2,5,A.countoDashboardPlaceholder1,"1.0-0")," ")}}function le(C,w){1&C&&(r.TgZ(0,"span"),r._uU(1,"..."),r.qZA())}function _e(C,w){if(1&C){const A=r.EpF();r.TgZ(0,"span",22),r.NdJ("countoChange",function(b){r.CHM(A);const q=r.oxw();return r.KtG(q.countoDashboardPlaceholder2=b)}),r._uU(1),r.ALo(2,"number"),r.qZA()}if(2&C){const A=r.oxw();r.Q6J("step",100)("countTo",A.topStatsData.dashboardPlaceholder2)("countFrom",0)("duration",5),r.xp6(1),r.hij(" ",r.xi3(2,5,A.countoDashboardPlaceholder2,"1.0-0")," ")}}let qe=(()=>{var C;class w extends H{constructor(k,b,q){super(k),(0,s.Z)(this,"_hostDashboardServiceProxy",void 0),(0,s.Z)(this,"_dateTimeService",void 0),(0,s.Z)(this,"countoNewSubscriptionAmount",0),(0,s.Z)(this,"countoNewTenantsCount",0),(0,s.Z)(this,"countoDashboardPlaceholder1",0),(0,s.Z)(this,"countoDashboardPlaceholder2",0),(0,s.Z)(this,"selectedDateRange",void 0),(0,s.Z)(this,"loading",!0),(0,s.Z)(this,"topStatsData",void 0),(0,s.Z)(this,"loadHostTopStatsData",()=>{this._hostDashboardServiceProxy.getTopStatsData(this.selectedDateRange[0],this.selectedDateRange[1]).subscribe(ct=>{this.topStatsData=ct,this.loading=!1})}),(0,s.Z)(this,"onDateRangeFilterChange",ct=>{!ct||2!==ct.length||this.selectedDateRange[0]===ct[0]&&this.selectedDateRange[1]===ct[1]||(this.selectedDateRange[0]=ct[0],this.selectedDateRange[1]=ct[1],this.runDelayed(this.loadHostTopStatsData))}),this._hostDashboardServiceProxy=b,this._dateTimeService=q,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()]}ngOnInit(){this.subDateRangeFilter(),this.runDelayed(this.loadHostTopStatsData)}subDateRangeFilter(){this.subscribeToEvent("app.dashboardFilters.dateRangePicker.onDateChange",this.onDateRangeFilterChange)}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.EFb),r.Y36(we.C))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-host-top-stats"]],features:[r.qOj],decls:65,vars:42,consts:[["perfectScrollbar","",1,"row","row-no-padding","row-col-separator-xl","h-100"],[1,"col"],[1,"card","card-custom","bgi-no-repeat","card-stretch","new-subscription-statistics","h-100"],[1,"card-body"],[1,"card-title","text-left","fw-bolder","text-dark","fs-h6","mb-4","text-hover-state-dark","d-block"],[1,"text-left","text-primary","fw-bolder","fs-h2","me-2"],[4,"ngIf"],["counto","",3,"step","countTo","countFrom","duration","countoChange",4,"ngIf"],[1,"progress","progress-xs","mt-7","bg-primary-o-60"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","100%"],[1,"text-left","text-muted","mt-1","status-title"],[1,"text-left","text-info","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","mt-7","bg-danger-o-60"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","100%"],[1,"text-left","text-danger","fw-bolder","fs-h2","me-2"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","45%"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"text-muted","me-2","fs-sm","fw-bold"],[1,"text-muted","fs-sm","fw-bold"],[1,"text-left","text-success","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","mt-7","bg-success-o-60"],["role","progressbar","aria-valuenow","65","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","65%"],["counto","",3,"step","countTo","countFrom","duration","countoChange"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),r._uU(5),r.ALo(6,"localize"),r.qZA(),r.TgZ(7,"div",5),r.YNc(8,et,2,0,"span",6),r.YNc(9,rt,3,10,"span",7),r.qZA(),r.TgZ(10,"div",8),r._UZ(11,"div",9),r.qZA(),r.TgZ(12,"div",10),r._uU(13),r.ALo(14,"luxonFormat"),r.ALo(15,"luxonFormat"),r.qZA()()()(),r.TgZ(16,"div",1)(17,"div",2)(18,"div",3)(19,"div",4),r._uU(20),r.ALo(21,"localize"),r.qZA(),r.TgZ(22,"div",11),r.YNc(23,Pt,2,0,"span",6),r.YNc(24,Xt,3,8,"span",7),r.qZA(),r.TgZ(25,"div",12),r._UZ(26,"div",13),r.qZA(),r.TgZ(27,"div",10),r._uU(28),r.ALo(29,"luxonFormat"),r.ALo(30,"luxonFormat"),r.qZA()()()(),r.TgZ(31,"div",1)(32,"div",2)(33,"div",3)(34,"div",4),r._uU(35),r.ALo(36,"localize"),r.qZA(),r.TgZ(37,"div",14),r.YNc(38,re,2,0,"span",6),r.YNc(39,qt,3,8,"span",7),r.qZA(),r.TgZ(40,"div",12),r._UZ(41,"div",15),r.qZA(),r.TgZ(42,"div",16)(43,"span",17),r._uU(44),r.ALo(45,"localize"),r.qZA(),r.TgZ(46,"span",18),r._uU(47,"45%"),r.qZA()()()()(),r.TgZ(48,"div",1)(49,"div",2)(50,"div",3)(51,"div",4),r._uU(52),r.ALo(53,"localize"),r.qZA(),r.TgZ(54,"div",19),r.YNc(55,le,2,0,"span",6),r.YNc(56,_e,3,8,"span",7),r.qZA(),r.TgZ(57,"div",20),r._UZ(58,"div",21),r.qZA(),r.TgZ(59,"div",16)(60,"span",17),r._uU(61),r.ALo(62,"localize"),r.qZA(),r.TgZ(63,"span",18),r._uU(64,"65%"),r.qZA()()()()()()),2&k&&(r.xp6(5),r.hij(" ",r.lcZ(6,18,"NewSubscriptionAmount")," "),r.xp6(3),r.Q6J("ngIf",!b.topStatsData),r.xp6(1),r.Q6J("ngIf",b.topStatsData),r.xp6(4),r.AsE(" ",r.xi3(14,20,b.selectedDateRange[0],"D")," - ",r.xi3(15,23,b.selectedDateRange[1],"D")," "),r.xp6(7),r.hij(" ",r.lcZ(21,26,"NewTenants")," "),r.xp6(3),r.Q6J("ngIf",!b.topStatsData),r.xp6(1),r.Q6J("ngIf",b.topStatsData),r.xp6(4),r.AsE(" ",r.xi3(29,28,b.selectedDateRange[0],"D")," - ",r.xi3(30,31,b.selectedDateRange[1],"D")," "),r.xp6(7),r.hij(" ",r.lcZ(36,34,"DashboardSampleStatistics")," "),r.xp6(3),r.Q6J("ngIf",!b.topStatsData),r.xp6(1),r.Q6J("ngIf",b.topStatsData),r.xp6(5),r.hij(" ",r.lcZ(45,36,"DashboardSampleStatisticsHelpText")," "),r.xp6(8),r.hij(" ",r.lcZ(53,38,"DashboardSampleStatistics")," 2 "),r.xp6(3),r.Q6J("ngIf",!b.topStatsData),r.xp6(1),r.Q6J("ngIf",b.topStatsData),r.xp6(5),r.hij(" ",r.lcZ(62,40,"DashboardSampleStatisticsHelpText")," "))},dependencies:[J.O5,ot.$,Gt.T,J.JJ,J.H9,fe.n,Qt.F]})),w})();var an=$(81243),zi=$(16316);let _s=(()=>{var C;class w extends j.c{constructor(k,b){super(k),(0,s.Z)(this,"_dateTimeService",void 0),(0,s.Z)(this,"date",void 0),(0,s.Z)(this,"selectedDateRange",void 0),this._dateTimeService=b,this.selectedDateRange=[this._dateTimeService.getStartOfDayMinusDays(7),this._dateTimeService.getEndOfDay()]}onChange(){abp.event.trigger("app.dashboardFilters.dateRangePicker.onDateChange",this.selectedDateRange)}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(we.C))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-filter-date-range-picker"]],features:[r.qOj],decls:8,vars:9,consts:[[1,"input-group"],["type","text","disabled","disabled","bsDaterangepicker","","dateRangePickerLuxonModifier","","placement","bottom",1,"form-control","date-range-filter",3,"value","date","dateChange"],["dateRangePicker","bsDaterangepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-calendar-day","p-0",2,"color","white"]],template:function(k,b){if(1&k){const q=r.EpF();r.TgZ(0,"div",0)(1,"input",1,2),r.NdJ("dateChange",function(Mt){return b.selectedDateRange=Mt})("dateChange",function(){return b.onChange()}),r.ALo(3,"luxonFormat"),r.ALo(4,"luxonFormat"),r.qZA(),r.TgZ(5,"div",3)(6,"button",4),r.NdJ("click",function(){r.CHM(q);const Mt=r.MAs(2);return r.KtG(Mt.toggle())}),r._UZ(7,"i",5),r.qZA()()()}2&k&&(r.xp6(1),r.hYB("value","",r.xi3(3,3,b.selectedDateRange[0],"ff")," - ",r.xi3(4,6,b.selectedDateRange[1],"ff"),""),r.Q6J("date",b.selectedDateRange))},dependencies:[an.t,zi.FR,zi.TB,fe.n]})),w})();class ci extends at{constructor(...w){super(...w),(0,s.Z)(this,"totalProfit",0),(0,s.Z)(this,"totalProfitCounter",0),(0,s.Z)(this,"newFeedbacks",0),(0,s.Z)(this,"newFeedbacksCounter",0),(0,s.Z)(this,"newOrders",0),(0,s.Z)(this,"newOrdersCounter",0),(0,s.Z)(this,"newUsers",0),(0,s.Z)(this,"newUsersCounter",0),(0,s.Z)(this,"totalProfitChange",76),(0,s.Z)(this,"totalProfitChangeCounter",0),(0,s.Z)(this,"newFeedbacksChange",85),(0,s.Z)(this,"newFeedbacksChangeCounter",0),(0,s.Z)(this,"newOrdersChange",45),(0,s.Z)(this,"newOrdersChangeCounter",0),(0,s.Z)(this,"newUsersChange",57),(0,s.Z)(this,"newUsersChangeCounter",0)}init(w,A,k,b){this.totalProfit=w,this.newFeedbacks=A,this.newOrders=k,this.newUsers=b,this.hideLoading()}}let xs=(()=>{var C;class w extends H{constructor(k,b){super(k),(0,s.Z)(this,"_tenantDashboardServiceProxy",void 0),(0,s.Z)(this,"dashboardTopStats",void 0),this._tenantDashboardServiceProxy=b,this.dashboardTopStats=new ci}ngOnInit(){this.loadTopStatsData()}loadTopStatsData(){this._tenantDashboardServiceProxy.getTopStats().subscribe(k=>{this.dashboardTopStats.init(k.totalProfit,k.newFeedbacks,k.newOrders,k.newUsers)})}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)(r.Y36(r.zs3),r.Y36(tt.AdH))}),(0,s.Z)(w,"\u0275cmp",r.Xpm({type:C,selectors:[["app-widget-top-stats"]],features:[r.qOj],decls:79,vars:24,consts:[["perfectScrollbar","",1,"row","row-no-padding","row-col-separator-xl","h-100"],[1,"col","pr-0"],[1,"card","card-custom","bgi-no-repeat","card-stretch","new-subscription-statistics","h-100"],[1,"card-body"],[1,"text-left","fw-bolder","text-dark","fs-h6","text-hover-state-dark","d-block"],[1,"text-muted","fw-bold","text-left","float-left","col-12","p-0","mb-4"],[1,"text-left","text-primary","fw-bolder","fs-h2","me-2"],["counto","",3,"step","duration","countFrom","countTo","countoChange"],[1,"progress","progress-xs","bg-primary-o-60"],["role","progressbar","aria-valuenow","76","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-primary",2,"width","76%"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"text-muted","me-2","fs-sm","fw-bold"],[1,"text-muted","fs-sm","fw-bold"],[1,"counterup"],[1,"text-left","text-info","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","bg-info-o-60"],["role","progressbar","aria-valuenow","85","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-info",2,"width","85%"],[1,"text-left","text-danger","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","bg-danger-o-60"],["role","progressbar","aria-valuenow","45","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","45%"],[1,"col"],[1,"text-left","text-success","fw-bolder","fs-h2","me-2"],[1,"progress","progress-xs","bg-success-o-60"],["role","progressbar","aria-valuenow","57","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-success",2,"width","57%"]],template:function(k,b){1&k&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),r._uU(5," Total Profit "),r.qZA(),r.TgZ(6,"span",5),r._uU(7,"All Customs Value"),r.qZA(),r.TgZ(8,"div",6),r._uU(9," $ "),r.TgZ(10,"span",7),r.NdJ("countoChange",function(ct){return b.dashboardTopStats.totalProfitCounter=ct}),r._uU(11),r.qZA()(),r.TgZ(12,"div",8),r._UZ(13,"div",9),r.qZA(),r.TgZ(14,"div",10)(15,"span",11),r._uU(16,"Change"),r.qZA(),r.TgZ(17,"span",12)(18,"span",13),r._uU(19),r.qZA(),r._uU(20," % "),r.qZA()()()()(),r.TgZ(21,"div",1)(22,"div",2)(23,"div",3)(24,"span",4),r._uU(25," New Feedbacks "),r.qZA(),r.TgZ(26,"span",5),r._uU(27,"Customer Review"),r.qZA(),r.TgZ(28,"div",14),r._uU(29," $ "),r.TgZ(30,"span",7),r.NdJ("countoChange",function(ct){return b.dashboardTopStats.newFeedbacksCounter=ct}),r._uU(31),r.qZA()(),r.TgZ(32,"div",15),r._UZ(33,"div",16),r.qZA(),r.TgZ(34,"div",10)(35,"span",11),r._uU(36,"Change"),r.qZA(),r.TgZ(37,"span",12)(38,"span",13),r._uU(39),r.qZA(),r._uU(40," % "),r.qZA()()()()(),r.TgZ(41,"div",1)(42,"div",2)(43,"div",3)(44,"span",4),r._uU(45," New Orders "),r.qZA(),r.TgZ(46,"span",5),r._uU(47,"Fresh Order Amount"),r.qZA(),r.TgZ(48,"div",17)(49,"span",7),r.NdJ("countoChange",function(ct){return b.dashboardTopStats.newOrdersCounter=ct}),r._uU(50),r.qZA()(),r.TgZ(51,"div",18),r._UZ(52,"div",19),r.qZA(),r.TgZ(53,"div",10)(54,"span",11),r._uU(55,"Change"),r.qZA(),r.TgZ(56,"span",12)(57,"span",13),r._uU(58),r.qZA(),r._uU(59," % "),r.qZA()()()()(),r.TgZ(60,"div",20)(61,"div",2)(62,"div",3)(63,"span",4),r._uU(64," New Users "),r.qZA(),r.TgZ(65,"span",5),r._uU(66,"Joined New User"),r.qZA(),r.TgZ(67,"div",21)(68,"span",7),r.NdJ("countoChange",function(ct){return b.dashboardTopStats.newUsersCounter=ct}),r._uU(69),r.qZA()(),r.TgZ(70,"div",22),r._UZ(71,"div",23),r.qZA(),r.TgZ(72,"div",10)(73,"span",11),r._uU(74,"Change"),r.qZA(),r.TgZ(75,"span",12)(76,"span",13),r._uU(77),r.qZA(),r._uU(78," % "),r.qZA()()()()()()),2&k&&(r.xp6(10),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",b.dashboardTopStats.totalProfit),r.xp6(1),r.hij(" ",b.dashboardTopStats.totalProfitCounter.toFixed(0)," "),r.xp6(8),r.Oqu(b.dashboardTopStats.totalProfitChange),r.xp6(11),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",b.dashboardTopStats.newFeedbacks),r.xp6(1),r.hij(" ",b.dashboardTopStats.newFeedbacksCounter.toFixed(0)," "),r.xp6(8),r.Oqu(b.dashboardTopStats.newFeedbacks),r.xp6(10),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",b.dashboardTopStats.newOrders),r.xp6(1),r.hij(" ",b.dashboardTopStats.newOrdersCounter.toFixed(0)," "),r.xp6(8),r.Oqu(b.dashboardTopStats.newOrdersChange),r.xp6(10),r.Q6J("step",30)("duration",1)("countFrom",0)("countTo",b.dashboardTopStats.newUsers),r.xp6(1),r.hij(" ",b.dashboardTopStats.newUsersCounter.toFixed(0)," "),r.xp6(8),r.Oqu(b.dashboardTopStats.newUsersChange))},dependencies:[ot.$,Gt.T],styles:[".card.card-custom[_ngcontent-%COMP%] > .card-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}"]})),w})(),vs=(()=>{var C;class w{constructor(){(0,s.Z)(this,"WidgetViewDefinitions",[]),(0,s.Z)(this,"widgetFilterDefinitions",[]),this.initializeConfiguration()}initializeConfiguration(){let k=new dt(gt.t.filters.filterDateRangePicker,_s);this.widgetFilterDefinitions.push(k);let b=new c(gt.t.widgets.tenant.generalStats,Rt,6,4),q=new c(gt.t.widgets.tenant.dailySales,Ve),ct=new c(gt.t.widgets.tenant.profitShare,pi),Mt=new c(gt.t.widgets.tenant.memberActivity,fi),Ci=new c(gt.t.widgets.tenant.regionalStats,oi),ys=new c(gt.t.widgets.tenant.salesSummary,ri),Ts=new c(gt.t.widgets.tenant.topStats,xs),Cs=new c(gt.t.widgets.host.incomeStatistics,Se),bs=new c(gt.t.widgets.host.editionStatistics,y),ws=new c(gt.t.widgets.host.recentTenants,z),Ss=new c(gt.t.widgets.host.subscriptionExpiringTenants,U),ks=new c(gt.t.widgets.host.topStats,qe);this.WidgetViewDefinitions.push(b),this.WidgetViewDefinitions.push(q),this.WidgetViewDefinitions.push(ct),this.WidgetViewDefinitions.push(Mt),this.WidgetViewDefinitions.push(Ci),this.WidgetViewDefinitions.push(ys),this.WidgetViewDefinitions.push(Ts),this.WidgetViewDefinitions.push(Cs),this.WidgetViewDefinitions.push(bs),this.WidgetViewDefinitions.push(ws),this.WidgetViewDefinitions.push(Ss),this.WidgetViewDefinitions.push(ks)}}return C=w,(0,s.Z)(w,"\u0275fac",function(k){return new(k||C)}),(0,s.Z)(w,"\u0275prov",r.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})),w})()},52178:mi=>{function Wt(c){return c instanceof Buffer?Buffer.from(c):new c.constructor(c.buffer.slice(),c.byteOffset,c.length)}mi.exports=function $(c){return(c=c||{}).circles?function s(c){var dt=[],gt=[];return c.proto?function _t(r){if("object"!=typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return at(r,_t);if(r instanceof Map)return new Map(at(Array.from(r),_t));if(r instanceof Set)return new Set(at(Array.from(r),_t));var H={};for(var tt in dt.push(r),gt.push(H),r){var Q=r[tt];if("object"!=typeof Q||null===Q)H[tt]=Q;else if(Q instanceof Date)H[tt]=new Date(Q);else if(Q instanceof Map)H[tt]=new Map(at(Array.from(Q),_t));else if(Q instanceof Set)H[tt]=new Set(at(Array.from(Q),_t));else if(ArrayBuffer.isView(Q))H[tt]=Wt(Q);else{var ot=dt.indexOf(Q);H[tt]=-1!==ot?gt[ot]:_t(Q)}}return dt.pop(),gt.pop(),H}:function j(r){if("object"!=typeof r||null===r)return r;if(r instanceof Date)return new Date(r);if(Array.isArray(r))return at(r,j);if(r instanceof Map)return new Map(at(Array.from(r),j));if(r instanceof Set)return new Set(at(Array.from(r),j));var H={};for(var tt in dt.push(r),gt.push(H),r)if(!1!==Object.hasOwnProperty.call(r,tt)){var Q=r[tt];if("object"!=typeof Q||null===Q)H[tt]=Q;else if(Q instanceof Date)H[tt]=new Date(Q);else if(Q instanceof Map)H[tt]=new Map(at(Array.from(Q),j));else if(Q instanceof Set)H[tt]=new Set(at(Array.from(Q),j));else if(ArrayBuffer.isView(Q))H[tt]=Wt(Q);else{var ot=dt.indexOf(Q);H[tt]=-1!==ot?gt[ot]:j(Q)}}return dt.pop(),gt.pop(),H};function at(r,H){for(var tt=Object.keys(r),Q=new Array(tt.length),ot=0;ot<tt.length;ot++){var At=tt[ot],Rt=r[At];if("object"!=typeof Rt||null===Rt)Q[At]=Rt;else if(Rt instanceof Date)Q[At]=new Date(Rt);else if(ArrayBuffer.isView(Rt))Q[At]=Wt(Rt);else{var de=dt.indexOf(Rt);Q[At]=-1!==de?gt[de]:H(Rt)}}return Q}}(c):c.proto?function at(j){if("object"!=typeof j||null===j)return j;if(j instanceof Date)return new Date(j);if(Array.isArray(j))return dt(j,at);if(j instanceof Map)return new Map(dt(Array.from(j),at));if(j instanceof Set)return new Set(dt(Array.from(j),at));var _t={};for(var r in j){var H=j[r];_t[r]="object"!=typeof H||null===H?H:H instanceof Date?new Date(H):H instanceof Map?new Map(dt(Array.from(H),at)):H instanceof Set?new Set(dt(Array.from(H),at)):ArrayBuffer.isView(H)?Wt(H):at(H)}return _t}:function gt(j){if("object"!=typeof j||null===j)return j;if(j instanceof Date)return new Date(j);if(Array.isArray(j))return dt(j,gt);if(j instanceof Map)return new Map(dt(Array.from(j),gt));if(j instanceof Set)return new Set(dt(Array.from(j),gt));var _t={};for(var r in j)if(!1!==Object.hasOwnProperty.call(j,r)){var H=j[r];_t[r]="object"!=typeof H||null===H?H:H instanceof Date?new Date(H):H instanceof Map?new Map(dt(Array.from(H),gt)):H instanceof Set?new Set(dt(Array.from(H),gt)):ArrayBuffer.isView(H)?Wt(H):gt(H)}return _t};function dt(j,_t){for(var r=Object.keys(j),H=new Array(r.length),tt=0;tt<r.length;tt++){var Q=r[tt],ot=j[Q];H[Q]="object"!=typeof ot||null===ot?ot:ot instanceof Date?new Date(ot):ArrayBuffer.isView(ot)?Wt(ot):_t(ot)}return H}}},60357:(mi,Wt,$)=>{$.d(Wt,{rt:()=>jp,vP:()=>tf,vz:()=>Kp,pT:()=>of,K$:()=>af,Dw:()=>cf,Zk:()=>hf,JU:()=>uf,NA:()=>vf,Nm:()=>xf});var s=$(99468),c=$(96814),dt=$(97582);class tt{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class Q extends tt{constructor(n,t,i,a,o){super(),this.component=n,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=a,this.projectableNodes=o}}class ot extends tt{constructor(n,t,i,a){super(),this.templateRef=n,this.viewContainerRef=t,this.context=i,this.injector=a}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class At extends tt{constructor(n){super(),this.element=n instanceof s.SBq?n.nativeElement:n}}class Rt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof Q?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof ot?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof At?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ee extends Rt{constructor(n,t,i,a,o){super(),this.outletElement=n,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=a,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}attachComponentPortal(n){const i=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let a;return n.viewContainerRef?(a=n.viewContainerRef.createComponent(i,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector,n.projectableNodes||void 0),this.setDisposeFn(()=>a.destroy())):(a=i.create(n.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=n,a}attachTemplatePortal(n){let t=n.viewContainerRef,i=t.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return i.rootNodes.forEach(a=>this.outletElement.appendChild(a)),i.detectChanges(),this.setDisposeFn(()=>{let a=t.indexOf(i);-1!==a&&t.remove(a)}),this._attachedPortal=n,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}var pi=$(92438),kt=$(83620),ft=$(86825);function fi(){}function Ie(e){return null==e?fi:function(){return this.querySelector(e)}}function Te(){return[]}function oe(e){return null==e?Te:function(){return this.querySelectorAll(e)}}function ie(e){return function(){return this.matches(e)}}function Gt(e){return function(n){return n.matches(e)}}var Qt=Array.prototype.find;function Ce(){return this.firstElementChild}var ri=Array.prototype.filter;function Ye(){return Array.from(this.children)}function Pe(e){return new Array(e.length)}function Se(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}function Ue(e,n,t,i,a,o){for(var h,l=0,m=n.length,g=o.length;l<g;++l)(h=n[l])?(h.__data__=o[l],i[l]=h):t[l]=new Se(e,o[l]);for(;l<m;++l)(h=n[l])&&(a[l]=h)}function _i(e,n,t,i,a,o,l){var h,m,T,g=new Map,_=n.length,x=o.length,v=new Array(_);for(h=0;h<_;++h)(m=n[h])&&(v[h]=T=l.call(m,m.__data__,h,n)+"",g.has(T)?a[h]=m:g.set(T,m));for(h=0;h<x;++h)T=l.call(e,o[h],h,o)+"",(m=g.get(T))?(i[h]=m,m.__data__=o[h],g.delete(T)):t[h]=new Se(e,o[h]);for(h=0;h<_;++h)(m=n[h])&&g.get(v[h])===m&&(a[h]=m)}function xi(e){return e.__data__}function vi(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function B(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}Se.prototype={constructor:Se,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var L="http://www.w3.org/1999/xhtml";const W={svg:"http://www.w3.org/2000/svg",xhtml:L,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function U(e){var n=e+="",t=n.indexOf(":");return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),W.hasOwnProperty(n)?{space:W[n],local:e}:e}function et(e){return function(){this.removeAttribute(e)}}function rt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pt(e,n){return function(){this.setAttribute(e,n)}}function Xt(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function re(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function qt(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function _e(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function qe(e){return function(){this.style.removeProperty(e)}}function an(e,n,t){return function(){this.style.setProperty(e,n,t)}}function zi(e,n,t){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,t)}}function ci(e,n){return e.style.getPropertyValue(n)||_e(e).getComputedStyle(e,null).getPropertyValue(n)}function xs(e){return function(){delete this[e]}}function vs(e,n){return function(){this[e]=n}}function C(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function A(e){return e.trim().split(/^|\s+/)}function k(e){return e.classList||new b(e)}function b(e){this._node=e,this._names=A(e.getAttribute("class")||"")}function q(e,n){for(var t=k(e),i=-1,a=n.length;++i<a;)t.add(n[i])}function ct(e,n){for(var t=k(e),i=-1,a=n.length;++i<a;)t.remove(n[i])}function Mt(e){return function(){q(this,e)}}function Ci(e){return function(){ct(this,e)}}function ys(e,n){return function(){(n.apply(this,arguments)?q:ct)(this,e)}}function Cs(){this.textContent=""}function bs(e){return function(){this.textContent=e}}function ws(e){return function(){var n=e.apply(this,arguments);this.textContent=null==n?"":n}}function ks(){this.innerHTML=""}function el(e){return function(){this.innerHTML=e}}function il(e){return function(){var n=e.apply(this,arguments);this.innerHTML=null==n?"":n}}function sl(){this.nextSibling&&this.parentNode.appendChild(this)}function ol(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ll(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===L&&n.documentElement.namespaceURI===L?n.createElement(e):n.createElementNS(t,e)}}function cl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ia(e){var n=U(e);return(n.local?cl:ll)(n)}function dl(){return null}function ul(){var e=this.parentNode;e&&e.removeChild(this)}function pl(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function fl(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function Tl(e){return function(){var n=this.__on;if(n){for(var o,t=0,i=-1,a=n.length;t<a;++t)o=n[t],e.type&&o.type!==e.type||o.name!==e.name?n[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?n.length=i:delete this.__on}}}function Cl(e,n,t){return function(){var a,i=this.__on,o=function vl(e){return function(n){e.call(this,n,this.__data__)}}(n);if(i)for(var l=0,h=i.length;l<h;++l)if((a=i[l]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=t),void(a.value=n);this.addEventListener(e.type,o,t),a={type:e.type,name:e.name,value:n,listener:o,options:t},i?i.push(a):this.__on=[a]}}function Pa(e,n,t){var i=_e(e),a=i.CustomEvent;"function"==typeof a?a=new a(n,t):(a=i.document.createEvent("Event"),t?(a.initEvent(n,t.bubbles,t.cancelable),a.detail=t.detail):a.initEvent(n,!1,!1)),e.dispatchEvent(a)}function wl(e,n){return function(){return Pa(this,e,n)}}function Sl(e,n){return function(){return Pa(this,e,n.apply(this,arguments))}}b.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Oa=[null];function me(e,n){this._groups=e,this._parents=n}function $a(){return new me([[document.documentElement]],Oa)}me.prototype=$a.prototype={constructor:me,select:function We(e){"function"!=typeof e&&(e=Ie(e));for(var n=this._groups,t=n.length,i=new Array(t),a=0;a<t;++a)for(var m,g,o=n[a],l=o.length,h=i[a]=new Array(l),_=0;_<l;++_)(m=o[_])&&(g=e.call(m,m.__data__,_,o))&&("__data__"in m&&(g.__data__=m.__data__),h[_]=g);return new me(i,this._parents)},selectAll:function Yt(e){e="function"==typeof e?function oi(e){return function(){return function ai(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):oe(e);for(var n=this._groups,t=n.length,i=[],a=[],o=0;o<t;++o)for(var m,l=n[o],h=l.length,g=0;g<h;++g)(m=l[g])&&(i.push(e.call(m,m.__data__,g,l)),a.push(m));return new me(i,a)},selectChild:function be(e){return this.select(null==e?Ce:function ue(e){return function(){return Qt.call(this.children,e)}}("function"==typeof e?e:Gt(e)))},selectChildren:function fe(e){return this.selectAll(null==e?Ye:function we(e){return function(){return ri.call(this.children,e)}}("function"==typeof e?e:Gt(e)))},filter:function Ge(e){"function"!=typeof e&&(e=ie(e));for(var n=this._groups,t=n.length,i=new Array(t),a=0;a<t;++a)for(var m,o=n[a],l=o.length,h=i[a]=[],g=0;g<l;++g)(m=o[g])&&e.call(m,m.__data__,g,o)&&h.push(m);return new me(i,this._parents)},data:function Nt(e,n){if(!arguments.length)return Array.from(this,xi);var t=n?_i:Ue,i=this._parents,a=this._groups;"function"!=typeof e&&(e=function Xe(e){return function(){return e}}(e));for(var o=a.length,l=new Array(o),h=new Array(o),m=new Array(o),g=0;g<o;++g){var _=i[g],x=a[g],v=x.length,T=vi(e.call(_,_&&_.__data__,g,i)),M=T.length,O=h[g]=new Array(M),D=l[g]=new Array(M);t(_,x,O,D,m[g]=new Array(v),T,n);for(var N,G,Z=0,I=0;Z<M;++Z)if(N=O[Z]){for(Z>=I&&(I=Z+1);!(G=D[I])&&++I<M;);N._next=G||null}}return(l=new me(l,i))._enter=h,l._exit=m,l},enter:function Oe(){return new me(this._enter||this._groups.map(Pe),this._parents)},exit:function li(){return new me(this._exit||this._groups.map(Pe),this._parents)},join:function yi(e,n,t){var i=this.enter(),a=this,o=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=n&&(a=n(a))&&(a=a.selection()),null==t?o.remove():t(o),i&&a?i.merge(a).order():a},merge:function Ti(e){for(var n=e.selection?e.selection():e,t=this._groups,i=n._groups,a=t.length,l=Math.min(a,i.length),h=new Array(a),m=0;m<l;++m)for(var T,g=t[m],_=i[m],x=g.length,v=h[m]=new Array(x),M=0;M<x;++M)(T=g[M]||_[M])&&(v[M]=T);for(;m<a;++m)h[m]=t[m];return new me(h,this._parents)},selection:function Dl(){return this},order:function z(){for(var e=this._groups,n=-1,t=e.length;++n<t;)for(var l,i=e[n],a=i.length-1,o=i[a];--a>=0;)(l=i[a])&&(o&&4^l.compareDocumentPosition(o)&&o.parentNode.insertBefore(l,o),o=l);return this},sort:function nt(e){function n(x,v){return x&&v?e(x.__data__,v.__data__):!x-!v}e||(e=B);for(var t=this._groups,i=t.length,a=new Array(i),o=0;o<i;++o){for(var g,l=t[o],h=l.length,m=a[o]=new Array(h),_=0;_<h;++_)(g=l[_])&&(m[_]=g);m.sort(n)}return new me(a,this._parents).order()},call:function y(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function d(){return Array.from(this)},node:function p(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var i=e[n],a=0,o=i.length;a<o;++a){var l=i[a];if(l)return l}return null},size:function u(){let e=0;for(const n of this)++e;return e},empty:function f(){return!this.node()},each:function S(e){for(var n=this._groups,t=0,i=n.length;t<i;++t)for(var h,a=n[t],o=0,l=a.length;o<l;++o)(h=a[o])&&e.call(h,h.__data__,o,a);return this},attr:function le(e,n){var t=U(e);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((null==n?t.local?rt:et:"function"==typeof n?t.local?qt:re:t.local?Xt:Pt)(t,n))},style:function _s(e,n,t){return arguments.length>1?this.each((null==n?qe:"function"==typeof n?zi:an)(e,n,null==t?"":t)):ci(this.node(),e)},property:function w(e,n){return arguments.length>1?this.each((null==n?xs:"function"==typeof n?C:vs)(e,n)):this.node()[e]},classed:function Ts(e,n){var t=A(e+"");if(arguments.length<2){for(var i=k(this.node()),a=-1,o=t.length;++a<o;)if(!i.contains(t[a]))return!1;return!0}return this.each(("function"==typeof n?ys:n?Mt:Ci)(t,n))},text:function Ss(e){return arguments.length?this.each(null==e?Cs:("function"==typeof e?ws:bs)(e)):this.node().textContent},html:function nl(e){return arguments.length?this.each(null==e?ks:("function"==typeof e?il:el)(e)):this.node().innerHTML},raise:function al(){return this.each(sl)},lower:function rl(){return this.each(ol)},append:function hl(e){var n="function"==typeof e?e:Ia(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function gl(e,n){var t="function"==typeof e?e:Ia(e),i=null==n?dl:"function"==typeof n?n:Ie(n);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function ml(){return this.each(ul)},clone:function _l(e){return this.select(e?fl:pl)},datum:function xl(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function bl(e,n,t){var a,l,i=function yl(e){return e.trim().split(/^|\s+/).map(function(n){var t="",i=n.indexOf(".");return i>=0&&(t=n.slice(i+1),n=n.slice(0,i)),{type:n,name:t}})}(e+""),o=i.length;if(!(arguments.length<2)){for(h=n?Cl:Tl,a=0;a<o;++a)this.each(h(i[a],n,t));return this}var h=this.node().__on;if(h)for(var _,m=0,g=h.length;m<g;++m)for(a=0,_=h[m];a<o;++a)if((l=i[a]).type===_.type&&l.name===_.name)return _.value},dispatch:function kl(e,n){return this.each(("function"==typeof n?Sl:wl)(e,n))},[Symbol.iterator]:function*Al(){for(var e=this._groups,n=0,t=e.length;n<t;++n)for(var l,i=e[n],a=0,o=i.length;a<o;++a)(l=i[a])&&(yield l)}};const on=$a;function ne(e){return"string"==typeof e?new me([[document.querySelector(e)]],[document.documentElement]):new me([[e]],Oa)}var Ll={value:()=>{}};function Ba(){for(var i,e=0,n=arguments.length,t={};e<n;++e){if(!(i=arguments[e]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new Fn(t)}function Fn(e){this._=e}function Fl(e,n){for(var a,t=0,i=e.length;t<i;++t)if((a=e[t]).name===n)return a.value}function za(e,n,t){for(var i=0,a=e.length;i<a;++i)if(e[i].name===n){e[i]=Ll,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=t&&e.push({name:n,value:t}),e}Fn.prototype=Ba.prototype={constructor:Fn,on:function(e,n){var a,t=this._,i=function Ml(e,n){return e.trim().split(/^|\s+/).map(function(t){var i="",a=t.indexOf(".");if(a>=0&&(i=t.slice(a+1),t=t.slice(0,a)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}(e+"",t),o=-1,l=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<l;)if(a=(e=i[o]).type)t[a]=za(t[a],e.name,n);else if(null==n)for(a in t)t[a]=za(t[a],e.name,null);return this}for(;++o<l;)if((a=(e=i[o]).type)&&(a=Fl(t[a],e.name)))return a},copy:function(){var e={},n=this._;for(var t in n)e[t]=n[t].slice();return new Fn(e)},call:function(e,n){if((a=arguments.length-2)>0)for(var a,o,t=new Array(a),i=0;i<a;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,a=(o=this._[e]).length;i<a;++i)o[i].value.apply(n,t)},apply:function(e,n,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],a=0,o=i.length;a<o;++a)i[a].value.apply(n,t)}};const Za=Ba,As={capture:!0,passive:!1};function Ds(e){e.preventDefault(),e.stopImmediatePropagation()}function Ls(e,n,t){e.prototype=n.prototype=t,t.constructor=e}function Ra(e,n){var t=Object.create(e.prototype);for(var i in n)t[i]=n[i];return t}function rn(){}var En=1/.7,Zi="\\s*([+-]?\\d+)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pl=/^#([0-9a-f]{3,8})$/,Ol=new RegExp(`^rgb\\(${Zi},${Zi},${Zi}\\)$`),$l=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),Bl=new RegExp(`^rgba\\(${Zi},${Zi},${Zi},${cn}\\)$`),zl=new RegExp(`^rgba\\(${$e},${$e},${$e},${cn}\\)$`),Zl=new RegExp(`^hsl\\(${cn},${$e},${$e}\\)$`),Rl=new RegExp(`^hsla\\(${cn},${$e},${$e},${cn}\\)$`),Ha={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Na(){return this.rgb().formatHex()}function Va(){return this.rgb().formatRgb()}function bi(e){var n,t;return e=(e+"").trim().toLowerCase(),(n=Pl.exec(e))?(t=n[1].length,n=parseInt(n[1],16),6===t?Wa(n):3===t?new ce(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===t?In(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===t?In(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Ol.exec(e))?new ce(n[1],n[2],n[3],1):(n=$l.exec(e))?new ce(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Bl.exec(e))?In(n[1],n[2],n[3],n[4]):(n=zl.exec(e))?In(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Zl.exec(e))?Xa(n[1],n[2]/100,n[3]/100,1):(n=Rl.exec(e))?Xa(n[1],n[2]/100,n[3]/100,n[4]):Ha.hasOwnProperty(e)?Wa(Ha[e]):"transparent"===e?new ce(NaN,NaN,NaN,0):null}function Wa(e){return new ce(e>>16&255,e>>8&255,255&e,1)}function In(e,n,t,i){return i<=0&&(e=n=t=NaN),new ce(e,n,t,i)}function Pn(e,n,t,i){return 1===arguments.length?function Vl(e){return e instanceof rn||(e=bi(e)),e?new ce((e=e.rgb()).r,e.g,e.b,e.opacity):new ce}(e):new ce(e,n,t,null==i?1:i)}function ce(e,n,t,i){this.r=+e,this.g=+n,this.b=+t,this.opacity=+i}function Ya(){return`#${Si(this.r)}${Si(this.g)}${Si(this.b)}`}function Ga(){const e=On(this.opacity);return`${1===e?"rgb(":"rgba("}${wi(this.r)}, ${wi(this.g)}, ${wi(this.b)}${1===e?")":`, ${e})`}`}function On(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Si(e){return((e=wi(e))<16?"0":"")+e.toString(16)}function Xa(e,n,t,i){return i<=0?e=n=t=NaN:t<=0||t>=1?e=n=NaN:n<=0&&(e=NaN),new ke(e,n,t,i)}function Ua(e){if(e instanceof ke)return new ke(e.h,e.s,e.l,e.opacity);if(e instanceof rn||(e=bi(e)),!e)return new ke;if(e instanceof ke)return e;var n=(e=e.rgb()).r/255,t=e.g/255,i=e.b/255,a=Math.min(n,t,i),o=Math.max(n,t,i),l=NaN,h=o-a,m=(o+a)/2;return h?(l=n===o?(t-i)/h+6*(t<i):t===o?(i-n)/h+2:(n-t)/h+4,h/=m<.5?o+a:2-o-a,l*=60):h=m>0&&m<1?0:l,new ke(l,h,m,e.opacity)}function ke(e,n,t,i){this.h=+e,this.s=+n,this.l=+t,this.opacity=+i}function qa(e){return(e=(e||0)%360)<0?e+360:e}function $n(e){return Math.max(0,Math.min(1,e||0))}function Ms(e,n,t){return 255*(e<60?n+(t-n)*e/60:e<180?t:e<240?n+(t-n)*(240-e)/60:n)}function Ja(e,n,t,i,a){var o=e*e,l=o*e;return((1-3*e+3*o-l)*n+(4-6*o+3*l)*t+(1+3*e+3*o-3*l)*i+l*a)/6}Ls(rn,bi,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Na,formatHex:Na,formatHex8:function Hl(){return this.rgb().formatHex8()},formatHsl:function Nl(){return Ua(this).formatHsl()},formatRgb:Va,toString:Va}),Ls(ce,Pn,Ra(rn,{brighter(e){return e=null==e?En:Math.pow(En,e),new ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ce(wi(this.r),wi(this.g),wi(this.b),On(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ya,formatHex:Ya,formatHex8:function Wl(){return`#${Si(this.r)}${Si(this.g)}${Si(this.b)}${Si(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ga,toString:Ga})),Ls(ke,function Yl(e,n,t,i){return 1===arguments.length?Ua(e):new ke(e,n,t,null==i?1:i)},Ra(rn,{brighter(e){return e=null==e?En:Math.pow(En,e),new ke(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new ke(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),n=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*n,a=2*t-i;return new ce(Ms(e>=240?e-240:e+120,a,i),Ms(e,a,i),Ms(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new ke(qa(this.h),$n(this.s),$n(this.l),On(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=On(this.opacity);return`${1===e?"hsl(":"hsla("}${qa(this.h)}, ${100*$n(this.s)}%, ${100*$n(this.l)}%${1===e?")":`, ${e})`}`}}));const Fs=e=>()=>e;function ja(e,n){var t=n-e;return t?function Qa(e,n){return function(t){return e+t*n}}(e,t):Fs(isNaN(e)?n:e)}const Bn=function e(n){var t=function ql(e){return 1==(e=+e)?ja:function(n,t){return t-n?function Ul(e,n,t){return e=Math.pow(e,t),n=Math.pow(n,t)-e,t=1/t,function(i){return Math.pow(e+i*n,t)}}(n,t,e):Fs(isNaN(n)?t:n)}}(n);function i(a,o){var l=t((a=Pn(a)).r,(o=Pn(o)).r),h=t(a.g,o.g),m=t(a.b,o.b),g=ja(a.opacity,o.opacity);return function(_){return a.r=l(_),a.g=h(_),a.b=m(_),a.opacity=g(_),a+""}}return i.gamma=e,i}(1);function Ka(e){return function(n){var l,h,t=n.length,i=new Array(t),a=new Array(t),o=new Array(t);for(l=0;l<t;++l)h=Pn(n[l]),i[l]=h.r||0,a[l]=h.g||0,o[l]=h.b||0;return i=e(i),a=e(a),o=e(o),h.opacity=1,function(m){return h.r=i(m),h.g=a(m),h.b=o(m),h+""}}}function to(e,n){var l,t=n?n.length:0,i=e?Math.min(t,e.length):0,a=new Array(i),o=new Array(t);for(l=0;l<i;++l)a[l]=ki(e[l],n[l]);for(;l<t;++l)o[l]=n[l];return function(h){for(l=0;l<i;++l)o[l]=a[l](h);return o}}function Jl(e,n){var t=new Date;return e=+e,n=+n,function(i){return t.setTime(e*(1-i)+n*i),t}}function Ae(e,n){return e=+e,n=+n,function(t){return e*(1-t)+n*t}}function Ql(e,n){var a,t={},i={};for(a in(null===e||"object"!=typeof e)&&(e={}),(null===n||"object"!=typeof n)&&(n={}),n)a in e?t[a]=ki(e[a],n[a]):i[a]=n[a];return function(o){for(a in t)i[a]=t[a](o);return i}}Ka(function Gl(e){var n=e.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),a=e[i],o=e[i+1];return Ja((t-i/n)*n,i>0?e[i-1]:2*a-o,a,o,i<n-1?e[i+2]:2*o-a)}}),Ka(function Xl(e){var n=e.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n);return Ja((t-i/n)*n,e[(i+n-1)%n],e[i%n],e[(i+1)%n],e[(i+2)%n])}});var Es=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Is=new RegExp(Es.source,"g");function eo(e,n){var i,a,o,t=Es.lastIndex=Is.lastIndex=0,l=-1,h=[],m=[];for(e+="",n+="";(i=Es.exec(e))&&(a=Is.exec(n));)(o=a.index)>t&&(o=n.slice(t,o),h[l]?h[l]+=o:h[++l]=o),(i=i[0])===(a=a[0])?h[l]?h[l]+=a:h[++l]=a:(h[++l]=null,m.push({i:l,x:Ae(i,a)})),t=Is.lastIndex;return t<n.length&&(o=n.slice(t),h[l]?h[l]+=o:h[++l]=o),h.length<2?m[0]?function Kl(e){return function(n){return e(n)+""}}(m[0].x):function jl(e){return function(){return e}}(n):(n=m.length,function(g){for(var x,_=0;_<n;++_)h[(x=m[_]).i]=x.x(g);return h.join("")})}function tc(e,n){n||(n=[]);var a,t=e?Math.min(n.length,e.length):0,i=n.slice();return function(o){for(a=0;a<t;++a)i[a]=e[a]*(1-o)+n[a]*o;return i}}function ki(e,n){var i,t=typeof n;return null==n||"boolean"===t?Fs(n):("number"===t?Ae:"string"===t?(i=bi(n))?(n=i,Bn):eo:n instanceof bi?Bn:n instanceof Date?Jl:function ec(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(n)?tc:Array.isArray(n)?to:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Ql:Ae)(e,n)}function io(e,n){if(e=function ic(e){let n;for(;n=e.sourceEvent;)e=n;return e}(e),void 0===n&&(n=e.currentTarget),n){var t=n.ownerSVGElement||n;if(t.createSVGPoint){var i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(n.getScreenCTM().inverse())).x,i.y]}if(n.getBoundingClientRect){var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}}return[e.pageX,e.pageY]}var zn,gn,Ri=0,hn=0,dn=0,no=1e3,Zn=0,Ai=0,Rn=0,un="object"==typeof performance&&performance.now?performance:Date,so="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ps(){return Ai||(so(nc),Ai=un.now()+Rn)}function nc(){Ai=0}function Hn(){this._call=this._time=this._next=null}function ao(e,n,t){var i=new Hn;return i.restart(e,n,t),i}function oo(){Ai=(Zn=un.now())+Rn,Ri=hn=0;try{!function sc(){Ps(),++Ri;for(var n,e=zn;e;)(n=Ai-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Ri}()}finally{Ri=0,function oc(){for(var e,t,n=zn,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:zn=t);gn=e,Os(i)}(),Ai=0}}function ac(){var e=un.now(),n=e-Zn;n>no&&(Rn-=n,Zn=e)}function Os(e){Ri||(hn&&(hn=clearTimeout(hn)),e-Ai>24?(e<1/0&&(hn=setTimeout(oo,e-un.now()-Rn)),dn&&(dn=clearInterval(dn))):(dn||(Zn=un.now(),dn=setInterval(ac,no)),Ri=1,so(oo)))}function ro(e,n,t){var i=new Hn;return i.restart(a=>{i.stop(),e(a+n)},n=null==n?0:+n,t),i}Hn.prototype=ao.prototype={constructor:Hn,restart:function(e,n,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?Ps():+t)+(null==n?0:+n),!this._next&&gn!==this&&(gn?gn._next=this:zn=this,gn=this),this._call=e,this._time=t,Os()},stop:function(){this._call&&(this._call=null,this._time=1/0,Os())}};var rc=Za("start","end","cancel","interrupt"),lc=[],lo=0,$s=2,Nn=3,Bs=5,Vn=6;function Wn(e,n,t,i,a,o){var l=e.__transition;if(l){if(t in l)return}else e.__transition={};!function cc(e,n,t){var a,i=e.__transition;function l(g){var _,x,v,T;if(1!==t.state)return m();for(_ in i)if((T=i[_]).name===t.name){if(T.state===Nn)return ro(l);4===T.state?(T.state=Vn,T.timer.stop(),T.on.call("interrupt",e,e.__data__,T.index,T.group),delete i[_]):+_<n&&(T.state=Vn,T.timer.stop(),T.on.call("cancel",e,e.__data__,T.index,T.group),delete i[_])}if(ro(function(){t.state===Nn&&(t.state=4,t.timer.restart(h,t.delay,t.time),h(g))}),t.state=$s,t.on.call("start",e,e.__data__,t.index,t.group),t.state===$s){for(t.state=Nn,a=new Array(v=t.tween.length),_=0,x=-1;_<v;++_)(T=t.tween[_].value.call(e,e.__data__,t.index,t.group))&&(a[++x]=T);a.length=x+1}}function h(g){for(var _=g<t.duration?t.ease.call(null,g/t.duration):(t.timer.restart(m),t.state=Bs,1),x=-1,v=a.length;++x<v;)a[x].call(e,_);t.state===Bs&&(t.on.call("end",e,e.__data__,t.index,t.group),m())}function m(){for(var g in t.state=Vn,t.timer.stop(),delete i[n],i)return;delete e.__transition}i[n]=t,t.timer=ao(function o(g){t.state=1,t.timer.restart(l,t.delay,t.time),t.delay<=g&&l(g-t.delay)},0,t.time)}(e,t,{name:n,index:i,group:a,on:rc,tween:lc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:lo})}function zs(e,n){var t=De(e,n);if(t.state>lo)throw new Error("too late; already scheduled");return t}function Be(e,n){var t=De(e,n);if(t.state>Nn)throw new Error("too late; already running");return t}function De(e,n){var t=e.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function Zs(e,n){var i,a,l,t=e.__transition,o=!0;if(t){for(l in n=null==n?null:n+"",t)(i=t[l]).name===n?(a=i.state>$s&&i.state<Bs,i.state=Vn,i.timer.stop(),i.on.call(a?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete t[l]):o=!1;o&&delete e.__transition}}var Yn,go=180/Math.PI,Rs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function uo(e,n,t,i,a,o){var l,h,m;return(l=Math.sqrt(e*e+n*n))&&(e/=l,n/=l),(m=e*t+n*i)&&(t-=e*m,i-=n*m),(h=Math.sqrt(t*t+i*i))&&(t/=h,i/=h,m/=h),e*i<n*t&&(e=-e,n=-n,m=-m,l=-l),{translateX:a,translateY:o,rotate:Math.atan2(n,e)*go,skewX:Math.atan(m)*go,scaleX:l,scaleY:h}}function mo(e,n,t,i){function a(g){return g.length?g.pop()+" ":""}return function(g,_){var x=[],v=[];return g=e(g),_=e(_),function o(g,_,x,v,T,M){if(g!==x||_!==v){var O=T.push("translate(",null,n,null,t);M.push({i:O-4,x:Ae(g,x)},{i:O-2,x:Ae(_,v)})}else(x||v)&&T.push("translate("+x+n+v+t)}(g.translateX,g.translateY,_.translateX,_.translateY,x,v),function l(g,_,x,v){g!==_?(g-_>180?_+=360:_-g>180&&(g+=360),v.push({i:x.push(a(x)+"rotate(",null,i)-2,x:Ae(g,_)})):_&&x.push(a(x)+"rotate("+_+i)}(g.rotate,_.rotate,x,v),function h(g,_,x,v){g!==_?v.push({i:x.push(a(x)+"skewX(",null,i)-2,x:Ae(g,_)}):_&&x.push(a(x)+"skewX("+_+i)}(g.skewX,_.skewX,x,v),function m(g,_,x,v,T,M){if(g!==x||_!==v){var O=T.push(a(T)+"scale(",null,",",null,")");M.push({i:O-4,x:Ae(g,x)},{i:O-2,x:Ae(_,v)})}else(1!==x||1!==v)&&T.push(a(T)+"scale("+x+","+v+")")}(g.scaleX,g.scaleY,_.scaleX,_.scaleY,x,v),g=_=null,function(T){for(var D,M=-1,O=v.length;++M<O;)x[(D=v[M]).i]=D.x(T);return x.join("")}}}var uc=mo(function dc(e){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?Rs:uo(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),mc=mo(function gc(e){return null!=e&&(Yn||(Yn=document.createElementNS("http://www.w3.org/2000/svg","g")),Yn.setAttribute("transform",e),e=Yn.transform.baseVal.consolidate())?uo((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Rs},", ",")",")");function pc(e,n){var t,i;return function(){var a=Be(this,e),o=a.tween;if(o!==t)for(var l=0,h=(i=t=o).length;l<h;++l)if(i[l].name===n){(i=i.slice()).splice(l,1);break}a.tween=i}}function fc(e,n,t){var i,a;if("function"!=typeof t)throw new Error;return function(){var o=Be(this,e),l=o.tween;if(l!==i){a=(i=l).slice();for(var h={name:n,value:t},m=0,g=a.length;m<g;++m)if(a[m].name===n){a[m]=h;break}m===g&&a.push(h)}o.tween=a}}function Hs(e,n,t){var i=e._id;return e.each(function(){var a=Be(this,i);(a.value||(a.value={}))[n]=t.apply(this,arguments)}),function(a){return De(a,i).value[n]}}function po(e,n){var t;return("number"==typeof n?Ae:n instanceof bi?Bn:(t=bi(n))?(n=t,Bn):eo)(e,n)}function xc(e){return function(){this.removeAttribute(e)}}function vc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yc(e,n,t){var i,o,a=t+"";return function(){var l=this.getAttribute(e);return l===a?null:l===i?o:o=n(i=l,t)}}function Tc(e,n,t){var i,o,a=t+"";return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===i?o:o=n(i=l,t)}}function Cc(e,n,t){var i,a,o;return function(){var l,m,h=t(this);return null==h?void this.removeAttribute(e):(l=this.getAttribute(e))===(m=h+"")?null:l===i&&m===a?o:(a=m,o=n(i=l,h))}}function bc(e,n,t){var i,a,o;return function(){var l,m,h=t(this);return null==h?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local))===(m=h+"")?null:l===i&&m===a?o:(a=m,o=n(i=l,h))}}function Ac(e,n){var t,i;function a(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&function kc(e,n){return function(t){this.setAttributeNS(e.space,e.local,n.call(this,t))}}(e,o)),t}return a._value=n,a}function Dc(e,n){var t,i;function a(){var o=n.apply(this,arguments);return o!==i&&(t=(i=o)&&function Sc(e,n){return function(t){this.setAttribute(e,n.call(this,t))}}(e,o)),t}return a._value=n,a}function Mc(e,n){return function(){zs(this,e).delay=+n.apply(this,arguments)}}function Fc(e,n){return n=+n,function(){zs(this,e).delay=n}}function Ic(e,n){return function(){Be(this,e).duration=+n.apply(this,arguments)}}function Pc(e,n){return n=+n,function(){Be(this,e).duration=n}}var qc=on.prototype.constructor;function fo(e){return function(){this.style.removeProperty(e)}}var uh=0;function Je(e,n,t,i){this._groups=e,this._parents=n,this._name=t,this._id=i}function _o(){return++uh}var Qe=on.prototype;Je.prototype=function mh(e){return on().transition(e)}.prototype={constructor:Je,select:function Xc(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=Ie(e));for(var i=this._groups,a=i.length,o=new Array(a),l=0;l<a;++l)for(var _,x,h=i[l],m=h.length,g=o[l]=new Array(m),v=0;v<m;++v)(_=h[v])&&(x=e.call(_,_.__data__,v,h))&&("__data__"in _&&(x.__data__=_.__data__),g[v]=x,Wn(g[v],n,t,v,g,De(_,t)));return new Je(o,this._parents,n,t)},selectAll:function Uc(e){var n=this._name,t=this._id;"function"!=typeof e&&(e=oe(e));for(var i=this._groups,a=i.length,o=[],l=[],h=0;h<a;++h)for(var _,m=i[h],g=m.length,x=0;x<g;++x)if(_=m[x]){for(var T,v=e.call(_,_.__data__,x,m),M=De(_,t),O=0,D=v.length;O<D;++O)(T=v[O])&&Wn(T,n,t,O,v,M);o.push(v),l.push(_)}return new Je(o,l,n,t)},selectChild:Qe.selectChild,selectChildren:Qe.selectChildren,filter:function Rc(e){"function"!=typeof e&&(e=ie(e));for(var n=this._groups,t=n.length,i=new Array(t),a=0;a<t;++a)for(var m,o=n[a],l=o.length,h=i[a]=[],g=0;g<l;++g)(m=o[g])&&e.call(m,m.__data__,g,o)&&h.push(m);return new Je(i,this._parents,this._name,this._id)},merge:function Hc(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,t=e._groups,i=n.length,o=Math.min(i,t.length),l=new Array(i),h=0;h<o;++h)for(var v,m=n[h],g=t[h],_=m.length,x=l[h]=new Array(_),T=0;T<_;++T)(v=m[T]||g[T])&&(x[T]=v);for(;h<i;++h)l[h]=n[h];return new Je(l,this._parents,this._name,this._id)},selection:function Jc(){return new qc(this._groups,this._parents)},transition:function dh(){for(var e=this._name,n=this._id,t=_o(),i=this._groups,a=i.length,o=0;o<a;++o)for(var m,l=i[o],h=l.length,g=0;g<h;++g)if(m=l[g]){var _=De(m,n);Wn(m,e,t,g,l,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Je(i,this._parents,e,t)},call:Qe.call,nodes:Qe.nodes,node:Qe.node,size:Qe.size,empty:Qe.empty,each:Qe.each,on:function Wc(e,n){var t=this._id;return arguments.length<2?De(this.node(),t).on.on(e):this.each(function Vc(e,n,t){var i,a,o=function Nc(e){return(e+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n})}(n)?zs:Be;return function(){var l=o(this,e),h=l.on;h!==i&&(a=(i=h).copy()).on(n,t),l.on=a}}(t,e,n))},attr:function wc(e,n){var t=U(e),i="transform"===t?mc:po;return this.attrTween(e,"function"==typeof n?(t.local?bc:Cc)(t,i,Hs(this,"attr."+e,n)):null==n?(t.local?vc:xc)(t):(t.local?Tc:yc)(t,i,n))},attrTween:function Lc(e,n){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==n)return this.tween(t,null);if("function"!=typeof n)throw new Error;var i=U(e);return this.tween(t,(i.local?Ac:Dc)(i,n))},style:function eh(e,n,t){var i="transform"==(e+="")?uc:po;return null==n?this.styleTween(e,function Qc(e,n){var t,i,a;return function(){var o=ci(this,e),l=(this.style.removeProperty(e),ci(this,e));return o===l?null:o===t&&l===i?a:a=n(t=o,i=l)}}(e,i)).on("end.style."+e,fo(e)):"function"==typeof n?this.styleTween(e,function Kc(e,n,t){var i,a,o;return function(){var l=ci(this,e),h=t(this),m=h+"";return null==h&&(this.style.removeProperty(e),m=h=ci(this,e)),l===m?null:l===i&&m===a?o:(a=m,o=n(i=l,h))}}(e,i,Hs(this,"style."+e,n))).each(function th(e,n){var t,i,a,h,o="style."+n,l="end."+o;return function(){var m=Be(this,e),g=m.on,_=null==m.value[o]?h||(h=fo(n)):void 0;(g!==t||a!==_)&&(i=(t=g).copy()).on(l,a=_),m.on=i}}(this._id,e)):this.styleTween(e,function jc(e,n,t){var i,o,a=t+"";return function(){var l=ci(this,e);return l===a?null:l===i?o:o=n(i=l,t)}}(e,i,n),t).on("end.style."+e,null)},styleTween:function sh(e,n,t){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function nh(e,n,t){var i,a;function o(){var l=n.apply(this,arguments);return l!==a&&(i=(a=l)&&function ih(e,n,t){return function(i){this.style.setProperty(e,n.call(this,i),t)}}(e,l,t)),i}return o._value=n,o}(e,n,null==t?"":t))},text:function rh(e){return this.tween("text","function"==typeof e?function oh(e){return function(){var n=e(this);this.textContent=null==n?"":n}}(Hs(this,"text",e)):function ah(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function hh(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;return this.tween(n,function ch(e){var n,t;function i(){var a=e.apply(this,arguments);return a!==t&&(n=(t=a)&&function lh(e){return function(n){this.textContent=e.call(this,n)}}(a)),n}return i._value=e,i}(e))},remove:function Gc(){return this.on("end.remove",function Yc(e){return function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}}(this._id))},tween:function _c(e,n){var t=this._id;if(e+="",arguments.length<2){for(var l,i=De(this.node(),t).tween,a=0,o=i.length;a<o;++a)if((l=i[a]).name===e)return l.value;return null}return this.each((null==n?pc:fc)(t,e,n))},delay:function Ec(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?Mc:Fc)(n,e)):De(this.node(),n).delay},duration:function Oc(e){var n=this._id;return arguments.length?this.each(("function"==typeof e?Ic:Pc)(n,e)):De(this.node(),n).duration},ease:function Bc(e){var n=this._id;return arguments.length?this.each(function $c(e,n){if("function"!=typeof n)throw new Error;return function(){Be(this,e).ease=n}}(n,e)):De(this.node(),n).ease},easeVarying:function Zc(e){if("function"!=typeof e)throw new Error;return this.each(function zc(e,n){return function(){var t=n.apply(this,arguments);if("function"!=typeof t)throw new Error;Be(this,e).ease=t}}(this._id,e))},end:function gh(){var e,n,t=this,i=t._id,a=t.size();return new Promise(function(o,l){var h={value:l},m={value:function(){0==--a&&o()}};t.each(function(){var g=Be(this,i),_=g.on;_!==e&&((n=(e=_).copy())._.cancel.push(h),n._.interrupt.push(h),n._.end.push(m)),g.on=n}),0===a&&o()})},[Symbol.iterator]:Qe[Symbol.iterator]};var fh={time:null,delay:0,duration:250,ease:function ph(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function _h(e,n){for(var t;!(t=e.__transition)||!(t=t[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return t}on.prototype.interrupt=function hc(e){return this.each(function(){Zs(this,e)})},on.prototype.transition=function xh(e){var n,t;e instanceof Je?(n=e._id,e=e._name):(n=_o(),(t=fh).time=Ps(),e=null==e?null:e+"");for(var i=this._groups,a=i.length,o=0;o<a;++o)for(var m,l=i[o],h=l.length,g=0;g<h;++g)(m=l[g])&&Wn(m,e,n,g,l,t||_h(m,n));return new Je(i,this._parents,e,n)};const Ns=e=>()=>e;function vh(e,{sourceEvent:n,target:t,selection:i,mode:a,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function Vs(e){e.preventDefault(),e.stopImmediatePropagation()}var xo={name:"drag"},Ws={name:"space"},Hi={name:"handle"},Ni={name:"center"};const{abs:vo,max:jt,min:Kt}=Math;function yo(e){return[+e[0],+e[1]]}function Ys(e){return[yo(e[0]),yo(e[1])]}var Gn={name:"x",handles:["w","e"].map(mn),input:function(e,n){return null==e?null:[[+e[0],n[0][1]],[+e[1],n[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Xn={name:"y",handles:["n","s"].map(mn),input:function(e,n){return null==e?null:[[n[0][0],+e[0]],[n[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},je=(["n","w","e","s","nw","ne","sw","se"].map(mn),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),To={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Co={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Ch={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},bh={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function mn(e){return{type:e}}function wh(e){return!e.ctrlKey&&!e.button}function Sh(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function kh(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gs(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function pn(e,n){return null==e||null==n?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Lh(e,n){return null==e||null==n?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function Us(e){let n,t,i;function a(h,m,g=0,_=h.length){if(g<_){if(0!==n(m,m))return _;do{const x=g+_>>>1;t(h[x],m)<0?g=x+1:_=x}while(g<_)}return g}return 2!==e.length?(n=pn,t=(h,m)=>pn(e(h),m),i=(h,m)=>e(h)-m):(n=e===pn||e===Lh?e:Mh,t=e,i=e),{left:a,center:function l(h,m,g=0,_=h.length){const x=a(h,m,g,_-1);return x>g&&i(h[x-1],m)>-i(h[x],m)?x-1:x},right:function o(h,m,g=0,_=h.length){if(g<_){if(0!==n(m,m))return _;do{const x=g+_>>>1;t(h[x],m)<=0?g=x+1:_=x}while(g<_)}return g}}}function Mh(){return 0}const Fh=Math.sqrt(50),Eh=Math.sqrt(10),Ih=Math.sqrt(2);function Un(e,n,t){const i=(n-e)/Math.max(0,t),a=Math.floor(Math.log10(i)),o=i/Math.pow(10,a),l=o>=Fh?10:o>=Eh?5:o>=Ih?2:1;let h,m,g;return a<0?(g=Math.pow(10,-a)/l,h=Math.round(e*g),m=Math.round(n*g),h/g<e&&++h,m/g>n&&--m,g=-g):(g=Math.pow(10,a)*l,h=Math.round(e/g),m=Math.round(n/g),h*g<e&&++h,m*g>n&&--m),m<h&&.5<=t&&t<2?Un(e,n,2*t):[h,m,g]}function qs(e,n,t){return Un(e=+e,n=+n,t=+t)[2]}function Js(e,n,t){t=+t;const i=(n=+n)<(e=+e),a=i?qs(n,e,t):qs(e,n,t);return(i?-1:1)*(a<0?1/-a:a)}const Ke=1e3,xe=6e4,ti=60*xe,ei=24*ti,Qs=7*ei,bo=30*ei,js=365*ei,Ks=new Date,ta=new Date;function Vt(e,n,t,i){function a(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),n(o,1),e(o),o),a.round=o=>{const l=a(o),h=a.ceil(o);return o-l<h-o?l:h},a.offset=(o,l)=>(n(o=new Date(+o),null==l?1:Math.floor(l)),o),a.range=(o,l,h)=>{const m=[];if(o=a.ceil(o),h=null==h?1:Math.floor(h),!(o<l&&h>0))return m;let g;do{m.push(g=new Date(+o)),n(o,h),e(o)}while(g<o&&o<l);return m},a.filter=o=>Vt(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,h)=>{if(l>=l)if(h<0)for(;++h<=0;)for(;n(l,-1),!o(l););else for(;--h>=0;)for(;n(l,1),!o(l););}),t&&(a.count=(o,l)=>(Ks.setTime(+o),ta.setTime(+l),e(Ks),e(ta),Math.floor(t(Ks,ta))),a.every=o=>(o=Math.floor(o),isFinite(o)&&o>0?o>1?a.filter(i?l=>i(l)%o==0:l=>a.count(0,l)%o==0):a:null)),a}const qn=Vt(()=>{},(e,n)=>{e.setTime(+e+n)},(e,n)=>n-e);qn.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Vt(n=>{n.setTime(Math.floor(n/e)*e)},(n,t)=>{n.setTime(+n+t*e)},(n,t)=>(t-n)/e):qn:null);const Vi=Vt(e=>{e.setTime(e-e.getMilliseconds())},(e,n)=>{e.setTime(+e+n*Ke)},(e,n)=>(n-e)/Ke,e=>e.getUTCSeconds()),ea=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ke)},(e,n)=>{e.setTime(+e+n*xe)},(e,n)=>(n-e)/xe,e=>e.getMinutes()),wo=Vt(e=>{e.setUTCSeconds(0,0)},(e,n)=>{e.setTime(+e+n*xe)},(e,n)=>(n-e)/xe,e=>e.getUTCMinutes()),ia=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ke-e.getMinutes()*xe)},(e,n)=>{e.setTime(+e+n*ti)},(e,n)=>(n-e)/ti,e=>e.getHours()),So=Vt(e=>{e.setUTCMinutes(0,0,0)},(e,n)=>{e.setTime(+e+n*ti)},(e,n)=>(n-e)/ti,e=>e.getUTCHours()),na=Vt(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*xe)/ei,e=>e.getDate()-1),ko=(Vt(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/ei,e=>e.getUTCDate()-1),Vt(e=>{e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n)},(e,n)=>(n-e)/ei,e=>Math.floor(e/ei)));function Di(e){return Vt(n=>{n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},(n,t)=>{n.setDate(n.getDate()+7*t)},(n,t)=>(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*xe)/Qs)}const sa=Di(0);function Li(e){return Vt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCDate(n.getUTCDate()+7*t)},(n,t)=>(t-n)/Qs)}Di(1),Di(2),Di(3),Di(4),Di(5),Di(6);const Ao=Li(0),aa=(Li(1),Li(2),Li(3),Li(4),Li(5),Li(6),Vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,n)=>{e.setMonth(e.getMonth()+n)},(e,n)=>n.getMonth()-e.getMonth()+12*(n.getFullYear()-e.getFullYear()),e=>e.getMonth())),Do=Vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCMonth(e.getUTCMonth()+n)},(e,n)=>n.getUTCMonth()-e.getUTCMonth()+12*(n.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),Jn=Vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n)},(e,n)=>n.getFullYear()-e.getFullYear(),e=>e.getFullYear());Jn.every=e=>isFinite(e=Math.floor(e))&&e>0?Vt(n=>{n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,t)=>{n.setFullYear(n.getFullYear()+t*e)}):null;const oa=Vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n)},(e,n)=>n.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Lo(e,n,t,i,a,o){const l=[[Vi,1,Ke],[Vi,5,5e3],[Vi,15,15e3],[Vi,30,3e4],[o,1,xe],[o,5,5*xe],[o,15,15*xe],[o,30,30*xe],[a,1,ti],[a,3,3*ti],[a,6,6*ti],[a,12,12*ti],[i,1,ei],[i,2,2*ei],[t,1,Qs],[n,1,bo],[n,3,3*bo],[e,1,js]];function m(g,_,x){const v=Math.abs(_-g)/x,T=Us(([,,D])=>D).right(l,v);if(T===l.length)return e.every(Js(g/js,_/js,x));if(0===T)return qn.every(Math.max(Js(g,_,x),1));const[M,O]=l[v/l[T-1][2]<l[T][2]/v?T-1:T];return M.every(O)}return[function h(g,_,x){const v=_<g;v&&([g,_]=[_,g]);const T=x&&"function"==typeof x.range?x:m(g,_,x),M=T?T.range(g,+_+1):[];return v?M.reverse():M},m]}oa.every=e=>isFinite(e=Math.floor(e))&&e>0?Vt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,t)=>{n.setUTCFullYear(n.getUTCFullYear()+t*e)}):null;const[r_,l_]=Lo(oa,Do,Ao,ko,So,wo),[Xh,Uh]=Lo(Jn,aa,sa,na,ia,ea);var ra=new Date,la=new Date;function ii(e,n,t,i){function a(o){return e(o=0===arguments.length?new Date:new Date(+o)),o}return a.floor=function(o){return e(o=new Date(+o)),o},a.ceil=function(o){return e(o=new Date(o-1)),n(o,1),e(o),o},a.round=function(o){var l=a(o),h=a.ceil(o);return o-l<h-o?l:h},a.offset=function(o,l){return n(o=new Date(+o),null==l?1:Math.floor(l)),o},a.range=function(o,l,h){var g,m=[];if(o=a.ceil(o),h=null==h?1:Math.floor(h),!(o<l&&h>0))return m;do{m.push(g=new Date(+o)),n(o,h),e(o)}while(g<o&&o<l);return m},a.filter=function(o){return ii(function(l){if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},function(l,h){if(l>=l)if(h<0)for(;++h<=0;)for(;n(l,-1),!o(l););else for(;--h>=0;)for(;n(l,1),!o(l););})},t&&(a.count=function(o,l){return ra.setTime(+o),la.setTime(+l),e(ra),e(la),Math.floor(t(ra,la))},a.every=function(o){return o=Math.floor(o),isFinite(o)&&o>0?o>1?a.filter(i?function(l){return i(l)%o==0}:function(l){return a.count(0,l)%o==0}):a:null}),a}const fn=864e5,Mo=7*fn;function Mi(e){return ii(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-e)%7),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+7*t)},function(n,t){return(t-n)/Mo})}var Fo=Mi(0),Qn=Mi(1),Wi=(Mi(2),Mi(3),Mi(4));const Io=(Mi(5),Mi(6),ii(function(e){e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n)},function(e,n){return(n-e)/fn},function(e){return e.getUTCDate()-1}));function Fi(e){return ii(function(n){n.setDate(n.getDate()-(n.getDay()+7-e)%7),n.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+7*t)},function(n,t){return(t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/Mo})}var Po=Fi(0),jn=Fi(1),Yi=(Fi(2),Fi(3),Fi(4));const $o=(Fi(5),Fi(6),ii(e=>e.setHours(0,0,0,0),(e,n)=>e.setDate(e.getDate()+n),(e,n)=>(n-e-6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))/fn,e=>e.getDate()-1));var ha=ii(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n)},function(e,n){return n.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});ha.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ii(function(n){n.setFullYear(Math.floor(n.getFullYear()/e)*e),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t*e)}):null};const _n=ha;var da=ii(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n)},function(e,n){return n.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});da.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ii(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/e)*e),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t*e)}):null};const xn=da;function ga(e){if(0<=e.y&&e.y<100){var n=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return n.setFullYear(e.y),n}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ua(e){if(0<=e.y&&e.y<100){var n=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return n.setUTCFullYear(e.y),n}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function vn(e,n,t){return{y:e,m:n,d:t,H:0,M:0,S:0,L:0}}var Gi,Qo,Bo={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,sd=/^%/,ad=/[\\^$*+?|[\]().{}]/g;function Tt(e,n,t){var i=e<0?"-":"",a=(i?-e:e)+"",o=a.length;return i+(o<t?new Array(t-o+1).join(n)+a:a)}function od(e){return e.replace(ad,"\\$&")}function yn(e){return new RegExp("^(?:"+e.map(od).join("|")+")","i")}function Tn(e){return new Map(e.map((n,t)=>[n.toLowerCase(),t]))}function rd(e,n,t){var i=Ut.exec(n.slice(t,t+1));return i?(e.w=+i[0],t+i[0].length):-1}function ld(e,n,t){var i=Ut.exec(n.slice(t,t+1));return i?(e.u=+i[0],t+i[0].length):-1}function cd(e,n,t){var i=Ut.exec(n.slice(t,t+2));return i?(e.U=+i[0],t+i[0].length):-1}function hd(e,n,t){var i=Ut.exec(n.slice(t,t+2));return i?(e.V=+i[0],t+i[0].length):-1}function dd(e,n,t){var i=Ut.exec(n.slice(t,t+2));return i?(e.W=+i[0],t+i[0].length):-1}function zo(e,n,t){var i=Ut.exec(n.slice(t,t+4));return i?(e.y=+i[0],t+i[0].length):-1}function Zo(e,n,t){var i=Ut.exec(n.slice(t,t+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function gd(e,n,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(t,t+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function ud(e,n,t){var i=Ut.exec(n.slice(t,t+1));return i?(e.q=3*i[0]-3,t+i[0].length):-1}function md(e,n,t){var i=Ut.exec(n.slice(t,t+2));return i?(e.m=i[0]-1,t+i[0].length):-1}function Ro(e,n,t){var i=Ut.exec(n.slice(t,t+2));return i?(e.d=+i[0],t+i[0].length):-1}function pd(e,n,t){var i=Ut.exec(n.slice(t,t+3));return i?(e.m=0,e.d=+i[0],t+i[0].length):-1}function Ho(e,n,t){var i=Ut.exec(n.slice(t,t+2));return i?(e.H=+i[0],t+i[0].length):-1}function fd(e,n,t){var i=Ut.exec(n.slice(t,t+2));return i?(e.M=+i[0],t+i[0].length):-1}function _d(e,n,t){var i=Ut.exec(n.slice(t,t+2));return i?(e.S=+i[0],t+i[0].length):-1}function xd(e,n,t){var i=Ut.exec(n.slice(t,t+3));return i?(e.L=+i[0],t+i[0].length):-1}function vd(e,n,t){var i=Ut.exec(n.slice(t,t+6));return i?(e.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function yd(e,n,t){var i=sd.exec(n.slice(t,t+1));return i?t+i[0].length:-1}function Td(e,n,t){var i=Ut.exec(n.slice(t));return i?(e.Q=+i[0],t+i[0].length):-1}function Cd(e,n,t){var i=Ut.exec(n.slice(t));return i?(e.s=+i[0],t+i[0].length):-1}function No(e,n){return Tt(e.getDate(),n,2)}function bd(e,n){return Tt(e.getHours(),n,2)}function wd(e,n){return Tt(e.getHours()%12||12,n,2)}function Sd(e,n){return Tt(1+$o.count(_n(e),e),n,3)}function Vo(e,n){return Tt(e.getMilliseconds(),n,3)}function kd(e,n){return Vo(e,n)+"000"}function Ad(e,n){return Tt(e.getMonth()+1,n,2)}function Dd(e,n){return Tt(e.getMinutes(),n,2)}function Ld(e,n){return Tt(e.getSeconds(),n,2)}function Md(e){var n=e.getDay();return 0===n?7:n}function Fd(e,n){return Tt(Po.count(_n(e)-1,e),n,2)}function Wo(e){var n=e.getDay();return n>=4||0===n?Yi(e):Yi.ceil(e)}function Ed(e,n){return e=Wo(e),Tt(Yi.count(_n(e),e)+(4===_n(e).getDay()),n,2)}function Id(e){return e.getDay()}function Pd(e,n){return Tt(jn.count(_n(e)-1,e),n,2)}function Od(e,n){return Tt(e.getFullYear()%100,n,2)}function $d(e,n){return Tt((e=Wo(e)).getFullYear()%100,n,2)}function Bd(e,n){return Tt(e.getFullYear()%1e4,n,4)}function zd(e,n){var t=e.getDay();return Tt((e=t>=4||0===t?Yi(e):Yi.ceil(e)).getFullYear()%1e4,n,4)}function Zd(e){var n=e.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Tt(n/60|0,"0",2)+Tt(n%60,"0",2)}function Yo(e,n){return Tt(e.getUTCDate(),n,2)}function Rd(e,n){return Tt(e.getUTCHours(),n,2)}function Hd(e,n){return Tt(e.getUTCHours()%12||12,n,2)}function Nd(e,n){return Tt(1+Io.count(xn(e),e),n,3)}function Go(e,n){return Tt(e.getUTCMilliseconds(),n,3)}function Vd(e,n){return Go(e,n)+"000"}function Wd(e,n){return Tt(e.getUTCMonth()+1,n,2)}function Yd(e,n){return Tt(e.getUTCMinutes(),n,2)}function Gd(e,n){return Tt(e.getUTCSeconds(),n,2)}function Xd(e){var n=e.getUTCDay();return 0===n?7:n}function Ud(e,n){return Tt(Fo.count(xn(e)-1,e),n,2)}function Xo(e){var n=e.getUTCDay();return n>=4||0===n?Wi(e):Wi.ceil(e)}function qd(e,n){return e=Xo(e),Tt(Wi.count(xn(e),e)+(4===xn(e).getUTCDay()),n,2)}function Jd(e){return e.getUTCDay()}function Qd(e,n){return Tt(Qn.count(xn(e)-1,e),n,2)}function jd(e,n){return Tt(e.getUTCFullYear()%100,n,2)}function Kd(e,n){return Tt((e=Xo(e)).getUTCFullYear()%100,n,2)}function tg(e,n){return Tt(e.getUTCFullYear()%1e4,n,4)}function eg(e,n){var t=e.getUTCDay();return Tt((e=t>=4||0===t?Wi(e):Wi.ceil(e)).getUTCFullYear()%1e4,n,4)}function ig(){return"+0000"}function Uo(){return"%"}function qo(e){return+e}function Jo(e){return Math.floor(+e/1e3)}function jo(e){return null===e?NaN:+e}!function og(e){Gi=function nd(e){var n=e.dateTime,t=e.date,i=e.time,a=e.periods,o=e.days,l=e.shortDays,h=e.months,m=e.shortMonths,g=yn(a),_=Tn(a),x=yn(o),v=Tn(o),T=yn(l),M=Tn(l),O=yn(h),D=Tn(h),F=yn(m),Z=Tn(m),I={a:function bt(Y){return l[Y.getDay()]},A:function Ot(Y){return o[Y.getDay()]},b:function vt(Y){return m[Y.getMonth()]},B:function It(Y){return h[Y.getMonth()]},c:null,d:No,e:No,f:kd,g:$d,G:zd,H:bd,I:wd,j:Sd,L:Vo,m:Ad,M:Dd,p:function Dt(Y){return a[+(Y.getHours()>=12)]},q:function Lt(Y){return 1+~~(Y.getMonth()/3)},Q:qo,s:Jo,S:Ld,u:Md,U:Fd,V:Ed,w:Id,W:Pd,x:null,X:null,y:Od,Y:Bd,Z:Zd,"%":Uo},N={a:function si(Y){return l[Y.getUTCDay()]},A:function He(Y){return o[Y.getUTCDay()]},b:function ee(Y){return m[Y.getUTCMonth()]},B:function Ne(Y){return h[Y.getUTCMonth()]},c:null,d:Yo,e:Yo,f:Vd,g:Kd,G:eg,H:Rd,I:Hd,j:Nd,L:Go,m:Wd,M:Yd,p:function Ht(Y){return a[+(Y.getUTCHours()>=12)]},q:function Fe(Y){return 1+~~(Y.getUTCMonth()/3)},Q:qo,s:Jo,S:Gd,u:Xd,U:Ud,V:qd,w:Jd,W:Qd,x:null,X:null,y:jd,Y:tg,Z:ig,"%":Uo},G={a:function pt(Y,st,ht){var P=T.exec(st.slice(ht));return P?(Y.w=M.get(P[0].toLowerCase()),ht+P[0].length):-1},A:function X(Y,st,ht){var P=x.exec(st.slice(ht));return P?(Y.w=v.get(P[0].toLowerCase()),ht+P[0].length):-1},b:function Ct(Y,st,ht){var P=F.exec(st.slice(ht));return P?(Y.m=Z.get(P[0].toLowerCase()),ht+P[0].length):-1},B:function R(Y,st,ht){var P=O.exec(st.slice(ht));return P?(Y.m=D.get(P[0].toLowerCase()),ht+P[0].length):-1},c:function K(Y,st,ht){return mt(Y,n,st,ht)},d:Ro,e:Ro,f:vd,g:Zo,G:zo,H:Ho,I:Ho,j:pd,L:xd,m:md,M:fd,p:function Et(Y,st,ht){var P=g.exec(st.slice(ht));return P?(Y.p=_.get(P[0].toLowerCase()),ht+P[0].length):-1},q:ud,Q:Td,s:Cd,S:_d,u:ld,U:cd,V:hd,w:rd,W:dd,x:function Zt(Y,st,ht){return mt(Y,t,st,ht)},X:function wt(Y,st,ht){return mt(Y,i,st,ht)},y:Zo,Y:zo,Z:gd,"%":yd};function V(Y,st){return function(ht){var ae,it,Bt,P=[],$t=-1,St=0,se=Y.length;for(ht instanceof Date||(ht=new Date(+ht));++$t<se;)37===Y.charCodeAt($t)&&(P.push(Y.slice(St,$t)),null!=(it=Bo[ae=Y.charAt(++$t)])?ae=Y.charAt(++$t):it="e"===ae?" ":"0",(Bt=st[ae])&&(ae=Bt(ht,it)),P.push(ae),St=$t+1);return P.push(Y.slice(St,$t)),P.join("")}}function ut(Y,st){return function(ht){var St,se,P=vn(1900,void 0,1);if(mt(P,Y,ht+="",0)!=ht.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(1e3*P.s+("L"in P?P.L:0));if(st&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+12*P.p),void 0===P.m&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(se=(St=ua(vn(P.y,0,1))).getUTCDay(),St=se>4||0===se?Qn.ceil(St):Qn(St),St=Io.offset(St,7*(P.V-1)),P.y=St.getUTCFullYear(),P.m=St.getUTCMonth(),P.d=St.getUTCDate()+(P.w+6)%7):(se=(St=ga(vn(P.y,0,1))).getDay(),St=se>4||0===se?jn.ceil(St):jn(St),St=$o.offset(St,7*(P.V-1)),P.y=St.getFullYear(),P.m=St.getMonth(),P.d=St.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),se="Z"in P?ua(vn(P.y,0,1)).getUTCDay():ga(vn(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+7*P.W-(se+5)%7:P.w+7*P.U-(se+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,ua(P)):ga(P)}}function mt(Y,st,ht,P){for(var ae,it,$t=0,St=st.length,se=ht.length;$t<St;){if(P>=se)return-1;if(37===(ae=st.charCodeAt($t++))){if(ae=st.charAt($t++),!(it=G[ae in Bo?st.charAt($t++):ae])||(P=it(Y,ht,P))<0)return-1}else if(ae!=ht.charCodeAt(P++))return-1}return P}return I.x=V(t,I),I.X=V(i,I),I.c=V(n,I),N.x=V(t,N),N.X=V(i,N),N.c=V(n,N),{format:function(Y){var st=V(Y+="",I);return st.toString=function(){return Y},st},parse:function(Y){var st=ut(Y+="",!1);return st.toString=function(){return Y},st},utcFormat:function(Y){var st=V(Y+="",N);return st.toString=function(){return Y},st},utcParse:function(Y){var st=ut(Y+="",!0);return st.toString=function(){return Y},st}}}(e),Qo=Gi.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const rg=Us(pn).right,tr=(Us(jo),rg);function lg(e,n){return e=+e,n=+n,function(t){return Math.round(e*(1-t)+n*t)}}function hg(e){return+e}var er=[0,1];function Xi(e){return e}function ma(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:function cg(e){return function(){return e}}(isNaN(n)?NaN:.5)}function gg(e,n,t){var i=e[0],a=e[1],o=n[0],l=n[1];return a<i?(i=ma(a,i),o=t(l,o)):(i=ma(i,a),o=t(o,l)),function(h){return o(i(h))}}function ug(e,n,t){var i=Math.min(e.length,n.length)-1,a=new Array(i),o=new Array(i),l=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),n=n.slice().reverse());++l<i;)a[l]=ma(e[l],e[l+1]),o[l]=t(n[l],n[l+1]);return function(h){var m=tr(e,h,1,i)-1;return o[m](a[m](h))}}function ir(e,n){return n.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nr(){return function mg(){var i,a,o,h,m,g,e=er,n=er,t=ki,l=Xi;function _(){var v=Math.min(e.length,n.length);return l!==Xi&&(l=function dg(e,n){var t;return e>n&&(t=e,e=n,n=t),function(i){return Math.max(e,Math.min(n,i))}}(e[0],e[v-1])),h=v>2?ug:gg,m=g=null,x}function x(v){return null==v||isNaN(v=+v)?o:(m||(m=h(e.map(i),n,t)))(i(l(v)))}return x.invert=function(v){return l(a((g||(g=h(n,e.map(i),Ae)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,hg),_()):e.slice()},x.range=function(v){return arguments.length?(n=Array.from(v),_()):n.slice()},x.rangeRound=function(v){return n=Array.from(v),t=lg,_()},x.clamp=function(v){return arguments.length?(l=!!v||Xi,_()):l!==Xi},x.interpolate=function(v){return arguments.length?(t=v,_()):t},x.unknown=function(v){return arguments.length?(o=v,x):o},function(v,T){return i=v,a=T,_()}}()(Xi,Xi)}function Cn(e,n){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(n).domain(e)}return this}function fg(e){return new Date(e)}function _g(e){return e instanceof Date?+e:+new Date(+e)}function sr(e,n,t,i,a,o,l,h,m,g){var _=nr(),x=_.invert,v=_.domain,T=g(".%L"),M=g(":%S"),O=g("%I:%M"),D=g("%I %p"),F=g("%a %d"),Z=g("%b %d"),I=g("%B"),N=g("%Y");function G(V){return(m(V)<V?T:h(V)<V?M:l(V)<V?O:o(V)<V?D:i(V)<V?a(V)<V?F:Z:t(V)<V?I:N)(V)}return _.invert=function(V){return new Date(x(V))},_.domain=function(V){return arguments.length?v(Array.from(V,_g)):v().map(fg)},_.ticks=function(V){var ut=v();return e(ut[0],ut[ut.length-1],null==V?10:V)},_.tickFormat=function(V,ut){return null==ut?G:g(ut)},_.nice=function(V){var ut=v();return(!V||"function"!=typeof V.range)&&(V=n(ut[0],ut[ut.length-1],null==V?10:V)),V?v(function pg(e,n){var l,t=0,i=(e=e.slice()).length-1,a=e[t],o=e[i];return o<a&&(l=t,t=i,i=l,l=a,a=o,o=l),e[t]=n.floor(a),e[i]=n.ceil(o),e}(ut,V)):_},_.copy=function(){return ir(_,sr(e,n,t,i,a,o,l,h,m,g))},_}function Kn(){return Cn.apply(sr(Xh,Uh,Jn,aa,sa,na,ia,ea,Vi,Qo).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var ar,xg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ts(e){if(!(n=xg.exec(e)))throw new Error("invalid format: "+e);var n;return new pa({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function pa(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function es(e,n){if((t=(e=n?e.toExponential(n-1):e.toExponential()).indexOf("e"))<0)return null;var t,i=e.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+e.slice(t+1)]}function Ui(e){return(e=es(Math.abs(e)))?e[1]:NaN}function or(e,n){var t=es(e,n);if(!t)return e+"";var i=t[0],a=t[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}ts.prototype=pa.prototype,pa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const rr={"%":(e,n)=>(100*e).toFixed(n),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function vg(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,n)=>e.toExponential(n),f:(e,n)=>e.toFixed(n),g:(e,n)=>e.toPrecision(n),o:e=>Math.round(e).toString(8),p:(e,n)=>or(100*e,n),r:or,s:function wg(e,n){var t=es(e,n);if(!t)return e+"";var i=t[0],a=t[1],o=a-(ar=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=i.length;return o===l?i:o>l?i+new Array(o-l+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+es(e,Math.max(0,n+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lr(e){return e}var is,fa,dr,cr=Array.prototype.map,hr=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Mg(e){var n=e.domain;return e.ticks=function(t){var i=n();return function Ph(e,n,t){if(!((t=+t)>0))return[];if((e=+e)==(n=+n))return[e];const i=n<e,[a,o,l]=i?Un(n,e,t):Un(e,n,t);if(!(o>=a))return[];const h=o-a+1,m=new Array(h);if(i)if(l<0)for(let g=0;g<h;++g)m[g]=(o-g)/-l;else for(let g=0;g<h;++g)m[g]=(o-g)*l;else if(l<0)for(let g=0;g<h;++g)m[g]=(a+g)/-l;else for(let g=0;g<h;++g)m[g]=(a+g)*l;return m}(i[0],i[i.length-1],null==t?10:t)},e.tickFormat=function(t,i){var a=n();return function Lg(e,n,t,i){var o,a=Js(e,n,t);switch((i=ts(null==i?",f":i)).type){case"s":var l=Math.max(Math.abs(e),Math.abs(n));return null==i.precision&&!isNaN(o=function yg(e,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ui(n)/3)))-Ui(Math.abs(e)))}(a,l))&&(i.precision=o),dr(i,l);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(o=function Ag(e,n){return e=Math.abs(e),n=Math.abs(n)-e,Math.max(0,Ui(n)-Ui(e))+1}(a,Math.max(Math.abs(e),Math.abs(n))))&&(i.precision=o-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(o=function Dg(e){return Math.max(0,-Ui(Math.abs(e)))}(a))&&(i.precision=o-2*("%"===i.type))}return fa(i)}(a[0],a[a.length-1],null==t?10:t,i)},e.nice=function(t){null==t&&(t=10);var m,g,i=n(),a=0,o=i.length-1,l=i[a],h=i[o],_=10;for(h<l&&(g=l,l=h,h=g,g=a,a=o,o=g);_-- >0;){if((g=qs(l,h,t))===m)return i[a]=l,i[o]=h,n(i);if(g>0)l=Math.floor(l/g)*g,h=Math.ceil(h/g)*g;else{if(!(g<0))break;l=Math.ceil(l*g)/g,h=Math.floor(h*g)/g}m=g}return e},e}function ve(){var e=nr();return e.copy=function(){return ir(e,ve())},Cn.apply(e,arguments),Mg(e)}function gr(e,n,t){e=+e,n=+n,t=(a=arguments.length)<2?(n=e,e=0,1):a<3?1:+t;for(var i=-1,a=0|Math.max(0,Math.ceil((n-e)/t)),o=new Array(a);++i<a;)o[i]=e+i*t;return o}!function kg(e){is=function Sg(e){var n=void 0===e.grouping||void 0===e.thousands?lr:function Tg(e,n){return function(t,i){for(var a=t.length,o=[],l=0,h=e[0],m=0;a>0&&h>0&&(m+h+1>i&&(h=Math.max(1,i-m)),o.push(t.substring(a-=h,a+h)),!((m+=h+1)>i));)h=e[l=(l+1)%e.length];return o.reverse().join(n)}}(cr.call(e.grouping,Number),e.thousands+""),t=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?lr:function Cg(e){return function(n){return n.replace(/[0-9]/g,function(t){return e[+t]})}}(cr.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",h=void 0===e.minus?"\u2212":e.minus+"",m=void 0===e.nan?"NaN":e.nan+"";function g(x){var v=(x=ts(x)).fill,T=x.align,M=x.sign,O=x.symbol,D=x.zero,F=x.width,Z=x.comma,I=x.precision,N=x.trim,G=x.type;"n"===G?(Z=!0,G="g"):rr[G]||(void 0===I&&(I=12),N=!0,G="g"),(D||"0"===v&&"="===T)&&(D=!0,v="0",T="=");var V="$"===O?t:"#"===O&&/[boxX]/.test(G)?"0"+G.toLowerCase():"",ut="$"===O?i:/[%p]/.test(G)?l:"",mt=rr[G],Et=/[defgprs%]/.test(G);function pt(X){var K,Zt,wt,Ct=V,R=ut;if("c"===G)R=mt(X)+R,X="";else{var bt=(X=+X)<0||1/X<0;if(X=isNaN(X)?m:mt(Math.abs(X),I),N&&(X=function bg(e){t:for(var a,n=e.length,t=1,i=-1;t<n;++t)switch(e[t]){case".":i=a=t;break;case"0":0===i&&(i=t),a=t;break;default:if(!+e[t])break t;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(a+1):e}(X)),bt&&0==+X&&"+"!==M&&(bt=!1),Ct=(bt?"("===M?M:h:"-"===M||"("===M?"":M)+Ct,R=("s"===G?hr[8+ar/3]:"")+R+(bt&&"("===M?")":""),Et)for(K=-1,Zt=X.length;++K<Zt;)if(48>(wt=X.charCodeAt(K))||wt>57){R=(46===wt?a+X.slice(K+1):X.slice(K))+R,X=X.slice(0,K);break}}Z&&!D&&(X=n(X,1/0));var Ot=Ct.length+X.length+R.length,vt=Ot<F?new Array(F-Ot+1).join(v):"";switch(Z&&D&&(X=n(vt+X,vt.length?F-R.length:1/0),vt=""),T){case"<":X=Ct+X+R+vt;break;case"=":X=Ct+vt+X+R;break;case"^":X=vt.slice(0,Ot=vt.length>>1)+Ct+X+R+vt.slice(Ot);break;default:X=vt+Ct+X+R}return o(X)}return I=void 0===I?6:/[gprs]/.test(G)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I)),pt.toString=function(){return x+""},pt}return{format:g,formatPrefix:function _(x,v){var T=g(((x=ts(x)).type="f",x)),M=3*Math.max(-8,Math.min(8,Math.floor(Ui(v)/3))),O=Math.pow(10,-M),D=hr[8+M/3];return function(F){return T(O*F)+D}}}}(e),fa=is.format,dr=is.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});class ur extends Map{constructor(n,t=fr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=n)for(const[i,a]of n)this.set(i,a)}get(n){return super.get(_a(this,n))}has(n){return super.has(_a(this,n))}set(n,t){return super.set(function mr({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):(e.set(i,t),t)}(this,n),t)}delete(n){return super.delete(function pr({_intern:e,_key:n},t){const i=n(t);return e.has(i)&&(t=e.get(i),e.delete(i)),t}(this,n))}}function _a({_intern:e,_key:n},t){const i=n(t);return e.has(i)?e.get(i):t}function fr(e){return null!==e&&"object"==typeof e?e.valueOf():e}const _r=Symbol("implicit");function xa(){var e=new ur,n=[],t=[],i=_r;function a(o){let l=e.get(o);if(void 0===l){if(i!==_r)return i;e.set(o,l=n.push(o)-1)}return t[l%t.length]}return a.domain=function(o){if(!arguments.length)return n.slice();n=[],e=new ur;for(const l of o)e.has(l)||e.set(l,n.push(l)-1);return a},a.range=function(o){return arguments.length?(t=Array.from(o),a):t.slice()},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return xa(n,t).unknown(i)},Cn.apply(a,arguments),a}function qi(){var o,l,e=xa().unknown(void 0),n=e.domain,t=e.range,i=0,a=1,h=!1,m=0,g=0,_=.5;function x(){var v=n().length,T=a<i,M=T?a:i,O=T?i:a;o=(O-M)/Math.max(1,v-m+2*g),h&&(o=Math.floor(o)),M+=(O-M-o*(v-m))*_,l=o*(1-m),h&&(M=Math.round(M),l=Math.round(l));var D=gr(v).map(function(F){return M+o*F});return t(T?D.reverse():D)}return delete e.unknown,e.domain=function(v){return arguments.length?(n(v),x()):n()},e.range=function(v){return arguments.length?([i,a]=v,i=+i,a=+a,x()):[i,a]},e.rangeRound=function(v){return[i,a]=v,i=+i,a=+a,h=!0,x()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(v){return arguments.length?(h=!!v,x()):h},e.padding=function(v){return arguments.length?(m=Math.min(1,g=+v),x()):m},e.paddingInner=function(v){return arguments.length?(m=Math.min(1,v),x()):m},e.paddingOuter=function(v){return arguments.length?(g=+v,x()):g},e.align=function(v){return arguments.length?(_=Math.max(0,Math.min(1,v)),x()):_},e.copy=function(){return qi(n(),[i,a]).round(h).paddingInner(m).paddingOuter(g).align(_)},Cn.apply(x(),arguments)}function xr(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xr(n())},e}function ns(){return xr(qi.apply(null,arguments).paddingInner(1))}function Fg(e,n,t=jo){if((i=e.length)&&!isNaN(n=+n)){if(n<=0||i<2)return+t(e[0],0,e);if(n>=1)return+t(e[i-1],i-1,e);var i,a=(i-1)*n,o=Math.floor(a),l=+t(e[o],o,e);return l+(+t(e[o+1],o+1,e)-l)*(a-o)}}function vr(){var i,e=[],n=[],t=[];function a(){var l=0,h=Math.max(1,n.length);for(t=new Array(h-1);++l<h;)t[l-1]=Fg(e,l/h);return o}function o(l){return null==l||isNaN(l=+l)?i:n[tr(t,l)]}return o.invertExtent=function(l){var h=n.indexOf(l);return h<0?[NaN,NaN]:[h>0?t[h-1]:e[0],h<t.length?t[h]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let h of l)null!=h&&!isNaN(h=+h)&&e.push(h);return e.sort(pn),a()},o.range=function(l){return arguments.length?(n=Array.from(l),a()):n.slice()},o.unknown=function(l){return arguments.length?(i=l,o):i},o.quantiles=function(){return t.slice()},o.copy=function(){return vr().domain(e).range(n).unknown(i)},Cn.apply(o,arguments)}function va(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function yt(e){return function(){return e}}function yr(e){this._context=e}function bn(e){return new yr(e)}yr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n)}}};const ya=Math.PI,Ta=2*ya,Ei=1e-6,Eg=Ta-Ei;function Tr(e){this._+=e[0];for(let n=1,t=e.length;n<t;++n)this._+=arguments[n]+e[n]}class ss{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==n?Tr:function Ig(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return Tr;const t=10**n;return function(i){this._+=i[0];for(let a=1,o=i.length;a<o;++a)this._+=Math.round(arguments[a]*t)/t+i[a]}}(n)}moveTo(n,t){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,t){this._append`L${this._x1=+n},${this._y1=+t}`}quadraticCurveTo(n,t,i,a){this._append`Q${+n},${+t},${this._x1=+i},${this._y1=+a}`}bezierCurveTo(n,t,i,a,o,l){this._append`C${+n},${+t},${+i},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(n,t,i,a,o){if(n=+n,t=+t,i=+i,a=+a,(o=+o)<0)throw new Error(`negative radius: ${o}`);let l=this._x1,h=this._y1,m=i-n,g=a-t,_=l-n,x=h-t,v=_*_+x*x;if(null===this._x1)this._append`M${this._x1=n},${this._y1=t}`;else if(v>Ei)if(Math.abs(x*m-g*_)>Ei&&o){let T=i-l,M=a-h,O=m*m+g*g,D=T*T+M*M,F=Math.sqrt(O),Z=Math.sqrt(v),I=o*Math.tan((ya-Math.acos((O+v-D)/(2*F*Z)))/2),N=I/Z,G=I/F;Math.abs(N-1)>Ei&&this._append`L${n+N*_},${t+N*x}`,this._append`A${o},${o},0,0,${+(x*T>_*M)},${this._x1=n+G*m},${this._y1=t+G*g}`}else this._append`L${this._x1=n},${this._y1=t}`}arc(n,t,i,a,o,l){if(n=+n,t=+t,l=!!l,(i=+i)<0)throw new Error(`negative radius: ${i}`);let h=i*Math.cos(a),m=i*Math.sin(a),g=n+h,_=t+m,x=1^l,v=l?a-o:o-a;null===this._x1?this._append`M${g},${_}`:(Math.abs(this._x1-g)>Ei||Math.abs(this._y1-_)>Ei)&&this._append`L${g},${_}`,i&&(v<0&&(v=v%Ta+Ta),v>Eg?this._append`A${i},${i},0,1,${x},${n-h},${t-m}A${i},${i},0,1,${x},${this._x1=g},${this._y1=_}`:v>Ei&&this._append`A${i},${i},0,${+(v>=ya)},${x},${this._x1=n+i*Math.cos(o)},${this._y1=t+i*Math.sin(o)}`)}rect(n,t,i,a){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+t}h${i=+i}v${+a}h${-i}Z`}toString(){return this._}}function Ca(e){let n=3;return e.digits=function(t){if(!arguments.length)return n;if(null==t)n=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);n=i}return e},()=>new ss(n)}function Cr(e){return e[0]}function br(e){return e[1]}function wr(e,n){var t=yt(!0),i=null,a=bn,o=null,l=Ca(h);function h(m){var g,x,T,_=(m=va(m)).length,v=!1;for(null==i&&(o=a(T=l())),g=0;g<=_;++g)!(g<_&&t(x=m[g],g,m))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(x,g,m),+n(x,g,m));if(T)return o=null,T+""||null}return e="function"==typeof e?e:void 0===e?Cr:yt(e),n="function"==typeof n?n:void 0===n?br:yt(n),h.x=function(m){return arguments.length?(e="function"==typeof m?m:yt(+m),h):e},h.y=function(m){return arguments.length?(n="function"==typeof m?m:yt(+m),h):n},h.defined=function(m){return arguments.length?(t="function"==typeof m?m:yt(!!m),h):t},h.curve=function(m){return arguments.length?(a=m,null!=i&&(o=a(i)),h):a},h.context=function(m){return arguments.length?(null==m?i=o=null:o=a(i=m),h):i},h}function Ji(e,n,t){var i=null,a=yt(!0),o=null,l=bn,h=null,m=Ca(g);function g(x){var v,T,M,D,Z,O=(x=va(x)).length,F=!1,I=new Array(O),N=new Array(O);for(null==o&&(h=l(Z=m())),v=0;v<=O;++v){if(!(v<O&&a(D=x[v],v,x))===F)if(F=!F)T=v,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),M=v-1;M>=T;--M)h.point(I[M],N[M]);h.lineEnd(),h.areaEnd()}F&&(I[v]=+e(D,v,x),N[v]=+n(D,v,x),h.point(i?+i(D,v,x):I[v],t?+t(D,v,x):N[v]))}if(Z)return h=null,Z+""||null}function _(){return wr().defined(a).curve(l).context(o)}return e="function"==typeof e?e:void 0===e?Cr:yt(+e),n="function"==typeof n?n:yt(void 0===n?0:+n),t="function"==typeof t?t:void 0===t?br:yt(+t),g.x=function(x){return arguments.length?(e="function"==typeof x?x:yt(+x),i=null,g):e},g.x0=function(x){return arguments.length?(e="function"==typeof x?x:yt(+x),g):e},g.x1=function(x){return arguments.length?(i=null==x?null:"function"==typeof x?x:yt(+x),g):i},g.y=function(x){return arguments.length?(n="function"==typeof x?x:yt(+x),t=null,g):n},g.y0=function(x){return arguments.length?(n="function"==typeof x?x:yt(+x),g):n},g.y1=function(x){return arguments.length?(t=null==x?null:"function"==typeof x?x:yt(+x),g):t},g.lineX0=g.lineY0=function(){return _().x(e).y(n)},g.lineY1=function(){return _().x(e).y(t)},g.lineX1=function(){return _().x(i).y(n)},g.defined=function(x){return arguments.length?(a="function"==typeof x?x:yt(!!x),g):a},g.curve=function(x){return arguments.length?(l=x,null!=o&&(h=l(o)),g):l},g.context=function(x){return arguments.length?(null==x?o=h=null:h=l(o=x),g):o},g}const Sr=Math.abs,te=Math.atan2,Ii=Math.cos,Og=Math.max,ba=Math.min,ze=Math.sin,Qi=Math.sqrt,he=1e-12,wn=Math.PI,as=wn/2,os=2*wn;function kr(e){return e>=1?as:e<=-1?-as:Math.asin(e)}function Bg(e){return e.innerRadius}function zg(e){return e.outerRadius}function Zg(e){return e.startAngle}function Rg(e){return e.endAngle}function Hg(e){return e&&e.padAngle}function rs(e,n,t,i,a,o,l){var h=e-t,m=n-i,g=(l?o:-o)/Qi(h*h+m*m),_=g*m,x=-g*h,v=e+_,T=n+x,M=t+_,O=i+x,D=(v+M)/2,F=(T+O)/2,Z=M-v,I=O-T,N=Z*Z+I*I,G=a-o,V=v*O-M*T,ut=(I<0?-1:1)*Qi(Og(0,G*G*N-V*V)),mt=(V*I-Z*ut)/N,Et=(-V*Z-I*ut)/N,pt=(V*I+Z*ut)/N,X=(-V*Z+I*ut)/N,Ct=mt-D,R=Et-F,K=pt-D,Zt=X-F;return Ct*Ct+R*R>K*K+Zt*Zt&&(mt=pt,Et=X),{cx:mt,cy:Et,x01:-_,y01:-x,x11:mt*(a/G-1),y11:Et*(a/G-1)}}function wa(){var e=Bg,n=zg,t=yt(0),i=null,a=Zg,o=Rg,l=Hg,h=null,m=Ca(g);function g(){var _,x,v=+e.apply(this,arguments),T=+n.apply(this,arguments),M=a.apply(this,arguments)-as,O=o.apply(this,arguments)-as,D=Sr(O-M),F=O>M;if(h||(h=_=m()),T<v&&(x=T,T=v,v=x),T>he)if(D>os-he)h.moveTo(T*Ii(M),T*ze(M)),h.arc(0,0,T,M,O,!F),v>he&&(h.moveTo(v*Ii(O),v*ze(O)),h.arc(0,0,v,O,M,F));else{var R,K,Z=M,I=O,N=M,G=O,V=D,ut=D,mt=l.apply(this,arguments)/2,Et=mt>he&&(i?+i.apply(this,arguments):Qi(v*v+T*T)),pt=ba(Sr(T-v)/2,+t.apply(this,arguments)),X=pt,Ct=pt;if(Et>he){var Zt=kr(Et/v*ze(mt)),wt=kr(Et/T*ze(mt));(V-=2*Zt)>he?(N+=Zt*=F?1:-1,G-=Zt):(V=0,N=G=(M+O)/2),(ut-=2*wt)>he?(Z+=wt*=F?1:-1,I-=wt):(ut=0,Z=I=(M+O)/2)}var bt=T*Ii(Z),Ot=T*ze(Z),vt=v*Ii(G),It=v*ze(G);if(pt>he){var ee,Dt=T*Ii(I),Lt=T*ze(I),si=v*Ii(N),He=v*ze(N);if(D<wn)if(ee=function Ng(e,n,t,i,a,o,l,h){var m=t-e,g=i-n,_=l-a,x=h-o,v=x*m-_*g;if(!(v*v<he))return[e+(v=(_*(n-o)-x*(e-a))/v)*m,n+v*g]}(bt,Ot,si,He,Dt,Lt,vt,It)){var Ne=bt-ee[0],Ht=Ot-ee[1],Fe=Dt-ee[0],Y=Lt-ee[1],st=1/ze(function $g(e){return e>1?0:e<-1?wn:Math.acos(e)}((Ne*Fe+Ht*Y)/(Qi(Ne*Ne+Ht*Ht)*Qi(Fe*Fe+Y*Y)))/2),ht=Qi(ee[0]*ee[0]+ee[1]*ee[1]);X=ba(pt,(v-ht)/(st-1)),Ct=ba(pt,(T-ht)/(st+1))}else X=Ct=0}ut>he?Ct>he?(R=rs(si,He,bt,Ot,T,Ct,F),K=rs(Dt,Lt,vt,It,T,Ct,F),h.moveTo(R.cx+R.x01,R.cy+R.y01),Ct<pt?h.arc(R.cx,R.cy,Ct,te(R.y01,R.x01),te(K.y01,K.x01),!F):(h.arc(R.cx,R.cy,Ct,te(R.y01,R.x01),te(R.y11,R.x11),!F),h.arc(0,0,T,te(R.cy+R.y11,R.cx+R.x11),te(K.cy+K.y11,K.cx+K.x11),!F),h.arc(K.cx,K.cy,Ct,te(K.y11,K.x11),te(K.y01,K.x01),!F))):(h.moveTo(bt,Ot),h.arc(0,0,T,Z,I,!F)):h.moveTo(bt,Ot),v>he&&V>he?X>he?(R=rs(vt,It,Dt,Lt,v,-X,F),K=rs(bt,Ot,si,He,v,-X,F),h.lineTo(R.cx+R.x01,R.cy+R.y01),X<pt?h.arc(R.cx,R.cy,X,te(R.y01,R.x01),te(K.y01,K.x01),!F):(h.arc(R.cx,R.cy,X,te(R.y01,R.x01),te(R.y11,R.x11),!F),h.arc(0,0,v,te(R.cy+R.y11,R.cx+R.x11),te(K.cy+K.y11,K.cx+K.x11),F),h.arc(K.cx,K.cy,X,te(K.y11,K.x11),te(K.y01,K.x01),!F))):h.arc(0,0,v,G,N,F):h.lineTo(vt,It)}else h.moveTo(0,0);if(h.closePath(),_)return h=null,_+""||null}return g.centroid=function(){var _=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,x=(+a.apply(this,arguments)+ +o.apply(this,arguments))/2-wn/2;return[Ii(x)*_,ze(x)*_]},g.innerRadius=function(_){return arguments.length?(e="function"==typeof _?_:yt(+_),g):e},g.outerRadius=function(_){return arguments.length?(n="function"==typeof _?_:yt(+_),g):n},g.cornerRadius=function(_){return arguments.length?(t="function"==typeof _?_:yt(+_),g):t},g.padRadius=function(_){return arguments.length?(i=null==_?null:"function"==typeof _?_:yt(+_),g):i},g.startAngle=function(_){return arguments.length?(a="function"==typeof _?_:yt(+_),g):a},g.endAngle=function(_){return arguments.length?(o="function"==typeof _?_:yt(+_),g):o},g.padAngle=function(_){return arguments.length?(l="function"==typeof _?_:yt(+_),g):l},g.context=function(_){return arguments.length?(h=null==_?null:_,g):h},g}function Vg(e,n){return n<e?-1:n>e?1:n>=e?0:NaN}function Wg(e){return e}function Ar(){var e=Wg,n=Vg,t=null,i=yt(0),a=yt(os),o=yt(0);function l(h){var m,_,x,F,N,g=(h=va(h)).length,v=0,T=new Array(g),M=new Array(g),O=+i.apply(this,arguments),D=Math.min(os,Math.max(-os,a.apply(this,arguments)-O)),Z=Math.min(Math.abs(D)/g,o.apply(this,arguments)),I=Z*(D<0?-1:1);for(m=0;m<g;++m)(N=M[T[m]=m]=+e(h[m],m,h))>0&&(v+=N);for(null!=n?T.sort(function(G,V){return n(M[G],M[V])}):null!=t&&T.sort(function(G,V){return t(h[G],h[V])}),m=0,x=v?(D-g*I)/v:0;m<g;++m,O=F)M[_=T[m]]={data:h[_],index:m,value:N=M[_],startAngle:O,endAngle:F=O+(N>0?N*x:0)+I,padAngle:Z};return M}return l.value=function(h){return arguments.length?(e="function"==typeof h?h:yt(+h),l):e},l.sortValues=function(h){return arguments.length?(n=h,t=null,l):n},l.sort=function(h){return arguments.length?(t=h,n=null,l):t},l.startAngle=function(h){return arguments.length?(i="function"==typeof h?h:yt(+h),l):i},l.endAngle=function(h){return arguments.length?(a="function"==typeof h?h:yt(+h),l):a},l.padAngle=function(h){return arguments.length?(o="function"==typeof h?h:yt(+h),l):o},l}var Xg=$(52178);const Ug=["caretElm"];function qg(e,n){}const Jg=function(e){return{model:e}};function Qg(e,n){if(1&e&&(s.TgZ(0,"span"),s.YNc(1,qg,0,0,"ng-template",5),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngTemplateOutlet",t.template)("ngTemplateOutletContext",s.VKq(2,Jg,t.context))}}function jg(e,n){if(1&e&&s._UZ(0,"span",6),2&e){const t=s.oxw();s.Q6J("innerHTML",t.title,s.oJD)}}function Kg(e,n){if(1&e&&(s.TgZ(0,"header",4)(1,"span",5),s._uU(2),s.qZA()()),2&e){const t=s.oxw();s.xp6(2),s.Oqu(t.title)}}function tu(e,n){if(1&e){const t=s.EpF();s.TgZ(0,"li",6)(1,"ngx-charts-legend-entry",7),s.NdJ("select",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.labelClick.emit(a))})("activate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.activate(a))})("deactivate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.deactivate(a))}),s.qZA()()}if(2&e){const t=n.$implicit,i=s.oxw();s.xp6(1),s.Q6J("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",i.isActive(t))}}function eu(e,n){if(1&e&&(s.O4$(),s.kcU(),s._UZ(0,"ngx-charts-scale-legend",4)),2&e){const t=s.oxw();s.Q6J("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function iu(e,n){if(1&e){const t=s.EpF();s.O4$(),s.kcU(),s.TgZ(0,"ngx-charts-legend",5),s.NdJ("labelClick",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.legendLabelClick.emit(a))})("labelActivate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.legendLabelActivate.emit(a))})("labelDeactivate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.legendLabelDeactivate.emit(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}const Dr=["*"],nu=["ngx-charts-axis-label",""],Lr=["ticksel"],su=["ngx-charts-x-axis-ticks",""];function au(e,n){1&e&&(s.O4$(),s.GkF(0))}function ou(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"tspan",10),s._uU(1),s.qZA()),2&e){const t=n.$implicit;s.uIk("y",12*n.index),s.xp6(1),s.hij(" ",t," ")}}function ru(e,n){if(1&e&&(s.O4$(),s.ynx(0),s.YNc(1,ou,2,2,"tspan",9),s.BQk()),2&e){const t=n.ngIf;s.xp6(1),s.Q6J("ngForOf",t)}}function lu(e,n){if(1&e&&(s.O4$(),s.YNc(0,ru,2,1,"ng-container",4)),2&e){const t=s.oxw(2).$implicit,i=s.oxw();s.Q6J("ngIf",i.tickChunks(t))}}function cu(e,n){if(1&e&&(s.O4$(),s._uU(0)),2&e){const t=s.oxw().ngIf,i=s.oxw(2);s.hij(" ",i.tickTrim(t)," ")}}function hu(e,n){if(1&e&&(s.O4$(),s.ynx(0),s.TgZ(1,"title"),s._uU(2),s.qZA(),s.TgZ(3,"text",5),s.YNc(4,au,1,0,"ng-container",6),s.qZA(),s.YNc(5,lu,1,1,"ng-template",null,7,s.W1O),s.YNc(7,cu,1,1,"ng-template",null,8,s.W1O),s.BQk()),2&e){const t=n.ngIf,i=s.MAs(6),a=s.MAs(8),o=s.oxw(2);s.xp6(2),s.Oqu(t),s.xp6(1),s.uIk("text-anchor",o.textAnchor)("transform",o.textTransform),s.xp6(1),s.Q6J("ngIf",o.isWrapTicksSupported)("ngIfThen",i)("ngIfElse",a)}}function du(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",3),s.YNc(1,hu,9,6,"ng-container",4),s.qZA()),2&e){const t=n.$implicit,i=s.oxw();s.uIk("transform",i.tickTransform(t)),s.xp6(1),s.Q6J("ngIf",i.tickFormat(t))}}function gu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"line",11),s.qZA()),2&e){const t=s.oxw(2);s.uIk("transform",t.gridLineTransform()),s.xp6(1),s.uIk("y1",-t.gridLineHeight)}}function uu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,gu,2,2,"g",4),s.qZA()),2&e){const t=n.$implicit,i=s.oxw();s.uIk("transform",i.tickTransform(t)),s.xp6(1),s.Q6J("ngIf",i.showGridLines)}}const mu=["ngx-charts-x-axis",""];function pu(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",2),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.emitTicksHeight(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("width",t.dims.width)("tickValues",t.ticks)("wrapTicks",t.wrapTicks)}}function fu(e,n){if(1&e&&(s.O4$(),s._UZ(0,"g",3)),2&e){const t=s.oxw();s.Q6J("label",t.labelText)("offset",t.labelOffset)("orient",t.orientation.Bottom)("height",t.dims.height)("width",t.dims.width)}}const _u=["ngx-charts-y-axis-ticks",""];function xu(e,n){1&e&&(s.O4$(),s.GkF(0))}function vu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"tspan",12),s._uU(1),s.qZA()),2&e){const t=n.$implicit,i=n.index,a=s.oxw(6);s.uIk("y",i*(8+a.tickSpacing)),s.xp6(1),s.hij(" ",t," ")}}function yu(e,n){if(1&e&&(s.O4$(),s.ynx(0),s.YNc(1,vu,2,2,"tspan",11),s.BQk()),2&e){const t=s.oxw().ngIf;s.xp6(1),s.Q6J("ngForOf",t)}}function Tu(e,n){if(1&e&&(s.O4$(),s.ynx(0),s.YNc(1,yu,2,1,"ng-container",10),s.BQk()),2&e){const t=n.ngIf;s.oxw(2);const i=s.MAs(8);s.xp6(1),s.Q6J("ngIf",t.length>1)("ngIfElse",i)}}function Cu(e,n){if(1&e&&(s.O4$(),s.YNc(0,Tu,2,2,"ng-container",5)),2&e){const t=s.oxw(2).$implicit,i=s.oxw();s.Q6J("ngIf",i.tickChunks(t))}}function bu(e,n){if(1&e&&(s.O4$(),s._uU(0)),2&e){const t=s.oxw().ngIf,i=s.oxw(2);s.hij(" ",i.tickTrim(t)," ")}}function wu(e,n){if(1&e&&(s.O4$(),s.ynx(0),s.TgZ(1,"title"),s._uU(2),s.qZA(),s.TgZ(3,"text",6),s.YNc(4,xu,1,0,"ng-container",7),s.qZA(),s.YNc(5,Cu,1,1,"ng-template",null,8,s.W1O),s.YNc(7,bu,1,1,"ng-template",null,9,s.W1O),s.BQk()),2&e){const t=n.ngIf,i=s.MAs(6),a=s.MAs(8),o=s.oxw(2);s.xp6(2),s.Oqu(t),s.xp6(1),s.Udp("font-size","12px"),s.uIk("dy",o.dy)("x",o.x1)("y",o.y1)("text-anchor",o.textAnchor),s.xp6(1),s.Q6J("ngIf",o.wrapTicks)("ngIfThen",i)("ngIfElse",a)}}function Su(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g",4),s.YNc(1,wu,9,10,"ng-container",5),s.qZA()),2&e){const t=n.$implicit,i=s.oxw();s.uIk("transform",i.transform(t)),s.xp6(1),s.Q6J("ngIf",i.tickFormat(t))}}function ku(e,n){if(1&e&&(s.O4$(),s._UZ(0,"path",13)),2&e){const t=s.oxw();s.uIk("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function Au(e,n){if(1&e&&(s.O4$(),s._UZ(0,"line",15)),2&e){const t=s.oxw(3);s.uIk("x2",t.gridLineWidth)}}function Du(e,n){if(1&e&&(s.O4$(),s._UZ(0,"line",15)),2&e){const t=s.oxw(3);s.uIk("x2",-t.gridLineWidth)}}function Lu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,Au,1,1,"line",14),s.YNc(2,Du,1,1,"line",14),s.qZA()),2&e){const t=s.oxw(2);s.uIk("transform",t.gridLineTransform()),s.xp6(1),s.Q6J("ngIf",t.orient===t.Orientation.Left),s.xp6(1),s.Q6J("ngIf",t.orient===t.Orientation.Right)}}function Mu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,Lu,3,3,"g",5),s.qZA()),2&e){const t=n.$implicit,i=s.oxw();s.uIk("transform",i.transform(t)),s.xp6(1),s.Q6J("ngIf",i.showGridLines)}}function Fu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g")(1,"title"),s._uU(2),s.qZA(),s.TgZ(3,"text",17),s._uU(4),s.qZA()()),2&e){const t=s.oxw(2).$implicit,i=s.oxw();s.xp6(2),s.Oqu(i.tickTrim(i.tickFormat(t.value))),s.xp6(1),s.uIk("dy",i.dy)("y",-6)("x",i.gridLineWidth)("text-anchor",i.textAnchor),s.xp6(1),s.hij(" ",t.name," ")}}function Eu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"line",16),s.YNc(2,Fu,5,6,"g",5),s.qZA()),2&e){const t=s.oxw().$implicit,i=s.oxw();s.uIk("transform",i.transform(t.value)),s.xp6(1),s.uIk("x2",i.gridLineWidth)("transform",i.gridLineTransform()),s.xp6(1),s.Q6J("ngIf",i.showRefLabels)}}function Iu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,Eu,3,4,"g",5),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.showRefLines)}}const Pu=["ngx-charts-y-axis",""];function Ou(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",2),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.emitTicksWidth(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)("wrapTicks",t.wrapTicks)}}function $u(e,n){if(1&e&&(s.O4$(),s._UZ(0,"g",3)),2&e){const t=s.oxw();s.Q6J("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}const Bu=["ngx-charts-svg-linear-gradient",""];function zu(e,n){if(1&e&&(s.O4$(),s._UZ(0,"stop")),2&e){const t=n.$implicit;s.Udp("stop-color",t.color)("stop-opacity",t.opacity),s.uIk("offset",t.offset+"%")}}const Zu=["ngx-charts-circle",""],Ru=["ngx-charts-circle-series",""];function Hu(e,n){if(1&e&&(s.O4$(),s._UZ(0,"rect",4)),2&e){const t=s.oxw(2);s.Q6J("@animationState","active"),s.uIk("x",t.circle.cx-t.circle.radius)("y",t.circle.cy)("width",2*t.circle.radius)("height",t.circle.height)("fill",t.gradientFill)}}function Nu(e,n){if(1&e&&(s.O4$(),s._UZ(0,"rect",4)),2&e){const t=s.oxw(2);s.uIk("x",t.circle.cx-t.circle.radius)("y",t.circle.cy)("width",2*t.circle.radius)("height",t.circle.height)("fill",t.gradientFill)}}const Vu=function(e){return{name:e}};function Wu(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g")(1,"defs"),s._UZ(2,"g",1),s.qZA(),s.YNc(3,Hu,1,6,"rect",2),s.YNc(4,Nu,1,5,"rect",2),s.TgZ(5,"g",3),s.NdJ("select",function(){s.CHM(t);const a=s.oxw();return s.KtG(a.onClick(a.circle.data))})("activate",function(){s.CHM(t);const a=s.oxw();return s.KtG(a.activateCircle())})("deactivate",function(){s.CHM(t);const a=s.oxw();return s.KtG(a.deactivateCircle())}),s.qZA()()}if(2&e){const t=s.oxw();s.xp6(2),s.Q6J("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.circle.gradientStops),s.xp6(1),s.Q6J("ngIf",!t.isSSR&&t.barVisible&&"standard"===t.type),s.xp6(1),s.Q6J("ngIf",t.isSSR&&t.barVisible&&"standard"===t.type),s.xp6(1),s.ekj("active",t.isActive(s.VKq(20,Vu,t.circle.seriesName))),s.Q6J("cx",t.circle.cx)("cy",t.circle.cy)("r",t.circle.radius)("fill",t.circle.color)("pointerEvents",0===t.circle.value?"none":"all")("data",t.circle.value)("classNames",t.circle.classNames)("tooltipDisabled",t.tooltipDisabled)("tooltipPlacement",t.placementTypes.Top)("tooltipType",t.styleTypes.tooltip)("tooltipTitle",t.tooltipTemplate?void 0:t.getTooltipText(t.circle))("tooltipTemplate",t.tooltipTemplate)("tooltipContext",t.circle.data)}}const Uu=["ngx-charts-svg-radial-gradient",""];function qu(e,n){if(1&e&&(s.O4$(),s._UZ(0,"stop")),2&e){const t=n.$implicit;s.Udp("stop-color",t.color)("stop-opacity",t.opacity),s.uIk("offset",t.offset+"%")}}const Ju=["ngx-charts-area",""];function Qu(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"defs"),s._UZ(1,"g",2),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.gradientStops)}}const ju=["ngx-charts-count-up",""],Ku=["tooltipAnchor"],tm=["ngx-charts-tooltip-area",""];function em(e,n){if(1&e&&(s.TgZ(0,"div",6),s._UZ(1,"span",7),s._uU(2),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Udp("background-color",t.color),s.xp6(1),s.hij(" ",i.getToolTipText(t)," ")}}function im(e,n){if(1&e&&(s.O4$(),s.kcU(),s.TgZ(0,"div",4),s.YNc(1,em,3,3,"div",5),s.qZA()),2&e){const t=n.model;s.xp6(1),s.Q6J("ngForOf",t)}}const nm=["ngx-charts-timeline",""],dm=["ngx-charts-area-series",""],ji=["tooltipTemplate"],Sa=["seriesTooltipTemplate"];function gm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",7),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateXAxisHeight(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function um(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",8),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateYAxisWidth(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}function mm(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"g",9),s.qZA()),2&e){const t=n.$implicit,i=s.oxw();s.xp6(1),s.Q6J("xScale",i.xScale)("yScale",i.yScale)("baseValue",i.baseValue)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("gradient",i.gradient)("curve",i.curve)("animations",i.animations)}}function pm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g")(1,"g",13),s.NdJ("select",function(a){const l=s.CHM(t).$implicit,h=s.oxw(2);return s.KtG(h.onClick(a,l))})("activate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.onActivate(a))})("deactivate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.onDeactivate(a))}),s.qZA()()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("activeEntries",i.activeEntries)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function fm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",10),s.NdJ("mouseleave",function(){s.CHM(t);const a=s.oxw();return s.KtG(a.hideCircles())}),s.TgZ(1,"g",11),s.NdJ("hover",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateHoveredVertical(a))}),s.qZA(),s.YNc(2,pm,2,9,"g",12),s.qZA()}if(2&e){const t=s.oxw();s.xp6(1),s.Q6J("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),s.xp6(1),s.Q6J("ngForOf",t.results)}}function _m(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"g",15),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("baseValue",i.baseValue)("colors",i.colors)("data",t)("scaleType",i.scaleType)("gradient",i.gradient)("curve",i.curve)("animations",i.animations)}}const Ze=function(e,n){return[e,n]};function xm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",14),s.NdJ("onDomainChange",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateDomain(a))}),s.YNc(1,_m,2,9,"g",4),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("results",t.results)("view",s.WLB(10,Ze,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("legend",t.legend)("scaleType",t.scaleType),s.uIk("transform",t.timelineTransform),s.xp6(1),s.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}const Sn=".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n";function Tm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",7),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateXAxisHeight(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function Cm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",8),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateYAxisWidth(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}function bm(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"g",9),s.qZA()),2&e){const t=n.$implicit,i=s.oxw();s.xp6(1),s.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("gradient",i.gradient)("activeEntries",i.activeEntries)("stacked",!0)("curve",i.curve)("animations",i.animations)}}function wm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g")(1,"g",12),s.NdJ("select",function(a){const l=s.CHM(t).$implicit,h=s.oxw(2);return s.KtG(h.onClick(a,l))})("activate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.onActivate(a))})("deactivate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.onDeactivate(a))}),s.qZA()()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("type",i.seriesType.Stacked)("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("activeEntries",i.activeEntries)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function Sm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",10),s.NdJ("mouseleave",function(){s.CHM(t);const a=s.oxw();return s.KtG(a.hideCircles())}),s.TgZ(1,"g",11),s.NdJ("hover",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateHoveredVertical(a))}),s.qZA(),s.YNc(2,wm,2,10,"g",4),s.qZA()}if(2&e){const t=s.oxw();s.xp6(1),s.Q6J("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),s.xp6(1),s.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function km(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"g",14),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("gradient",i.gradient)("stacked",!0)("curve",i.curve)("animations",i.animations)}}function Am(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",13),s.NdJ("onDomainChange",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateDomain(a))}),s.YNc(1,km,2,9,"g",4),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("results",t.results)("view",s.WLB(10,Ze,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("legend",t.legend)("scaleType",t.scaleType),s.uIk("transform",t.timelineTransform),s.xp6(1),s.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}const Dm=["ngx-charts-bar",""];function Lm(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"defs"),s._UZ(1,"g",2),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("orientation",t.orientation)("name",t.gradientId)("stops",t.gradientStops)}}const Mm=["ngx-charts-bar-label",""],zm=["ngx-charts-series-vertical",""];function Zm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",2),s.NdJ("select",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.onClick(a))})("activate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.activate.emit(a))})("deactivate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.deactivate.emit(a))}),s.qZA()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.Q6J("@animationState","active")("@.disabled",!i.animations)("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function Rm(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,Zm,1,22,"g",1),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function Hm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",2),s.NdJ("select",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.onClick(a))})("activate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.activate.emit(a))})("deactivate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.deactivate.emit(a))}),s.qZA()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.Q6J("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation",i.barOrientation.Vertical)("roundEdges",t.roundEdges)("gradient",i.gradient)("ariaLabel",t.ariaLabel)("isActive",i.isActive(t.data))("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.tooltipPlacement)("tooltipType",i.tooltipType)("tooltipTitle",i.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",i.noBarWhenZero)("animations",i.animations)}}function Nm(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,Hm,1,20,"g",1),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.bars)("ngForTrackBy",t.trackBy)}}function Vm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",4),s.NdJ("dimensionsChanged",function(a){const l=s.CHM(t).index,h=s.oxw(2);return s.KtG(h.dataLabelHeightChanged.emit({size:a,index:l}))}),s.qZA()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.Q6J("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",i.dataLabelFormatting)("orientation",i.barOrientation.Vertical)}}function Wm(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,Vm,1,7,"g",3),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}function Ym(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",5),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateXAxisHeight(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("xAxisOffset",t.dataLabelMaxHeight.negative)("wrapTicks",t.wrapTicks)}}function Gm(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",6),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateYAxisWidth(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("wrapTicks",t.wrapTicks)}}const sp=["ngx-charts-line",""];function ap(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"path",1),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("@animationState","active"),s.uIk("d",t.initialPath)("fill",t.fill)("stroke",t.stroke)}}function op(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"path",1),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.uIk("d",t.initialPath)("fill",t.fill)("stroke",t.stroke)}}const rp=["ngx-charts-line-series",""];function lp(e,n){if(1&e&&(s.O4$(),s._UZ(0,"g",4)),2&e){const t=s.oxw();s.Q6J("orientation",t.barOrientation.Vertical)("name",t.gradientId)("stops",t.gradientStops)}}function cp(e,n){if(1&e&&(s.O4$(),s._UZ(0,"g",5)),2&e){const t=s.oxw();s.ekj("active",t.isActive(t.data))("inactive",t.isInactive(t.data)),s.Q6J("data",t.data)("path",t.outerPath)("fill",t.hasGradient?t.gradientUrl:t.colors.getColor(t.data.name))("opacity",t.rangeFillOpacity)("animations",t.animations)}}function hp(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",7),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateXAxisHeight(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("xScale",t.xScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("wrapTicks",t.wrapTicks)}}function dp(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",8),s.NdJ("dimensionsChanged",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateYAxisWidth(a))}),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("wrapTicks",t.wrapTicks)}}function gp(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"g",10),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.Q6J("@animationState","active"),s.xp6(1),s.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function up(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,gp,2,11,"g",9),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function mp(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"g",10),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("activeEntries",i.activeEntries)("scaleType",i.scaleType)("curve",i.curve)("rangeFillOpacity",i.rangeFillOpacity)("hasRange",i.hasRange)("animations",i.animations)}}function pp(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,mp,2,10,"g",9),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}function fp(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g")(1,"g",14),s.NdJ("select",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.onClick(a))})("activate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.onActivate(a))})("deactivate",function(a){s.CHM(t);const o=s.oxw(2);return s.KtG(o.onDeactivate(a))}),s.qZA()()}if(2&e){const t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("visibleValue",i.hoveredVertical)("activeEntries",i.activeEntries)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)}}function _p(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",11),s.NdJ("mouseleave",function(){s.CHM(t);const a=s.oxw();return s.KtG(a.hideCircles())}),s.TgZ(1,"g",12),s.NdJ("hover",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateHoveredVertical(a))}),s.qZA(),s.YNc(2,fp,2,9,"g",13),s.qZA()}if(2&e){const t=s.oxw();s.xp6(1),s.Q6J("dims",t.dims)("xSet",t.xSet)("xScale",t.xScale)("yScale",t.yScale)("results",t.results)("colors",t.colors)("tooltipDisabled",t.tooltipDisabled)("tooltipTemplate",t.seriesTooltipTemplate),s.xp6(1),s.Q6J("ngForOf",t.results)}}function xp(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"g"),s._UZ(1,"g",16),s.qZA()),2&e){const t=n.$implicit,i=s.oxw(2);s.xp6(1),s.Q6J("xScale",i.timelineXScale)("yScale",i.timelineYScale)("colors",i.colors)("data",t)("scaleType",i.scaleType)("curve",i.curve)("hasRange",i.hasRange)("animations",i.animations)}}function vp(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",15),s.NdJ("onDomainChange",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.updateDomain(a))}),s.YNc(1,xp,2,8,"g",9),s.qZA()}if(2&e){const t=s.oxw();s.Q6J("results",t.results)("view",s.WLB(10,Ze,t.timelineWidth,t.height))("height",t.timelineHeight)("scheme",t.scheme)("customColors",t.customColors)("scaleType",t.scaleType)("legend",t.legend),s.uIk("transform",t.timelineTransform),s.xp6(1),s.Q6J("ngForOf",t.results)("ngForTrackBy",t.trackBy)}}const yp=["ngx-charts-pie-label",""],Sp=["ngx-charts-pie-arc",""];function kp(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"defs"),s._UZ(1,"g",3),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("color",t.fill)("name",t.radialGradientId)("startOpacity",t.startOpacity)}}const Ap=["ngx-charts-pie-series",""];function Dp(e,n){if(1&e&&(s.O4$(),s._UZ(0,"g",3)),2&e){const t=s.oxw().$implicit,i=s.oxw();s.Q6J("data",t)("radius",i.outerRadius)("color",i.color(t))("label",i.labelText(t))("labelTrim",i.trimLabels)("labelTrimSize",i.maxLabelLength)("max",i.max)("value",t.value)("explodeSlices",i.explodeSlices)("animations",i.animations)}}function Lp(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g"),s.YNc(1,Dp,1,10,"g",1),s.TgZ(2,"g",2),s.NdJ("select",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.onClick(a))})("activate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.activate.emit(a))})("deactivate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.deactivate.emit(a))})("dblclick",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.dblclick.emit(a))}),s.qZA()()}if(2&e){const t=n.$implicit,i=s.oxw();s.xp6(1),s.Q6J("ngIf",i.labelVisible(t)),s.xp6(1),s.Q6J("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(t))("value",t.data.value)("gradient",i.gradient)("data",t.data)("max",i.max)("explodeSlices",i.explodeSlices)("isActive",i.isActive(t.data))("animate",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.getTooltipTitle(t))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data)}}const Fp=["ngx-charts-pie-grid-series",""];function Ep(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",2),s.NdJ("select",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.onClick(a))})("activate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.activate.emit(a))})("deactivate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.deactivate.emit(a))}),s.qZA()}if(2&e){const t=n.$implicit,i=s.oxw();s.Q6J("startAngle",t.startAngle)("endAngle",t.endAngle)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("fill",i.color(t))("value",t.data.value)("data",t.data)("gradient",!1)("pointerEvents",t.pointerEvents)("animate",t.animate),s.uIk("class",t.class)}}function Ip(e,n){if(1&e&&(s.O4$(),s._UZ(0,"text",10)),2&e){const t=s.oxw().$implicit;s.Q6J("countTo",t.percent)("countSuffix","%")}}function Pp(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"text",11),s._uU(1),s.qZA()),2&e){const t=s.oxw().$implicit;s.xp6(1),s.hij(" ",t.percent.toLocaleString()," ")}}function Op(e,n){if(1&e&&(s.O4$(),s._UZ(0,"text",12)),2&e){const t=s.oxw().$implicit,i=s.oxw();s.Q6J("countTo",t.total)("countPrefix",i.label+": "),s.uIk("y",t.outerRadius)}}function $p(e,n){if(1&e&&(s.O4$(),s.TgZ(0,"text",13),s._uU(1),s.qZA()),2&e){const t=s.oxw().$implicit,i=s.oxw();s.uIk("y",t.outerRadius),s.xp6(1),s.AsE(" ",i.label,": ",t.total.toLocaleString()," ")}}const Bp=function(e){return{data:e}};function zp(e,n){if(1&e){const t=s.EpF();s.O4$(),s.TgZ(0,"g",3)(1,"g",4),s.NdJ("select",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.onClick(a))})("activate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.onActivate(a))})("deactivate",function(a){s.CHM(t);const o=s.oxw();return s.KtG(o.onDeactivate(a))}),s.qZA(),s.YNc(2,Ip,1,2,"text",5),s.YNc(3,Pp,2,1,"text",6),s.TgZ(4,"text",7),s._uU(5),s.qZA(),s.YNc(6,Op,1,3,"text",8),s.YNc(7,$p,2,3,"text",9),s.qZA()}if(2&e){const t=n.$implicit,i=s.oxw();s.uIk("transform",t.transform),s.xp6(1),s.Q6J("colors",t.colors)("data",t.data)("innerRadius",t.innerRadius)("outerRadius",t.outerRadius)("animations",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Top)("tooltipType",i.styleTypes.tooltip)("tooltipTitle",i.tooltipTemplate?void 0:i.tooltipText(s.VKq(17,Bp,t)))("tooltipTemplate",i.tooltipTemplate)("tooltipContext",t.data[0].data),s.xp6(1),s.Q6J("ngIf",i.animations),s.xp6(1),s.Q6J("ngIf",!i.animations),s.xp6(2),s.hij(" ",t.label," "),s.xp6(1),s.Q6J("ngIf",i.animations),s.xp6(1),s.Q6J("ngIf",!i.animations)}}function Np(e,n,t){t=t||{};let i,a,o,l=null,h=0;function m(){h=!1===t.leading?0:+new Date,l=null,o=e.apply(i,a)}return function(){const g=+new Date;!h&&!1===t.leading&&(h=g);const _=n-(g-h);return i=this,a=arguments,_<=0?(clearTimeout(l),l=null,h=g,o=e.apply(i,a)):!l&&!1!==t.trailing&&(l=setTimeout(m,_)),o}}function Vp(e,n){return function(i,a,o){return{configurable:!0,enumerable:o.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:o.enumerable,value:Np(o.value,e,n)}),this[a]}}}}var lt=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center",e}(lt||{});function Mr(e,n,t){return t===lt.Top?e.top-7:t===lt.Bottom?e.top+e.height-n.height+7:t===lt.Center?e.top+e.height/2-n.height/2:void 0}function Fr(e,n,t){return t===lt.Left?e.left-7:t===lt.Right?e.left+e.width-n.width+7:t===lt.Center?e.left+e.width/2-n.width/2:void 0}class pe{static calculateVerticalAlignment(n,t,i){let a=Mr(n,t,i);return a+t.height>window.innerHeight&&(a=window.innerHeight-t.height),a}static calculateVerticalCaret(n,t,i,a){let o;a===lt.Top&&(o=n.height/2-i.height/2+7),a===lt.Bottom&&(o=t.height-n.height/2-i.height/2-7),a===lt.Center&&(o=t.height/2-i.height/2);const l=Mr(n,t,a);return l+t.height>window.innerHeight&&(o+=l+t.height-window.innerHeight),o}static calculateHorizontalAlignment(n,t,i){let a=Fr(n,t,i);return a+t.width>window.innerWidth&&(a=window.innerWidth-t.width),a}static calculateHorizontalCaret(n,t,i,a){let o;a===lt.Left&&(o=n.width/2-i.width/2+7),a===lt.Right&&(o=t.width-n.width/2-i.width/2-7),a===lt.Center&&(o=t.width/2-i.width/2);const l=Fr(n,t,a);return l+t.width>window.innerWidth&&(o+=l+t.width-window.innerWidth),o}static shouldFlip(n,t,i,a){let o=!1;return i===lt.Right&&n.left+n.width+t.width+a>window.innerWidth&&(o=!0),i===lt.Left&&n.left-t.width-a<0&&(o=!0),i===lt.Top&&n.top-t.height-a<0&&(o=!0),i===lt.Bottom&&n.top+n.height+t.height+a>window.innerHeight&&(o=!0),o}static positionCaret(n,t,i,a,o){let l=0,h=0;return n===lt.Right?(h=-7,l=pe.calculateVerticalCaret(i,t,a,o)):n===lt.Left?(h=t.width,l=pe.calculateVerticalCaret(i,t,a,o)):n===lt.Top?(l=t.height,h=pe.calculateHorizontalCaret(i,t,a,o)):n===lt.Bottom&&(l=-7,h=pe.calculateHorizontalCaret(i,t,a,o)),{top:l,left:h}}static positionContent(n,t,i,a,o){let l=0,h=0;return n===lt.Right?(h=i.left+i.width+a,l=pe.calculateVerticalAlignment(i,t,o)):n===lt.Left?(h=i.left-t.width-a,l=pe.calculateVerticalAlignment(i,t,o)):n===lt.Top?(l=i.top-t.height-a,h=pe.calculateHorizontalAlignment(i,t,o)):n===lt.Bottom&&(l=i.top+i.height+a,h=pe.calculateHorizontalAlignment(i,t,o)),{top:l,left:h}}static determinePlacement(n,t,i,a){if(pe.shouldFlip(i,t,n,a)){if(n===lt.Right)return lt.Left;if(n===lt.Left)return lt.Right;if(n===lt.Top)return lt.Bottom;if(n===lt.Bottom)return lt.Top}return n}}let Wp=(()=>{class e{constructor(t,i,a){this.element=t,this.renderer=i,this.platformId=a}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,c.NF)(this.platformId))return;const t=this.element.nativeElement,i=this.host.nativeElement.getBoundingClientRect();if(!i.height&&!i.width)return;const a=t.getBoundingClientRect();this.checkFlip(i,a),this.positionContent(t,i,a),this.showCaret&&this.positionCaret(i,a),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,i,a){const{top:o,left:l}=pe.positionContent(this.placement,a,i,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${o}px`),this.renderer.setStyle(t,"left",`${l}px`)}positionCaret(t,i){const a=this.caretElm.nativeElement,o=a.getBoundingClientRect(),{top:l,left:h}=pe.positionCaret(this.placement,i,t,o,this.alignment);this.renderer.setStyle(a,"top",`${l}px`),this.renderer.setStyle(a,"left",`${h}px`)}checkFlip(t,i){this.placement=pe.determinePlacement(this.placement,i,t,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.Lbi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,i){if(1&t&&s.Gf(Ug,5),2&t){let a;s.iGM(a=s.CRH())&&(i.caretElm=a.first)}},hostVars:2,hostBindings:function(t,i){1&t&&s.NdJ("resize",function(){return i.onWindowResize()},!1,s.Jf7),2&t&&s.Tol(i.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,i){1&t&&(s.TgZ(0,"div"),s._UZ(1,"span",0,1),s.TgZ(3,"div",2),s.YNc(4,Qg,2,4,"span",3),s.YNc(5,jg,1,1,"span",4),s.qZA()()),2&t&&(s.xp6(1),s.Gre("tooltip-caret position-",i.placement,""),s.Q6J("hidden",!i.showCaret),s.xp6(3),s.Q6J("ngIf",!i.title),s.xp6(1),s.Q6J("ngIf",i.title))},dependencies:[c.O5,c.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,dt.gn)([Vp(100)],e.prototype,"onWindowResize",null),e})();class Yp{constructor(n){this.injectionService=n,this.defaults={},this.components=new Map}getByType(n=this.type){return this.components.get(n)}create(n){return this.createByType(this.type,n)}createByType(n,t){t=this.assignDefaults(t);const i=this.injectComponent(n,t);return this.register(n,i),i}destroy(n){const t=this.components.get(n.componentType);if(t&&t.length){const i=t.indexOf(n);i>-1&&(t[i].destroy(),t.splice(i,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(n){const t=this.components.get(n);if(t&&t.length){let i=t.length-1;for(;i>=0;)this.destroy(t[i--])}}injectComponent(n,t){return this.injectionService.appendComponent(n,t)}assignDefaults(n){const t={...this.defaults.inputs},i={...this.defaults.outputs};return!n.inputs&&!n.outputs&&(n={inputs:n}),t&&(n.inputs={...t,...n.inputs}),i&&(n.outputs={...i,...n.outputs}),n}register(n,t){this.components.has(n)||this.components.set(n,[]),this.components.get(n).push(t)}}let Er=(()=>{class e{constructor(t,i,a){this.applicationRef=t,this.componentFactoryResolver=i,this.injector=a}static setGlobalRootViewContainer(t){e.globalRootViewContainer=t}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return function Gp(e){return e.element}(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,i){if(i){if(void 0!==i.inputs){const a=Object.getOwnPropertyNames(i.inputs);for(const o of a)t.instance[o]=i.inputs[o]}if(void 0!==i.outputs){const a=Object.getOwnPropertyNames(i.outputs);for(const o of a)t.instance[o]=i.outputs[o]}}return t}appendComponent(t,i={},a){a||(a=this.getRootViewContainer());const o=this.getComponentRootNode(a),l=new Ee(o,this.componentFactoryResolver,this.applicationRef,this.injector),h=new Q(t),m=l.attach(h);return this.projectComponentBindings(m,i),m}}return e.globalRootViewContainer=null,e.\u0275fac=function(t){return new(t||e)(s.LFG(s.z2F),s.LFG(s._Vd),s.LFG(s.zs3))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})(),ka=(()=>{class e extends Yp{constructor(t){super(t),this.type=Wp}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(Er))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac}),e})();var Le=function(e){return e.Right="right",e.Below="below",e}(Le||{}),kn=function(e){return e.ScaleLegend="scaleLegend",e.Legend="legend",e}(kn||{}),E=function(e){return e.Time="time",e.Linear="linear",e.Ordinal="ordinal",e.Quantile="quantile",e}(E||{});let Ir=(()=>{class e{constructor(){this.horizontal=!1}ngOnChanges(t){const i=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${i})`}gradientString(t,i){i.push(1);const a=[];return t.reverse().forEach((o,l)=>{a.push(`${o} ${Math.round(100*i[l])}%`)}),a.join(", ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[s.TTD],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(t,i){1&t&&(s.TgZ(0,"div",0)(1,"div",1)(2,"span"),s._uU(3),s.qZA()(),s._UZ(4,"div",2),s.TgZ(5,"div",1)(6,"span"),s._uU(7),s.qZA()()()),2&t&&(s.Udp("height",i.horizontal?void 0:i.height,"px")("width",i.width,"px"),s.ekj("horizontal-legend",i.horizontal),s.xp6(3),s.Oqu(i.valueRange[1].toLocaleString()),s.xp6(1),s.Udp("background",i.gradient),s.xp6(3),s.Oqu(i.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),e})();function ni(e){return e instanceof Date?e.toLocaleDateString():e.toLocaleString()}function ls(e){return e.toLocaleString().replace(/[&'`"<>]/g,n=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[n]))}let Pr=(()=>{class e{constructor(){this.isActive=!1,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.toggle=new s.vpe}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(t,i){1&t&&s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(t,i){1&t&&(s.TgZ(0,"span",0),s.NdJ("click",function(){return i.select.emit(i.formattedLabel)}),s.TgZ(1,"span",1),s.NdJ("click",function(){return i.toggle.emit(i.formattedLabel)}),s.qZA(),s.TgZ(2,"span",2),s._uU(3),s.qZA()()),2&t&&(s.ekj("active",i.isActive),s.Q6J("title",i.formattedLabel),s.xp6(1),s.Udp("background-color",i.color),s.xp6(2),s.hij(" ",i.trimmedLabel," "))},encapsulation:2,changeDetection:0}),e})(),Or=(()=>{class e{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new s.vpe,this.labelActivate=new s.vpe,this.labelDeactivate=new s.vpe,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const t=[];for(const i of this.data){const a=ni(i);-1===t.findIndex(l=>l.label===a)&&t.push({label:i,formattedLabel:a,color:this.colors.getColor(i)})}return t}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.label===a.name)}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,i){return i.label}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.sBO))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[s.TTD],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(t,i){1&t&&(s.TgZ(0,"div"),s.YNc(1,Kg,3,1,"header",0),s.TgZ(2,"div",1)(3,"ul",2),s.YNc(4,tu,2,4,"li",3),s.qZA()()()),2&t&&(s.Udp("width",i.width,"px"),s.xp6(1),s.Q6J("ngIf",(null==i.title?null:i.title.length)>0),s.xp6(2),s.Udp("max-height",i.height-45,"px"),s.ekj("horizontal-legend",i.horizontal),s.xp6(1),s.Q6J("ngForOf",i.legendEntries)("ngForTrackBy",i.trackBy))},dependencies:[Pr,c.O5,c.sg],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),e})(),Pi=(()=>{class e{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new s.vpe,this.legendLabelActivate=new s.vpe,this.legendLabelDeactivate=new s.vpe,this.LegendPosition=Le,this.LegendType=kn}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Le.Right)&&(t=this.legendType===kn.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-t)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==Le.Right?this.chartWidth:Math.floor(this.view[0]*t/12)}getLegendType(){return this.legendOptions.scaleType===E.Linear?kn.ScaleLegend:kn.Legend}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[s._Bn([ka]),s.TTD],ngContentSelectors:Dr,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(t,i){1&t&&(s.F$t(),s.TgZ(0,"div",0),s.O4$(),s.TgZ(1,"svg",1),s.Hsn(2),s.qZA(),s.YNc(3,eu,1,5,"ngx-charts-scale-legend",2),s.YNc(4,iu,1,7,"ngx-charts-legend",3),s.qZA()),2&t&&(s.Udp("width",i.view[0],"px")("height",i.view[1],"px"),s.xp6(1),s.uIk("width",i.chartWidth)("height",i.view[1]),s.xp6(2),s.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.ScaleLegend),s.xp6(1),s.Q6J("ngIf",i.showLegend&&i.legendType===i.LegendType.Legend))},dependencies:[Ir,Or,c.O5],encapsulation:2,changeDetection:0}),e})(),Xp=(()=>{class e{constructor(t,i){this.element=t,this.zone=i,this.visible=new s.vpe,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:i,offsetWidth:a}=this.element.nativeElement;i&&a?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.R0b))},e.\u0275dir=s.lG2({type:e,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),e})();function Aa(e){return"[object Date]"===toString.call(e)}function Up(e){return"number"==typeof e}let Oi=(()=>{class e{constructor(t,i,a,o){this.chartElement=t,this.zone=i,this.cd=a,this.platformId=o,this.scheme="cool",this.schemeType=E.Ordinal,this.animations=!0,this.select=new s.vpe}ngOnInit(){(0,c.PM)(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new Xp(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,i;const a=this.chartElement.nativeElement;if((0,c.NF)(this.platformId)&&null!==a.parentNode){const o=a.parentNode.getBoundingClientRect();t=o.width,i=o.height}return t&&i?{width:t,height:i}:null}formatDates(){for(let t=0;t<this.results.length;t++){const i=this.results[t];if(i.label=i.name,Aa(i.label)&&(i.label=i.label.toLocaleDateString()),i.series)for(let a=0;a<i.series.length;a++){const o=i.series[a];o.label=o.name,Aa(o.label)&&(o.label=o.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!(0,c.NF)(this.platformId))return;const i=(0,pi.R)(window,"resize").pipe((0,kt.b)(200)).subscribe(a=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=i}cloneData(t){const i=[];for(const a of t){const o={};if(void 0!==a.name&&(o.name=a.name),void 0!==a.value&&(o.value=a.value),void 0!==a.series){o.series=[];for(const l of a.series){const h=Object.assign({},l);o.series.push(h)}}void 0!==a.extra&&(o.extra=JSON.parse(JSON.stringify(a.extra))),void 0!==a.source&&(o.source=a.source),void 0!==a.target&&(o.target=a.target),i.push(o)}return i}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(s.Lbi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[s.TTD],decls:1,vars:0,template:function(t,i){1&t&&s._UZ(0,"div")},encapsulation:2}),e})();var Jt=function(e){return e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e}(Jt||{});let $r=(()=>{class e{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case Jt.Top:case Jt.Bottom:this.y=this.offset,this.x=this.width/2;break;case Jt.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case Jt.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[s.TTD],attrs:nu,decls:2,vars:6,template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"text"),s._uU(1),s.qZA()),2&t&&(s.uIk("stroke-width",i.strokeWidth)("x",i.x)("y",i.y)("text-anchor",i.textAnchor)("transform",i.transform),s.xp6(1),s.hij(" ",i.label," "))},encapsulation:2,changeDetection:0}),e})();function Ki(e,n=16){return"string"!=typeof e?"number"==typeof e?e+"":"":(e=e.trim()).length<=n?e:`${e.slice(0,n)}...`}function Br(e,n){if(e.length>n){const t=[],i=Math.floor(e.length/n);for(let a=0;a<e.length;a++)a%i==0&&t.push(e[a]);e=t}return e}function zr(e,n,t){const i=(e||"").toString();let a=[];if(/\s/.test(i))a=i.split(/\s+/).reduce((o,l)=>{const h=(o.pop()||"")+" ";return h.length+l.length>n?[...o,h.trim(),l.trim()]:[...o,h+l]},[]);else{let o=0;for(;o<i.length;)a.push(i.substring(o,o+n)),o+=n}return a.length>t&&(a=a.splice(0,t),a[a.length-1]+="..."),a}var Me=function(e){return e.Start="start",e.Middle="middle",e.End="end",e}(Me||{});let Zr=(()=>{class e{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.wrapTicks=!1,this.dimensionsChanged=new s.vpe,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=Me.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10,this.maxPossibleLengthForTickIfWrapped=16}get isWrapTicksSupported(){return this.wrapTicks&&this.scale.step}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,c.NF)(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(a){return"Date"===a.constructor.name?a.toLocaleDateString():a.toLocaleString()};const i=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(a){return this.scale(a)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",i&&0!==i?(this.textTransform=`rotate(${i})`,this.textAnchor=Me.End,this.verticalSpacing=10):this.textAnchor=Me.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(t){let i=0;this.maxTicksLength=0;for(let x=0;x<t.length;x++){const v=this.tickFormat(t[x]).toString();let T=v.length;this.trimTicks&&(T=this.tickTrim(v).length),T>this.maxTicksLength&&(this.maxTicksLength=T)}const l=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let h=l;const m=Math.floor(this.width/t.length);for(;h>m&&i>-90;)i-=30,h=Math.cos(i*(Math.PI/180))*l;let g=14;if(this.isWrapTicksSupported){const x=this.ticks.reduce((T,M)=>M.length>T.length?M:T,"");g=14*(this.tickChunks(x).length||1),this.maxPossibleLengthForTickIfWrapped=this.getMaxPossibleLengthForTick(x)}const _=0!==i?Math.max(Math.abs(Math.sin(i*Math.PI/180))*this.maxTickLength*7,10):g;return this.approxHeight=Math.min(_,200),i}getTicks(){let t;const i=this.getMaxTicks(20),a=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[a]):(t=this.scale.domain(),t=Br(t,i)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?Ki(t,this.maxTickLength):t}getMaxPossibleLengthForTick(t){if(this.scale.bandwidth){const a=Math.floor(this.scale.bandwidth()/7),o=t.slice(0,a);return Math.max(o.length,this.maxTickLength)}return this.maxTickLength}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){let a=this.rotateTicks?Math.floor(this.scale.step()/14):5;if(a<=1)return[this.tickTrim(t)];let o=Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength);return(0,c.NF)(this.platformId)||(o=Math.floor(Math.min(this.approxHeight/5,Math.max(this.maxPossibleLengthForTickIfWrapped,this.maxTickLength)))),a=Math.min(a,5),zr(t,o,a<1?1:a)}return[this.tickTrim(t)]}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Lbi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(t,i){if(1&t&&s.Gf(Lr,5),2&t){let a;s.iGM(a=s.CRH())&&(i.ticksElement=a.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:su,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01","font-size","12px"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],["x","0",4,"ngFor","ngForOf"],["x","0"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"g",null,0),s.YNc(2,du,2,2,"g",1),s.qZA(),s.YNc(3,uu,2,2,"g",2)),2&t&&(s.xp6(2),s.Q6J("ngForOf",i.ticks),s.xp6(1),s.Q6J("ngForOf",i.ticks))},dependencies:[c.sg,c.O5],encapsulation:2,changeDetection:0}),e})(),cs=(()=>{class e{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=Jt.Bottom,this.xAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new s.vpe,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=Jt}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,typeof this.xAxisTickCount<"u"&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){const i=t+25+5;i!==this.labelOffset&&(this.labelOffset=i,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(t,i){if(1&t&&s.Gf(Zr,5),2&t){let a;s.iGM(a=s.CRH())&&(i.ticksComponent=a.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:mu,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,pu,1,13,"g",0),s.YNc(2,fu,1,5,"g",1),s.qZA()),2&t&&(s.uIk("class",i.xAxisClassName)("transform",i.transform),s.xp6(1),s.Q6J("ngIf",i.xScale),s.xp6(1),s.Q6J("ngIf",i.showLabel))},dependencies:[Zr,$r,c.O5],encapsulation:2,changeDetection:0}),e})();function di(e,n,t,i,a,[o,l,h,m]){let g="";return g=`M${[e+a,n]}`,g+="h"+((t=0===(t=Math.floor(t))?1:t)-2*a),g+=l?`a${[a,a]} 0 0 1 ${[a,a]}`:`h${a}v${a}`,g+="v"+((i=0===(i=Math.floor(i))?1:i)-2*a),g+=m?`a${[a,a]} 0 0 1 ${[-a,a]}`:`v${a}h${-a}`,g+="h"+(2*a-t),g+=h?`a${[a,a]} 0 0 1 ${[-a,-a]}`:`h${-a}v${-a}`,g+="v"+(2*a-i),g+=o?`a${[a,a]} 0 0 1 ${[a,-a]}`:`v${-a}h${a}`,g+="z",g}let Rr=(()=>{class e{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.wrapTicks=!1,this.dimensionsChanged=new s.vpe,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=Me.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=Jt}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!(0,c.NF)(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale,i=this.orient===Jt.Top||this.orient===Jt.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(a){return"Date"===a.constructor.name?a.toLocaleDateString():a.toLocaleString()},this.adjustedScale=t.bandwidth?a=>{const o=t(a)+.5*t.bandwidth();if(this.wrapTicks&&a.toString().length>this.maxTickLength){const l=this.tickChunks(a).length;if(1===l)return o;const g=.5*t.bandwidth()-8*l*.5;return t(a)+g}return o}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case Jt.Top:case Jt.Bottom:this.transform=function(a){return"translate("+this.adjustedScale(a)+",0)"},this.textAnchor=Me.Middle,this.y2=this.innerTickSize*i,this.y1=this.tickSpacing*i,this.dy=i<0?"0em":".71em";break;case Jt.Left:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=Me.End,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em";break;case Jt.Right:this.transform=function(a){return"translate(0,"+this.adjustedScale(a)+")"},this.textAnchor=Me.Start,this.x2=this.innerTickSize*-i,this.x1=this.tickSpacing*-i,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=di(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t;const i=this.getMaxTicks(20),a=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[a]):(t=this.scale.domain(),t=Br(t,i)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?Ki(t,this.maxTickLength):t}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(a=>this.tickTrim(this.tickFormat(a)).length))}tickChunks(t){if(t.toString().length>this.maxTickLength&&this.scale.bandwidth){const i=this.maxTickLength,a=Math.floor(this.scale.bandwidth()/15);return a<=1?[this.tickTrim(t)]:zr(t,i,Math.min(a,5))}return[this.tickFormat(t)]}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Lbi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(t,i){if(1&t&&s.Gf(Lr,5),2&t){let a;s.iGM(a=s.CRH())&&(i.ticksElement=a.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:_u,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],[4,"ngIf"],["stroke-width","0.01"],[4,"ngIf","ngIfThen","ngIfElse"],["tmplMultilineTick",""],["tmplSinglelineTick",""],[4,"ngIf","ngIfElse"],["x","0",4,"ngFor","ngForOf"],["x","0"],[1,"reference-area"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"g",null,0),s.YNc(2,Su,2,2,"g",1),s.qZA(),s.YNc(3,ku,1,2,"path",2),s.YNc(4,Mu,2,2,"g",3),s.YNc(5,Iu,2,1,"g",3)),2&t&&(s.xp6(2),s.Q6J("ngForOf",i.ticks),s.xp6(1),s.Q6J("ngIf",i.referenceLineLength>1&&i.refMax&&i.refMin&&i.showRefLines),s.xp6(1),s.Q6J("ngForOf",i.ticks),s.xp6(1),s.Q6J("ngForOf",i.referenceLines))},dependencies:[c.sg,c.O5],encapsulation:2,changeDetection:0}),e})(),hs=(()=>{class e{constructor(){this.showGridLines=!1,this.yOrient=Jt.Left,this.yAxisOffset=0,this.wrapTicks=!1,this.dimensionsChanged=new s.vpe,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===Jt.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):this.transform=`translate(${this.offset} , 0)`,void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&this.yOrient===Jt.Right?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(t,i){if(1&t&&s.Gf(Rr,5),2&t){let a;s.iGM(a=s.CRH())&&(i.ticksComponent=a.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset",wrapTicks:"wrapTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:Pu,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","wrapTicks","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"g"),s.YNc(1,Ou,1,15,"g",0),s.YNc(2,$u,1,5,"g",1),s.qZA()),2&t&&(s.uIk("class",i.yAxisClassName)("transform",i.transform),s.xp6(1),s.Q6J("ngIf",i.yScale),s.xp6(1),s.Q6J("ngIf",i.showLabel))},dependencies:[Rr,$r,c.O5],encapsulation:2,changeDetection:0}),e})(),Hr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[c.ez]]}),e})();var $i=function(e){return e.popover="popover",e.tooltip="tooltip",e}($i||{}),tn=function(e){return e[e.all="all"]="all",e[e.focus="focus"]="focus",e[e.mouseover="mouseover"]="mouseover",e}(tn||{});let An=(()=>{class e{constructor(t,i,a){this.tooltipService=t,this.viewContainerRef=i,this.renderer=a,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=lt.Top,this.tooltipAlignment=lt.Center,this.tooltipType=$i.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=tn.all,this.tooltipImmediateExit=!1,this.show=new s.vpe,this.hide=new s.vpe}get listensForFocus(){return this.tooltipShowEvent===tn.all||this.tooltipShowEvent===tn.focus}get listensForHover(){return this.tooltipShowEvent===tn.all||this.tooltipShowEvent===tn.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;const i=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?400:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const a=this.createBoundOptions();this.component=this.tooltipService.create(a),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},i)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",i=>{t.contains(i.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;const i=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?i():this.timeout=setTimeout(i,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(ka),s.Y36(s.s_b),s.Y36(s.Qsj))},e.\u0275dir=s.lG2({type:e,selectors:[["","ngx-tooltip",""]],hostBindings:function(t,i){1&t&&s.NdJ("focusin",function(){return i.onFocus()})("blur",function(){return i.onBlur()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(o){return i.onMouseLeave(o.target)})("click",function(){return i.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),e})(),Nr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[Er,ka],imports:[[c.ez]]}),e})();const Vr={};function Re(){let e=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return e=`a${e}`,Vr[e]?Re():(Vr[e]=!0,e)}var zt=function(e){return e.Vertical="vertical",e.Horizontal="horizontal",e}(zt||{});let Dn=(()=>{class e{constructor(){this.orientation=zt.Vertical}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===zt.Horizontal?this.x2="100%":this.orientation===zt.Vertical&&(this.y1="100%")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[s.TTD],attrs:Bu,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"linearGradient",0),s.YNc(1,zu,1,5,"stop",1),s.qZA()),2&t&&(s.Q6J("id",i.name),s.uIk("x1",i.x1)("y1",i.y1)("x2",i.x2)("y2",i.y2),s.xp6(1),s.Q6J("ngForOf",i.stops))},dependencies:[c.sg],encapsulation:2,changeDetection:0}),e})(),Wr=(()=>{class e{constructor(){this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(t){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(t,i){1&t&&s.NdJ("click",function(){return i.onClick()})("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[s.TTD],attrs:Zu,decls:1,vars:8,template:function(t,i){1&t&&(s.O4$(),s._UZ(0,"circle")),2&t&&s.uIk("cx",i.cx)("cy",i.cy)("r",i.r)("fill",i.fill)("stroke",i.stroke)("opacity",i.circleOpacity)("class",i.classNames)("pointer-events",i.pointerEvents)},encapsulation:2,changeDetection:0}),e})();var Ln=function(e){return e.Standard="standard",e.Stacked="stacked",e}(Ln||{});let ds=(()=>{class e{constructor(t){this.platformId=t,this.type=Ln.Standard,this.tooltipDisabled=!1,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.barVisible=!1,this.barOrientation=zt,this.placementTypes=lt,this.styleTypes=$i,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+Re().toString(),this.gradientFill=`url(#${this.gradientId})`,(0,c.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){const t=this.data.series.findIndex(i=>{const a=i.name;return a&&this.visibleValue&&a.toString()===this.visibleValue.toString()&&void 0!==i.value});if(-1!==t)return this.mapDataPointToCircle(this.data.series[t],t)}mapDataPointToCircle(t,i){const a=this.data.name,o=t.value,l=t.name,h=ni(l);let m;m=this.xScale(this.scaleType===E.Time?l:this.scaleType===E.Linear?Number(l):l);const g=this.yScale(this.type===Ln.Standard?o:t.d1),x=this.yScale.range()[0]-g;let T;return T=this.colors.getColor(this.colors.scaleType===E.Linear?this.type===Ln.Standard?o:t.d1:a),{classNames:[`circle-data-${i}`],value:o,label:l,data:Object.assign({},t,{series:a,value:o,name:l}),cx:m,cy:g,radius:5,height:x,tooltipLabel:h,color:T,opacity:1,seriesName:a,gradientStops:this.getGradientStops(T),min:t.min,max:t.max}}getTooltipText({tooltipLabel:t,value:i,seriesName:a,min:o,max:l}){return`\n      <span class="tooltip-label">${ls(a)} \u2022 ${ls(t)}</span>\n      <span class="tooltip-val">${i.toLocaleString()}${this.getTooltipMinMaxText(o,l)}</span>\n    `}getTooltipMinMaxText(t,i){if(void 0!==t||void 0!==i){let a=" (";return void 0!==t?(void 0===i&&(a+="\u2265"),a+=t.toLocaleString(),void 0!==i&&(a+=" - ")):void 0!==i&&(a+="\u2264"),void 0!==i&&(a+=i.toLocaleString()),a+=")",a}return""}getGradientStops(t){return[{offset:0,color:t,opacity:.2},{offset:100,color:t,opacity:1}]}onClick(t){this.select.emit(t)}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name)}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Lbi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[s.TTD],attrs:Ru,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],[1,"tooltip-bar"]],template:function(t,i){1&t&&s.YNc(0,Wu,6,22,"g",0),2&t&&s.Q6J("ngIf",i.circle)},dependencies:[Dn,Wr,c.O5,An],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)(":enter",[(0,ft.oB)({opacity:0}),(0,ft.jt)(250,(0,ft.oB)({opacity:1}))])])]},changeDetection:0}),e})(),Gr=(()=>{class e{constructor(){this.endOpacity=1,this.cx=0,this.cy=0}get stops(){return this.stopsInput||this.stopsDefault}set stops(t){this.stopsInput=t}ngOnChanges(t){this.r="30%",("color"in t||"startOpacity"in t||"endOpacity"in t)&&(this.stopsDefault=[{offset:0,color:this.color,opacity:this.startOpacity},{offset:100,color:this.color,opacity:this.endOpacity}])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-svg-radial-gradient",""]],inputs:{color:"color",name:"name",startOpacity:"startOpacity",endOpacity:"endOpacity",cx:"cx",cy:"cy",stops:"stops"},features:[s.TTD],attrs:Uu,decls:2,vars:5,consts:[["gradientUnits","userSpaceOnUse",3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"radialGradient",0),s.YNc(1,qu,1,5,"stop",1),s.qZA()),2&t&&(s.Q6J("id",i.name),s.uIk("cx",i.cx)("cy",i.cy)("r",i.r),s.xp6(1),s.Q6J("ngForOf",i.stops))},dependencies:[c.sg],encapsulation:2,changeDetection:0}),e})(),Da=(()=>{class e{constructor(t){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new s.vpe,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=zt,this.element=t.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+Re().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){const t=ne(this.element).select(".area");this.animations?t.transition().duration(750).attr("d",this.path):t.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[s.TTD],attrs:Ju,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,i){1&t&&(s.YNc(0,Qu,2,3,"defs",0),s.O4$(),s._UZ(1,"path",1)),2&t&&(s.Q6J("ngIf",i.gradient),s.xp6(1),s.Udp("opacity",i.opacity),s.uIk("d",i.areaPath)("fill",i.gradient?i.gradientFill:i.fill))},dependencies:[Dn,c.O5],encapsulation:2,changeDetection:0}),e})();function Xr(e,n,t,i){return t*(1-Math.pow(2,-10*e/i))*1024/1023+n}function Jp(e,n,t,i,a){const o=Number(e),l=Number(n),h=o>l,m=Math.max(0,t),g=Math.pow(10,m),_=1e3*Number(i);let x;function v(T){let M;const O=T-x;M=h?o-Xr(O,0,o-l,_):Xr(O,o,l-o,_),M=h?M<l?l:M:M>l?l:M,M=Math.round(M*g)/g;const D=O<_;if(a({value:M,progress:O,timestamp:T,finished:!D}),D)return requestAnimationFrame(F=>v(F))}return requestAnimationFrame(T=>(x=T,v(T)))}let Ma,La=(()=>{class e{constructor(t,i){this.cd=t,this.countDuration=1,this.countPrefix="",this.countSuffix="",this.countChange=new s.vpe,this.countFinish=new s.vpe,this.value="",this._countDecimals=0,this._countTo=0,this._countFrom=0,this.nativeElement=i.nativeElement}set countDecimals(t){this._countDecimals=t}get countDecimals(){return this._countDecimals?this._countDecimals:function Qp(e){const n=Number(e);return n%1!=0&&Math.abs(n)<=10?2:0}(this.countTo)}set countTo(t){this._countTo=parseFloat(t),this.start()}get countTo(){return this._countTo}set countFrom(t){this._countFrom=parseFloat(t),this.start()}get countFrom(){return this._countFrom}ngOnDestroy(){cancelAnimationFrame(this.animationReq)}start(){cancelAnimationFrame(this.animationReq);const t=this.valueFormatting||(a=>`${this.countPrefix}${a.toLocaleString()}${this.countSuffix}`);this.animationReq=Jp(this.countFrom,this.countTo,this.countDecimals,this.countDuration,({value:a,progress:o,finished:l})=>{this.value=t(a),this.cd.markForCheck(),l||this.countChange.emit({value:this.value,progress:o}),l&&this.countFinish.emit({value:this.value,progress:o})})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.sBO),s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["","ngx-charts-count-up",""]],inputs:{countDuration:"countDuration",countPrefix:"countPrefix",countSuffix:"countSuffix",valueFormatting:"valueFormatting",countDecimals:"countDecimals",countTo:"countTo",countFrom:"countFrom"},outputs:{countChange:"countChange",countFinish:"countFinish"},attrs:ju,decls:1,vars:1,template:function(t,i){1&t&&s._uU(0),2&t&&s.hij(" ",i.value," ")},encapsulation:2}),e})();typeof window<"u"?Ma=window:typeof global<"u"&&(Ma=global);const Ur=Ma.MouseEvent;function Fa(e,n=!1,t=!0){if("function"==typeof Ur)return new Ur(e,{bubbles:n,cancelable:t});{const i=document.createEvent("MouseEvent");return i.initEvent(e,n,t),i}}let us=(()=>{class e{constructor(t){this.platformId=t,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=lt,this.styleTypes=$i,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new s.vpe}getValues(t){const i=[];for(const a of this.results){const o=a.series.find(h=>h.name.toString()===t.toString());let l=a.name;if(l instanceof Date&&(l=l.toLocaleDateString()),o){const h=o.name;let g,m=o.value;if(this.showPercentage&&(m=(o.d1-o.d0).toFixed(2)+"%"),this.colors.scaleType===E.Linear){let x=m;o.d1&&(x=o.d1),g=this.colors.getColor(x)}else g=this.colors.getColor(a.name);const _=Object.assign({},o,{value:m,name:h,series:l,min:o.min,max:o.max,color:g});i.push(_)}}return i}mouseMove(t){if(!(0,c.NF)(this.platformId))return;const i=t.pageX-t.target.getBoundingClientRect().left,a=this.findClosestPointIndex(i),o=this.xSet[a];if(this.anchorPos=this.xScale(o),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(o),this.anchorPos!==this.lastAnchorPos){const l=Fa("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(l),this.anchorOpacity=.7,this.hover.emit({value:o}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(t){let i=0,a=this.xSet.length-1,o=Number.MAX_VALUE,l=0;for(;i<=a;){const h=(i+a)/2|0,m=this.xScale(this.xSet[h]),g=Math.abs(m-t);if(g<o&&(o=g,l=h),m<t)i=h+1;else{if(!(m>t)){o=0,l=h;break}a=h-1}}return l}showTooltip(){const t=Fa("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(t)}hideTooltip(){const t=Fa("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(t),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(t){let i="";return i+=void 0!==t.series?t.series:"???",i+=": ",void 0!==t.value&&(i+=t.value.toLocaleString()),(void 0!==t.min||void 0!==t.max)&&(i+=" (",void 0!==t.min?(void 0===t.max&&(i+="\u2265"),i+=t.min.toLocaleString(),void 0!==t.max&&(i+=" - ")):void 0!==t.max&&(i+="\u2264"),void 0!==t.max&&(i+=t.max.toLocaleString()),i+=")"),i}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Lbi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(t,i){if(1&t&&s.Gf(Ku,5),2&t){let a;s.iGM(a=s.CRH())&&(i.tooltipAnchor=a.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:tm,decls:6,vars:18,consts:[["y","0",1,"tooltip-area",2,"opacity","0","cursor","'auto'",3,"mousemove","mouseleave"],["defaultTooltipTemplate",""],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],["tooltipAnchor",""],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(t,i){if(1&t&&(s.O4$(),s.TgZ(0,"g")(1,"rect",0),s.NdJ("mousemove",function(o){return i.mouseMove(o)})("mouseleave",function(){return i.hideTooltip()}),s.qZA(),s.YNc(2,im,2,1,"ng-template",null,1,s.W1O),s._UZ(4,"rect",2,3),s.qZA()),2&t){const a=s.MAs(3);s.xp6(1),s.uIk("x",0)("width",i.dims.width)("height",i.dims.height),s.xp6(3),s.Udp("opacity",i.anchorOpacity)("pointer-events","none"),s.Q6J("@animationState",0!==i.anchorOpacity?"active":"inactive")("tooltipDisabled",i.tooltipDisabled)("tooltipPlacement",i.placementTypes.Right)("tooltipType",i.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",i.tooltipTemplate?i.tooltipTemplate:a)("tooltipContext",i.anchorValues)("tooltipImmediateExit",!0),s.uIk("x",i.anchorPos)("width",1)("height",i.dims.height)}},dependencies:[c.sg,An],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)("inactive => active",[(0,ft.oB)({opacity:0}),(0,ft.jt)(250,(0,ft.oB)({opacity:.7}))]),(0,ft.eR)("active => inactive",[(0,ft.oB)({opacity:.7}),(0,ft.jt)(250,(0,ft.oB)({opacity:0}))])])]},changeDetection:0}),e})(),ms=(()=>{class e{constructor(t,i){this.cd=i,this.height=50,this.select=new s.vpe,this.onDomainChange=new s.vpe,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;const t=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${t})`,this.filterId="filter"+Re().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let t=[];for(const a of this.results)for(const o of a.series)t.includes(o.name)||t.push(o.name);let i=[];return this.scaleType===E.Time?i=[Math.min(...t),Math.max(...t)]:this.scaleType===E.Linear?(t=t.map(l=>Number(l)),i=[Math.min(...t),Math.max(...t)]):i=t,i}getXScale(){let t;return this.scaleType===E.Time?t=Kn().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===E.Linear?t=ve().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===E.Ordinal&&(t=ns().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),t}addBrush(){if(this.brush)return;const t=this.height,i=this.view[0];this.brush=function Dh(){return function Xs(e){var h,n=Sh,t=wh,i=kh,a=!0,o=Za("start","brush","end"),l=6;function m(D){var F=D.property("__brush",O).selectAll(".overlay").data([mn("overlay")]);F.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",je.overlay).merge(F).each(function(){var I=Gs(this).extent;ne(this).attr("x",I[0][0]).attr("y",I[0][1]).attr("width",I[1][0]-I[0][0]).attr("height",I[1][1]-I[0][1])}),D.selectAll(".selection").data([mn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",je.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var Z=D.selectAll(".handle").data(e.handles,function(I){return I.type});Z.exit().remove(),Z.enter().append("rect").attr("class",function(I){return"handle handle--"+I.type}).attr("cursor",function(I){return je[I.type]}),D.each(g).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",v).filter(i).on("touchstart.brush",v).on("touchmove.brush",T).on("touchend.brush touchcancel.brush",M).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(){var D=ne(this),F=Gs(this).selection;F?(D.selectAll(".selection").style("display",null).attr("x",F[0][0]).attr("y",F[0][1]).attr("width",F[1][0]-F[0][0]).attr("height",F[1][1]-F[0][1]),D.selectAll(".handle").style("display",null).attr("x",function(Z){return"e"===Z.type[Z.type.length-1]?F[1][0]-l/2:F[0][0]-l/2}).attr("y",function(Z){return"s"===Z.type[0]?F[1][1]-l/2:F[0][1]-l/2}).attr("width",function(Z){return"n"===Z.type||"s"===Z.type?F[1][0]-F[0][0]+l:l}).attr("height",function(Z){return"e"===Z.type||"w"===Z.type?F[1][1]-F[0][1]+l:l})):D.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function _(D,F,Z){var I=D.__brush.emitter;return!I||Z&&I.clean?new x(D,F,Z):I}function x(D,F,Z){this.that=D,this.args=F,this.state=D.__brush,this.active=0,this.clean=Z}function v(D){if((!h||D.touches)&&t.apply(this,arguments)){var pt,X,R,K,wt,bt,vt,It,si,ee,Ne,F=this,Z=D.target.__data__.type,I="selection"===(a&&D.metaKey?Z="overlay":Z)?xo:a&&D.altKey?Ni:Hi,N=e===Xn?null:Ch[Z],G=e===Gn?null:bh[Z],V=Gs(F),ut=V.extent,mt=V.selection,Et=ut[0][0],Ct=ut[0][1],Zt=ut[1][0],Ot=ut[1][1],Dt=0,Lt=0,He=N&&G&&a&&D.shiftKey,Ht=Array.from(D.touches||[D],it=>{const Bt=it.identifier;return(it=io(it,F)).point0=it.slice(),it.identifier=Bt,it});Zs(F);var Fe=_(F,arguments,!0).beforestart();if("overlay"===Z){mt&&(si=!0);const it=[Ht[0],Ht[1]||Ht[0]];V.selection=mt=[[pt=e===Xn?Et:Kt(it[0][0],it[1][0]),R=e===Gn?Ct:Kt(it[0][1],it[1][1])],[wt=e===Xn?Zt:jt(it[0][0],it[1][0]),vt=e===Gn?Ot:jt(it[0][1],it[1][1])]],Ht.length>1&&$t(D)}else pt=mt[0][0],R=mt[0][1],wt=mt[1][0],vt=mt[1][1];X=pt,K=R,bt=wt,It=vt;var Y=ne(F).attr("pointer-events","none"),st=Y.selectAll(".overlay").attr("cursor",je[Z]);if(D.touches)Fe.moved=P,Fe.ended=St;else{var ht=ne(D.view).on("mousemove.brush",P,!0).on("mouseup.brush",St,!0);a&&ht.on("keydown.brush",function se(it){switch(it.keyCode){case 16:He=N&&G;break;case 18:I===Hi&&(N&&(wt=bt-Dt*N,pt=X+Dt*N),G&&(vt=It-Lt*G,R=K+Lt*G),I=Ni,$t(it));break;case 32:(I===Hi||I===Ni)&&(N<0?wt=bt-Dt:N>0&&(pt=X-Dt),G<0?vt=It-Lt:G>0&&(R=K-Lt),I=Ws,st.attr("cursor",je.selection),$t(it));break;default:return}Vs(it)},!0).on("keyup.brush",function ae(it){switch(it.keyCode){case 16:He&&(ee=Ne=He=!1,$t(it));break;case 18:I===Ni&&(N<0?wt=bt:N>0&&(pt=X),G<0?vt=It:G>0&&(R=K),I=Hi,$t(it));break;case 32:I===Ws&&(it.altKey?(N&&(wt=bt-Dt*N,pt=X+Dt*N),G&&(vt=It-Lt*G,R=K+Lt*G),I=Ni):(N<0?wt=bt:N>0&&(pt=X),G<0?vt=It:G>0&&(R=K),I=Hi),st.attr("cursor",je[Z]),$t(it));break;default:return}Vs(it)},!0),function El(e){var n=e.document.documentElement,t=ne(e).on("dragstart.drag",Ds,As);"onselectstart"in n?t.on("selectstart.drag",Ds,As):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}(D.view)}g.call(F),Fe.start(D,I.name)}function P(it){for(const Bt of it.changedTouches||[it])for(const Mn of Ht)Mn.identifier===Bt.identifier&&(Mn.cur=io(Bt,F));if(He&&!ee&&!Ne&&1===Ht.length){const Bt=Ht[0];vo(Bt.cur[0]-Bt[0])>vo(Bt.cur[1]-Bt[1])?Ne=!0:ee=!0}for(const Bt of Ht)Bt.cur&&(Bt[0]=Bt.cur[0],Bt[1]=Bt.cur[1]);si=!0,Vs(it),$t(it)}function $t(it){const Bt=Ht[0],Mn=Bt.point0;var ui;switch(Dt=Bt[0]-Mn[0],Lt=Bt[1]-Mn[1],I){case Ws:case xo:N&&(Dt=jt(Et-pt,Kt(Zt-wt,Dt)),X=pt+Dt,bt=wt+Dt),G&&(Lt=jt(Ct-R,Kt(Ot-vt,Lt)),K=R+Lt,It=vt+Lt);break;case Hi:Ht[1]?(N&&(X=jt(Et,Kt(Zt,Ht[0][0])),bt=jt(Et,Kt(Zt,Ht[1][0])),N=1),G&&(K=jt(Ct,Kt(Ot,Ht[0][1])),It=jt(Ct,Kt(Ot,Ht[1][1])),G=1)):(N<0?(Dt=jt(Et-pt,Kt(Zt-pt,Dt)),X=pt+Dt,bt=wt):N>0&&(Dt=jt(Et-wt,Kt(Zt-wt,Dt)),X=pt,bt=wt+Dt),G<0?(Lt=jt(Ct-R,Kt(Ot-R,Lt)),K=R+Lt,It=vt):G>0&&(Lt=jt(Ct-vt,Kt(Ot-vt,Lt)),K=R,It=vt+Lt));break;case Ni:N&&(X=jt(Et,Kt(Zt,pt-Dt*N)),bt=jt(Et,Kt(Zt,wt+Dt*N))),G&&(K=jt(Ct,Kt(Ot,R-Lt*G)),It=jt(Ct,Kt(Ot,vt+Lt*G)))}bt<X&&(N*=-1,ui=pt,pt=wt,wt=ui,ui=X,X=bt,bt=ui,Z in To&&st.attr("cursor",je[Z=To[Z]])),It<K&&(G*=-1,ui=R,R=vt,vt=ui,ui=K,K=It,It=ui,Z in Co&&st.attr("cursor",je[Z=Co[Z]])),V.selection&&(mt=V.selection),ee&&(X=mt[0][0],bt=mt[1][0]),Ne&&(K=mt[0][1],It=mt[1][1]),(mt[0][0]!==X||mt[0][1]!==K||mt[1][0]!==bt||mt[1][1]!==It)&&(V.selection=[[X,K],[bt,It]],g.call(F),Fe.brush(it,I.name))}function St(it){if(function yh(e){e.stopImmediatePropagation()}(it),it.touches){if(it.touches.length)return;h&&clearTimeout(h),h=setTimeout(function(){h=null},500)}else(function Il(e,n){var t=e.document.documentElement,i=ne(e).on("dragstart.drag",null);n&&(i.on("click.drag",Ds,As),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in t?i.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)})(it.view,si),ht.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Y.attr("pointer-events","all"),st.attr("cursor",je.overlay),V.selection&&(mt=V.selection),function Ah(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}(mt)&&(V.selection=null,g.call(F)),Fe.end(it,I.name)}}function T(D){_(this,arguments).moved(D)}function M(D){_(this,arguments).ended(D)}function O(){var D=this.__brush||{selection:null};return D.extent=Ys(n.apply(this,arguments)),D.dim=e,D}return m.move=function(D,F,Z){D.tween?D.on("start.brush",function(I){_(this,arguments).beforestart().start(I)}).on("interrupt.brush end.brush",function(I){_(this,arguments).end(I)}).tween("brush",function(){var I=this,N=I.__brush,G=_(I,arguments),V=N.selection,ut=e.input("function"==typeof F?F.apply(this,arguments):F,N.extent),mt=ki(V,ut);function Et(pt){N.selection=1===pt&&null===ut?null:mt(pt),g.call(I),G.brush()}return null!==V&&null!==ut?Et:Et(1)}):D.each(function(){var I=this,N=arguments,G=I.__brush,V=e.input("function"==typeof F?F.apply(I,N):F,G.extent),ut=_(I,N).beforestart();Zs(I),G.selection=null===V?null:V,g.call(I),ut.start(Z).brush(Z).end(Z)})},m.clear=function(D,F){m.move(D,null,F)},x.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(D,F){return this.starting?(this.starting=!1,this.emit("start",D,F)):this.emit("brush",D),this},brush:function(D,F){return this.emit("brush",D,F),this},end:function(D,F){return 0==--this.active&&(delete this.state.emitter,this.emit("end",D,F)),this},emit:function(D,F,Z){var I=ne(this.that).datum();o.call(D,this.that,new vh(D,{sourceEvent:F,target:m,selection:e.output(this.state.selection),mode:Z,dispatch:o}),I)}},m.extent=function(D){return arguments.length?(n="function"==typeof D?D:Ns(Ys(D)),m):n},m.filter=function(D){return arguments.length?(t="function"==typeof D?D:Ns(!!D),m):t},m.touchable=function(D){return arguments.length?(i="function"==typeof D?D:Ns(!!D),m):i},m.handleSize=function(D){return arguments.length?(l=+D,m):l},m.keyModifiers=function(D){return arguments.length?(a=!!D,m):a},m.on=function(){var D=o.on.apply(o,arguments);return D===o?m:D},m}(Gn)}().extent([[0,0],[i,t]]).on("brush end",({selection:a})=>{const l=(a||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(l),this.cd.markForCheck()}),ne(this.element).select(".brush").call(this.brush)}updateBrush(){this.brush&&(this.brush.extent([[0,0],[this.view[0],this.height]]),ne(this.element).select(".brush").call(this.brush),ne(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck())}getDims(){return{width:this.view[0],height:this.height}}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.sBO))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[s.TTD],attrs:nm,ngContentSelectors:Dr,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(t,i){1&t&&(s.F$t(),s.O4$(),s.TgZ(0,"g",0)(1,"filter"),s._UZ(2,"feColorMatrix",1),s.qZA(),s.TgZ(3,"g",2),s.Hsn(4),s.qZA(),s._UZ(5,"rect",3)(6,"g",4),s.qZA()),2&t&&(s.uIk("transform",i.transform),s.xp6(1),s.uIk("id",i.filterId),s.xp6(4),s.uIk("width",i.view[0])("height",i.height))},styles:[".timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}\n"],encapsulation:2,changeDetection:0}),e})(),ps=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[c.ez,Hr,Nr],c.ez,Hr,Nr]}),e})();function en({width:e,height:n,margins:t,showXAxis:i=!1,showYAxis:a=!1,xAxisHeight:o=0,yAxisWidth:l=0,showXLabel:h=!1,showYLabel:m=!1,showLegend:g=!1,legendType:_=E.Ordinal,legendPosition:x=Le.Right,columns:v=12}){let T=t[3],M=e,O=n-t[0]-t[2];return g&&x===Le.Right&&(v-=_===E.Ordinal?2:1),M=M*v/12,M=M-t[1]-t[3],i&&(O-=5,O-=o,h&&(O-=30)),a&&(M-=5,M-=l,T+=l,T+=10,m&&(M-=30,T+=30)),M=Math.max(0,M),O=Math.max(0,O),{width:Math.floor(M),height:Math.floor(O),xOffset:Math.floor(T)}}const qr=[{name:"vivid",selectable:!0,group:E.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:E.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:E.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:E.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:E.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:E.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:E.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:E.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:E.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:E.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:E.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:E.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:E.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:E.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:E.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class nn{constructor(n,t,i,a){"string"==typeof n&&(n=qr.find(o=>o.name===n)),this.colorDomain=n.domain,this.scaleType=t,this.domain=i,this.customColors=a,this.scale=this.generateColorScheme(n,t,this.domain)}generateColorScheme(n,t,i){let a;switch("string"==typeof n&&(n=qr.find(o=>o.name===n)),t){case E.Quantile:a=vr().range(n.domain).domain(i);break;case E.Ordinal:a=xa().range(n.domain).domain(i);break;case E.Linear:{const o=[...n.domain];1===o.length&&(o.push(o[0]),this.colorDomain=o);const l=gr(0,1,1/o.length);a=ve().range(o).domain(l)}}return a}getColor(n){if(null==n)throw new Error("Value can not be null");if(this.scaleType===E.Linear){const t=ve().domain(this.domain).range([0,1]);return this.scale(t(n))}{if("function"==typeof this.customColors)return this.customColors(n);const t=n.toString();let i;return this.customColors&&this.customColors.length>0&&(i=this.customColors.find(a=>a.name.toLowerCase()===t.toLowerCase())),i?i.value:this.scale(n)}}getLinearGradientStops(n,t){void 0===t&&(t=this.domain[0]);const i=ve().domain(this.domain).range([0,1]),a=qi().domain(this.colorDomain).range([0,1]),o=this.getColor(n),l=i(t),h=this.getColor(t),m=i(n);let g=1,_=l;const x=[];for(x.push({color:h,offset:l,originalOffset:l,opacity:1});_<m&&g<this.colorDomain.length;){const v=this.colorDomain[g],T=a(v);if(T<=l)g++;else{if(T.toFixed(4)>=(m-a.bandwidth()).toFixed(4))break;x.push({color:v,offset:T,opacity:1}),_=T,g++}}if(x[x.length-1].offset<100&&x.push({color:o,offset:m,opacity:1}),m===l)x[0].offset=0,x[1].offset=100;else if(100!==x[x.length-1].offset)for(const v of x)v.offset=(v.offset-l)/(m-l)*100;return x}}function Ea(e){const n=new Set;for(const t of e)for(const i of t.series)n.add(i.name);return Array.from(n)}function fs(e,n=!0){return n&&e.every(a=>a instanceof Date)?E.Time:e.every(i=>"number"==typeof i)?E.Linear:E.Ordinal}function Jr(e,n,t="asc"){return e.sort((i,a)=>"asc"===t?i[n]-a[n]:a[n]-i[n])}function Qr(e,n,t="asc",i){return e.sort((a,o)=>{const h=o[n],m=i.indexOf(a[n]),g=i.indexOf(h);return"asc"===t?m-g:g-m})}function jr(e,n,t="asc"){return e.sort((i,a)=>{const o=i[n].getTime(),l=a[n].getTime();return"asc"===t?o>l?1:l>o?-1:0:o>l?-1:l>o?1:0})}let Kr=(()=>{class e{constructor(){this.baseValue="auto",this.stacked=!1,this.normalized=!1,this.animations=!0,this.select=new s.vpe}ngOnChanges(t){this.update()}update(){let t,i;this.updateGradient();const a=l=>this.xScale(l.name);this.stacked||this.normalized?(t=Ji().x(a).y0((l,h)=>this.yScale(l.d0)).y1((l,h)=>this.yScale(l.d1)),i=Ji().x(a).y0(l=>this.yScale.range()[0]).y1(l=>this.yScale.range()[0])):(t=Ji().x(a).y0(()=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue)).y1(l=>this.yScale(l.value)),i=Ji().x(a).y0(l=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue)).y1(l=>"auto"===this.baseValue?this.yScale.range()[0]:this.yScale(this.baseValue))),t.curve(this.curve),i.curve(this.curve),this.opacity=.8;let o=this.data.series;o=this.scaleType===E.Linear?Jr(o,"name"):this.scaleType===E.Time?jr(o,"name"):Qr(o,"name","asc",this.xScale.domain()),this.path=t(o),this.startingPath=i(o)}updateGradient(){if(this.colors.scaleType===E.Linear)if(this.hasGradient=!0,this.stacked||this.normalized){const t=this.data.series.map(l=>l.d0),i=this.data.series.map(l=>l.d1),a=Math.max(...i),o=Math.min(...t);this.gradientStops=this.colors.getLinearGradientStops(a,o)}else{const t=this.data.series.map(a=>a.value),i=Math.max(...t);this.gradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name)}isInactive(t){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(a=>t.name===a.name)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-area-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",baseValue:"baseValue",colors:"colors",scaleType:"scaleType",stacked:"stacked",normalized:"normalized",gradient:"gradient",curve:"curve",activeEntries:"activeEntries",animations:"animations"},outputs:{select:"select"},features:[s.TTD],attrs:dm,decls:1,vars:12,consts:[["ngx-charts-area","",1,"area-series",3,"data","path","fill","stops","startingPath","opacity","gradient","animations"]],template:function(t,i){1&t&&(s.O4$(),s._UZ(0,"g",0)),2&t&&(s.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),s.Q6J("data",i.data)("path",i.path)("fill",i.colors.getColor(i.data.name))("stops",i.gradientStops)("startingPath",i.startingPath)("opacity",i.opacity)("gradient",i.gradient||i.hasGradient)("animations",i.animations))},dependencies:[Da],encapsulation:2,changeDetection:0}),e})(),jp=(()=>{class e extends Oi{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Le.Right,this.xAxis=!1,this.yAxis=!1,this.baseValue="auto",this.autoScale=!1,this.timeline=!1,this.showGridLines=!0,this.curve=bn,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.wrapTicks=!1,this.activate=new s.vpe,this.deactivate=new s.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.trackBy=(t,i)=>i.name}update(){super.update(),this.dims=en({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset}, ${this.margin[0]})`,this.clipPathId="clip"+Re().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=Ea(this.results);this.scaleType=fs(t);let a,o,i=[];return this.scaleType===E.Linear&&(t=t.map(l=>Number(l))),(this.scaleType===E.Time||this.scaleType===E.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...t),o=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===E.Time?(i=[new Date(a),new Date(o)],this.xSet=[...t].sort((l,h)=>{const m=l.getTime(),g=h.getTime();return m>g?1:g>m?-1:0})):this.scaleType===E.Linear?(i=[a,o],this.xSet=[...t].sort((l,h)=>l-h)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(const l of this.results)for(const h of l.series)t.includes(h.value)||t.push(h.value);const i=[...t];return this.autoScale||i.push(0),"auto"!==this.baseValue&&i.push(this.baseValue),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let a;return this.scaleType===E.Time?a=Kn():this.scaleType===E.Linear?a=ve():this.scaleType===E.Ordinal&&(a=ns().padding(.1)),a.range([0,i]).domain(t),this.roundDomains?a.nice():a}getYScale(t,i){const a=ve().range([i,0]).domain(t);return this.roundDomains?a.nice():a}getScaleType(t){let i=!0,a=!0;for(const o of t)Aa(o)&&(i=!1),Up(o)&&(a=!1);return i?E.Time:a?E.Linear:E.Ordinal}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t,i){i&&(t.series=i.name),this.select.emit(t)}setColors(){let t;t=this.schemeType===E.Ordinal?this.seriesDomain:this.yDomain,this.colors=new nn(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===E.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=s.n5z(e)))(i||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-area-chart"]],contentQueries:function(t,i,a){if(1&t&&(s.Suo(a,ji,5),s.Suo(a,Sa,5)),2&t){let o;s.iGM(o=s.CRH())&&(i.tooltipTemplate=o.first),s.iGM(o=s.CRH())&&(i.seriesTooltipTemplate=o.first)}},hostBindings:function(t,i){1&t&&s.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",baseValue:"baseValue",autoScale:"autoScale",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[s.qOj],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"area-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-area-series","",3,"xScale","yScale","baseValue","colors","data","activeEntries","scaleType","gradient","curve","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","activeEntries","data","scaleType","visibleValue","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange"],["ngx-charts-area-series","",3,"xScale","yScale","baseValue","colors","data","scaleType","gradient","curve","animations"]],template:function(t,i){1&t&&(s.TgZ(0,"ngx-charts-chart",0),s.NdJ("legendLabelClick",function(o){return i.onClick(o)})("legendLabelActivate",function(o){return i.onActivate(o)})("legendLabelDeactivate",function(o){return i.onDeactivate(o)}),s.O4$(),s.TgZ(1,"defs")(2,"clipPath"),s._UZ(3,"rect"),s.qZA()(),s.TgZ(4,"g",1),s.YNc(5,gm,1,11,"g",2),s.YNc(6,um,1,10,"g",3),s.TgZ(7,"g"),s.YNc(8,mm,2,10,"g",4),s.YNc(9,fm,3,9,"g",5),s.qZA()(),s.YNc(10,xm,2,13,"g",6),s.qZA()),2&t&&(s.Q6J("view",s.WLB(17,Ze,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),s.xp6(2),s.uIk("id",i.clipPathId),s.xp6(1),s.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),s.xp6(1),s.uIk("transform",i.transform),s.xp6(1),s.Q6J("ngIf",i.xAxis),s.xp6(1),s.Q6J("ngIf",i.yAxis),s.xp6(1),s.uIk("clip-path",i.clipPath),s.xp6(1),s.Q6J("ngForOf",i.results)("ngForTrackBy",i.trackBy),s.xp6(1),s.Q6J("ngIf",!i.tooltipDisabled),s.xp6(1),s.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Pi,cs,hs,Kr,us,ds,ms,c.O5,c.sg],styles:[".ngx-charts-outer{animation:chartFadeIn linear .6s}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .node,.ngx-charts .link,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .node.active,.ngx-charts .node:hover,.ngx-charts .link.active,.ngx-charts .link:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .node:focus,.ngx-charts .link:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .node.hidden,.ngx-charts .link.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,changeDetection:0}),e})(),Kp=(()=>{class e extends Oi{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Le.Right,this.xAxis=!1,this.yAxis=!1,this.timeline=!1,this.showGridLines=!0,this.curve=bn,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.wrapTicks=!1,this.activate=new s.vpe,this.deactivate=new s.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.seriesType=Ln}update(){super.update(),this.dims=en({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height);for(let t=0;t<this.xSet.length;t++){const i=this.xSet[t];let a=0;for(const o of this.results){let l=o.series.find(h=>{let m=h.name,g=i;return this.scaleType===E.Time&&(m=m.valueOf(),g=g.valueOf()),m===g});l?(l.d0=a,l.d1=a+l.value,a+=l.value):(l={name:i,value:0,d0:a,d1:a},o.series.push(l))}}this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+Re().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=Ea(this.results);this.scaleType=fs(t);let a,o,i=[];return this.scaleType===E.Linear&&(t=t.map(l=>Number(l))),(this.scaleType===E.Time||this.scaleType===E.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...t),o=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===E.Time?(i=[new Date(a),new Date(o)],this.xSet=[...t].sort((l,h)=>{const m=l.getTime(),g=h.getTime();return m>g?1:g>m?-1:0})):this.scaleType===E.Linear?(i=[a,o],this.xSet=[...t].sort((l,h)=>l-h)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(let o=0;o<this.xSet.length;o++){const l=this.xSet[o];let h=0;for(const m of this.results){const g=m.series.find(_=>{let x=_.name,v=l;return this.scaleType===E.Time&&(x=x.valueOf(),v=v.valueOf()),x===v});g&&(h+=g.value)}t.push(h)}return[this.yScaleMin?this.yScaleMin:Math.min(0,...t),this.yScaleMax?this.yScaleMax:Math.max(...t)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let a;return this.scaleType===E.Time?a=Kn():this.scaleType===E.Linear?a=ve():this.scaleType===E.Ordinal&&(a=ns().padding(.1)),a.range([0,i]).domain(t),this.roundDomains?a.nice():a}getYScale(t,i){const a=ve().range([i,0]).domain(t);return this.roundDomains?a.nice():a}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t,i){i&&(t.series=i.name),this.select.emit(t)}trackBy(t,i){return`${i.name}`}setColors(){let t;t=this.schemeType===E.Ordinal?this.seriesDomain:this.yDomain,this.colors=new nn(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===E.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=s.n5z(e)))(i||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-area-chart-stacked"]],contentQueries:function(t,i,a){if(1&t&&(s.Suo(a,ji,5),s.Suo(a,Sa,5)),2&t){let o;s.iGM(o=s.CRH())&&(i.tooltipTemplate=o.first),s.iGM(o=s.CRH())&&(i.seriesTooltipTemplate=o.first)}},hostBindings:function(t,i){1&t&&s.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[s.qOj],decls:11,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"area-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-area-series","",3,"xScale","yScale","colors","data","scaleType","gradient","activeEntries","stacked","curve","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],["ngx-charts-circle-series","",3,"type","xScale","yScale","colors","activeEntries","data","scaleType","visibleValue","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","legend","scaleType","onDomainChange"],["ngx-charts-area-series","",3,"xScale","yScale","colors","data","scaleType","gradient","stacked","curve","animations"]],template:function(t,i){1&t&&(s.TgZ(0,"ngx-charts-chart",0),s.NdJ("legendLabelClick",function(o){return i.onClick(o)})("legendLabelActivate",function(o){return i.onActivate(o)})("legendLabelDeactivate",function(o){return i.onDeactivate(o)}),s.O4$(),s.TgZ(1,"defs")(2,"clipPath"),s._UZ(3,"rect"),s.qZA()(),s.TgZ(4,"g",1),s.YNc(5,Tm,1,11,"g",2),s.YNc(6,Cm,1,10,"g",3),s.TgZ(7,"g"),s.YNc(8,bm,2,10,"g",4),s.YNc(9,Sm,3,10,"g",5),s.qZA()(),s.YNc(10,Am,2,13,"g",6),s.qZA()),2&t&&(s.Q6J("view",s.WLB(17,Ze,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),s.xp6(2),s.uIk("id",i.clipPathId),s.xp6(1),s.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),s.xp6(1),s.uIk("transform",i.transform),s.xp6(1),s.Q6J("ngIf",i.xAxis),s.xp6(1),s.Q6J("ngIf",i.yAxis),s.xp6(1),s.uIk("clip-path",i.clipPath),s.xp6(1),s.Q6J("ngForOf",i.results)("ngForTrackBy",i.trackBy),s.xp6(1),s.Q6J("ngIf",!i.tooltipDisabled),s.xp6(1),s.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Pi,cs,hs,Kr,us,ds,ms,c.O5,c.sg],styles:[Sn],encapsulation:2,changeDetection:0}),e})(),tf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[ps]]}),e})(),ef=(()=>{class e{constructor(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}ngOnChanges(t){t.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+Re().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const t=ne(this.element).select(".bar"),i=this.getPath();this.animations?t.transition().duration(500).attr("d",i):t.attr("d",i)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let i,t=this.getRadius();return this.roundEdges?this.orientation===zt.Vertical?(t=Math.min(this.height,t),i=di(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===zt.Horizontal&&(t=Math.min(this.width,t),i=di(this.x,this.y,1,this.height,0,this.edges)):this.orientation===zt.Vertical?i=di(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===zt.Horizontal&&(i=di(this.x,this.y,1,this.height,0,this.edges)),i}getPath(){let i,t=this.getRadius();return this.roundEdges?this.orientation===zt.Vertical?(t=Math.min(this.height,t),i=di(this.x,this.y,this.width,this.height,t,this.edges)):this.orientation===zt.Horizontal&&(t=Math.min(this.width,t),i=di(this.x,this.y,this.width,this.height,t,this.edges)):i=di(this.x,this.y,this.width,this.height,t,this.edges),i}getRadius(){let t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let t=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===zt.Vertical?t=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:this.orientation===zt.Horizontal&&(t=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),t}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===zt.Vertical&&0===this.height||this.orientation===zt.Horizontal&&0===this.width)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(t,i){1&t&&s.NdJ("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()})},inputs:{fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",stops:"stops",animations:"animations",ariaLabel:"ariaLabel",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[s.TTD],attrs:Dm,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,i){1&t&&(s.YNc(0,Lm,2,3,"defs",0),s.O4$(),s.TgZ(1,"path",1),s.NdJ("click",function(){return i.select.emit(i.data)}),s.qZA()),2&t&&(s.Q6J("ngIf",i.hasGradient),s.xp6(1),s.ekj("active",i.isActive)("hidden",i.hideBar),s.uIk("d",i.path)("aria-label",i.ariaLabel)("fill",i.hasGradient?i.gradientFill:i.fill))},dependencies:[Dn,c.O5],encapsulation:2,changeDetection:0}),e})();var gi=function(e){return e.Standard="standard",e.Normalized="normalized",e.Stacked="stacked",e}(gi||{}),sn=function(e){return e.positive="positive",e.negative="negative",e}(sn||{});let nf=(()=>{class e{constructor(t){this.dimensionsChanged=new s.vpe,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):ni(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[s.TTD],attrs:Mm,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"text",0),s._uU(1),s.qZA()),2&t&&(s.uIk("text-anchor",i.textAnchor)("transform",i.transform)("x",i.x)("y",i.y),s.xp6(1),s.hij(" ",i.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),e})(),sf=(()=>{class e{constructor(t){this.platformId=t,this.type=gi.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.dataLabelHeightChanged=new s.vpe,this.barsForDataLabels=[],this.barOrientation=zt,this.isSSR=!1}ngOnInit(){(0,c.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(t){this.update()}update(){let t;this.updateTooltipSettings(),this.series.length&&(t=this.xScale.bandwidth()),t=Math.round(t);const i=Math.max(this.yScale.domain()[0],0),a={[sn.positive]:0,[sn.negative]:0};let l,o=sn.positive;this.type===gi.Normalized&&(l=this.series.map(h=>h.value).reduce((h,m)=>h+m,0)),this.bars=this.series.map((h,m)=>{let g=h.value;const _=this.getLabel(h),x=ni(_);o=g>0?sn.positive:sn.negative;const T={value:g,label:_,roundEdges:this.roundEdges,data:h,width:t,formattedLabel:x,height:0,x:0,y:0};if(this.type===gi.Standard)T.height=Math.abs(this.yScale(g)-this.yScale(i)),T.x=this.xScale(_),T.y=this.yScale(g<0?0:g);else if(this.type===gi.Stacked){const O=a[o],D=O+g;a[o]+=g,T.height=this.yScale(O)-this.yScale(D),T.x=0,T.y=this.yScale(D),T.offset0=O,T.offset1=D}else if(this.type===gi.Normalized){let O=a[o],D=O+g;a[o]+=g,l>0?(O=100*O/l,D=100*D/l):(O=0,D=0),T.height=this.yScale(O)-this.yScale(D),T.x=0,T.y=this.yScale(D),T.offset0=O,T.offset1=D,g=(D-O).toFixed(2)+"%"}this.colors.scaleType===E.Ordinal?T.color=this.colors.getColor(_):this.type===gi.Standard?(T.color=this.colors.getColor(g),T.gradientStops=this.colors.getLinearGradientStops(g)):(T.color=this.colors.getColor(T.offset1),T.gradientStops=this.colors.getLinearGradientStops(T.offset1,T.offset0));let M=x;return T.ariaLabel=x+" "+g.toLocaleString(),null!=this.seriesName&&(M=`${this.seriesName} \u2022 ${x}`,T.data.series=this.seriesName,T.ariaLabel=this.seriesName+" "+T.ariaLabel),T.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${ls(M)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(g):g.toLocaleString()}</span>\n      `,T}),this.updateDataLabels()}updateDataLabels(){if(this.type===gi.Stacked){this.barsForDataLabels=[];const t={};t.series=this.seriesName;const i=this.series.map(o=>o.value).reduce((o,l)=>l>0?o+l:o,0),a=this.series.map(o=>o.value).reduce((o,l)=>l<0?o+l:o,0);t.total=i+a,t.x=0,t.y=0,t.height=this.yScale(t.total>0?i:a),t.width=this.xScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map(t=>{var i;const a={};return a.series=null!==(i=this.seriesName)&&void 0!==i?i:t.label,a.total=t.value,a.x=this.xScale(t.label),a.y=this.yScale(0),a.height=this.yScale(a.total)-this.yScale(0),a.width=this.xScale.bandwidth(),a})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:lt.Top,this.tooltipType=this.tooltipDisabled?void 0:$i.tooltip}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name&&t.value===a.value)}onClick(t){this.select.emit(t)}getLabel(t){return t.label?t.label:t.name}trackBy(t,i){return i.label}trackDataLabelBy(t,i){return t+"#"+i.series+"#"+i.total}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Lbi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{dims:"dims",type:"type",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",animations:"animations",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[s.TTD],attrs:zm,decls:3,vars:3,consts:[[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(t,i){1&t&&(s.YNc(0,Rm,2,2,"g",0),s.YNc(1,Nm,2,2,"g",0),s.YNc(2,Wm,2,2,"g",0)),2&t&&(s.Q6J("ngIf",!i.isSSR),s.xp6(1),s.Q6J("ngIf",i.isSSR),s.xp6(1),s.Q6J("ngIf",i.showDataLabel))},dependencies:[ef,nf,c.O5,c.sg,An],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)(":leave",[(0,ft.oB)({opacity:1}),(0,ft.jt)(500,(0,ft.oB)({opacity:0}))])])]},changeDetection:0}),e})(),af=(()=>{class e extends Oi{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=Le.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.wrapTicks=!1,this.activate=new s.vpe,this.deactivate=new s.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=en({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();const t=this.xDomain.length/(this.dims.width/this.barPadding+1);return qi().range([0,this.dims.width]).paddingInner(t).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();const t=ve().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?t.nice():t}getXDomain(){return this.results.map(t=>t.label)}getYDomain(){const t=this.results.map(o=>o.value);let i=this.yScaleMin?Math.min(this.yScaleMin,...t):Math.min(0,...t);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(i=Math.min(i,...this.yAxisTicks));let a=this.yScaleMax?Math.max(this.yScaleMax,...t):Math.max(0,...t);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(a=Math.max(a,...this.yAxisTicks)),[i,a]}onClick(t){this.select.emit(t)}setColors(){let t;t=this.schemeType===E.Ordinal?this.xDomain:this.yDomain,this.colors=new nn(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===E.Ordinal?(t.domain=this.xDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onDataLabelMaxHeightChanged(t){t.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,t.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,t.size.height),t.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name),!(this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name);const a=this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=s.n5z(e)))(i||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(t,i,a){if(1&t&&s.Suo(a,ji,5),2&t){let o;s.iGM(o=s.CRH())&&(i.tooltipTemplate=o.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",tooltipDisabled:"tooltipDisabled",gradient:"gradient",showGridLines:"showGridLines",activeEntries:"activeEntries",schemeType:"schemeType",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",showDataLabel:"showDataLabel",dataLabelFormatting:"dataLabelFormatting",noBarWhenZero:"noBarWhenZero",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[s.qOj],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero","activate","deactivate","select","dataLabelHeightChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"]],template:function(t,i){1&t&&(s.TgZ(0,"ngx-charts-chart",0),s.NdJ("legendLabelClick",function(o){return i.onClick(o)})("legendLabelActivate",function(o){return i.onActivate(o,!0)})("legendLabelDeactivate",function(o){return i.onDeactivate(o,!0)}),s.O4$(),s.TgZ(1,"g",1),s.YNc(2,Ym,1,12,"g",2),s.YNc(3,Gm,1,10,"g",3),s.TgZ(4,"g",4),s.NdJ("activate",function(o){return i.onActivate(o)})("deactivate",function(o){return i.onDeactivate(o)})("select",function(o){return i.onClick(o)})("dataLabelHeightChanged",function(o){return i.onDataLabelMaxHeightChanged(o)}),s.qZA()()()),2&t&&(s.Q6J("view",s.WLB(22,Ze,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),s.xp6(1),s.uIk("transform",i.transform),s.xp6(1),s.Q6J("ngIf",i.xAxis),s.xp6(1),s.Q6J("ngIf",i.yAxis),s.xp6(1),s.Q6J("xScale",i.xScale)("yScale",i.yScale)("colors",i.colors)("series",i.results)("dims",i.dims)("gradient",i.gradient)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("showDataLabel",i.showDataLabel)("dataLabelFormatting",i.dataLabelFormatting)("activeEntries",i.activeEntries)("roundEdges",i.roundEdges)("animations",i.animations)("noBarWhenZero",i.noBarWhenZero))},dependencies:[Pi,cs,hs,sf,c.O5],styles:[Sn],encapsulation:2,changeDetection:0}),e})(),of=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[ps]]}),e})();Xg();let rf=(()=>{class e{constructor(t,i){this.element=t,this.platformId=i,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){(0,c.PM)(this.platformId)&&(this.isSSR=!0)}ngOnChanges(t){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){const t=ne(this.element.nativeElement).select(".line");this.animations?t.transition().duration(750).attr("d",this.path):t.attr("d",this.path)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Lbi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[s.TTD],attrs:sp,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(t,i){1&t&&(s.YNc(0,ap,2,4,"g",0),s.YNc(1,op,2,3,"g",0)),2&t&&(s.Q6J("ngIf",!i.isSSR),s.xp6(1),s.Q6J("ngIf",i.isSSR))},dependencies:[c.O5],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)(":enter",[(0,ft.oB)({strokeDasharray:2e3,strokeDashoffset:2e3}),(0,ft.jt)(1e3,(0,ft.oB)({strokeDashoffset:0}))])])]},changeDetection:0}),e})(),lf=(()=>{class e{constructor(){this.animations=!0,this.barOrientation=zt}ngOnChanges(t){this.update()}update(){this.updateGradients();const t=this.sortData(this.data.series),i=this.getLineGenerator();this.path=i(t)||"";const a=this.getAreaGenerator();if(this.areaPath=a(t)||"",this.hasRange){const o=this.getRangeGenerator();this.outerPath=o(t)||""}if(this.hasGradient){this.stroke=this.gradientUrl;const o=this.data.series.map(m=>m.value),l=Math.max(...o);l===Math.min(...o)&&(this.stroke=this.colors.getColor(l))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return wr().x(t=>{const i=t.name;let a;return a=this.xScale(this.scaleType===E.Time?i:this.scaleType===E.Linear?Number(i):i),a}).y(t=>this.yScale(t.value)).curve(this.curve)}getRangeGenerator(){return Ji().x(t=>{const i=t.name;let a;return a=this.xScale(this.scaleType===E.Time?i:this.scaleType===E.Linear?Number(i):i),a}).y0(t=>this.yScale("number"==typeof t.min?t.min:t.value)).y1(t=>this.yScale("number"==typeof t.max?t.max:t.value)).curve(this.curve)}getAreaGenerator(){return Ji().x(i=>this.xScale(i.name)).y0(()=>this.yScale.range()[0]).y1(i=>this.yScale(i.value)).curve(this.curve)}sortData(t){return this.scaleType===E.Linear?Jr(t,"name"):this.scaleType===E.Time?jr(t,"name"):Qr(t,"name","asc",this.xScale.domain())}updateGradients(){if(this.colors.scaleType===E.Linear){this.hasGradient=!0,this.gradientId="grad"+Re().toString(),this.gradientUrl=`url(#${this.gradientId})`;const t=this.data.series.map(o=>o.value),i=Math.max(...t),a=Math.min(...t);this.gradientStops=this.colors.getLinearGradientStops(i,a),this.areaGradientStops=this.colors.getLinearGradientStops(i)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name)}isInactive(t){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(a=>t.name===a.name)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[s.TTD],attrs:rp,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"g")(1,"defs"),s.YNc(2,lp,1,3,"g",0),s.qZA(),s._UZ(3,"g",1)(4,"g",2),s.YNc(5,cp,1,9,"g",3),s.qZA()),2&t&&(s.xp6(2),s.Q6J("ngIf",i.hasGradient),s.xp6(1),s.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),s.Q6J("data",i.data)("path",i.areaPath)("fill",i.hasGradient?i.gradientUrl:i.colors.getColor(i.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",i.areaGradientStops)("animations",i.animations),s.xp6(1),s.ekj("active",i.isActive(i.data))("inactive",i.isInactive(i.data)),s.Q6J("data",i.data)("path",i.path)("stroke",i.stroke)("animations",i.animations),s.xp6(1),s.Q6J("ngIf",i.hasRange))},dependencies:[Dn,Da,rf,c.O5],encapsulation:2,changeDetection:0}),e})(),cf=(()=>{class e extends Oi{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=Le.Right,this.showGridLines=!0,this.curve=bn,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.wrapTicks=!1,this.activate=new s.vpe,this.deactivate=new s.vpe,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){(0,c.PM)(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=en({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+Re().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let t=Ea(this.results);this.scaleType=fs(t);let a,o,i=[];return this.scaleType===E.Linear&&(t=t.map(l=>Number(l))),(this.scaleType===E.Time||this.scaleType===E.Linear)&&(a=this.xScaleMin?this.xScaleMin:Math.min(...t),o=this.xScaleMax?this.xScaleMax:Math.max(...t)),this.scaleType===E.Time?(i=[new Date(a),new Date(o)],this.xSet=[...t].sort((l,h)=>{const m=l.getTime(),g=h.getTime();return m>g?1:g>m?-1:0})):this.scaleType===E.Linear?(i=[a,o],this.xSet=[...t].sort((l,h)=>l-h)):(i=t,this.xSet=t),i}getYDomain(){const t=[];for(const l of this.results)for(const h of l.series)t.indexOf(h.value)<0&&t.push(h.value),void 0!==h.min&&(this.hasRange=!0,t.indexOf(h.min)<0&&t.push(h.min)),void 0!==h.max&&(this.hasRange=!0,t.indexOf(h.max)<0&&t.push(h.max));const i=[...t];return this.autoScale||i.push(0),[this.yScaleMin?this.yScaleMin:Math.min(...i),this.yScaleMax?this.yScaleMax:Math.max(...i)]}getSeriesDomain(){return this.results.map(t=>t.name)}getXScale(t,i){let a;return this.scaleType===E.Time?a=Kn().range([0,i]).domain(t):this.scaleType===E.Linear?(a=ve().range([0,i]).domain(t),this.roundDomains&&(a=a.nice())):this.scaleType===E.Ordinal&&(a=ns().range([0,i]).padding(.1).domain(t)),a}getYScale(t,i){const a=ve().range([i,0]).domain(t);return this.roundDomains?a.nice():a}updateDomain(t){this.filteredDomain=t,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(t){this.hoveredVertical=t.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(t){this.select.emit(t)}trackBy(t,i){return`${i.name}`}setColors(){let t;t=this.schemeType===E.Ordinal?this.seriesDomain:this.yDomain,this.colors=new nn(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===E.Ordinal?(t.domain=this.seriesDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onActivate(t){this.deactivateAll(),!(this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value)>-1)&&(this.activeEntries=[t],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t){const i=this.activeEntries.findIndex(a=>a.name===t.name&&a.value===t.value);this.activeEntries.splice(i,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const t of this.activeEntries)this.deactivate.emit({value:t,entries:[]});this.activeEntries=[]}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=s.n5z(e)))(i||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-line-chart"]],contentQueries:function(t,i,a){if(1&t&&(s.Suo(a,ji,5),s.Suo(a,Sa,5)),2&t){let o;s.iGM(o=s.CRH())&&(i.tooltipTemplate=o.first),s.iGM(o=s.CRH())&&(i.seriesTooltipTemplate=o.first)}},hostBindings:function(t,i){1&t&&s.NdJ("mouseleave",function(){return i.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax",wrapTicks:"wrapTicks"},outputs:{activate:"activate",deactivate:"deactivate"},features:[s.qOj],decls:12,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","wrapTicks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","wrapTicks","dimensionsChanged"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(t,i){1&t&&(s.TgZ(0,"ngx-charts-chart",0),s.NdJ("legendLabelClick",function(o){return i.onClick(o)})("legendLabelActivate",function(o){return i.onActivate(o)})("legendLabelDeactivate",function(o){return i.onDeactivate(o)}),s.O4$(),s.TgZ(1,"defs")(2,"clipPath"),s._UZ(3,"rect"),s.qZA()(),s.TgZ(4,"g",1),s.YNc(5,hp,1,11,"g",2),s.YNc(6,dp,1,13,"g",3),s.TgZ(7,"g"),s.YNc(8,up,2,2,"g",4),s.YNc(9,pp,2,2,"g",4),s.YNc(10,_p,3,9,"g",5),s.qZA()(),s.YNc(11,vp,2,13,"g",6),s.qZA()),2&t&&(s.Q6J("view",s.WLB(17,Ze,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),s.xp6(2),s.uIk("id",i.clipPathId),s.xp6(1),s.uIk("width",i.dims.width+10)("height",i.dims.height+10)("transform","translate(-5, -5)"),s.xp6(1),s.uIk("transform",i.transform),s.xp6(1),s.Q6J("ngIf",i.xAxis),s.xp6(1),s.Q6J("ngIf",i.yAxis),s.xp6(1),s.uIk("clip-path",i.clipPath),s.xp6(1),s.Q6J("ngIf",!i.isSSR),s.xp6(1),s.Q6J("ngIf",i.isSSR),s.xp6(1),s.Q6J("ngIf",!i.tooltipDisabled),s.xp6(1),s.Q6J("ngIf",i.timeline&&"ordinal"!=i.scaleType))},dependencies:[Pi,cs,hs,lf,us,ds,ms,c.O5,c.sg],styles:[Sn],encapsulation:2,data:{animation:[(0,ft.X$)("animationState",[(0,ft.eR)(":leave",[(0,ft.oB)({opacity:1}),(0,ft.jt)(500,(0,ft.oB)({opacity:0}))])])]},changeDetection:0}),e})(),hf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[ps]]}),e})(),df=(()=>{class e{constructor(t){this.platformId=t,this.animations=!0,this.labelTrim=!0,this.labelTrimSize=10,this.trimLabel=Ki}ngOnChanges(t){this.setTransforms(),this.update()}setTransforms(){if((0,c.PM)(this.platformId))this.styleTransform=`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=`translate(${this.textX},${this.textY})`,this.textTransition=this.animations?"transform 0.75s":null;else{const t=/(edge|msie|trident)/i.test(navigator.userAgent);this.styleTransform=t?null:`translate3d(${this.textX}px,${this.textY}px, 0)`,this.attrTransform=t?`translate(${this.textX},${this.textY})`:null,this.textTransition=t||!this.animations?null:"transform 0.75s"}}update(){let t=this.radius;this.explodeSlices&&(t=this.radius*this.value/this.max);const a=wa().innerRadius(t).outerRadius(t).centroid(this.data);let o=this.data.pos[1]/a[1];(0===this.data.pos[1]||0===a[1])&&(o=1),this.line=`M${a}L${[o*a[0],o*a[1]]}L${this.data.pos}`}get textX(){return this.data.pos[0]}get textY(){return this.data.pos[1]}textAnchor(){return this.midAngle(this.data)<Math.PI?Me.Start:Me.End}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.Lbi))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-pie-label",""]],inputs:{data:"data",radius:"radius",label:"label",color:"color",max:"max",value:"value",explodeSlices:"explodeSlices",animations:"animations",labelTrim:"labelTrim",labelTrimSize:"labelTrimSize"},features:[s.TTD],attrs:yp,decls:6,vars:17,consts:[["dy",".35em",1,"pie-label"],["fill","none",1,"pie-label-line","line"]],template:function(t,i){1&t&&(s.TgZ(0,"title"),s._uU(1),s.qZA(),s.O4$(),s.TgZ(2,"g")(3,"text",0),s._uU(4),s.qZA()(),s._UZ(5,"path",1)),2&t&&(s.xp6(1),s.Oqu(i.label),s.xp6(1),s.Udp("transform",i.styleTransform)("transition",i.textTransition),s.uIk("transform",i.attrTransform),s.xp6(1),s.Udp("text-anchor",i.textAnchor())("shape-rendering","crispEdges"),s.ekj("animation",i.animations),s.xp6(1),s.hij(" ",i.labelTrim?i.trimLabel(i.label,i.labelTrimSize):i.label," "),s.xp6(1),s.ekj("animation",i.animations),s.uIk("d",i.line)("stroke",i.color))},encapsulation:2,changeDetection:0}),e})();Math;let tl=(()=>{class e{constructor(t){this.startAngle=0,this.endAngle=2*Math.PI,this.cornerRadius=0,this.explodeSlices=!1,this.gradient=!1,this.animate=!0,this.pointerEvents=!0,this.isActive=!1,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.dblclick=new s.vpe,this.barOrientation=zt,this.initialized=!1,this.element=t.nativeElement}ngOnChanges(t){this.update()}getGradient(){return this.gradient?this.gradientFill:this.fill}getPointerEvents(){return this.pointerEvents?"auto":"none"}update(){const t=this.calculateArc();this.startOpacity=.5,this.radialGradientId="linearGrad"+Re().toString(),this.gradientFill=`url(#${this.radialGradientId})`,this.animate?this.initialized?this.updateAnimation():(this.loadAnimation(),this.initialized=!0):this.path=t.startAngle(this.startAngle).endAngle(this.endAngle)()}calculateArc(){let t=this.outerRadius;return this.explodeSlices&&0===this.innerRadius&&(t=this.outerRadius*this.value/this.max),wa().innerRadius(this.innerRadius).outerRadius(t).cornerRadius(this.cornerRadius)}loadAnimation(){const t=ne(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().attrTween("d",function(a){this._current=this._current||a;const o=Object.assign({},a);o.endAngle=o.startAngle;const l=ki(o,o);return this._current=l(0),function(h){return i(l(h))}}).transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const o=ki(this._current,a);return this._current=o(0),function(l){return i(o(l))}})}updateAnimation(){const t=ne(this.element).selectAll(".arc").data([{startAngle:this.startAngle,endAngle:this.endAngle}]),i=this.calculateArc();t.transition().duration(750).attrTween("d",function(a){this._current=this._current||a;const o=ki(this._current,a);return this._current=o(0),function(l){return i(o(l))}})}onClick(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>this.select.emit(this.data),200)}onDblClick(t){t.preventDefault(),t.stopPropagation(),clearTimeout(this._timeout),this.dblclick.emit({data:this.data,nativeEvent:t})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-pie-arc",""]],inputs:{fill:"fill",startAngle:"startAngle",endAngle:"endAngle",innerRadius:"innerRadius",outerRadius:"outerRadius",cornerRadius:"cornerRadius",value:"value",max:"max",data:"data",explodeSlices:"explodeSlices",gradient:"gradient",animate:"animate",pointerEvents:"pointerEvents",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[s.TTD],attrs:Sp,decls:3,vars:7,consts:[[1,"arc-group"],[4,"ngIf"],[1,"arc",3,"click","dblclick","mouseenter","mouseleave"],["ngx-charts-svg-radial-gradient","",3,"color","name","startOpacity"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"g",0),s.YNc(1,kp,2,3,"defs",1),s.TgZ(2,"path",2),s.NdJ("click",function(){return i.onClick()})("dblclick",function(o){return i.onDblClick(o)})("mouseenter",function(){return i.activate.emit(i.data)})("mouseleave",function(){return i.deactivate.emit(i.data)}),s.qZA()()),2&t&&(s.xp6(1),s.Q6J("ngIf",i.gradient),s.xp6(1),s.Udp("pointer-events",i.getPointerEvents()),s.ekj("active",i.isActive),s.uIk("d",i.path)("fill",i.getGradient()))},dependencies:[Gr,c.O5],encapsulation:2,changeDetection:0}),e})(),gf=(()=>{class e{constructor(){this.series=[],this.innerRadius=60,this.outerRadius=80,this.trimLabels=!0,this.maxLabelLength=10,this.tooltipDisabled=!1,this.animations=!0,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.dblclick=new s.vpe,this.placementTypes=lt,this.styleTypes=$i}ngOnChanges(t){this.update()}update(){const i=Ar().value(a=>a.value).sort(null)(this.series);this.max=function Yg(e,n){let t;if(void 0===n)for(const i of e)null!=i&&(t<i||void 0===t&&i>=i)&&(t=i);else{let i=-1;for(let a of e)null!=(a=n(a,++i,e))&&(t<a||void 0===t&&a>=a)&&(t=a)}return t}(i,a=>a.value),this.data=this.calculateLabelPositions(i),this.tooltipText=this.tooltipText||this.defaultTooltipText}midAngle(t){return t.startAngle+(t.endAngle-t.startAngle)/2}outerArc(){return wa().innerRadius(1.5*this.outerRadius).outerRadius(1.5*this.outerRadius)}calculateLabelPositions(t){const o=t;o.forEach(l=>{l.pos=this.outerArc().centroid(l),l.pos[0]=1.5*this.outerRadius*(this.midAngle(l)<Math.PI?1:-1)});for(let l=0;l<o.length-1;l++){const h=o[l];if(this.labelVisible(h))for(let m=l+1;m<o.length;m++){const g=o[m];if(this.labelVisible(g)&&g.pos[0]*h.pos[0]>0){const _=10-Math.abs(g.pos[1]-h.pos[1]);_>0&&(g.pos[1]+=Math.sign(g.pos[0])*_)}}}return o}labelVisible(t){return this.showLabels&&t.endAngle-t.startAngle>Math.PI/30}getTooltipTitle(t){return this.tooltipTemplate?void 0:this.tooltipText(t)}labelText(t){return this.labelFormatting?this.labelFormatting(t.data.name):this.label(t)}label(t){return ni(t.data.name)}defaultTooltipText(t){const i=this.label(t),a=ni(t.data.value);return`\n      <span class="tooltip-label">${ls(i)}</span>\n      <span class="tooltip-val">${a}</span>\n    `}color(t){return this.colors.getColor(this.label(t))}trackBy(t,i){return i.data.name}onClick(t){this.select.emit(t)}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(a=>t.name===a.name&&t.series===a.series)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-pie-series",""]],inputs:{colors:"colors",series:"series",dims:"dims",innerRadius:"innerRadius",outerRadius:"outerRadius",explodeSlices:"explodeSlices",showLabels:"showLabels",gradient:"gradient",activeEntries:"activeEntries",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dblclick:"dblclick"},features:[s.TTD],attrs:Ap,decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations",4,"ngIf"],["ngx-charts-pie-arc","","ngx-tooltip","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","gradient","data","max","explodeSlices","isActive","animate","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate","dblclick"],["ngx-charts-pie-label","",3,"data","radius","color","label","labelTrim","labelTrimSize","max","value","explodeSlices","animations"]],template:function(t,i){1&t&&s.YNc(0,Lp,3,19,"g",0),2&t&&s.Q6J("ngForOf",i.data)("ngForTrackBy",i.trackBy)},dependencies:[df,tl,c.sg,c.O5,An],encapsulation:2,changeDetection:0}),e})(),uf=(()=>{class e extends Oi{constructor(){super(...arguments),this.labels=!1,this.legend=!1,this.legendTitle="Legend",this.legendPosition=Le.Right,this.explodeSlices=!1,this.doughnut=!1,this.arcWidth=.25,this.activeEntries=[],this.tooltipDisabled=!1,this.trimLabels=!0,this.maxLabelLength=10,this.dblclick=new s.vpe,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe}update(){super.update(),this.labels&&this.hasNoOptionalMarginsSet()?this.margins=[30,80,30,80]:!this.labels&&this.hasNoOptionalMarginsSet()&&(this.margins=[20,20,20,20]),this.dims=en({width:this.width,height:this.height,margins:this.margins,showLegend:this.legend,legendPosition:this.legendPosition}),this.formatDates(),this.translation=`translate(${this.margins[3]+this.dims.width/2}, ${this.margins[0]+this.dims.height/2})`,this.outerRadius=Math.min(this.dims.width,this.dims.height),this.outerRadius/=this.labels?3:2,this.innerRadius=0,this.doughnut&&(this.innerRadius=this.outerRadius*(1-this.arcWidth)),this.domain=this.getDomain(),this.data=this.results.sort((a,o)=>this.domain.indexOf(a.name)-this.domain.indexOf(o.name)),this.setColors(),this.legendOptions=this.getLegendOptions()}getDomain(){return this.results.map(t=>t.label)}onClick(t){this.select.emit(t)}setColors(){this.colors=new nn(this.scheme,E.Ordinal,this.domain,this.customColors)}getLegendOptions(){return{scaleType:E.Ordinal,domain:this.domain,colors:this.colors,title:this.legendTitle,position:this.legendPosition}}onActivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name),!(this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name);const a=this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}hasNoOptionalMarginsSet(){return!this.margins||this.margins.length<=0}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=s.n5z(e)))(i||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-pie-chart"]],contentQueries:function(t,i,a){if(1&t&&s.Suo(a,ji,5),2&t){let o;s.iGM(o=s.CRH())&&(i.tooltipTemplate=o.first)}},inputs:{labels:"labels",legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",explodeSlices:"explodeSlices",doughnut:"doughnut",arcWidth:"arcWidth",gradient:"gradient",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",labelFormatting:"labelFormatting",trimLabels:"trimLabels",maxLabelLength:"maxLabelLength",tooltipText:"tooltipText",margins:"margins"},outputs:{dblclick:"dblclick",select:"select",activate:"activate",deactivate:"deactivate"},features:[s.qOj],decls:3,vars:24,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelActivate","legendLabelDeactivate","legendLabelClick"],[1,"pie-chart","chart"],["ngx-charts-pie-series","",3,"colors","series","showLabels","labelFormatting","trimLabels","maxLabelLength","activeEntries","innerRadius","outerRadius","explodeSlices","gradient","animations","tooltipDisabled","tooltipTemplate","tooltipText","dblclick","select","activate","deactivate"]],template:function(t,i){1&t&&(s.TgZ(0,"ngx-charts-chart",0),s.NdJ("legendLabelActivate",function(o){return i.onActivate(o,!0)})("legendLabelDeactivate",function(o){return i.onDeactivate(o,!0)})("legendLabelClick",function(o){return i.onClick(o)}),s.O4$(),s.TgZ(1,"g",1)(2,"g",2),s.NdJ("dblclick",function(o){return i.dblclick.emit(o)})("select",function(o){return i.onClick(o)})("activate",function(o){return i.onActivate(o)})("deactivate",function(o){return i.onDeactivate(o)}),s.qZA()()()),2&t&&(s.Q6J("view",s.WLB(21,Ze,i.width,i.height))("showLegend",i.legend)("legendOptions",i.legendOptions)("activeEntries",i.activeEntries)("animations",i.animations),s.xp6(1),s.uIk("transform",i.translation),s.xp6(1),s.Q6J("colors",i.colors)("series",i.data)("showLabels",i.labels)("labelFormatting",i.labelFormatting)("trimLabels",i.trimLabels)("maxLabelLength",i.maxLabelLength)("activeEntries",i.activeEntries)("innerRadius",i.innerRadius)("outerRadius",i.outerRadius)("explodeSlices",i.explodeSlices)("gradient",i.gradient)("animations",i.animations)("tooltipDisabled",i.tooltipDisabled)("tooltipTemplate",i.tooltipTemplate)("tooltipText",i.tooltipText))},dependencies:[Pi,gf],styles:[Sn,".pie-label{font-size:11px}.pie-label.animation{animation:.75s ease-in fadeIn}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.pie-label-line{stroke-dasharray:100%}.pie-label-line.animation{animation:3s linear drawOut;transition:d .75s}@keyframes drawOut{0%{stroke-dashoffset:100%}to{stroke-dashoffset:0}}\n"],encapsulation:2,changeDetection:0}),e})();let _f=(()=>{class e{constructor(t){this.innerRadius=70,this.outerRadius=80,this.animations=!0,this.select=new s.vpe,this.activate=new s.vpe,this.deactivate=new s.vpe,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){this.layout=Ar().value(t=>t.data.value).sort(null),this.arcs=this.getArcs()}getArcs(){return this.layout(this.data).map((t,i)=>{const a=t.data.data.name,o=t.data.data.other;0===i&&(t.startAngle=0);const l=this.colors(a);return{data:t.data.data,class:"arc arc"+i,fill:l,startAngle:o?0:t.startAngle,endAngle:t.endAngle,animate:this.animations&&!o,pointerEvents:!o}})}onClick(t){this.select.emit(this.data[0].data)}trackBy(t,i){return i.data.name}label(t){return t.data.name}color(t){return this.colors(this.label(t))}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq))},e.\u0275cmp=s.Xpm({type:e,selectors:[["g","ngx-charts-pie-grid-series",""]],inputs:{colors:"colors",data:"data",innerRadius:"innerRadius",outerRadius:"outerRadius",animations:"animations"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[s.TTD],attrs:Fp,decls:2,vars:2,consts:[[1,"pie-grid-arcs"],["ngx-charts-pie-arc","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","data","gradient","pointerEvents","animate","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-pie-arc","",3,"startAngle","endAngle","innerRadius","outerRadius","fill","value","data","gradient","pointerEvents","animate","select","activate","deactivate"]],template:function(t,i){1&t&&(s.O4$(),s.TgZ(0,"g",0),s.YNc(1,Ep,1,11,"g",1),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngForOf",i.arcs)("ngForTrackBy",i.trackBy))},dependencies:[tl,c.sg],encapsulation:2,changeDetection:0}),e})(),xf=(()=>{class e extends Oi{constructor(){super(...arguments),this.tooltipDisabled=!1,this.label="Total",this.minWidth=150,this.activeEntries=[],this.activate=new s.vpe,this.deactivate=new s.vpe,this.margin=[20,20,20,20],this.placementTypes=lt,this.styleTypes=$i}update(){super.update(),this.dims=en({width:this.width,height:this.height,margins:this.margin}),this.formatDates(),this.domain=this.getDomain(),this.data=function pf(e,n,t,i){const a=qi(),o=qi(),l=e.width,h=e.height,[m,g]=function mf(e,n,t){let i=1,a=n;const o=e.width;if(o>t)for(;o/a<t;)i+=1,a=Math.ceil(n/i);return[a,i]}(e,n.length,t),_=[],x=[];for(let D=0;D<g;D++)x.push(D);for(let D=0;D<m;D++)_.push(D);a.domain(_),o.domain(x),a.rangeRound([0,l],.1),o.rangeRound([0,h],.1);const v=[],T=i||function ff(e){return e.map(n=>n?n.value:0).reduce((n,t)=>n+t,0)}(n),M=a.bandwidth(),O=o.bandwidth();for(let D=0;D<n.length;D++)v[D]={},v[D].data={name:n[D]?n[D].name:"",value:n[D]?n[D].value:void 0,extra:n[D]?n[D].extra:void 0,label:n[D]?n[D].label:""},v[D].x=a(D%m),v[D].y=o(Math.floor(D/m)),v[D].width=M,v[D].height=O,v[D].data.percent=T>0?v[D].data.value/T:0,v[D].data.total=T;return v}(this.dims,this.results,this.minWidth,this.designatedTotal),this.transform=`translate(${this.margin[3]} , ${this.margin[0]})`,this.series=this.getSeries(),this.setColors(),this.tooltipText=this.tooltipText||this.defaultTooltipText}defaultTooltipText({data:t}){return`\n      <span class="tooltip-label">${Ki(ni(t.name))}</span>\n      <span class="tooltip-val">${t.value.toLocaleString()}</span>\n    `}getDomain(){return this.results.map(t=>t.label)}getSeries(){const t=this.designatedTotal?this.designatedTotal:this.getTotal();return this.data.map(i=>{const l=i.data.name,h=ni(l),m=i.data.value,g=function Gg(e,n){let t;if(void 0===n)for(const i of e)null!=i&&(t>i||void 0===t&&i>=i)&&(t=i);else{let i=-1;for(let a of e)null!=(a=n(a,++i,e))&&(t>a||void 0===t&&a>=a)&&(t=a)}return t}([i.width-10,i.height-20])/2-5;let x=0;return{transform:`translate(${i.x+(i.width-10)/2}, ${i.y+(i.height-20)/2})`,colors:()=>(x+=1,1===x?"rgba(100,100,100,0.3)":this.colorScale.getColor(h)),innerRadius:.9*g,outerRadius:g,name:l,label:Ki(h),total:m,value:m,percent:fa(".1%")(i.data.percent),data:[i,{data:{other:!0,value:t-m,name:i.data.name}}]}})}getTotal(){return this.results.map(t=>t.value).reduce((t,i)=>t+i,0)}onClick(t){this.select.emit(t)}setColors(){this.colorScale=new nn(this.scheme,E.Ordinal,this.domain,this.customColors)}onActivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name),!(this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series)>-1)&&(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,i=!1){t=this.results.find(o=>i?o.label===t.name:o.name===t.name);const a=this.activeEntries.findIndex(o=>o.name===t.name&&o.value===t.value&&o.series===t.series);this.activeEntries.splice(a,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}}return e.\u0275fac=function(){let n;return function(i){return(n||(n=s.n5z(e)))(i||e)}}(),e.\u0275cmp=s.Xpm({type:e,selectors:[["ngx-charts-pie-grid"]],contentQueries:function(t,i,a){if(1&t&&s.Suo(a,ji,5),2&t){let o;s.iGM(o=s.CRH())&&(i.tooltipTemplate=o.first)}},inputs:{designatedTotal:"designatedTotal",tooltipDisabled:"tooltipDisabled",tooltipText:"tooltipText",label:"label",minWidth:"minWidth",activeEntries:"activeEntries"},outputs:{activate:"activate",deactivate:"deactivate"},features:[s.qOj],decls:3,vars:8,consts:[[3,"view","showLegend","animations"],[1,"pie-grid","chart"],["class","pie-grid-item",4,"ngFor","ngForOf"],[1,"pie-grid-item"],["ngx-charts-pie-grid-series","","ngx-tooltip","",3,"colors","data","innerRadius","outerRadius","animations","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],["class","label percent-label","dy","-0.5em","x","0","y","5","ngx-charts-count-up","","text-anchor","middle",3,"countTo","countSuffix",4,"ngIf"],["class","label percent-label","dy","-0.5em","x","0","y","5","text-anchor","middle",4,"ngIf"],["dy","0.5em","x","0","y","5","text-anchor","middle",1,"label"],["class","label","dy","1.23em","x","0","text-anchor","middle","ngx-charts-count-up","",3,"countTo","countPrefix",4,"ngIf"],["class","label","dy","1.23em","x","0","text-anchor","middle",4,"ngIf"],["dy","-0.5em","x","0","y","5","ngx-charts-count-up","","text-anchor","middle",1,"label","percent-label",3,"countTo","countSuffix"],["dy","-0.5em","x","0","y","5","text-anchor","middle",1,"label","percent-label"],["dy","1.23em","x","0","text-anchor","middle","ngx-charts-count-up","",1,"label",3,"countTo","countPrefix"],["dy","1.23em","x","0","text-anchor","middle",1,"label"]],template:function(t,i){1&t&&(s.TgZ(0,"ngx-charts-chart",0),s.O4$(),s.TgZ(1,"g",1),s.YNc(2,zp,8,19,"g",2),s.qZA()()),2&t&&(s.Q6J("view",s.WLB(5,Ze,i.width,i.height))("showLegend",!1)("animations",i.animations),s.xp6(1),s.uIk("transform",i.transform),s.xp6(1),s.Q6J("ngForOf",i.series))},dependencies:[Pi,_f,La,c.sg,An,c.O5],styles:[Sn,".pie-grid .arc1{opacity:.4}.pie-grid .percent-label{font-size:16px;font-weight:400}\n"],encapsulation:2,changeDetection:0}),e})(),vf=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[ps]]}),e})()},35024:(mi,Wt,$)=>{$.d(Wt,{IM:()=>Ti,IX:()=>B,sm:()=>We});var s=$(96814),c=$(99468),dt=$(78645),gt=$(83620),at=$(59773),j=$(94664),_t=$(99080);function r(y,d){if(1&y&&c._UZ(0,"div",3),2&y){const p=d.index,u=c.oxw();c.Q6J("ngStyle",u.gridRenderer.getGridColumnStyle(p))}}function H(y,d){if(1&y&&c._UZ(0,"div",4),2&y){const p=d.index,u=c.oxw();c.Q6J("ngStyle",u.gridRenderer.getGridRowStyle(p))}}const tt=["*"];function Q(y,d){if(1&y){const p=c.EpF();c.TgZ(0,"div",8),c.NdJ("mousedown",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))})("touchstart",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))}),c.qZA()}}function ot(y,d){if(1&y){const p=c.EpF();c.TgZ(0,"div",9),c.NdJ("mousedown",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))})("touchstart",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))}),c.qZA()}}function At(y,d){if(1&y){const p=c.EpF();c.TgZ(0,"div",10),c.NdJ("mousedown",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))})("touchstart",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))}),c.qZA()}}function Rt(y,d){if(1&y){const p=c.EpF();c.TgZ(0,"div",11),c.NdJ("mousedown",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))})("touchstart",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))}),c.qZA()}}function de(y,d){if(1&y){const p=c.EpF();c.TgZ(0,"div",12),c.NdJ("mousedown",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))})("touchstart",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))}),c.qZA()}}function Ee(y,d){if(1&y){const p=c.EpF();c.TgZ(0,"div",13),c.NdJ("mousedown",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))})("touchstart",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))}),c.qZA()}}function Ve(y,d){if(1&y){const p=c.EpF();c.TgZ(0,"div",14),c.NdJ("mousedown",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))})("touchstart",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))}),c.qZA()}}function ye(y,d){if(1&y){const p=c.EpF();c.TgZ(0,"div",15),c.NdJ("mousedown",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))})("touchstart",function(f){c.CHM(p);const S=c.oxw();return c.KtG(S.resize.dragStartDelay(f))}),c.qZA()}}var J=function(y){return y.Fit="fit",y.ScrollVertical="scrollVertical",y.ScrollHorizontal="scrollHorizontal",y.Fixed="fixed",y.VerticalFixed="verticalFixed",y.HorizontalFixed="horizontalFixed",y}(J||{}),ge=function(y){return y.Always="always",y.OnDragAndResize="onDrag&Resize",y.None="none",y}(ge||{}),xt=function(y){return y.None="none",y.CompactUp="compactUp",y.CompactLeft="compactLeft",y.CompactUpAndLeft="compactUp&Left",y.CompactLeftAndUp="compactLeft&Up",y.CompactRight="compactRight",y.CompactUpAndRight="compactUp&Right",y.CompactRightAndUp="compactRight&Up",y.CompactDown="compactDown",y.CompactDownAndLeft="compactDown&Left",y.CompactLeftAndDown="compactLeft&Down",y.CompactDownAndRight="compactDown&Right",y.CompactRightAndDown="compactRight&Down",y}(xt||{}),Ft=function(y){return y.LTR="ltr",y.RTL="rtl",y}(Ft||{});class Bi{constructor(d){this.gridster=d}destroy(){this.gridster=null}checkCompact(){this.gridster.$options.compactType!==xt.None&&(this.gridster.$options.compactType===xt.CompactUp?this.checkCompactMovement("y",-1):this.gridster.$options.compactType===xt.CompactLeft?this.checkCompactMovement("x",-1):this.gridster.$options.compactType===xt.CompactUpAndLeft?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===xt.CompactLeftAndUp?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===xt.CompactRight?this.checkCompactMovement("x",1):this.gridster.$options.compactType===xt.CompactUpAndRight?(this.checkCompactMovement("y",-1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===xt.CompactRightAndUp?(this.checkCompactMovement("x",1),this.checkCompactMovement("y",-1)):this.gridster.$options.compactType===xt.CompactDown?this.checkCompactMovement("y",1):this.gridster.$options.compactType===xt.CompactDownAndLeft?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",-1)):this.gridster.$options.compactType===xt.CompactDownAndRight?(this.checkCompactMovement("y",1),this.checkCompactMovement("x",1)):this.gridster.$options.compactType===xt.CompactLeftAndDown?(this.checkCompactMovement("x",-1),this.checkCompactMovement("y",1)):this.gridster.$options.compactType===xt.CompactRightAndDown&&(this.checkCompactMovement("x",1),this.checkCompactMovement("y",1)))}checkCompactItem(d){this.gridster.$options.compactType!==xt.None&&(this.gridster.$options.compactType===xt.CompactUp?this.moveTillCollision(d,"y",-1):this.gridster.$options.compactType===xt.CompactLeft?this.moveTillCollision(d,"x",-1):this.gridster.$options.compactType===xt.CompactUpAndLeft?(this.moveTillCollision(d,"y",-1),this.moveTillCollision(d,"x",-1)):this.gridster.$options.compactType===xt.CompactLeftAndUp?(this.moveTillCollision(d,"x",-1),this.moveTillCollision(d,"y",-1)):this.gridster.$options.compactType===xt.CompactUpAndRight?(this.moveTillCollision(d,"y",-1),this.moveTillCollision(d,"x",1)):this.gridster.$options.compactType===xt.CompactDown?this.moveTillCollision(d,"y",1):this.gridster.$options.compactType===xt.CompactDownAndLeft?(this.moveTillCollision(d,"y",1),this.moveTillCollision(d,"x",-1)):this.gridster.$options.compactType===xt.CompactLeftAndDown?(this.moveTillCollision(d,"x",-1),this.moveTillCollision(d,"y",1)):this.gridster.$options.compactType===xt.CompactDownAndRight?(this.moveTillCollision(d,"y",1),this.moveTillCollision(d,"x",1)):this.gridster.$options.compactType===xt.CompactRightAndDown&&(this.moveTillCollision(d,"x",1),this.moveTillCollision(d,"y",1)))}checkCompactMovement(d,p){let u=!1;this.gridster.grid.forEach(f=>{!1!==f.$item.compactEnabled&&this.moveTillCollision(f.$item,d,p)&&(u=!0,f.item[d]=f.$item[d],f.itemChanged())}),u&&this.checkCompact()}moveTillCollision(d,p,u){return d[p]+=u,this.gridster.checkCollision(d)?(d[p]-=u,!1):(this.moveTillCollision(d,p,u),!0)}}const pi={gridType:J.Fit,scale:1,fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,setGridSize:!1,compactType:xt.None,mobileBreakpoint:640,useBodyForBreakpoint:!1,allowMultiLayer:!1,defaultLayerIndex:0,maxLayerIndex:2,baseLayerIndex:1,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,addEmptyRowsCount:0,rowHeightRatio:1,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,gridSizeChangedCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,itemValidateCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,enableOccupiedCellDrop:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0,dropOverItems:!1,dropOverItemsCallback:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,swapWhileDragging:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:ge.OnDragAndResize,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,disableScrollHorizontal:!1,disableScrollVertical:!1,enableBoundaryControl:!1,disableAutoPositionOnConflict:!1,dirType:Ft.LTR};class kt{static merge(d,p,u){for(const f in p)void 0!==p[f]&&u.hasOwnProperty(f)&&("object"==typeof p[f]?(f in d||(d[f]={}),d[f]=kt.merge(d[f],p[f],u[f])):d[f]=p[f]);return d}static checkTouchEvent(d){void 0===d.clientX&&d.touches&&(d.touches&&d.touches.length?(d.clientX=d.touches[0].clientX,d.clientY=d.touches[0].clientY):d.changedTouches&&d.changedTouches.length&&(d.clientX=d.changedTouches[0].clientX,d.clientY=d.changedTouches[0].clientY))}static checkContentClassForEvent(d,p){if(d.$options.draggable.ignoreContent){if(!kt.checkDragHandleClass(p.target,p.currentTarget,d.$options.draggable.dragHandleClass,d.$options.draggable.ignoreContentClass))return!0}else if(kt.checkContentClass(p.target,p.currentTarget,d.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(d,p){return kt.checkContentClass(p.target,p.currentTarget,d.$options.draggable.ignoreContentClass)||kt.checkContentClass(p.target,p.currentTarget,d.$options.draggable.dragHandleClass)}static checkDragHandleClass(d,p,u,f){if(!d||d===p)return!1;if(d.hasAttribute("class")){const S=d.getAttribute("class").split(" ");if(S.indexOf(u)>-1)return!0;if(S.indexOf(f)>-1)return!1}return kt.checkDragHandleClass(d.parentNode,p,u,f)}static checkContentClass(d,p,u){return!(!d||d===p)&&(!!(d.hasAttribute("class")&&d.getAttribute("class").split(" ").indexOf(u)>-1)||kt.checkContentClass(d.parentNode,p,u))}static compareItems(d,p){return d.y>p.y?-1:d.y<p.y?1:d.x>p.x?-1:1}}class ft{constructor(d){this.gridster=d,this.emptyCellClickCb=p=>{if(!this.gridster||this.gridster.movingItem||kt.checkContentClassForEmptyCellClickEvent(this.gridster,p))return;const u=this.getValidItemFromEvent(p);u&&(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(p,u),this.gridster.cdRef.markForCheck())},this.emptyCellContextMenuCb=p=>{if(this.gridster.movingItem||kt.checkContentClassForEmptyCellClickEvent(this.gridster,p))return;p.preventDefault(),p.stopPropagation();const u=this.getValidItemFromEvent(p);u&&(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(p,u),this.gridster.cdRef.markForCheck())},this.emptyCellDragDrop=p=>{const u=this.getValidItemFromEvent(p);u&&(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(p,u),this.gridster.cdRef.markForCheck())},this.emptyCellDragOver=p=>{p.preventDefault(),p.stopPropagation();const u=this.getValidItemFromEvent(p);u?(p.dataTransfer&&(p.dataTransfer.dropEffect="move"),this.gridster.movingItem=u):(p.dataTransfer&&(p.dataTransfer.dropEffect="none"),this.gridster.movingItem=null),this.gridster.previewStyle()},this.emptyCellMouseDown=p=>{if(kt.checkContentClassForEmptyCellClickEvent(this.gridster,p))return;p.preventDefault(),p.stopPropagation();const u=this.getValidItemFromEvent(p);!u||1!==p.buttons&&!(p instanceof TouchEvent)||(this.initialItem=u,this.gridster.movingItem=u,this.gridster.previewStyle(),this.gridster.zone.runOutsideAngular(()=>{this.removeWindowMousemoveListenerFn=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove),this.removeWindowTouchmoveListenerFn=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove)}),this.removeWindowMouseupListenerFn=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp),this.removeWindowTouchendListenerFn=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp))},this.emptyCellMouseMove=p=>{p.preventDefault(),p.stopPropagation();const u=this.getValidItemFromEvent(p,this.initialItem);u&&(this.gridster.movingItem=u,this.gridster.previewStyle())},this.emptyCellMouseUp=p=>{this.removeWindowMousemoveListenerFn(),this.removeWindowTouchmoveListenerFn(),this.removeWindowMouseupListenerFn(),this.removeWindowTouchendListenerFn();const u=this.getValidItemFromEvent(p,this.initialItem);u&&(this.gridster.movingItem=u),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(p,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()}}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(),this.gridster.movingItem=null,this.initialItem=this.gridster=null,this.removeDocumentDragendListenerFn&&(this.removeDocumentDragendListenerFn(),this.removeDocumentDragendListenerFn=null)}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.removeEmptyCellClickListenerFn&&this.gridster.options.emptyCellClickCallback?(this.removeEmptyCellClickListenerFn=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb),this.removeEmptyCellTouchendListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb)):!this.gridster.$options.enableEmptyCellClick&&this.removeEmptyCellClickListenerFn&&this.removeEmptyCellTouchendListenerFn&&(this.removeEmptyCellClickListenerFn(),this.removeEmptyCellTouchendListenerFn(),this.removeEmptyCellClickListenerFn=null,this.removeEmptyCellTouchendListenerFn=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.removeEmptyCellContextMenuListenerFn&&this.gridster.options.emptyCellContextMenuCallback?this.removeEmptyCellContextMenuListenerFn=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb):!this.gridster.$options.enableEmptyCellContextMenu&&this.removeEmptyCellContextMenuListenerFn&&(this.removeEmptyCellContextMenuListenerFn(),this.removeEmptyCellContextMenuListenerFn=null),this.gridster.$options.enableEmptyCellDrop&&!this.removeEmptyCellDropListenerFn&&this.gridster.options.emptyCellDropCallback?(this.removeEmptyCellDropListenerFn=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop),this.gridster.zone.runOutsideAngular(()=>{this.removeEmptyCellDragoverListenerFn=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver)}),this.removeDocumentDragendListenerFn=this.gridster.renderer.listen("document","dragend",()=>{this.gridster.movingItem=null,this.gridster.previewStyle()})):!this.gridster.$options.enableEmptyCellDrop&&this.removeEmptyCellDropListenerFn&&this.removeEmptyCellDragoverListenerFn&&this.removeDocumentDragendListenerFn&&(this.removeEmptyCellDropListenerFn(),this.removeEmptyCellDragoverListenerFn(),this.removeDocumentDragendListenerFn(),this.removeEmptyCellDragoverListenerFn=null,this.removeEmptyCellDropListenerFn=null,this.removeDocumentDragendListenerFn=null),this.gridster.$options.enableEmptyCellDrag&&!this.removeEmptyCellMousedownListenerFn&&this.gridster.options.emptyCellDragCallback?(this.removeEmptyCellMousedownListenerFn=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown),this.removeEmptyCellTouchstartListenerFn=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown)):!this.gridster.$options.enableEmptyCellDrag&&this.removeEmptyCellMousedownListenerFn&&this.removeEmptyCellTouchstartListenerFn&&(this.removeEmptyCellMousedownListenerFn(),this.removeEmptyCellTouchstartListenerFn(),this.removeEmptyCellMousedownListenerFn=null,this.removeEmptyCellTouchstartListenerFn=null)}getPixelsX(d,p){const u=this.gridster.options.scale;return u?(d.clientX-p.left)/u+this.gridster.el.scrollLeft-this.gridster.gridRenderer.getLeftMargin():d.clientX+this.gridster.el.scrollLeft-p.left-this.gridster.gridRenderer.getLeftMargin()}getPixelsY(d,p){const u=this.gridster.options.scale;return u?(d.clientY-p.top)/u+this.gridster.el.scrollTop-this.gridster.gridRenderer.getTopMargin():d.clientY+this.gridster.el.scrollTop-p.top-this.gridster.gridRenderer.getTopMargin()}getValidItemFromEvent(d,p){d.preventDefault(),d.stopPropagation(),kt.checkTouchEvent(d);const u=this.gridster.el.getBoundingClientRect(),f=this.getPixelsX(d,u),S=this.getPixelsY(d,u),L={x:this.gridster.pixelsToPositionX(f,Math.floor,!0),y:this.gridster.pixelsToPositionY(S,Math.floor,!0),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(p&&(L.cols=Math.min(Math.abs(p.x-L.x)+1,this.gridster.$options.emptyCellDragMaxCols),L.rows=Math.min(Math.abs(p.y-L.y)+1,this.gridster.$options.emptyCellDragMaxRows),p.x<L.x?L.x=p.x:p.x-L.x>this.gridster.$options.emptyCellDragMaxCols-1&&(L.x=this.gridster.movingItem?this.gridster.movingItem.x:0),p.y<L.y?L.y=p.y:p.y-L.y>this.gridster.$options.emptyCellDragMaxRows-1&&(L.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),this.gridster.$options.enableOccupiedCellDrop||!this.gridster.checkCollision(L))return L}}class fi{constructor(d){this.gridster=d,this.lastGridColumnStyles={},this.lastGridRowStyles={}}destroy(){this.gridster=null}updateItem(d,p,u){if(this.gridster.mobile)this.clearCellPosition(u,d),u.setStyle(d,"height",this.gridster.$options.keepFixedHeightInMobile?(p.rows-1)*this.gridster.$options.margin+p.rows*this.gridster.$options.fixedRowHeight+"px":p.rows*this.gridster.curWidth/p.cols+"px"),u.setStyle(d,"width",this.gridster.$options.keepFixedWidthInMobile?this.gridster.$options.fixedColWidth+"px":""),u.setStyle(d,"margin-bottom",this.gridster.$options.margin+"px"),u.setStyle(d,Ft.LTR?"margin-right":"margin-left","");else{const f=Math.round(this.gridster.curColWidth*p.x),S=Math.round(this.gridster.curRowHeight*p.y),L=this.gridster.curColWidth*p.cols-this.gridster.$options.margin,W=this.gridster.curRowHeight*p.rows-this.gridster.$options.margin;this.setCellPosition(u,d,f,S),u.setStyle(d,"width",L+"px"),u.setStyle(d,"height",W+"px");let U=null,et=null;this.gridster.$options.outerMargin&&(this.gridster.rows===p.rows+p.y&&(U=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px":this.gridster.$options.margin+"px"),this.gridster.columns===p.cols+p.x&&(et=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginRight+"px":this.gridster.$options.margin+"px")),u.setStyle(d,"margin-bottom",U),u.setStyle(d,Ft.LTR?"margin-right":"margin-left",et)}}updateGridster(){let d="",p="",u="",f="";if(this.gridster.$options.gridType===J.Fit)d=J.Fit,p=J.ScrollVertical,u=J.ScrollHorizontal,f=J.Fixed;else if(this.gridster.$options.gridType===J.ScrollVertical)this.gridster.curRowHeight=this.gridster.curColWidth*this.gridster.$options.rowHeightRatio,d=J.ScrollVertical,p=J.Fit,u=J.ScrollHorizontal,f=J.Fixed;else if(this.gridster.$options.gridType===J.ScrollHorizontal){const S=this.gridster.$options.rowHeightRatio;this.gridster.curColWidth=this.gridster.curRowHeight*(S>=1?S:S+1),d=J.ScrollHorizontal,p=J.Fit,u=J.ScrollVertical,f=J.Fixed}else this.gridster.$options.gridType===J.Fixed?(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),d=J.Fixed,p=J.Fit,u=J.ScrollVertical,f=J.ScrollHorizontal):this.gridster.$options.gridType===J.VerticalFixed?(this.gridster.curRowHeight=this.gridster.$options.fixedRowHeight+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),d=J.ScrollVertical,p=J.Fit,u=J.ScrollHorizontal,f=J.Fixed):this.gridster.$options.gridType===J.HorizontalFixed&&(this.gridster.curColWidth=this.gridster.$options.fixedColWidth+(this.gridster.$options.ignoreMarginInRow?0:this.gridster.$options.margin),d=J.ScrollHorizontal,p=J.Fit,u=J.ScrollVertical,f=J.Fixed);this.gridster.mobile||this.gridster.$options.setGridSize&&this.gridster.$options.gridType!==J.Fit?this.gridster.renderer.removeClass(this.gridster.el,d):this.gridster.renderer.addClass(this.gridster.el,d),this.gridster.renderer.removeClass(this.gridster.el,p),this.gridster.renderer.removeClass(this.gridster.el,u),this.gridster.renderer.removeClass(this.gridster.el,f)}getGridColumnStyle(d){const p={left:this.gridster.curColWidth*d,width:this.gridster.curColWidth-this.gridster.$options.margin,height:this.gridster.gridRows.length*this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};p.style={...this.getLeftPosition(p.left),width:p.width+"px",height:p.height+"px"};const u=this.lastGridColumnStyles[d];return u&&u.left===p.left&&u.width===p.width&&u.height===p.height?u.style:(this.lastGridColumnStyles[d]=p,p.style)}getGridRowStyle(d){const p={top:this.gridster.curRowHeight*d,width:this.gridster.gridColumns.length*this.gridster.curColWidth+this.gridster.$options.margin,height:this.gridster.curRowHeight-this.gridster.$options.margin,style:{}};p.style={...this.getTopPosition(p.top),width:p.width+"px",height:p.height+"px"};const u=this.lastGridRowStyles[d];return u&&u.top===p.top&&u.width===p.width&&u.height===p.height?u.style:(this.lastGridRowStyles[d]=p,p.style)}getLeftPosition(d){const p=this.gridster.$options.dirType===Ft.RTL?-d:d;return this.gridster.$options.useTransformPositioning?{transform:"translateX("+p+"px)"}:{left:this.getLeftMargin()+p+"px"}}getTopPosition(d){return this.gridster.$options.useTransformPositioning?{transform:"translateY("+d+"px)"}:{top:this.getTopMargin()+d+"px"}}clearCellPosition(d,p){this.gridster.$options.useTransformPositioning?d.setStyle(p,"transform",""):(d.setStyle(p,"top",""),d.setStyle(p,"left",""))}setCellPosition(d,p,u,f){const S=this.gridster.$options.dirType===Ft.RTL?-u:u;this.gridster.$options.useTransformPositioning?d.setStyle(p,"transform","translate3d("+S+"px, "+f+"px, 0)"):(d.setStyle(p,"left",this.getLeftMargin()+S+"px"),d.setStyle(p,"top",this.getTopMargin()+f+"px"))}getLeftMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.gridster.$options.margin:0}getTopMargin(){return this.gridster.$options.outerMargin?null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.gridster.$options.margin:0}}let Te,oe,Ie=(()=>{var y;class d{constructor(u,f){this.renderer=f,this.el=u.nativeElement}ngOnInit(){this.sub=this.previewStyle$.subscribe(u=>this.previewStyle(u))}ngOnDestroy(){this.sub&&this.sub.unsubscribe()}previewStyle(u){u?(this.renderer.setStyle(this.el,"display","block"),this.gridRenderer.updateItem(this.el,u,this.renderer)):this.renderer.setStyle(this.el,"display","")}}return(y=d).\u0275fac=function(u){return new(u||y)(c.Y36(c.SBq),c.Y36(c.Qsj))},y.\u0275cmp=c.Xpm({type:y,selectors:[["gridster-preview"]],inputs:{previewStyle$:"previewStyle$",gridRenderer:"gridRenderer"},standalone:!0,features:[c.jDz],decls:0,vars:0,template:function(u,f){},styles:["gridster-preview{position:absolute;display:none;background:rgba(0,0,0,.15)}\n"],encapsulation:2}),d})(),We=(()=>{var y;class d{constructor(u,f,S,L){this.renderer=f,this.cdRef=S,this.zone=L,this.columns=0,this.rows=0,this.gridColumns=[],this.gridRows=[],this.previewStyle$=new c.vpe,this.calculateLayout$=new dt.x,this.resize$=new dt.x,this.destroy$=new dt.x,this.optionsChanged=()=>{this.setOptions();let U,W=this.grid.length-1;for(;W>=0;W--)U=this.grid[W],U.updateOptions();this.calculateLayout()},this.onResize=()=>{this.el.clientWidth&&(this.options.setGridSize&&(this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.setGridSize(),this.calculateLayout())},this.getNextPossiblePosition=(W,U={})=>{-1===W.cols&&(W.cols=this.$options.defaultItemCols),-1===W.rows&&(W.rows=this.$options.defaultItemRows),this.setGridDimensions();let rt,et=U.y||0;for(;et<this.rows;et++)for(W.y=et,rt=U.x||0;rt<this.columns;rt++)if(W.x=rt,!this.checkCollision(W))return!0;const Pt=this.$options.maxRows>=this.rows+W.rows;return this.rows<=this.columns&&Pt||!(this.$options.maxCols>=this.columns+W.cols)?!!Pt&&(W.y=this.rows,W.x=0,!0):(W.x=this.columns,W.y=0,!0)},this.getFirstPossiblePosition=W=>{const U=Object.assign({},W);return this.getNextPossiblePosition(U),U},this.getLastPossiblePosition=W=>{let U={y:0,x:0};U=this.grid.reduce((rt,Pt)=>{const Xt={y:Pt.$item.y+Pt.$item.rows-1,x:Pt.$item.x+Pt.$item.cols-1};return 1===kt.compareItems(rt,Xt)?Xt:rt},U);const et=Object.assign({},W);return this.getNextPossiblePosition(et,U),et},this.el=u.nativeElement,this.$options=JSON.parse(JSON.stringify(pi)),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new ft(this),this.compact=new Bi(this),this.gridRenderer=new fi(this)}static checkCollisionTwoItemsForSwaping(u,f){return u.x+(1===u.cols?0:1)<f.x+f.cols&&u.x+u.cols>f.x+(1===f.cols?0:1)&&u.y+(1===u.rows?0:1)<f.y+f.rows&&u.y+u.rows>f.y+(1===f.rows?0:1)}checkCollisionTwoItems(u,f){if(!(u.x<f.x+f.cols&&u.x+u.cols>f.x&&u.y<f.y+f.rows&&u.y+u.rows>f.y))return!1;if(!this.$options.allowMultiLayer)return!0;const L=this.$options.defaultLayerIndex;return(void 0===u.layerIndex?L:u.layerIndex)===(void 0===f.layerIndex?L:f.layerIndex)}ngOnInit(){this.options.initCallback&&this.options.initCallback(this),this.calculateLayout$.pipe((0,gt.b)(0),(0,at.R)(this.destroy$)).subscribe(()=>this.calculateLayout()),this.resize$.pipe((0,j.w)(()=>(0,_t.H)(100)),(0,at.R)(this.destroy$)).subscribe(()=>this.resize())}ngOnChanges(u){u.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged,resize:this.onResize,getNextPossiblePosition:this.getNextPossiblePosition,getFirstPossiblePosition:this.getFirstPossiblePosition,getLastPossiblePosition:this.getLastPossiblePosition,getItemComponent:f=>this.getItemComponent(f)},this.columns=this.$options.minCols,this.rows=this.$options.minRows+this.$options.addEmptyRowsCount,this.setGridSize(),this.calculateLayout())}resize(){let u,f;"fit"!==this.$options.gridType||this.mobile?(f=this.el.clientWidth,u=this.el.clientHeight):(f=this.el.offsetWidth,u=this.el.offsetHeight),(f!==this.curWidth||u!==this.curHeight)&&this.checkIfToResize()&&this.onResize()}setOptions(){this.$options=kt.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize),this.emptyCell.updateOptions()}ngOnDestroy(){this.destroy$.next(),this.previewStyle$.complete(),this.windowResize&&this.windowResize(),this.options&&this.options.destroyCallback&&this.options.destroyCallback(this),this.options&&this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),this.emptyCell=null,this.compact.destroy(),this.compact=null}checkIfToResize(){const u=this.el.clientWidth,f=this.el.offsetWidth,S=this.el.scrollWidth,L=this.el.clientHeight,W=this.el.offsetHeight,U=this.el.scrollHeight;return!(u<f&&U>W&&U-W<f-u||L<W&&S>f&&S-f<W-L)}checkIfMobile(){return this.$options.useBodyForBreakpoint?this.$options.mobileBreakpoint>document.body.clientWidth:this.$options.mobileBreakpoint>this.curWidth}setGridSize(){const u=this.el;let f,S;this.$options.setGridSize||this.$options.gridType===J.Fit&&!this.mobile?(f=u.offsetWidth,S=u.offsetHeight):(f=u.clientWidth,S=u.clientHeight),this.curWidth=f,this.curHeight=S}setGridDimensions(){this.setGridSize(),!this.mobile&&this.checkIfMobile()?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&!this.checkIfMobile()&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let L,u=this.$options.minRows,f=this.$options.minCols,S=this.grid.length-1;for(;S>=0;S--)L=this.grid[S],L.notPlaced||(u=Math.max(u,L.$item.y+L.$item.rows),f=Math.max(f,L.$item.x+L.$item.cols));u+=this.$options.addEmptyRowsCount,(this.columns!==f||this.rows!==u)&&(this.columns=f,this.rows=u,this.options.gridSizeChangedCallback&&this.options.gridSizeChangedCallback(this))}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let S=-this.$options.margin;null!==this.$options.outerMarginLeft?(S+=this.$options.outerMarginLeft,this.renderer.setStyle(this.el,"padding-left",this.$options.outerMarginLeft+"px")):(S+=this.$options.margin,this.renderer.setStyle(this.el,"padding-left",this.$options.margin+"px")),null!==this.$options.outerMarginRight?(S+=this.$options.outerMarginRight,this.renderer.setStyle(this.el,"padding-right",this.$options.outerMarginRight+"px")):(S+=this.$options.margin,this.renderer.setStyle(this.el,"padding-right",this.$options.margin+"px")),this.curColWidth=(this.curWidth-S)/this.columns;let L=-this.$options.margin;null!==this.$options.outerMarginTop?(L+=this.$options.outerMarginTop,this.renderer.setStyle(this.el,"padding-top",this.$options.outerMarginTop+"px")):(L+=this.$options.margin,this.renderer.setStyle(this.el,"padding-top",this.$options.margin+"px")),null!==this.$options.outerMarginBottom?(L+=this.$options.outerMarginBottom,this.renderer.setStyle(this.el,"padding-bottom",this.$options.outerMarginBottom+"px")):(L+=this.$options.margin,this.renderer.setStyle(this.el,"padding-bottom",this.$options.margin+"px")),this.curRowHeight=(this.curHeight-L)/this.rows*this.$options.rowHeightRatio}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows*this.$options.rowHeightRatio,this.renderer.setStyle(this.el,"padding-left","0px"),this.renderer.setStyle(this.el,"padding-right","0px"),this.renderer.setStyle(this.el,"padding-top","0px"),this.renderer.setStyle(this.el,"padding-bottom","0px");this.gridRenderer.updateGridster(),this.$options.setGridSize?(this.renderer.addClass(this.el,"gridSize"),this.mobile||(this.renderer.setStyle(this.el,"width",this.columns*this.curColWidth+this.$options.margin+"px"),this.renderer.setStyle(this.el,"height",this.rows*this.curRowHeight+this.$options.margin+"px"))):(this.renderer.removeClass(this.el,"gridSize"),this.renderer.setStyle(this.el,"width",""),this.renderer.setStyle(this.el,"height","")),this.updateGrid();let f,u=this.grid.length-1;for(;u>=0;u--)f=this.grid[u],f.setSize(),f.drag.toggle(),f.resize.toggle();this.resize$.next()}updateGrid(){"always"!==this.$options.displayGrid||this.mobile?"onDrag&Resize"===this.$options.displayGrid&&this.dragInProgress?this.renderer.addClass(this.el,"display-grid"):("none"===this.$options.displayGrid||!this.dragInProgress||this.mobile)&&this.renderer.removeClass(this.el,"display-grid"):this.renderer.addClass(this.el,"display-grid"),this.setGridDimensions(),this.gridColumns.length=d.getNewArrayLength(this.columns,this.curWidth,this.curColWidth),this.gridRows.length=d.getNewArrayLength(this.rows,this.curHeight,this.curRowHeight),this.cdRef.markForCheck()}addItem(u){void 0===u.$item.cols&&(u.$item.cols=this.$options.defaultItemCols,u.item.cols=u.$item.cols,u.itemChanged()),void 0===u.$item.rows&&(u.$item.rows=this.$options.defaultItemRows,u.item.rows=u.$item.rows,u.itemChanged()),-1===u.$item.x||-1===u.$item.y?this.autoPositionItem(u):this.checkCollision(u.$item)&&(this.$options.disableWarnings||(u.notPlaced=!0,console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(u.item,["cols","rows","x","y"]))),this.$options.disableAutoPositionOnConflict?u.notPlaced=!0:this.autoPositionItem(u)),this.grid.push(u),this.calculateLayout$.next()}removeItem(u){this.grid.splice(this.grid.indexOf(u),1),this.calculateLayout$.next(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(u.item,u)}checkCollision(u){let f=!1;if(this.options.itemValidateCallback&&(f=!this.options.itemValidateCallback(u)),!f&&this.checkGridCollision(u)&&(f=!0),!f){const S=this.findItemWithItem(u);S&&(f=S)}return f}checkGridCollision(u){const le=u.cols*u.rows;return!(u.y>-1&&u.x>-1&&u.cols+u.x<=this.$options.maxCols&&u.rows+u.y<=this.$options.maxRows&&u.cols<=(void 0===u.maxItemCols?this.$options.maxItemCols:u.maxItemCols)&&u.cols>=(void 0===u.minItemCols?this.$options.minItemCols:u.minItemCols)&&u.rows<=(void 0===u.maxItemRows?this.$options.maxItemRows:u.maxItemRows)&&u.rows>=(void 0===u.minItemRows?this.$options.minItemRows:u.minItemRows)&&(void 0===u.minItemArea?this.$options.minItemArea:u.minItemArea)<=le&&(void 0===u.maxItemArea?this.$options.maxItemArea:u.maxItemArea)>=le)}findItemWithItem(u){let S,f=0;for(;f<this.grid.length;f++)if(S=this.grid[f],S.$item!==u&&this.checkCollisionTwoItems(S.$item,u))return S;return!1}findItemsWithItem(u){const f=[];let L,S=0;for(;S<this.grid.length;S++)L=this.grid[S],L.$item!==u&&this.checkCollisionTwoItems(L.$item,u)&&f.push(L);return f}autoPositionItem(u){this.getNextPossiblePosition(u.$item)?(u.notPlaced=!1,u.item.x=u.$item.x,u.item.y=u.$item.y,u.itemChanged()):(u.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(u.item,["cols","rows","x","y"])))}pixelsToPositionX(u,f,S){const L=f(u/this.curColWidth);return S?L:Math.max(L,0)}pixelsToPositionY(u,f,S){const L=f(u/this.curRowHeight);return S?L:Math.max(L,0)}positionXToPixels(u){return u*this.curColWidth}positionYToPixels(u){return u*this.curRowHeight}getItemComponent(u){return this.grid.find(f=>f.item===u)}checkCollisionForSwaping(u){let f=!1;if(this.options.itemValidateCallback&&(f=!this.options.itemValidateCallback(u)),!f&&this.checkGridCollision(u)&&(f=!0),!f){const S=this.findItemWithItemForSwapping(u);S&&(f=S)}return f}findItemWithItemForSwapping(u){let S,f=this.grid.length-1;for(;f>-1;f--)if(S=this.grid[f],S.$item!==u&&d.checkCollisionTwoItemsForSwaping(S.$item,u))return S;return!1}previewStyle(u=!1){this.movingItem?(this.compact&&u&&this.compact.checkCompactItem(this.movingItem),this.previewStyle$.next(this.movingItem)):this.previewStyle$.next(null)}static getNewArrayLength(u,f,S){const L=Math.max(u,Math.floor(f/S));return L<0?0:Number.isFinite(L)?Math.floor(L):0}}return(y=d).\u0275fac=function(u){return new(u||y)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(c.R0b))},y.\u0275cmp=c.Xpm({type:y,selectors:[["gridster"]],inputs:{options:"options"},standalone:!0,features:[c.TTD,c.jDz],ngContentSelectors:tt,decls:4,vars:4,consts:[["class","gridster-column",3,"ngStyle",4,"ngFor","ngForOf"],["class","gridster-row",3,"ngStyle",4,"ngFor","ngForOf"],[1,"gridster-preview",3,"gridRenderer","previewStyle$"],[1,"gridster-column",3,"ngStyle"],[1,"gridster-row",3,"ngStyle"]],template:function(u,f){1&u&&(c.F$t(),c.YNc(0,r,1,1,"div",0),c.YNc(1,H,1,1,"div",1),c.Hsn(2),c._UZ(3,"gridster-preview",2)),2&u&&(c.Q6J("ngForOf",f.gridColumns),c.xp6(1),c.Q6J("ngForOf",f.gridRows),c.xp6(2),c.Q6J("gridRenderer",f.gridRenderer)("previewStyle$",f.previewStyle$))},dependencies:[s.sg,s.PC,Ie],styles:["gridster{position:relative;box-sizing:border-box;background:grey;width:100%;height:100%;-webkit-user-select:none;user-select:none;display:block}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto}gridster.mobile gridster-item{position:relative}gridster.gridSize{height:initial;width:initial}gridster.gridSize.fit{height:100%;width:100%}gridster .gridster-column,gridster .gridster-row{position:absolute;display:none;transition:.3s;box-sizing:border-box}gridster.display-grid .gridster-column,gridster.display-grid .gridster-row{display:block}gridster .gridster-column{border-left:1px solid white;border-right:1px solid white}gridster .gridster-row{border-top:1px solid white;border-bottom:1px solid white}\n"],encapsulation:2}),d})();class ai{constructor(d){this.iteration=0,this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=d,this.gridster=d.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(d,p){if(this.gridster.$options.pushItems&&!p){this.pushedItemsOrder=[],this.iteration=0;const u=this.push(this.gridsterItem,d);return u||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],u}return!1}restoreTempItems(){let d=this.pushedItemsTemp.length-1;for(;d>-1;d--)this.removeFromTempPushed(this.pushedItemsTemp[d])}restoreItems(){let d=0;const p=this.pushedItems.length;let u;for(;d<p;d++)u=this.pushedItems[d],u.$item.x=u.item.x||0,u.$item.y=u.item.y||0,u.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let d=0;const p=this.pushedItems.length;let u;for(;d<p;d++)u=this.pushedItems[d],u.checkItemChanges(u.$item,u.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let d=this.pushedItems.length-1,p=!1;for(;d>-1;d--)this.checkPushedItem(this.pushedItems[d],d)&&(p=!0);p&&this.checkPushBack()}push(d,p){if(this.iteration>100)return console.warn("max iteration reached"),!1;if(this.gridster.checkGridCollision(d.$item)||""===p)return!1;const u=this.gridster.findItemsWithItem(d.$item),f=p===this.fromNorth||p===this.fromWest;u.sort((et,rt)=>f?rt.$item.y-et.$item.y||rt.$item.x-et.$item.x:et.$item.y-rt.$item.y||et.$item.x-rt.$item.x);let L,S=0,W=!0;const U=[];for(;S<u.length;S++){if(L=u[S],L===this.gridsterItem)continue;if(!L.canBeDragged()){W=!1;break}const et=this.pushedItemsTemp.indexOf(L);if(et>-1&&this.pushedItemsTempPath[et].length>10){W=!1;break}if(this.tryPattern[p][0].call(this,L,d))this.pushedItemsOrder.push(L),U.push(L);else if(this.tryPattern[p][1].call(this,L,d))this.pushedItemsOrder.push(L),U.push(L);else if(this.tryPattern[p][2].call(this,L,d))this.pushedItemsOrder.push(L),U.push(L);else{if(!this.tryPattern[p][3].call(this,L,d)){W=!1;break}this.pushedItemsOrder.push(L),U.push(L)}}if(!W&&(S=this.pushedItemsOrder.lastIndexOf(U[0]),S>-1)){let et=this.pushedItemsOrder.length-1;for(;et>=S;et--)L=this.pushedItemsOrder[et],this.pushedItemsOrder.pop(),this.removeFromTempPushed(L),this.removeFromPushedItem(L)}return this.iteration++,W}trySouth(d,p){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(d),d.$item.y=p.$item.y+p.$item.rows,this.push(d,this.fromNorth)?(d.setSize(),this.addToPushed(d),!0):(this.removeFromTempPushed(d),!1))}tryNorth(d,p){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(d),d.$item.y=p.$item.y-d.$item.rows,this.push(d,this.fromSouth)?(d.setSize(),this.addToPushed(d),!0):(this.removeFromTempPushed(d),!1))}tryEast(d,p){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(d),d.$item.x=p.$item.x+p.$item.cols,this.push(d,this.fromWest)?(d.setSize(),this.addToPushed(d),!0):(this.removeFromTempPushed(d),!1))}tryWest(d,p){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(d),d.$item.x=p.$item.x-d.$item.cols,this.push(d,this.fromEast)?(d.setSize(),this.addToPushed(d),!0):(this.removeFromTempPushed(d),!1))}addToTempPushed(d){let p=this.pushedItemsTemp.indexOf(d);-1===p&&(p=this.pushedItemsTemp.push(d)-1,this.pushedItemsTempPath[p]=[]),this.pushedItemsTempPath[p].push({x:d.$item.x,y:d.$item.y})}removeFromTempPushed(d){const p=this.pushedItemsTemp.indexOf(d),u=this.pushedItemsTempPath[p].pop();u&&(d.$item.x=u.x,d.$item.y=u.y,d.setSize(),this.pushedItemsTempPath[p].length||(this.pushedItemsTemp.splice(p,1),this.pushedItemsTempPath.splice(p,1)))}addToPushed(d){if(this.pushedItems.indexOf(d)<0)this.pushedItems.push(d),this.pushedItemsPath.push([{x:d.item.x||0,y:d.item.y||0},{x:d.$item.x,y:d.$item.y}]);else{const p=this.pushedItems.indexOf(d);this.pushedItemsPath[p].push({x:d.$item.x,y:d.$item.y})}}removeFromPushed(d){d>-1&&(this.pushedItems.splice(d,1),this.pushedItemsPath.splice(d,1))}removeFromPushedItem(d){const p=this.pushedItems.indexOf(d);p>-1&&(this.pushedItemsPath[p].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(p,1),this.pushedItemsPath.splice(p,1)))}checkPushedItem(d,p){const u=this.pushedItemsPath[p];let S,L,W,f=u.length-2,U=!1;for(;f>-1;f--)S=u[f],L=d.$item.x,W=d.$item.y,d.$item.x=S.x,d.$item.y=S.y,this.gridster.findItemWithItem(d.$item)?(d.$item.x=L,d.$item.y=W):(d.setSize(),u.splice(f+1,u.length-f-1),U=!0);return u.length<2&&this.removeFromPushed(p),U}}const oi=50;let Yt,ie,Gt,Qt,ue,Ce,be;function ri(y,d,p,u,f,S,L,W,U,et){Te=y.$options.scrollSensitivity,oe=y.$options.scrollSpeed,Yt=y.el,ie=U,Gt=et;const rt=Yt.offsetWidth,Xt=Yt.scrollLeft,re=Yt.scrollTop,qt=p-re,le=Yt.offsetHeight+re-p-f,{clientX:_e,clientY:qe}=S;if(!y.$options.disableScrollVertical)if(L.clientY<qe&&le<Te){if(Ue(),ie&&Gt&&!Gt.south||be)return;be=Ye(1,W,L)}else if(L.clientY>qe&&re>0&&qt<Te){if(Xe(),ie&&Gt&&!Gt.north||Ce)return;Ce=Ye(-1,W,L)}else L.clientY!==qe&&Pe();const zi=d-Xt;if(!y.$options.disableScrollHorizontal)if(L.clientX<_e&&Xt+rt-d-u<=Te){if(Se(),ie&&Gt&&!Gt.east||Qt)return;Qt=we(1,W,L)}else if(L.clientX>_e&&Xt>0&&zi<Te){if(Oe(),ie&&Gt&&!Gt.west||ue)return;ue=we(-1,W,L)}else L.clientX!==_e&&Ge()}function Ye(y,d,p){let u=p.clientY;return window.setInterval(()=>{(!Yt||-1===y&&Yt.scrollTop-oe<0)&&Pe(),Yt.scrollTop+=y*oe,u+=y*oe,d({clientX:p.clientX,clientY:u})},oi)}function we(y,d,p){let u=p.clientX;return window.setInterval(()=>{(!Yt||-1===y&&Yt.scrollLeft-oe<0)&&Ge(),Yt.scrollLeft+=y*oe,u+=y*oe,d({clientX:u,clientY:p.clientY})},oi)}function fe(){Ge(),Pe(),Yt=null}function Ge(){Oe(),Se()}function Pe(){Ue(),Xe()}function Oe(){Qt&&(clearInterval(Qt),Qt=0)}function Se(){ue&&(clearInterval(ue),ue=0)}function Xe(){be&&(clearInterval(be),be=0)}function Ue(){Ce&&(clearInterval(Ce),Ce=0)}class _i{constructor(d){this.gridsterItem=d,this.gridster=d.gridster}destroy(){this.gridster=this.gridsterItem=this.swapedItem=null}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){const d=this.swapedItem.$item.x,p=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=d,this.swapedItem.$item.y=p):(this.swapedItem.setSize(),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(d){let p;if(p=this.gridster.$options.swapWhileDragging?this.gridster.checkCollisionForSwaping(d.$item):this.gridster.checkCollision(d.$item),p&&!0!==p&&p.canBeDragged()){const u=p,f=u.$item.x,S=u.$item.y,L=d.$item.x,W=d.$item.y,U=L-f,et=W-S;u.$item.x=d.item.x-U,u.$item.y=d.item.y-et,d.$item.x=u.item.x+U,d.$item.y=u.item.y+et,this.gridster.checkCollision(u.$item)||this.gridster.checkCollision(d.$item)?(d.$item.x=L,d.$item.y=W,u.$item.x=f,u.$item.y=S):(u.setSize(),this.swapedItem=u,this.gridster.$options.swapWhileDragging&&(this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.setSwapItem()))}}}var Nt=function(y){return y.UP="UP",y.DOWN="DOWN",y.LEFT="LEFT",y.RIGHT="RIGHT",y}(Nt||{});class vi{constructor(d,p,u){this.zone=u,this.collision=!1,this.dragMove=f=>{f.stopPropagation(),f.preventDefault(),kt.checkTouchEvent(f);let S=this.getDirections(f);var L,W,U,et;this.gridster.options.enableBoundaryControl&&(S.includes(Nt.UP)&&this.gridsterItem.el.getBoundingClientRect().top<this.gridster.el.getBoundingClientRect().top+(null!==(L=this.outerMarginTop)&&void 0!==L?L:this.margin)&&(S=S.filter(rt=>rt!=Nt.UP),f=new MouseEvent(f.type,{clientX:f.clientX,clientY:this.lastMouse.clientY})),S.includes(Nt.LEFT)&&this.gridsterItem.el.getBoundingClientRect().left<this.gridster.el.getBoundingClientRect().left+(null!==(W=this.outerMarginLeft)&&void 0!==W?W:this.margin)&&(S=S.filter(rt=>rt!=Nt.LEFT),f=new MouseEvent(f.type,{clientX:this.lastMouse.clientX,clientY:f.clientY})),S.includes(Nt.RIGHT)&&this.gridsterItem.el.getBoundingClientRect().right>this.gridster.el.getBoundingClientRect().right-(null!==(U=this.outerMarginRight)&&void 0!==U?U:this.margin)&&(S=S.filter(rt=>rt!=Nt.RIGHT),f=new MouseEvent(f.type,{clientX:this.lastMouse.clientX,clientY:f.clientY})),S.includes(Nt.DOWN)&&this.gridsterItem.el.getBoundingClientRect().bottom>this.gridster.el.getBoundingClientRect().bottom-(null!==(et=this.outerMarginBottom)&&void 0!==et?et:this.margin)&&(S=S.filter(rt=>rt!=Nt.DOWN),f=new MouseEvent(f.type,{clientX:f.clientX,clientY:this.lastMouse.clientY}))),S.length&&(this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,ri(this.gridster,this.left,this.top,this.width,this.height,f,this.lastMouse,this.calculateItemPositionFromMousePosition),this.calculateItemPositionFromMousePosition(f))},this.calculateItemPositionFromMousePosition=f=>{this.gridster.options.scale?this.calculateItemPositionWithScale(f,this.gridster.options.scale):this.calculateItemPositionWithoutScale(f),this.calculateItemPosition(),this.lastMouse.clientX=f.clientX,this.lastMouse.clientY=f.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=f=>{f.stopPropagation(),f.preventDefault(),fe(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.mouseleave(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.path=[],this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,f)).then(this.makeDrag,this.cancelDrag):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})},this.cancelDrag=()=>{this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push&&this.push.restoreItems(),this.swap&&this.swap.restoreSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.makeDrag=()=>{this.gridster.$options.draggable.dropOverItems&&this.gridster.options.draggable&&this.gridster.options.draggable.dropOverItemsCallback&&this.collision&&!0!==this.collision&&this.collision.$item&&this.gridster.options.draggable.dropOverItemsCallback(this.gridsterItem.item,this.collision.item,this.gridster),this.collision=!1,this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push&&this.push.setPushedItems(),this.swap&&this.swap.setSwapItem(),this.push&&(this.push.destroy(),this.push=null),this.swap&&(this.swap.destroy(),this.swap=null)},this.dragStartDelay=f=>{if(f.target.classList.contains("gridster-item-resizable-handler")||kt.checkContentClassForEvent(this.gridster,f))return;if(kt.checkTouchEvent(f),!this.gridster.$options.draggable.delayStart)return void this.dragStart(f);const L=setTimeout(()=>{this.dragStart(f),qt()},this.gridster.$options.draggable.delayStart),W=this.gridsterItem.renderer.listen("document","mouseup",qt),U=this.gridsterItem.renderer.listen("document","mouseleave",qt),et=this.gridsterItem.renderer.listen("window","blur",qt),rt=this.gridsterItem.renderer.listen("document","touchmove",function re(le){kt.checkTouchEvent(le),(Math.abs(le.clientX-f.clientX)>9||Math.abs(le.clientY-f.clientY)>9)&&qt()}),Pt=this.gridsterItem.renderer.listen("document","touchend",qt),Xt=this.gridsterItem.renderer.listen("document","touchcancel",qt);function qt(){clearTimeout(L),et(),W(),U(),rt(),Pt(),Xt()}},this.gridsterItem=d,this.gridster=p,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){this.gridster.previewStyle&&this.gridster.previewStyle(!0),this.gridsterItem=this.gridster=this.collision=null,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(d){d.which&&1!==d.which||(this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,d),d.stopPropagation(),d.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridsterItem.left-this.margin,this.top=this.gridsterItem.top-this.margin,this.originalClientX=d.clientX,this.originalClientY=d.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.diffLeft=this.gridster.$options.dirType===Ft.RTL?d.clientX-this.gridster.el.scrollWidth+this.gridsterItem.left:d.clientX+this.offsetLeft-this.margin-this.left,this.diffTop=d.clientY+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new ai(this.gridsterItem),this.swap=new _i(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0}))}calculateItemPositionWithScale(d,p){this.left=this.gridster.$options.dirType===Ft.RTL?this.gridster.el.scrollWidth-this.originalClientX+(d.clientX-this.originalClientX)/p+this.diffLeft:this.originalClientX+(d.clientX-this.originalClientX)/p+this.offsetLeft-this.diffLeft,this.top=this.originalClientY+(d.clientY-this.originalClientY)/p+this.offsetTop-this.diffTop}calculateItemPositionWithoutScale(d){this.left=this.gridster.$options.dirType===Ft.RTL?this.gridster.el.scrollWidth-d.clientX+this.diffLeft:d.clientX+this.offsetLeft-this.diffLeft,this.top=d.clientY+this.offsetTop-this.diffTop}calculateItemPosition(){if(this.gridster.movingItem=this.gridsterItem.$item,this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.x=this.positionXBackup),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)&&(this.gridsterItem.$item.y=this.positionYBackup),this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){const d=this.path[this.path.length-1];let p="";d.x<this.gridsterItem.$item.x?p=this.push.fromWest:d.x>this.gridsterItem.$item.x?p=this.push.fromEast:d.y<this.gridsterItem.$item.y?p=this.push.fromNorth:d.y>this.gridsterItem.$item.y&&(p=this.push.fromSouth),this.push.pushItems(p,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.collision=this.gridster.checkCollision(this.gridsterItem.$item),this.collision?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup,this.gridster.$options.draggable.dropOverItems&&!0!==this.collision&&this.collision.$item&&(this.gridster.movingItem=null)):this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.push.checkPushBack()}else this.collision=!1;this.gridster.previewStyle(!0)}toggle(){const d=this.gridsterItem.canBeDragged();!this.enabled&&d?(this.enabled=!this.enabled,this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartDelay),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartDelay)):this.enabled&&!d&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}getDirections(d){const p=[];return 0===this.lastMouse.clientX&&0===this.lastMouse.clientY&&(this.lastMouse.clientY=d.clientY,this.lastMouse.clientX=d.clientX),this.lastMouse.clientY>d.clientY&&p.push(Nt.UP),this.lastMouse.clientY<d.clientY&&p.push(Nt.DOWN),this.lastMouse.clientX<d.clientX&&p.push(Nt.RIGHT),this.lastMouse.clientX>d.clientX&&p.push(Nt.LEFT),p}}class li{constructor(d){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=d,this.gridster=d.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){this.gridster=this.gridsterItem=null}pushItems(d){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,d)}restoreItems(){let d=0;const p=this.pushedItems.length;let u;for(;d<p;d++)u=this.pushedItems[d],u.$item.x=u.item.x||0,u.$item.y=u.item.y||0,u.$item.cols=u.item.cols||1,u.$item.row=u.item.row||1,u.setSize();this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let d=0;const p=this.pushedItems.length;let u;for(;d<p;d++)u=this.pushedItems[d],u.checkItemChanges(u.$item,u.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let d=this.pushedItems.length-1,p=!1;for(;d>-1;d--)this.checkPushedItem(this.pushedItems[d],d)&&(p=!0);p&&this.checkPushBack()}push(d,p){const u=this.gridster.checkCollision(d.$item);if(u&&!0!==u&&u!==this.gridsterItem&&u.canBeResized()){if(this.tryPattern[p].call(this,u,d,p))return!0}else if(!1===u)return!0;return!1}trySouth(d,p,u){const f=d.$item.y,S=d.$item.rows;return d.$item.y=p.$item.y+p.$item.rows,d.$item.rows=S+f-d.$item.y,this.gridster.checkCollisionTwoItems(d.$item,p.$item)||this.gridster.checkGridCollision(d.$item)?(d.$item.y=f,d.$item.rows=S,!1):(d.setSize(),this.addToPushed(d),this.push(p,u),!0)}tryNorth(d,p,u){const f=d.$item.rows;return d.$item.rows=p.$item.y-d.$item.y,this.gridster.checkCollisionTwoItems(d.$item,p.$item)||this.gridster.checkGridCollision(d.$item)?(d.$item.rows=f,!1):(d.setSize(),this.addToPushed(d),this.push(p,u),!0)}tryEast(d,p,u){const f=d.$item.x,S=d.$item.cols;return d.$item.x=p.$item.x+p.$item.cols,d.$item.cols=S+f-d.$item.x,this.gridster.checkCollisionTwoItems(d.$item,p.$item)||this.gridster.checkGridCollision(d.$item)?(d.$item.x=f,d.$item.cols=S,!1):(d.setSize(),this.addToPushed(d),this.push(p,u),!0)}tryWest(d,p,u){const f=d.$item.cols;return d.$item.cols=p.$item.x-d.$item.x,this.gridster.checkCollisionTwoItems(d.$item,p.$item)||this.gridster.checkGridCollision(d.$item)?(d.$item.cols=f,!1):(d.setSize(),this.addToPushed(d),this.push(p,u),!0)}addToPushed(d){if(this.pushedItems.indexOf(d)<0)this.pushedItems.push(d),this.pushedItemsPath.push([{x:d.item.x||0,y:d.item.y||0,cols:d.item.cols||0,rows:d.item.rows||0},{x:d.$item.x,y:d.$item.y,cols:d.$item.cols,rows:d.$item.rows}]);else{const p=this.pushedItems.indexOf(d);this.pushedItemsPath[p].push({x:d.$item.x,y:d.$item.y,cols:d.$item.cols,rows:d.$item.rows})}}removeFromPushed(d){d>-1&&(this.pushedItems.splice(d,1),this.pushedItemsPath.splice(d,1))}checkPushedItem(d,p){const u=this.pushedItemsPath[p];let S,L,W,U,et,f=u.length-2;for(;f>-1;f--)S=u[f],L=d.$item.x,W=d.$item.y,U=d.$item.cols,et=d.$item.rows,d.$item.x=S.x,d.$item.y=S.y,d.$item.cols=S.cols,d.$item.rows=S.rows,this.gridster.findItemWithItem(d.$item)?(d.$item.x=L,d.$item.y=W,d.$item.cols=U,d.$item.rows=et):(d.setSize(),u.splice(f+1,u.length-1-f));return u.length<2&&(this.removeFromPushed(p),!0)}}class yi{constructor(d,p,u){this.zone=u,this.directionFunction=null,this.dragMove=f=>{if(null===this.directionFunction)throw new Error("The `directionFunction` has not been set before calling `dragMove`.");f.stopPropagation(),f.preventDefault(),kt.checkTouchEvent(f),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,ri(this.gridster,this.left,this.top,this.width,this.height,f,this.lastMouse,this.directionFunction,!0,this.resizeEventScrollType);const S=this.gridster.options.scale||1;this.directionFunction({clientX:this.originalClientX+(f.clientX-this.originalClientX)/S,clientY:this.originalClientY+(f.clientY-this.originalClientY)/S}),this.lastMouse.clientX=f.clientX,this.lastMouse.clientY=f.clientY,this.zone.run(()=>{this.gridster.updateGrid()})},this.dragStop=f=>{f.stopPropagation(),f.preventDefault(),fe(),this.mousemove(),this.mouseup(),this.mouseleave(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridster.dragInProgress=!1,this.gridster.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,f)).then(this.makeResize,this.cancelResize):this.makeResize(),setTimeout(()=>{this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})},this.cancelResize=()=>{this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.makeResize=()=>{this.gridsterItem.setSize(),this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),this.push=null,this.pushResize.destroy(),this.pushResize=null},this.handleNorth=f=>{if(this.top=f.clientY+this.offsetTop-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height?(this.height=this.minHeight,this.top=this.bottom-this.minHeight):this.gridster.options.enableBoundaryControl&&(this.top=Math.max(0,this.top),this.height=this.bottom-this.top),this.newPosition=this.gridster.pixelsToPositionY(this.top+(this.gridster.options.pushItems?this.margin:0),Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.top=this.gridster.positionYToPixels(this.gridsterItem.$item.y),this.setItemTop(this.gridster.positionYToPixels(this.gridsterItem.$item.y)),void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemTop(this.top),this.setItemHeight(this.height)},this.handleWest=f=>{if(this.left=(this.gridster.$options.dirType===Ft.RTL?this.originalClientX+(this.originalClientX-f.clientX):f.clientX)+this.offsetLeft-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width?(this.width=this.minWidth,this.left=this.right-this.minWidth):this.gridster.options.enableBoundaryControl&&(this.left=Math.max(0,this.left),this.width=this.right-this.left),this.newPosition=this.gridster.pixelsToPositionX(this.left+(this.gridster.options.pushItems?this.margin:0),Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.left=this.gridster.positionXToPixels(this.gridsterItem.$item.x),this.setItemLeft(this.gridster.positionXToPixels(this.gridsterItem.$item.x)),void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemLeft(this.left),this.setItemWidth(this.width)},this.handleSouth=f=>{if(this.height=f.clientY+this.offsetTop-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.gridster.options.enableBoundaryControl){var S;const W=null!==(S=this.outerMarginBottom)&&void 0!==S?S:this.margin,U=this.gridster.el.getBoundingClientRect();this.bottom=Math.min(this.bottom,U.bottom-U.top-2*W),this.height=this.bottom-this.top}if(this.newPosition=this.gridster.pixelsToPositionY(this.bottom+(this.gridster.options.pushItems?0:this.margin),Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.rows=this.itemBackup[3],void this.setItemHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemHeight(this.height)},this.handleEast=f=>{if(this.width=(this.gridster.$options.dirType===Ft.RTL?this.originalClientX+(this.originalClientX-f.clientX):f.clientX)+this.offsetLeft-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.gridster.options.enableBoundaryControl){var L;const U=null!==(L=this.outerMarginRight)&&void 0!==L?L:this.margin,et=this.gridster.el.getBoundingClientRect();this.right=Math.min(this.right,et.right-et.left-2*U),this.width=this.right-this.left}if(this.newPosition=this.gridster.pixelsToPositionX(this.right+(this.gridster.options.pushItems?0:this.margin),Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.cols=this.itemBackup[2],void this.setItemWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.setItemWidth(this.width)},this.handleNorthWest=f=>{this.handleNorth(f),this.handleWest(f)},this.handleNorthEast=f=>{this.handleNorth(f),this.handleEast(f)},this.handleSouthWest=f=>{this.handleSouth(f),this.handleWest(f)},this.handleSouthEast=f=>{this.handleSouth(f),this.handleEast(f)},this.gridsterItem=d,this.gridster=p,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={west:!1,east:!1,north:!1,south:!1}}destroy(){var d;null===(d=this.gridster)||void 0===d||d.previewStyle(),this.gridster=this.gridsterItem=null}dragStart(d){if(d.which&&1!==d.which)return;this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,d),d.stopPropagation(),d.preventDefault(),this.zone.runOutsideAngular(()=>{this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragMove),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragMove)}),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStop),this.mouseleave=this.gridsterItem.renderer.listen("document","mouseleave",this.dragStop),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStop),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStop),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStop),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=d.clientX,this.lastMouse.clientY=d.clientY,this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.originalClientX=d.clientX,this.originalClientY=d.clientY,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.outerMarginTop=this.gridster.$options.outerMarginTop,this.outerMarginRight=this.gridster.$options.outerMarginRight,this.outerMarginBottom=this.gridster.$options.outerMarginBottom,this.outerMarginLeft=this.gridster.$options.outerMarginLeft,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=d.clientX+this.offsetLeft-this.left,this.diffRight=d.clientX+this.offsetLeft-this.right,this.diffTop=d.clientY+this.offsetTop-this.top,this.diffBottom=d.clientY+this.offsetTop-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new ai(this.gridsterItem),this.pushResize=new li(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.updateGrid();const{classList:p}=d.target;p.contains("handle-n")?(this.resizeEventScrollType.north=!0,this.directionFunction=this.handleNorth):p.contains("handle-w")?this.gridster.$options.dirType===Ft.RTL?(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):p.contains("handle-s")?(this.resizeEventScrollType.south=!0,this.directionFunction=this.handleSouth):p.contains("handle-e")?this.gridster.$options.dirType===Ft.RTL?(this.resizeEventScrollType.west=!0,this.directionFunction=this.handleWest):(this.resizeEventScrollType.east=!0,this.directionFunction=this.handleEast):p.contains("handle-nw")?this.gridster.$options.dirType===Ft.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):p.contains("handle-ne")?this.gridster.$options.dirType===Ft.RTL?(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleNorthWest):(this.resizeEventScrollType.north=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleNorthEast):p.contains("handle-sw")?this.gridster.$options.dirType===Ft.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):p.contains("handle-se")&&(this.gridster.$options.dirType===Ft.RTL?(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.west=!0,this.directionFunction=this.handleSouthWest):(this.resizeEventScrollType.south=!0,this.resizeEventScrollType.east=!0,this.directionFunction=this.handleSouthEast))}toggle(){this.resizeEnabled=this.gridsterItem.canBeResized(),this.resizableHandles=this.gridsterItem.getResizableHandles()}dragStartDelay(d){if(kt.checkTouchEvent(d),!this.gridster.$options.resizable.delayStart)return void this.dragStart(d);const p=setTimeout(()=>{this.dragStart(d),rt()},this.gridster.$options.resizable.delayStart),{cancelMouse:u,cancelMouseLeave:f,cancelOnBlur:S,cancelTouchMove:L,cancelTouchEnd:W,cancelTouchCancel:U}=this.zone.runOutsideAngular(()=>({cancelMouse:this.gridsterItem.renderer.listen("document","mouseup",rt),cancelMouseLeave:this.gridsterItem.renderer.listen("document","mouseleave",rt),cancelOnBlur:this.gridsterItem.renderer.listen("window","blur",rt),cancelTouchMove:this.gridsterItem.renderer.listen("document","touchmove",et),cancelTouchEnd:this.gridsterItem.renderer.listen("document","touchend",rt),cancelTouchCancel:this.gridsterItem.renderer.listen("document","touchcancel",rt)}));function et(Pt){kt.checkTouchEvent(Pt),(Math.abs(Pt.clientX-d.clientX)>9||Math.abs(Pt.clientY-d.clientY)>9)&&rt()}function rt(){clearTimeout(p),S(),u(),f(),L(),W(),U()}}setItemTop(d){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,this.left,d)}setItemLeft(d){this.gridster.gridRenderer.setCellPosition(this.gridsterItem.renderer,this.gridsterItem.el,d,this.top)}setItemHeight(d){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"height",d+"px")}setItemWidth(d){this.gridsterItem.renderer.setStyle(this.gridsterItem.el,"width",d+"px")}}let Ti=(()=>{var y;class d{get zIndex(){return this.getLayerIndex()+this.gridster.$options.baseLayerIndex}constructor(u,f,S,L){this.renderer=S,this.zone=L,this.itemInit=new c.vpe,this.itemChange=new c.vpe,this.itemResize=new c.vpe,this.el=u.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=f,this.drag=new vi(this,f,this.zone),this.resize=new yi(this,f,this.zone)}ngOnInit(){this.gridster.addItem(this)}ngOnChanges(u){u.item&&(this.updateOptions(),this.init||this.gridster.calculateLayout$.next()),u.item&&u.item.previousValue&&this.setSize()}updateOptions(){this.$item=kt.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,layerIndex:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0,resizableHandles:{s:void 0,e:void 0,n:void 0,w:void 0,se:void 0,ne:void 0,sw:void 0,nw:void 0}})}ngOnDestroy(){this.gridster.removeItem(this),this.drag.destroy(),this.resize.destroy(),this.gridster=this.drag=this.resize=null}setSize(){this.renderer.setStyle(this.el,"display",this.notPlaced?"":"block"),this.gridster.gridRenderer.updateItem(this.el,this.$item,this.renderer),this.updateItemSize()}updateItemSize(){const f=this.$item.x*this.gridster.curColWidth,S=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,L=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin;this.top=this.$item.y*this.gridster.curRowHeight,this.left=f,!this.init&&S>0&&L>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.itemInit.next({item:this.item,itemComponent:this}),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),(S!==this.width||L!==this.height)&&(this.width=S,this.height=L,this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemResize.next({item:this.item,itemComponent:this}))}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this),this.itemChange.next({item:this.item,itemComponent:this})}checkItemChanges(u,f){u.rows===f.rows&&u.cols===f.cols&&u.x===f.x&&u.y===f.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=f.x||0,this.$item.y=f.y||0,this.$item.cols=f.cols||1,this.$item.rows=f.rows||1,this.setSize()):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout$.next(),this.itemChanged()))}canBeDragged(){const u=this.gridster.$options.draggable.enabled;return!this.gridster.mobile&&u&&(void 0===this.$item.dragEnabled?u:this.$item.dragEnabled)}canBeResized(){const u=this.gridster.$options.resizable.enabled;return!this.gridster.mobile&&u&&(void 0===this.$item.resizeEnabled?u:this.$item.resizeEnabled)}getResizableHandles(){const u=this.gridster.$options.resizable.handles,f=this.$item.resizableHandles;return void 0===f?u:{...u,...f}}bringToFront(u){if(u&&u<=0)return;const f=this.getLayerIndex(),S=this.gridster.$options.maxLayerIndex;if(f<S){const L=u?f+u:S;this.item.layerIndex=this.$item.layerIndex=L>S?S:L}}sendToBack(u){if(u&&u<=0)return;const f=this.getLayerIndex();if(f>0){const S=u?f-u:0;this.item.layerIndex=this.$item.layerIndex=S<0?0:S}}getLayerIndex(){return void 0!==this.item.layerIndex?this.item.layerIndex:void 0!==this.gridster.$options.defaultLayerIndex?this.gridster.$options.defaultLayerIndex:0}}return(y=d).\u0275fac=function(u){return new(u||y)(c.Y36(c.SBq),c.Y36(We),c.Y36(c.Qsj),c.Y36(c.R0b))},y.\u0275cmp=c.Xpm({type:y,selectors:[["gridster-item"]],hostVars:2,hostBindings:function(u,f){2&u&&c.Udp("z-index",f.zIndex)},inputs:{item:"item"},outputs:{itemInit:"itemInit",itemChange:"itemChange",itemResize:"itemResize"},standalone:!0,features:[c.TTD,c.jDz],ngContentSelectors:tt,decls:9,vars:8,consts:[["class","gridster-item-resizable-handler handle-s",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-e",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-n",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-w",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-se",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-ne",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-sw",3,"mousedown","touchstart",4,"ngIf"],["class","gridster-item-resizable-handler handle-nw",3,"mousedown","touchstart",4,"ngIf"],[1,"gridster-item-resizable-handler","handle-s",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-e",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-n",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-w",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-se",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-ne",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-sw",3,"mousedown","touchstart"],[1,"gridster-item-resizable-handler","handle-nw",3,"mousedown","touchstart"]],template:function(u,f){1&u&&(c.F$t(),c.Hsn(0),c.YNc(1,Q,1,0,"div",0),c.YNc(2,ot,1,0,"div",1),c.YNc(3,At,1,0,"div",2),c.YNc(4,Rt,1,0,"div",3),c.YNc(5,de,1,0,"div",4),c.YNc(6,Ee,1,0,"div",5),c.YNc(7,Ve,1,0,"div",6),c.YNc(8,ye,1,0,"div",7)),2&u&&(c.xp6(1),c.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.s)&&f.resize.resizeEnabled),c.xp6(1),c.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.e)&&f.resize.resizeEnabled),c.xp6(1),c.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.n)&&f.resize.resizeEnabled),c.xp6(1),c.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.w)&&f.resize.resizeEnabled),c.xp6(1),c.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.se)&&f.resize.resizeEnabled),c.xp6(1),c.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.ne)&&f.resize.resizeEnabled),c.xp6(1),c.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.sw)&&f.resize.resizeEnabled),c.xp6(1),c.Q6J("ngIf",(null==f.resize.resizableHandles?null:f.resize.resizableHandles.nw)&&f.resize.resizeEnabled))},dependencies:[s.O5],styles:["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.3s;display:none;background:white;-webkit-user-select:text;user-select:text}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-resizing,gridster-item.gridster-item-moving{transition:0s;z-index:2;box-shadow:0 0 5px 5px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:ns-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:ew-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:ns-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:ew-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}\n"],encapsulation:2}),d})(),B=(()=>{var y;class d{}return(y=d).\u0275fac=function(u){return new(u||y)},y.\u0275mod=c.oAB({type:y}),y.\u0275inj=c.cJS({}),d})()}}]);