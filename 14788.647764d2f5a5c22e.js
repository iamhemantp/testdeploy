"use strict";(self.webpackChunkabp_zero_template=self.webpackChunkabp_zero_template||[]).push([[14788],{14788:(C,l,i)=>{i.r(l),i.d(l,{StripePaymentResultModule:()=>R});var e=i(81180),m=i(40031),r=i(12236),p=i(41840),t=i(99468),c=i(44328),d=i(50387),h=i(94901),y=i(3291);const v=[{path:"",component:(()=>{var o;class n extends p.c{constructor(s,u,Z,f,S){super(s),(0,e.Z)(this,"_stripePaymentService",void 0),(0,e.Z)(this,"_activatedRoute",void 0),(0,e.Z)(this,"_router",void 0),(0,e.Z)(this,"_sessionService",void 0),(0,e.Z)(this,"sessionId",void 0),(0,e.Z)(this,"paymentId",void 0),(0,e.Z)(this,"controlTimeout",5e3),(0,e.Z)(this,"maxControlCount",5),this._stripePaymentService=u,this._activatedRoute=Z,this._router=f,this._sessionService=S}ngOnInit(){this.sessionId=this._activatedRoute.snapshot.queryParams.sessionId,this._stripePaymentService.getPayment(this.sessionId).subscribe(s=>{this._sessionService.tenantId!==s.tenantId&&this._router.navigate([""]),this.paymentId=s.id,this.getPaymentResult()})}getPaymentResult(){this._stripePaymentService.getPaymentResult(this.paymentId).subscribe(s=>{s.paymentDone?this._router.navigate(["account/payment-completed"]):this.controlAgain()},s=>{this.controlAgain()})}controlAgain(){0!==this.maxControlCount&&(setTimeout(()=>{this.getPaymentResult()},this.controlTimeout),this.controlTimeout*=2,this.maxControlCount--)}}return o=n,(0,e.Z)(n,"\u0275fac",function(s){return new(s||o)(t.Y36(t.zs3),t.Y36(c.YgH),t.Y36(r.gz),t.Y36(r.F0),t.Y36(d.Cr))}),(0,e.Z)(n,"\u0275cmp",t.Xpm({type:o,selectors:[["stripe-payment-result"]],features:[t.qOj],decls:12,vars:10,consts:[[1,"d-flex","h-100","align-items-center",2,"padding-bottom","150px !important"],[1,"login-form","align-items-center","w-100","m-0"],[1,"pb-13","pt-lg-0","pt-5"],[1,"fw-bolder","text-dark","text-center","fs-h4","fs-h1-lg"],[1,"text-center"],[2,"position","relative","margin-top","60px !important"],[3,"busyIf"]],template:function(s,u){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"localize"),t.qZA(),t.TgZ(6,"p",4),t._uU(7),t.ALo(8,"localize"),t.ALo(9,"localize"),t.qZA()(),t.TgZ(10,"div",5),t._UZ(11,"div",6),t.qZA()()()),2&s&&(t.xp6(4),t.hij(" ",t.lcZ(5,4,"PleaseWait")," "),t.xp6(3),t.AsE("",t.lcZ(8,6,"ReceivingPaymentResult")," ",t.lcZ(9,8,"PleaseWait"),""),t.xp6(4),t.Q6J("busyIf",!0))},dependencies:[h.U,y.F],encapsulation:2})),n})(),pathMatch:"full"}];let g=(()=>{var o;class n{}return o=n,(0,e.Z)(n,"\u0275fac",function(s){return new(s||o)}),(0,e.Z)(n,"\u0275mod",t.oAB({type:o})),(0,e.Z)(n,"\u0275inj",t.cJS({imports:[r.Bz.forChild(v),r.Bz]})),n})();var P=i(91860);let R=(()=>{var o;class n{}return o=n,(0,e.Z)(n,"\u0275fac",function(s){return new(s||o)}),(0,e.Z)(n,"\u0275mod",t.oAB({type:o})),(0,e.Z)(n,"\u0275inj",t.cJS({imports:[m.o,P.y,g]})),n})()}}]);